/* empty css            */function tC(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const hn={},$d=[],Ya=()=>{},$F=()=>!1,nh=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),nC=e=>e.startsWith("onUpdate:"),to=Object.assign,rC=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},RQ=Object.prototype.hasOwnProperty,wn=(e,t)=>RQ.call(e,t),xt=Array.isArray,Cd=e=>rh(e)==="[object Map]",CF=e=>rh(e)==="[object Set]",mP=e=>rh(e)==="[object Date]",Dt=e=>typeof e=="function",Zn=e=>typeof e=="string",wa=e=>typeof e=="symbol",$n=e=>e!==null&&typeof e=="object",MF=e=>($n(e)||Dt(e))&&Dt(e.then)&&Dt(e.catch),AF=Object.prototype.toString,rh=e=>AF.call(e),BQ=e=>rh(e).slice(8,-1),TF=e=>rh(e)==="[object Object]",X0=e=>Zn(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Md=tC(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Z0=e=>{const t=Object.create(null);return(n=>t[n]||(t[n]=e(n)))},NQ=/-\w/g,rs=Z0(e=>e.replace(NQ,t=>t.slice(1).toUpperCase())),DQ=/\B([A-Z])/g,rl=Z0(e=>e.replace(DQ,"-$1").toLowerCase()),ex=Z0(e=>e.charAt(0).toUpperCase()+e.slice(1)),bp=Z0(e=>e?`on${ex(e)}`:""),Xo=(e,t)=>!Object.is(e,t),ay=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},EF=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},FQ=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let hP;const tx=()=>hP||(hP=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Un(e){if(xt(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],o=Zn(r)?jQ(r):Un(r);if(o)for(const s in o)t[s]=o[s]}return t}else if(Zn(e)||$n(e))return e}const qQ=/;(?![^(]*\))/g,zQ=/:([^]+)/,LQ=/\/\*[^]*?\*\//g;function jQ(e){const t={};return e.replace(LQ,"").split(qQ).forEach(n=>{if(n){const r=n.split(zQ);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Z(e){let t="";if(Zn(e))t=e;else if(xt(e))for(let n=0;n<e.length;n++){const r=Z(e[n]);r&&(t+=r+" ")}else if($n(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function rt(e){if(!e)return null;let{class:t,style:n}=e;return t&&!Zn(t)&&(e.class=Z(t)),n&&(e.style=Un(n)),e}const VQ="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",UQ=tC(VQ);function IF(e){return!!e||e===""}function KQ(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Vy(e[r],t[r]);return n}function Vy(e,t){if(e===t)return!0;let n=mP(e),r=mP(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=wa(e),r=wa(t),n||r)return e===t;if(n=xt(e),r=xt(t),n||r)return n&&r?KQ(e,t):!1;if(n=$n(e),r=$n(t),n||r){if(!n||!r)return!1;const o=Object.keys(e).length,s=Object.keys(t).length;if(o!==s)return!1;for(const a in e){const i=e.hasOwnProperty(a),l=t.hasOwnProperty(a);if(i&&!l||!i&&l||!Vy(e[a],t[a]))return!1}}return String(e)===String(t)}const PF=e=>!!(e&&e.__v_isRef===!0),q=e=>Zn(e)?e:e==null?"":xt(e)||$n(e)&&(e.toString===AF||!Dt(e.toString))?PF(e)?q(e.value):JSON.stringify(e,OF,2):String(e),OF=(e,t)=>PF(t)?OF(e,t.value):Cd(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,o],s)=>(n[gk(r,s)+" =>"]=o,n),{})}:CF(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>gk(n))}:wa(t)?gk(t):$n(t)&&!xt(t)&&!TF(t)?String(t):t,gk=(e,t="")=>{var n;return wa(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};let So;class RF{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=So,!t&&So&&(this.index=(So.scopes||(So.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=So;try{return So=this,t()}finally{So=n}}}on(){++this._on===1&&(this.prevScope=So,So=this)}off(){this._on>0&&--this._on===0&&(So=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function oC(e){return new RF(e)}function sf(){return So}function oh(e,t=!1){So&&So.cleanups.push(e)}let Nn;const vk=new WeakSet;class BF{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,So&&So.active&&So.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,vk.has(this)&&(vk.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||DF(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,gP(this),FF(this);const t=Nn,n=ba;Nn=this,ba=!0;try{return this.fn()}finally{qF(this),Nn=t,ba=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)iC(t);this.deps=this.depsTail=void 0,gP(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?vk.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){iS(this)&&this.run()}get dirty(){return iS(this)}}let NF=0,xp,wp;function DF(e,t=!1){if(e.flags|=8,t){e.next=wp,wp=e;return}e.next=xp,xp=e}function sC(){NF++}function aC(){if(--NF>0)return;if(wp){let t=wp;for(wp=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;xp;){let t=xp;for(xp=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function FF(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function qF(e){let t,n=e.depsTail,r=n;for(;r;){const o=r.prevDep;r.version===-1?(r===n&&(n=o),iC(r),HQ(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=o}e.deps=t,e.depsTail=n}function iS(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(zF(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function zF(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Up)||(e.globalVersion=Up,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!iS(e))))return;e.flags|=2;const t=e.dep,n=Nn,r=ba;Nn=e,ba=!0;try{FF(e);const o=e.fn(e._value);(t.version===0||Xo(o,e._value))&&(e.flags|=128,e._value=o,t.version++)}catch(o){throw t.version++,o}finally{Nn=n,ba=r,qF(e),e.flags&=-3}}function iC(e,t=!1){const{dep:n,prevSub:r,nextSub:o}=e;if(r&&(r.nextSub=o,e.prevSub=void 0),o&&(o.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)iC(s,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function HQ(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let ba=!0;const LF=[];function Ji(){LF.push(ba),ba=!1}function Yi(){const e=LF.pop();ba=e===void 0?!0:e}function gP(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Nn;Nn=void 0;try{t()}finally{Nn=n}}}let Up=0,WQ=class{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};class nx{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Nn||!ba||Nn===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Nn)n=this.activeLink=new WQ(Nn,this),Nn.deps?(n.prevDep=Nn.depsTail,Nn.depsTail.nextDep=n,Nn.depsTail=n):Nn.deps=Nn.depsTail=n,jF(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Nn.depsTail,n.nextDep=void 0,Nn.depsTail.nextDep=n,Nn.depsTail=n,Nn.deps===n&&(Nn.deps=r)}return n}trigger(t){this.version++,Up++,this.notify(t)}notify(t){sC();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{aC()}}}function jF(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)jF(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Uy=new WeakMap,lc=Symbol(""),lS=Symbol(""),Kp=Symbol("");function Co(e,t,n){if(ba&&Nn){let r=Uy.get(e);r||Uy.set(e,r=new Map);let o=r.get(n);o||(r.set(n,o=new nx),o.map=r,o.key=n),o.track()}}function Ui(e,t,n,r,o,s){const a=Uy.get(e);if(!a){Up++;return}const i=l=>{l&&l.trigger()};if(sC(),t==="clear")a.forEach(i);else{const l=xt(e),c=l&&X0(n);if(l&&n==="length"){const u=Number(r);a.forEach((d,f)=>{(f==="length"||f===Kp||!wa(f)&&f>=u)&&i(d)})}else switch((n!==void 0||a.has(void 0))&&i(a.get(n)),c&&i(a.get(Kp)),t){case"add":l?c&&i(a.get("length")):(i(a.get(lc)),Cd(e)&&i(a.get(lS)));break;case"delete":l||(i(a.get(lc)),Cd(e)&&i(a.get(lS)));break;case"set":Cd(e)&&i(a.get(lc));break}}aC()}function GQ(e,t){const n=Uy.get(e);return n&&n.get(t)}function ld(e){const t=mn(e);return t===e?t:(Co(t,"iterate",Kp),Ps(e)?t:t.map(ka))}function rx(e){return Co(e=mn(e),"iterate",Kp),e}function Al(e,t){return Qi(e)?jl(e)?Bd(ka(t)):Bd(t):ka(t)}const JQ={__proto__:null,[Symbol.iterator](){return yk(this,Symbol.iterator,e=>Al(this,e))},concat(...e){return ld(this).concat(...e.map(t=>xt(t)?ld(t):t))},entries(){return yk(this,"entries",e=>(e[1]=Al(this,e[1]),e))},every(e,t){return Ri(this,"every",e,t,void 0,arguments)},filter(e,t){return Ri(this,"filter",e,t,n=>n.map(r=>Al(this,r)),arguments)},find(e,t){return Ri(this,"find",e,t,n=>Al(this,n),arguments)},findIndex(e,t){return Ri(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Ri(this,"findLast",e,t,n=>Al(this,n),arguments)},findLastIndex(e,t){return Ri(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Ri(this,"forEach",e,t,void 0,arguments)},includes(...e){return bk(this,"includes",e)},indexOf(...e){return bk(this,"indexOf",e)},join(e){return ld(this).join(e)},lastIndexOf(...e){return bk(this,"lastIndexOf",e)},map(e,t){return Ri(this,"map",e,t,void 0,arguments)},pop(){return Wf(this,"pop")},push(...e){return Wf(this,"push",e)},reduce(e,...t){return vP(this,"reduce",e,t)},reduceRight(e,...t){return vP(this,"reduceRight",e,t)},shift(){return Wf(this,"shift")},some(e,t){return Ri(this,"some",e,t,void 0,arguments)},splice(...e){return Wf(this,"splice",e)},toReversed(){return ld(this).toReversed()},toSorted(e){return ld(this).toSorted(e)},toSpliced(...e){return ld(this).toSpliced(...e)},unshift(...e){return Wf(this,"unshift",e)},values(){return yk(this,"values",e=>Al(this,e))}};function yk(e,t,n){const r=rx(e),o=r[t]();return r!==e&&!Ps(e)&&(o._next=o.next,o.next=()=>{const s=o._next();return s.done||(s.value=n(s.value)),s}),o}const YQ=Array.prototype;function Ri(e,t,n,r,o,s){const a=rx(e),i=a!==e&&!Ps(e),l=a[t];if(l!==YQ[t]){const d=l.apply(e,s);return i?ka(d):d}let c=n;a!==e&&(i?c=function(d,f){return n.call(this,Al(e,d),f,e)}:n.length>2&&(c=function(d,f){return n.call(this,d,f,e)}));const u=l.call(a,c,r);return i&&o?o(u):u}function vP(e,t,n,r){const o=rx(e);let s=n;return o!==e&&(Ps(e)?n.length>3&&(s=function(a,i,l){return n.call(this,a,i,l,e)}):s=function(a,i,l){return n.call(this,a,Al(e,i),l,e)}),o[t](s,...r)}function bk(e,t,n){const r=mn(e);Co(r,"iterate",Kp);const o=r[t](...n);return(o===-1||o===!1)&&ax(n[0])?(n[0]=mn(n[0]),r[t](...n)):o}function Wf(e,t,n=[]){Ji(),sC();const r=mn(e)[t].apply(e,n);return aC(),Yi(),r}const QQ=tC("__proto__,__v_isRef,__isVue"),VF=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(wa));function XQ(e){wa(e)||(e=String(e));const t=mn(this);return Co(t,"has",e),t.hasOwnProperty(e)}class UF{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const o=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(o?s?YF:JF:s?GF:WF).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const a=xt(t);if(!o){let l;if(a&&(l=JQ[n]))return l;if(n==="hasOwnProperty")return XQ}const i=Reflect.get(t,n,Zt(t)?t:r);if((wa(n)?VF.has(n):QQ(n))||(o||Co(t,"get",n),s))return i;if(Zt(i)){const l=a&&X0(n)?i:i.value;return o&&$n(l)?ms(l):l}return $n(i)?o?ms(i):Pr(i):i}}class KF extends UF{constructor(t=!1){super(!1,t)}set(t,n,r,o){let s=t[n];const a=xt(t)&&X0(n);if(!this._isShallow){const c=Qi(s);if(!Ps(r)&&!Qi(r)&&(s=mn(s),r=mn(r)),!a&&Zt(s)&&!Zt(r))return c||(s.value=r),!0}const i=a?Number(n)<t.length:wn(t,n),l=Reflect.set(t,n,r,Zt(t)?t:o);return t===mn(o)&&(i?Xo(r,s)&&Ui(t,"set",n,r):Ui(t,"add",n,r)),l}deleteProperty(t,n){const r=wn(t,n);t[n];const o=Reflect.deleteProperty(t,n);return o&&r&&Ui(t,"delete",n,void 0),o}has(t,n){const r=Reflect.has(t,n);return(!wa(n)||!VF.has(n))&&Co(t,"has",n),r}ownKeys(t){return Co(t,"iterate",xt(t)?"length":lc),Reflect.ownKeys(t)}}class HF extends UF{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const ZQ=new KF,eX=new HF,tX=new KF(!0),nX=new HF(!0),uS=e=>e,Dg=e=>Reflect.getPrototypeOf(e);function rX(e,t,n){return function(...r){const o=this.__v_raw,s=mn(o),a=Cd(s),i=e==="entries"||e===Symbol.iterator&&a,l=e==="keys"&&a,c=o[e](...r),u=n?uS:t?Bd:ka;return!t&&Co(s,"iterate",l?lS:lc),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:i?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function Fg(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function oX(e,t){const n={get(o){const s=this.__v_raw,a=mn(s),i=mn(o);e||(Xo(o,i)&&Co(a,"get",o),Co(a,"get",i));const{has:l}=Dg(a),c=t?uS:e?Bd:ka;if(l.call(a,o))return c(s.get(o));if(l.call(a,i))return c(s.get(i));s!==a&&s.get(o)},get size(){const o=this.__v_raw;return!e&&Co(mn(o),"iterate",lc),o.size},has(o){const s=this.__v_raw,a=mn(s),i=mn(o);return e||(Xo(o,i)&&Co(a,"has",o),Co(a,"has",i)),o===i?s.has(o):s.has(o)||s.has(i)},forEach(o,s){const a=this,i=a.__v_raw,l=mn(i),c=t?uS:e?Bd:ka;return!e&&Co(l,"iterate",lc),i.forEach((u,d)=>o.call(s,c(u),c(d),a))}};return to(n,e?{add:Fg("add"),set:Fg("set"),delete:Fg("delete"),clear:Fg("clear")}:{add(o){!t&&!Ps(o)&&!Qi(o)&&(o=mn(o));const s=mn(this);return Dg(s).has.call(s,o)||(s.add(o),Ui(s,"add",o,o)),this},set(o,s){!t&&!Ps(s)&&!Qi(s)&&(s=mn(s));const a=mn(this),{has:i,get:l}=Dg(a);let c=i.call(a,o);c||(o=mn(o),c=i.call(a,o));const u=l.call(a,o);return a.set(o,s),c?Xo(s,u)&&Ui(a,"set",o,s):Ui(a,"add",o,s),this},delete(o){const s=mn(this),{has:a,get:i}=Dg(s);let l=a.call(s,o);l||(o=mn(o),l=a.call(s,o)),i&&i.call(s,o);const c=s.delete(o);return l&&Ui(s,"delete",o,void 0),c},clear(){const o=mn(this),s=o.size!==0,a=o.clear();return s&&Ui(o,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(o=>{n[o]=rX(o,e,t)}),n}function ox(e,t){const n=oX(e,t);return(r,o,s)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?r:Reflect.get(wn(n,o)&&o in r?n:r,o,s)}const sX={get:ox(!1,!1)},aX={get:ox(!1,!0)},iX={get:ox(!0,!1)},lX={get:ox(!0,!0)},WF=new WeakMap,GF=new WeakMap,JF=new WeakMap,YF=new WeakMap;function uX(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function cX(e){return e.__v_skip||!Object.isExtensible(e)?0:uX(BQ(e))}function Pr(e){return Qi(e)?e:sx(e,!1,ZQ,sX,WF)}function QF(e){return sx(e,!1,tX,aX,GF)}function ms(e){return sx(e,!0,eX,iX,JF)}function ud(e){return sx(e,!0,nX,lX,YF)}function sx(e,t,n,r,o){if(!$n(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=cX(e);if(s===0)return e;const a=o.get(e);if(a)return a;const i=new Proxy(e,s===2?r:n);return o.set(e,i),i}function jl(e){return Qi(e)?jl(e.__v_raw):!!(e&&e.__v_isReactive)}function Qi(e){return!!(e&&e.__v_isReadonly)}function Ps(e){return!!(e&&e.__v_isShallow)}function ax(e){return e?!!e.__v_raw:!1}function mn(e){const t=e&&e.__v_raw;return t?mn(t):e}function Rd(e){return!wn(e,"__v_skip")&&Object.isExtensible(e)&&EF(e,"__v_skip",!0),e}const ka=e=>$n(e)?Pr(e):e,Bd=e=>$n(e)?ms(e):e;function Zt(e){return e?e.__v_isRef===!0:!1}function K(e){return XF(e,!1)}function yr(e){return XF(e,!0)}function XF(e,t){return Zt(e)?e:new dX(e,t)}class dX{constructor(t,n){this.dep=new nx,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:mn(t),this._value=n?t:ka(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||Ps(t)||Qi(t);t=r?t:mn(t),Xo(t,n)&&(this._rawValue=t,this._value=r?t:ka(t),this.dep.trigger())}}function yP(e){e.dep&&e.dep.trigger()}function y(e){return Zt(e)?e.value:e}function Ot(e){return Dt(e)?e():y(e)}const fX={get:(e,t,n)=>t==="__v_raw"?e:y(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const o=e[t];return Zt(o)&&!Zt(n)?(o.value=n,!0):Reflect.set(e,t,n,r)}};function ZF(e){return jl(e)?e:new Proxy(e,fX)}class pX{constructor(t){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new nx,{get:r,set:o}=t(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=o}get value(){return this._value=this._get()}set value(t){this._set(t)}}function af(e){return new pX(e)}function an(e){const t=xt(e)?new Array(e.length):{};for(const n in e)t[n]=eq(e,n);return t}class mX{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0,this._raw=mn(t);let o=!0,s=t;if(!xt(t)||!X0(String(n)))do o=!ax(s)||Ps(s);while(o&&(s=s.__v_raw));this._shallow=o}get value(){let t=this._object[this._key];return this._shallow&&(t=y(t)),this._value=t===void 0?this._defaultValue:t}set value(t){if(this._shallow&&Zt(this._raw[this._key])){const n=this._object[this._key];if(Zt(n)){n.value=t;return}}this._object[this._key]=t}get dep(){return GQ(this._raw,this._key)}}class hX{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Nt(e,t,n){return Zt(e)?e:Dt(e)?new hX(e):$n(e)&&arguments.length>1?eq(e,t,n):K(e)}function eq(e,t,n){return new mX(e,t,n)}class gX{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new nx(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Up-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Nn!==this)return DF(this,!0),!0}get value(){const t=this.dep.track();return zF(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function vX(e,t,n=!1){let r,o;return Dt(e)?r=e:(r=e.get,o=e.set),new gX(r,o,n)}const qg={},Ky=new WeakMap;let Nu;function yX(e,t=!1,n=Nu){if(n){let r=Ky.get(n);r||Ky.set(n,r=[]),r.push(e)}}function bX(e,t,n=hn){const{immediate:r,deep:o,once:s,scheduler:a,augmentJob:i,call:l}=n,c=C=>o?C:Ps(C)||o===!1||o===0?Ki(C,1):Ki(C);let u,d,f,p,m=!1,h=!1;if(Zt(e)?(d=()=>e.value,m=Ps(e)):jl(e)?(d=()=>c(e),m=!0):xt(e)?(h=!0,m=e.some(C=>jl(C)||Ps(C)),d=()=>e.map(C=>{if(Zt(C))return C.value;if(jl(C))return c(C);if(Dt(C))return l?l(C,2):C()})):Dt(e)?t?d=l?()=>l(e,2):e:d=()=>{if(f){Ji();try{f()}finally{Yi()}}const C=Nu;Nu=u;try{return l?l(e,3,[p]):e(p)}finally{Nu=C}}:d=Ya,t&&o){const C=d,M=o===!0?1/0:o;d=()=>Ki(C(),M)}const g=sf(),v=()=>{u.stop(),g&&g.active&&rC(g.effects,u)};if(s&&t){const C=t;t=(...M)=>{C(...M),v()}}let x=h?new Array(e.length).fill(qg):qg;const $=C=>{if(!(!(u.flags&1)||!u.dirty&&!C))if(t){const M=u.run();if(o||m||(h?M.some((I,E)=>Xo(I,x[E])):Xo(M,x))){f&&f();const I=Nu;Nu=u;try{const E=[M,x===qg?void 0:h&&x[0]===qg?[]:x,p];x=M,l?l(t,3,E):t(...E)}finally{Nu=I}}}else u.run()};return i&&i($),u=new BF(d),u.scheduler=a?()=>a($,!1):$,p=C=>yX(C,!1,u),f=u.onStop=()=>{const C=Ky.get(u);if(C){if(l)l(C,4);else for(const M of C)M();Ky.delete(u)}},t?r?$(!0):x=u.run():a?a($.bind(null,!0),!0):u.run(),v.pause=u.pause.bind(u),v.resume=u.resume.bind(u),v.stop=v,v}function Ki(e,t=1/0,n){if(t<=0||!$n(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,Zt(e))Ki(e.value,t,n);else if(xt(e))for(let r=0;r<e.length;r++)Ki(e[r],t,n);else if(CF(e)||Cd(e))e.forEach(r=>{Ki(r,t,n)});else if(TF(e)){for(const r in e)Ki(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Ki(e[r],t,n)}return e}function sh(e,t,n,r){try{return r?e(...r):e()}catch(o){ix(o,t,n)}}function Za(e,t,n,r){if(Dt(e)){const o=sh(e,t,n,r);return o&&MF(o)&&o.catch(s=>{ix(s,t,n)}),o}if(xt(e)){const o=[];for(let s=0;s<e.length;s++)o.push(Za(e[s],t,n,r));return o}}function ix(e,t,n,r=!0){const o=t?t.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:a}=t&&t.appContext.config||hn;if(t){let i=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;i;){const u=i.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](e,l,c)===!1)return}i=i.parent}if(s){Ji(),sh(s,null,10,[e,l,c]),Yi();return}}xX(e,n,o,r,a)}function xX(e,t,n,r=!0,o=!1){if(o)throw e;console.error(e)}const Zo=[];let Da=-1;const Ad=[];let Tl=null,vd=0;const tq=Promise.resolve();let Hy=null;function St(e){const t=Hy||tq;return e?t.then(this?e.bind(this):e):t}function wX(e){let t=Da+1,n=Zo.length;for(;t<n;){const r=t+n>>>1,o=Zo[r],s=Hp(o);s<e||s===e&&o.flags&2?t=r+1:n=r}return t}function lC(e){if(!(e.flags&1)){const t=Hp(e),n=Zo[Zo.length-1];!n||!(e.flags&2)&&t>=Hp(n)?Zo.push(e):Zo.splice(wX(t),0,e),e.flags|=1,nq()}}function nq(){Hy||(Hy=tq.then(rq))}function kX(e){xt(e)?Ad.push(...e):Tl&&e.id===-1?Tl.splice(vd+1,0,e):e.flags&1||(Ad.push(e),e.flags|=1),nq()}function bP(e,t,n=Da+1){for(;n<Zo.length;n++){const r=Zo[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;Zo.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Wy(e){if(Ad.length){const t=[...new Set(Ad)].sort((n,r)=>Hp(n)-Hp(r));if(Ad.length=0,Tl){Tl.push(...t);return}for(Tl=t,vd=0;vd<Tl.length;vd++){const n=Tl[vd];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Tl=null,vd=0}}const Hp=e=>e.id==null?e.flags&2?-1:1/0:e.id;function rq(e){try{for(Da=0;Da<Zo.length;Da++){const t=Zo[Da];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),sh(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Da<Zo.length;Da++){const t=Zo[Da];t&&(t.flags&=-2)}Da=-1,Zo.length=0,Wy(),Hy=null,(Zo.length||Ad.length)&&rq()}}let eo=null,oq=null;function Gy(e){const t=eo;return eo=e,oq=e&&e.type.__scopeId||null,t}function S(e,t=eo,n){if(!t||e._n)return e;const r=(...o)=>{r._d&&Qy(-1);const s=Gy(t);let a;try{a=e(...o)}finally{Gy(s),r._d&&Qy(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function Nd(e,t){if(eo===null)return e;const n=cx(eo),r=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[s,a,i,l=hn]=t[o];s&&(Dt(s)&&(s={mounted:s,updated:s}),s.deep&&Ki(a),r.push({dir:s,instance:n,value:a,oldValue:void 0,arg:i,modifiers:l}))}return e}function ja(e,t,n,r){const o=e.dirs,s=t&&t.dirs;for(let a=0;a<o.length;a++){const i=o[a];s&&(i.oldValue=s[a].value);let l=i.dir[r];l&&(Ji(),Za(l,n,8,[e.el,i,e,t]),Yi())}}function Mo(e,t){if(Ao){let n=Ao.provides;const r=Ao.parent&&Ao.parent.provides;r===n&&(n=Ao.provides=Object.create(r)),n[e]=t}}function or(e,t,n=!1){const r=ir();if(r||cc){let o=cc?cc._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(o&&e in o)return o[e];if(arguments.length>1)return n&&Dt(t)?t.call(r&&r.proxy):t}}function uC(){return!!(ir()||cc)}const _X=Symbol.for("v-scx"),SX=()=>or(_X);function Cn(e,t){return ah(e,null,t)}function sq(e,t){return ah(e,null,{flush:"post"})}function aq(e,t){return ah(e,null,{flush:"sync"})}function He(e,t,n){return ah(e,t,n)}function ah(e,t,n=hn){const{immediate:r,deep:o,flush:s,once:a}=n,i=to({},n),l=t&&r||!t&&s!=="post";let c;if(Jp){if(s==="sync"){const p=SX();c=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=Ya,p.resume=Ya,p.pause=Ya,p}}const u=Ao;i.call=(p,m,h)=>Za(p,u,m,h);let d=!1;s==="post"?i.scheduler=p=>{Qo(p,u&&u.suspense)}:s!=="sync"&&(d=!0,i.scheduler=(p,m)=>{m?p():lC(p)}),i.augmentJob=p=>{t&&(p.flags|=4),d&&(p.flags|=2,u&&(p.id=u.uid,p.i=u))};const f=bX(e,t,i);return Jp&&(c?c.push(f):l&&f()),f}function $X(e,t,n){const r=this.proxy,o=Zn(e)?e.includes(".")?iq(r,e):()=>r[e]:e.bind(r,r);let s;Dt(t)?s=t:(s=t.handler,n=t);const a=uh(this),i=ah(o,s.bind(r),n);return a(),i}function iq(e,t){const n=t.split(".");return()=>{let r=e;for(let o=0;o<n.length&&r;o++)r=r[n[o]];return r}}const lq=Symbol("_vte"),CX=e=>e.__isTeleport,kp=e=>e&&(e.disabled||e.disabled===""),xP=e=>e&&(e.defer||e.defer===""),wP=e=>typeof SVGElement<"u"&&e instanceof SVGElement,kP=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,cS=(e,t)=>{const n=e&&e.to;return Zn(n)?t?t(n):null:n},uq={name:"Teleport",__isTeleport:!0,process(e,t,n,r,o,s,a,i,l,c){const{mc:u,pc:d,pbc:f,o:{insert:p,querySelector:m,createText:h,createComment:g}}=c,v=kp(t.props);let{shapeFlag:x,children:$,dynamicChildren:C}=t;if(e==null){const M=t.el=h(""),I=t.anchor=h("");p(M,n,r),p(I,n,r);const E=(O,D)=>{x&16&&u($,O,D,o,s,a,i,l)},P=()=>{const O=t.target=cS(t.props,m),D=cq(O,t,h,p);O&&(a!=="svg"&&wP(O)?a="svg":a!=="mathml"&&kP(O)&&(a="mathml"),o&&o.isCE&&(o.ce._teleportTargets||(o.ce._teleportTargets=new Set)).add(O),v||(E(O,D),iy(t,!1)))};v&&(E(n,I),iy(t,!0)),xP(t.props)?(t.el.__isMounted=!1,Qo(()=>{P(),delete t.el.__isMounted},s)):P()}else{if(xP(t.props)&&e.el.__isMounted===!1){Qo(()=>{uq.process(e,t,n,r,o,s,a,i,l,c)},s);return}t.el=e.el,t.targetStart=e.targetStart;const M=t.anchor=e.anchor,I=t.target=e.target,E=t.targetAnchor=e.targetAnchor,P=kp(e.props),O=P?n:I,D=P?M:E;if(a==="svg"||wP(I)?a="svg":(a==="mathml"||kP(I))&&(a="mathml"),C?(f(e.dynamicChildren,C,O,o,s,a,i),pC(e,t,!0)):l||d(e,t,O,D,o,s,a,i,!1),v)P?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):zg(t,n,M,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const L=t.target=cS(t.props,m);L&&zg(t,L,null,c,0)}else P&&zg(t,I,E,c,1);iy(t,v)}},remove(e,t,n,{um:r,o:{remove:o}},s){const{shapeFlag:a,children:i,anchor:l,targetStart:c,targetAnchor:u,target:d,props:f}=e;if(d&&(o(c),o(u)),s&&o(l),a&16){const p=s||!kp(f);for(let m=0;m<i.length;m++){const h=i[m];r(h,t,n,p,!!h.dynamicChildren)}}},move:zg,hydrate:MX};function zg(e,t,n,{o:{insert:r},m:o},s=2){s===0&&r(e.targetAnchor,t,n);const{el:a,anchor:i,shapeFlag:l,children:c,props:u}=e,d=s===2;if(d&&r(a,t,n),(!d||kp(u))&&l&16)for(let f=0;f<c.length;f++)o(c[f],t,n,2);d&&r(i,t,n)}function MX(e,t,n,r,o,s,{o:{nextSibling:a,parentNode:i,querySelector:l,insert:c,createText:u}},d){function f(h,g,v,x){g.anchor=d(a(h),g,i(h),n,r,o,s),g.targetStart=v,g.targetAnchor=x}const p=t.target=cS(t.props,l),m=kp(t.props);if(p){const h=p._lpa||p.firstChild;if(t.shapeFlag&16)if(m)f(e,t,h,h&&a(h));else{t.anchor=a(e);let g=h;for(;g;){if(g&&g.nodeType===8){if(g.data==="teleport start anchor")t.targetStart=g;else if(g.data==="teleport anchor"){t.targetAnchor=g,p._lpa=t.targetAnchor&&a(t.targetAnchor);break}}g=a(g)}t.targetAnchor||cq(p,t,u,c),d(h&&a(h),t,p,n,r,o,s)}iy(t,m)}else m&&t.shapeFlag&16&&f(e,t,e,a(e));return t.anchor&&a(t.anchor)}const ih=uq;function iy(e,t){const n=e.ctx;if(n&&n.ut){let r,o;for(t?(r=e.el,o=e.anchor):(r=e.targetStart,o=e.targetAnchor);r&&r!==o;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function cq(e,t,n,r){const o=t.targetStart=n(""),s=t.targetAnchor=n("");return o[lq]=s,e&&(r(o,e),r(s,e)),s}const AX=Symbol("_leaveCb");function cC(e,t){e.shapeFlag&6&&e.component?(e.transition=t,cC(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function le(e,t){return Dt(e)?to({name:e.name},t,{setup:e}):e}function ol(){const e=ir();return e?(e.appContext.config.idPrefix||"v")+"-"+e.ids[0]+e.ids[1]++:""}function dq(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function na(e){const t=ir(),n=yr(null);if(t){const o=t.refs===hn?t.refs={}:t.refs;Object.defineProperty(o,e,{enumerable:!0,get:()=>n.value,set:s=>n.value=s})}return n}const Jy=new WeakMap;function Td(e,t,n,r,o=!1){if(xt(e)){e.forEach((m,h)=>Td(m,t&&(xt(t)?t[h]:t),n,r,o));return}if(uc(r)&&!o){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Td(e,t,n,r.component.subTree);return}const s=r.shapeFlag&4?cx(r.component):r.el,a=o?null:s,{i,r:l}=e,c=t&&t.r,u=i.refs===hn?i.refs={}:i.refs,d=i.setupState,f=mn(d),p=d===hn?$F:m=>wn(f,m);if(c!=null&&c!==l){if(_P(t),Zn(c))u[c]=null,p(c)&&(d[c]=null);else if(Zt(c)){c.value=null;const m=t;m.k&&(u[m.k]=null)}}if(Dt(l))sh(l,i,12,[a,u]);else{const m=Zn(l),h=Zt(l);if(m||h){const g=()=>{if(e.f){const v=m?p(l)?d[l]:u[l]:l.value;if(o)xt(v)&&rC(v,s);else if(xt(v))v.includes(s)||v.push(s);else if(m)u[l]=[s],p(l)&&(d[l]=u[l]);else{const x=[s];l.value=x,e.k&&(u[e.k]=x)}}else m?(u[l]=a,p(l)&&(d[l]=a)):h&&(l.value=a,e.k&&(u[e.k]=a))};if(a){const v=()=>{g(),Jy.delete(e)};v.id=-1,Jy.set(e,v),Qo(v,n)}else _P(e),g()}}}function _P(e){const t=Jy.get(e);t&&(t.flags|=8,Jy.delete(e))}let SP=!1;const cd=()=>{SP||(console.error("Hydration completed but contains mismatches."),SP=!0)},TX=e=>e.namespaceURI.includes("svg")&&e.tagName!=="foreignObject",EX=e=>e.namespaceURI.includes("MathML"),Lg=e=>{if(e.nodeType===1){if(TX(e))return"svg";if(EX(e))return"mathml"}},jg=e=>e.nodeType===8;function IX(e){const{mt:t,p:n,o:{patchProp:r,createText:o,nextSibling:s,parentNode:a,remove:i,insert:l,createComment:c}}=e,u=($,C)=>{if(!C.hasChildNodes()){n(null,$,C),Wy(),C._vnode=$;return}d(C.firstChild,$,null,null,null),Wy(),C._vnode=$},d=($,C,M,I,E,P=!1)=>{P=P||!!C.dynamicChildren;const O=jg($)&&$.data==="[",D=()=>h($,C,M,I,E,O),{type:L,ref:V,shapeFlag:F,patchFlag:z}=C;let N=$.nodeType;C.el=$,z===-2&&(P=!1,C.dynamicChildren=null);let ee=null;switch(L){case dc:N!==3?C.children===""?(l(C.el=o(""),a($),$),ee=$):ee=D():($.data!==C.children&&(cd(),$.data=C.children),ee=s($));break;case ra:x($)?(ee=s($),v(C.el=$.content.firstChild,$,M)):N!==8||O?ee=D():ee=s($);break;case Sp:if(O&&($=s($),N=$.nodeType),N===1||N===3){ee=$;const ne=!C.children.length;for(let Y=0;Y<C.staticCount;Y++)ne&&(C.children+=ee.nodeType===1?ee.outerHTML:ee.data),Y===C.staticCount-1&&(C.anchor=ee),ee=s(ee);return O?s(ee):ee}else D();break;case Ee:O?ee=m($,C,M,I,E,P):ee=D();break;default:if(F&1)(N!==1||C.type.toLowerCase()!==$.tagName.toLowerCase())&&!x($)?ee=D():ee=f($,C,M,I,E,P);else if(F&6){C.slotScopeIds=E;const ne=a($);if(O?ee=g($):jg($)&&$.data==="teleport start"?ee=g($,$.data,"teleport end"):ee=s($),t(C,ne,null,M,I,Lg(ne),P),uc(C)&&!C.type.__asyncResolved){let Y;O?(Y=_(Ee),Y.anchor=ee?ee.previousSibling:ne.lastChild):Y=$.nodeType===3?J(""):_("div"),Y.el=$,C.component.subTree=Y}}else F&64?N!==8?ee=D():ee=C.type.hydrate($,C,M,I,E,P,e,p):F&128&&(ee=C.type.hydrate($,C,M,I,Lg(a($)),E,P,e,d))}return V!=null&&Td(V,null,I,C),ee},f=($,C,M,I,E,P)=>{P=P||!!C.dynamicChildren;const{type:O,props:D,patchFlag:L,shapeFlag:V,dirs:F,transition:z}=C,N=O==="input"||O==="option";if(N||L!==-1){F&&ja(C,null,M,"created");let ee=!1;if(x($)){ee=Fq(null,z)&&M&&M.vnode.props&&M.vnode.props.appear;const Y=$.content.firstChild;if(ee){const Re=Y.getAttribute("class");Re&&(Y.$cls=Re),z.beforeEnter(Y)}v(Y,$,M),C.el=$=Y}if(V&16&&!(D&&(D.innerHTML||D.textContent))){let Y=p($.firstChild,C,$,M,I,E,P);for(;Y;){Vg($,1)||cd();const Re=Y;Y=Y.nextSibling,i(Re)}}else if(V&8){let Y=C.children;Y[0]===`
`&&($.tagName==="PRE"||$.tagName==="TEXTAREA")&&(Y=Y.slice(1));const{textContent:Re}=$;Re!==Y&&Re!==Y.replace(/\r\n|\r/g,`
`)&&(Vg($,0)||cd(),$.textContent=C.children)}if(D){if(N||!P||L&48){const Y=$.tagName.includes("-");for(const Re in D)(N&&(Re.endsWith("value")||Re==="indeterminate")||nh(Re)&&!Md(Re)||Re[0]==="."||Y)&&r($,Re,null,D[Re],void 0,M)}else if(D.onClick)r($,"onClick",null,D.onClick,void 0,M);else if(L&4&&jl(D.style))for(const Y in D.style)D.style[Y]}let ne;(ne=D&&D.onVnodeBeforeMount)&&Gs(ne,M,C),F&&ja(C,null,M,"beforeMount"),((ne=D&&D.onVnodeMounted)||F||ee)&&jq(()=>{ne&&Gs(ne,M,C),ee&&z.enter($),F&&ja(C,null,M,"mounted")},I)}return $.nextSibling},p=($,C,M,I,E,P,O)=>{O=O||!!C.dynamicChildren;const D=C.children,L=D.length;for(let V=0;V<L;V++){const F=O?D[V]:D[V]=Qs(D[V]),z=F.type===dc;$?(z&&!O&&V+1<L&&Qs(D[V+1]).type===dc&&(l(o($.data.slice(F.children.length)),M,s($)),$.data=F.children),$=d($,F,I,E,P,O)):z&&!F.children?l(F.el=o(""),M):(Vg(M,1)||cd(),n(null,F,M,null,I,E,Lg(M),P))}return $},m=($,C,M,I,E,P)=>{const{slotScopeIds:O}=C;O&&(E=E?E.concat(O):O);const D=a($),L=p(s($),C,D,M,I,E,P);return L&&jg(L)&&L.data==="]"?s(C.anchor=L):(cd(),l(C.anchor=c("]"),D,L),L)},h=($,C,M,I,E,P)=>{if(Vg($.parentElement,1)||cd(),C.el=null,P){const L=g($);for(;;){const V=s($);if(V&&V!==L)i(V);else break}}const O=s($),D=a($);return i($),n(null,C,D,O,M,I,Lg(D),E),M&&(M.vnode.el=C.el,Aq(M,C.el)),O},g=($,C="[",M="]")=>{let I=0;for(;$;)if($=s($),$&&jg($)&&($.data===C&&I++,$.data===M)){if(I===0)return s($);I--}return $},v=($,C,M)=>{const I=C.parentNode;I&&I.replaceChild($,C);let E=M;for(;E;)E.vnode.el===C&&(E.vnode.el=E.subTree.el=$),E=E.parent},x=$=>$.nodeType===1&&$.tagName==="TEMPLATE";return[u,d]}const $P="data-allow-mismatch",PX={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function Vg(e,t){if(t===0||t===1)for(;e&&!e.hasAttribute($P);)e=e.parentElement;const n=e&&e.getAttribute($P);if(n==null)return!1;if(n==="")return!0;{const r=n.split(",");return t===0&&r.includes("children")?!0:r.includes(PX[t])}}tx().requestIdleCallback;tx().cancelIdleCallback;const uc=e=>!!e.type.__asyncLoader,fq=e=>e.type.__isKeepAlive;function pq(e,t){hq(e,"a",t)}function mq(e,t){hq(e,"da",t)}function hq(e,t,n=Ao){const r=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(lx(t,r,n),n){let o=n.parent;for(;o&&o.parent;)fq(o.parent.vnode)&&OX(r,t,n,o),o=o.parent}}function OX(e,t,n,r){const o=lx(t,e,r,!0);ar(()=>{rC(r[t],o)},n)}function lx(e,t,n=Ao,r=!1){if(n){const o=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...a)=>{Ji();const i=uh(n),l=Za(t,n,e,a);return i(),Yi(),l});return r?o.unshift(s):o.push(s),s}}const sl=e=>(t,n=Ao)=>{(!Jp||e==="sp")&&lx(e,(...r)=>t(...r),n)},gq=sl("bm"),wt=sl("m"),RX=sl("bu"),vq=sl("u"),Tc=sl("bum"),ar=sl("um"),BX=sl("sp"),NX=sl("rtg"),DX=sl("rtc");function FX(e,t=Ao){lx("ec",e,t)}const yq="components";function Ec(e,t){return xq(yq,e,!0,t)||e}const bq=Symbol.for("v-ndc");function Kn(e){return Zn(e)?xq(yq,e,!1)||e:e||bq}function xq(e,t,n=!0,r=!1){const o=eo||Ao;if(o){const s=o.type;{const i=vZ(s,!1);if(i&&(i===t||i===rs(t)||i===ex(rs(t))))return s}const a=CP(o[e]||s[e],t)||CP(o.appContext[e],t);return!a&&r?s:a}}function CP(e,t){return e&&(e[t]||e[rs(t)]||e[ex(rs(t))])}function Ve(e,t,n,r){let o;const s=n,a=xt(e);if(a||Zn(e)){const i=a&&jl(e);let l=!1,c=!1;i&&(l=!Ps(e),c=Qi(e),e=rx(e)),o=new Array(e.length);for(let u=0,d=e.length;u<d;u++)o[u]=t(l?c?Bd(ka(e[u])):ka(e[u]):e[u],u,void 0,s)}else if(typeof e=="number"){o=new Array(e);for(let i=0;i<e;i++)o[i]=t(i+1,i,void 0,s)}else if($n(e))if(e[Symbol.iterator])o=Array.from(e,(i,l)=>t(i,l,void 0,s));else{const i=Object.keys(e);o=new Array(i.length);for(let l=0,c=i.length;l<c;l++){const u=i[l];o[l]=t(e[u],u,l,s)}}else o=[];return o}function gr(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(xt(r))for(let o=0;o<r.length;o++)e[r[o].name]=r[o].fn;else r&&(e[r.name]=r.key?(...o)=>{const s=r.fn(...o);return s&&(s.key=r.key),s}:r.fn)}return e}function U(e,t,n={},r,o){if(eo.ce||eo.parent&&uc(eo.parent)&&eo.parent.ce){const c=Object.keys(n).length>0;return t!=="default"&&(n.name=t),A(),B(Ee,null,[_("slot",n,r&&r())],c?-2:64)}let s=e[t];s&&s._c&&(s._d=!1),A();const a=s&&wq(s(n)),i=n.key||a&&a.key,l=B(Ee,{key:(i&&!wa(i)?i:`_${t}`)+(!a&&r?"_fb":"")},a||(r?r():[]),a&&e._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),s&&s._c&&(s._d=!0),l}function wq(e){return e.some(t=>Gp(t)?!(t.type===ra||t.type===Ee&&!wq(t.children)):!0)?e:null}function lh(e,t){const n={};for(const r in e)n[bp(r)]=e[r];return n}const dS=e=>e?Kq(e)?cx(e):dS(e.parent):null,_p=to(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>dS(e.parent),$root:e=>dS(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Sq(e),$forceUpdate:e=>e.f||(e.f=()=>{lC(e.update)}),$nextTick:e=>e.n||(e.n=St.bind(e.proxy)),$watch:e=>$X.bind(e)}),xk=(e,t)=>e!==hn&&!e.__isScriptSetup&&wn(e,t),qX={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:o,props:s,accessCache:a,type:i,appContext:l}=e;if(t[0]!=="$"){const f=a[t];if(f!==void 0)switch(f){case 1:return r[t];case 2:return o[t];case 4:return n[t];case 3:return s[t]}else{if(xk(r,t))return a[t]=1,r[t];if(o!==hn&&wn(o,t))return a[t]=2,o[t];if(wn(s,t))return a[t]=3,s[t];if(n!==hn&&wn(n,t))return a[t]=4,n[t];fS&&(a[t]=0)}}const c=_p[t];let u,d;if(c)return t==="$attrs"&&Co(e.attrs,"get",""),c(e);if((u=i.__cssModules)&&(u=u[t]))return u;if(n!==hn&&wn(n,t))return a[t]=4,n[t];if(d=l.config.globalProperties,wn(d,t))return d[t]},set({_:e},t,n){const{data:r,setupState:o,ctx:s}=e;return xk(o,t)?(o[t]=n,!0):r!==hn&&wn(r,t)?(r[t]=n,!0):wn(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,props:s,type:a}},i){let l;return!!(n[i]||e!==hn&&i[0]!=="$"&&wn(e,i)||xk(t,i)||wn(s,i)||wn(r,i)||wn(_p,i)||wn(o.config.globalProperties,i)||(l=a.__cssModules)&&l[i])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:wn(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function rn(){return zX().slots}function zX(e){const t=ir();return t.setupContext||(t.setupContext=Wq(t))}function Wp(e){return xt(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function kq(e,t){const n=Wp(e);for(const r in t){if(r.startsWith("__skip"))continue;let o=n[r];o?xt(o)||Dt(o)?o=n[r]={type:o,default:t[r]}:o.default=t[r]:o===null&&(o=n[r]={default:t[r]}),o&&t[`__skip_${r}`]&&(o.skipFactory=!0)}return n}function bs(e,t){return!e||!t?e||t:xt(e)&&xt(t)?e.concat(t):to({},Wp(e),Wp(t))}let fS=!0;function LX(e){const t=Sq(e),n=e.proxy,r=e.ctx;fS=!1,t.beforeCreate&&MP(t.beforeCreate,e,"bc");const{data:o,computed:s,methods:a,watch:i,provide:l,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:p,updated:m,activated:h,deactivated:g,beforeDestroy:v,beforeUnmount:x,destroyed:$,unmounted:C,render:M,renderTracked:I,renderTriggered:E,errorCaptured:P,serverPrefetch:O,expose:D,inheritAttrs:L,components:V,directives:F,filters:z}=t;if(c&&jX(c,r,null),a)for(const ne in a){const Y=a[ne];Dt(Y)&&(r[ne]=Y.bind(n))}if(o){const ne=o.call(n,n);$n(ne)&&(e.data=Pr(ne))}if(fS=!0,s)for(const ne in s){const Y=s[ne],Re=Dt(Y)?Y.bind(n,n):Dt(Y.get)?Y.get.bind(n,n):Ya,fe=!Dt(Y)&&Dt(Y.set)?Y.set.bind(n):Ya,we=H({get:Re,set:fe});Object.defineProperty(r,ne,{enumerable:!0,configurable:!0,get:()=>we.value,set:ue=>we.value=ue})}if(i)for(const ne in i)_q(i[ne],r,n,ne);if(l){const ne=Dt(l)?l.call(n):l;Reflect.ownKeys(ne).forEach(Y=>{Mo(Y,ne[Y])})}u&&MP(u,e,"c");function ee(ne,Y){xt(Y)?Y.forEach(Re=>ne(Re.bind(n))):Y&&ne(Y.bind(n))}if(ee(gq,d),ee(wt,f),ee(RX,p),ee(vq,m),ee(pq,h),ee(mq,g),ee(FX,P),ee(DX,I),ee(NX,E),ee(Tc,x),ee(ar,C),ee(BX,O),xt(D))if(D.length){const ne=e.exposed||(e.exposed={});D.forEach(Y=>{Object.defineProperty(ne,Y,{get:()=>n[Y],set:Re=>n[Y]=Re,enumerable:!0})})}else e.exposed||(e.exposed={});M&&e.render===Ya&&(e.render=M),L!=null&&(e.inheritAttrs=L),V&&(e.components=V),F&&(e.directives=F),O&&dq(e)}function jX(e,t,n=Ya){xt(e)&&(e=pS(e));for(const r in e){const o=e[r];let s;$n(o)?"default"in o?s=or(o.from||r,o.default,!0):s=or(o.from||r):s=or(o),Zt(s)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):t[r]=s}}function MP(e,t,n){Za(xt(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function _q(e,t,n,r){let o=r.includes(".")?iq(n,r):()=>n[r];if(Zn(e)){const s=t[e];Dt(s)&&He(o,s)}else if(Dt(e))He(o,e.bind(n));else if($n(e))if(xt(e))e.forEach(s=>_q(s,t,n,r));else{const s=Dt(e.handler)?e.handler.bind(n):t[e.handler];Dt(s)&&He(o,s,e)}}function Sq(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:o,optionsCache:s,config:{optionMergeStrategies:a}}=e.appContext,i=s.get(t);let l;return i?l=i:!o.length&&!n&&!r?l=t:(l={},o.length&&o.forEach(c=>Yy(l,c,a,!0)),Yy(l,t,a)),$n(t)&&s.set(t,l),l}function Yy(e,t,n,r=!1){const{mixins:o,extends:s}=t;s&&Yy(e,s,n,!0),o&&o.forEach(a=>Yy(e,a,n,!0));for(const a in t)if(!(r&&a==="expose")){const i=VX[a]||n&&n[a];e[a]=i?i(e[a],t[a]):t[a]}return e}const VX={data:AP,props:TP,emits:TP,methods:cp,computed:cp,beforeCreate:Yo,created:Yo,beforeMount:Yo,mounted:Yo,beforeUpdate:Yo,updated:Yo,beforeDestroy:Yo,beforeUnmount:Yo,destroyed:Yo,unmounted:Yo,activated:Yo,deactivated:Yo,errorCaptured:Yo,serverPrefetch:Yo,components:cp,directives:cp,watch:KX,provide:AP,inject:UX};function AP(e,t){return t?e?function(){return to(Dt(e)?e.call(this,this):e,Dt(t)?t.call(this,this):t)}:t:e}function UX(e,t){return cp(pS(e),pS(t))}function pS(e){if(xt(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Yo(e,t){return e?[...new Set([].concat(e,t))]:t}function cp(e,t){return e?to(Object.create(null),e,t):t}function TP(e,t){return e?xt(e)&&xt(t)?[...new Set([...e,...t])]:to(Object.create(null),Wp(e),Wp(t??{})):t}function KX(e,t){if(!e)return t;if(!t)return e;const n=to(Object.create(null),e);for(const r in t)n[r]=Yo(e[r],t[r]);return n}function $q(){return{app:null,config:{isNativeTag:$F,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let HX=0;function WX(e,t){return function(r,o=null){Dt(r)||(r=to({},r)),o!=null&&!$n(o)&&(o=null);const s=$q(),a=new WeakSet,i=[];let l=!1;const c=s.app={_uid:HX++,_component:r,_props:o,_container:null,_context:s,_instance:null,version:wZ,get config(){return s.config},set config(u){},use(u,...d){return a.has(u)||(u&&Dt(u.install)?(a.add(u),u.install(c,...d)):Dt(u)&&(a.add(u),u(c,...d))),c},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),c},component(u,d){return d?(s.components[u]=d,c):s.components[u]},directive(u,d){return d?(s.directives[u]=d,c):s.directives[u]},mount(u,d,f){if(!l){const p=c._ceVNode||_(r,o);return p.appContext=s,f===!0?f="svg":f===!1&&(f=void 0),d&&t?t(p,u):e(p,u,f),l=!0,c._container=u,u.__vue_app__=c,cx(p.component)}},onUnmount(u){i.push(u)},unmount(){l&&(Za(i,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(u,d){return s.provides[u]=d,c},runWithContext(u){const d=cc;cc=c;try{return u()}finally{cc=d}}};return c}}let cc=null;function Yn(e,t,n=hn){const r=ir(),o=rs(t),s=rl(t),a=Cq(e,o),i=af((l,c)=>{let u,d=hn,f;return aq(()=>{const p=e[o];Xo(u,p)&&(u=p,c())}),{get(){return l(),n.get?n.get(u):u},set(p){const m=n.set?n.set(p):p;if(!Xo(m,u)&&!(d!==hn&&Xo(p,d)))return;const h=r.vnode.props;h&&(t in h||o in h||s in h)&&(`onUpdate:${t}`in h||`onUpdate:${o}`in h||`onUpdate:${s}`in h)||(u=p,c()),r.emit(`update:${t}`,m),Xo(p,m)&&Xo(p,d)&&!Xo(m,f)&&c(),d=p,f=m}}});return i[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?a||hn:i,done:!1}:{done:!0}}}},i}const Cq=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${rs(t)}Modifiers`]||e[`${rl(t)}Modifiers`];function GX(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||hn;let o=n;const s=t.startsWith("update:"),a=s&&Cq(r,t.slice(7));a&&(a.trim&&(o=n.map(u=>Zn(u)?u.trim():u)),a.number&&(o=n.map(FQ)));let i,l=r[i=bp(t)]||r[i=bp(rs(t))];!l&&s&&(l=r[i=bp(rl(t))]),l&&Za(l,e,6,o);const c=r[i+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[i])return;e.emitted[i]=!0,Za(c,e,6,o)}}const JX=new WeakMap;function Mq(e,t,n=!1){const r=n?JX:t.emitsCache,o=r.get(e);if(o!==void 0)return o;const s=e.emits;let a={},i=!1;if(!Dt(e)){const l=c=>{const u=Mq(c,t,!0);u&&(i=!0,to(a,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!s&&!i?($n(e)&&r.set(e,null),null):(xt(s)?s.forEach(l=>a[l]=null):to(a,s),$n(e)&&r.set(e,a),a)}function ux(e,t){return!e||!nh(t)?!1:(t=t.slice(2).replace(/Once$/,""),wn(e,t[0].toLowerCase()+t.slice(1))||wn(e,rl(t))||wn(e,t))}function wk(e){const{type:t,vnode:n,proxy:r,withProxy:o,propsOptions:[s],slots:a,attrs:i,emit:l,render:c,renderCache:u,props:d,data:f,setupState:p,ctx:m,inheritAttrs:h}=e,g=Gy(e);let v,x;try{if(n.shapeFlag&4){const C=o||r,M=C;v=Qs(c.call(M,C,u,d,p,f,m)),x=i}else{const C=t;v=Qs(C.length>1?C(d,{attrs:i,slots:a,emit:l}):C(d,null)),x=t.props?i:YX(i)}}catch(C){$p.length=0,ix(C,e,1),v=_(ra)}let $=v;if(x&&h!==!1){const C=Object.keys(x),{shapeFlag:M}=$;C.length&&M&7&&(s&&C.some(nC)&&(x=QX(x,s)),$=Wl($,x,!1,!0))}return n.dirs&&($=Wl($,null,!1,!0),$.dirs=$.dirs?$.dirs.concat(n.dirs):n.dirs),n.transition&&cC($,n.transition),v=$,Gy(g),v}const YX=e=>{let t;for(const n in e)(n==="class"||n==="style"||nh(n))&&((t||(t={}))[n]=e[n]);return t},QX=(e,t)=>{const n={};for(const r in e)(!nC(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function XX(e,t,n){const{props:r,children:o,component:s}=e,{props:a,children:i,patchFlag:l}=t,c=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?EP(r,a,c):!!a;if(l&8){const u=t.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(a[f]!==r[f]&&!ux(c,f))return!0}}}else return(o||i)&&(!i||!i.$stable)?!0:r===a?!1:r?a?EP(r,a,c):!0:!!a;return!1}function EP(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const s=r[o];if(t[s]!==e[s]&&!ux(n,s))return!0}return!1}function Aq({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const Tq={},Eq=()=>Object.create(Tq),Iq=e=>Object.getPrototypeOf(e)===Tq;function ZX(e,t,n,r=!1){const o={},s=Eq();e.propsDefaults=Object.create(null),Pq(e,t,o,s);for(const a in e.propsOptions[0])a in o||(o[a]=void 0);n?e.props=r?o:QF(o):e.type.props?e.props=o:e.props=s,e.attrs=s}function eZ(e,t,n,r){const{props:o,attrs:s,vnode:{patchFlag:a}}=e,i=mn(o),[l]=e.propsOptions;let c=!1;if((r||a>0)&&!(a&16)){if(a&8){const u=e.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(ux(e.emitsOptions,f))continue;const p=t[f];if(l)if(wn(s,f))p!==s[f]&&(s[f]=p,c=!0);else{const m=rs(f);o[m]=mS(l,i,m,p,e,!1)}else p!==s[f]&&(s[f]=p,c=!0)}}}else{Pq(e,t,o,s)&&(c=!0);let u;for(const d in i)(!t||!wn(t,d)&&((u=rl(d))===d||!wn(t,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(o[d]=mS(l,i,d,void 0,e,!0)):delete o[d]);if(s!==i)for(const d in s)(!t||!wn(t,d))&&(delete s[d],c=!0)}c&&Ui(e.attrs,"set","")}function Pq(e,t,n,r){const[o,s]=e.propsOptions;let a=!1,i;if(t)for(let l in t){if(Md(l))continue;const c=t[l];let u;o&&wn(o,u=rs(l))?!s||!s.includes(u)?n[u]=c:(i||(i={}))[u]=c:ux(e.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,a=!0)}if(s){const l=mn(n),c=i||hn;for(let u=0;u<s.length;u++){const d=s[u];n[d]=mS(o,l,d,c[d],e,!wn(c,d))}}return a}function mS(e,t,n,r,o,s){const a=e[n];if(a!=null){const i=wn(a,"default");if(i&&r===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&Dt(l)){const{propsDefaults:c}=o;if(n in c)r=c[n];else{const u=uh(o);r=c[n]=l.call(null,t),u()}}else r=l;o.ce&&o.ce._setProp(n,r)}a[0]&&(s&&!i?r=!1:a[1]&&(r===""||r===rl(n))&&(r=!0))}return r}const tZ=new WeakMap;function Oq(e,t,n=!1){const r=n?tZ:t.propsCache,o=r.get(e);if(o)return o;const s=e.props,a={},i=[];let l=!1;if(!Dt(e)){const u=d=>{l=!0;const[f,p]=Oq(d,t,!0);to(a,f),p&&i.push(...p)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!s&&!l)return $n(e)&&r.set(e,$d),$d;if(xt(s))for(let u=0;u<s.length;u++){const d=rs(s[u]);IP(d)&&(a[d]=hn)}else if(s)for(const u in s){const d=rs(u);if(IP(d)){const f=s[u],p=a[d]=xt(f)||Dt(f)?{type:f}:to({},f),m=p.type;let h=!1,g=!0;if(xt(m))for(let v=0;v<m.length;++v){const x=m[v],$=Dt(x)&&x.name;if($==="Boolean"){h=!0;break}else $==="String"&&(g=!1)}else h=Dt(m)&&m.name==="Boolean";p[0]=h,p[1]=g,(h||wn(p,"default"))&&i.push(d)}}const c=[a,i];return $n(e)&&r.set(e,c),c}function IP(e){return e[0]!=="$"&&!Md(e)}const dC=e=>e==="_"||e==="_ctx"||e==="$stable",fC=e=>xt(e)?e.map(Qs):[Qs(e)],nZ=(e,t,n)=>{if(t._n)return t;const r=S((...o)=>fC(t(...o)),n);return r._c=!1,r},Rq=(e,t,n)=>{const r=e._ctx;for(const o in e){if(dC(o))continue;const s=e[o];if(Dt(s))t[o]=nZ(o,s,r);else if(s!=null){const a=fC(s);t[o]=()=>a}}},Bq=(e,t)=>{const n=fC(t);e.slots.default=()=>n},Nq=(e,t,n)=>{for(const r in t)(n||!dC(r))&&(e[r]=t[r])},rZ=(e,t,n)=>{const r=e.slots=Eq();if(e.vnode.shapeFlag&32){const o=t._;o?(Nq(r,t,n),n&&EF(r,"_",o,!0)):Rq(t,r)}else t&&Bq(e,t)},oZ=(e,t,n)=>{const{vnode:r,slots:o}=e;let s=!0,a=hn;if(r.shapeFlag&32){const i=t._;i?n&&i===1?s=!1:Nq(o,t,n):(s=!t.$stable,Rq(t,o)),a=t}else t&&(Bq(e,t),a={default:1});if(s)for(const i in o)!dC(i)&&a[i]==null&&delete o[i]},Qo=jq;function sZ(e){return Dq(e)}function aZ(e){return Dq(e,IX)}function Dq(e,t){const n=tx();n.__VUE__=!0;const{insert:r,remove:o,patchProp:s,createElement:a,createText:i,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:p=Ya,insertStaticContent:m}=e,h=(te,se,$e,Ie=null,be=null,me=null,he=void 0,Be=null,_e=!!se.dynamicChildren)=>{if(te===se)return;te&&!Gf(te,se)&&(Ie=ce(te),ue(te,be,me,!0),te=null),se.patchFlag===-2&&(_e=!1,se.dynamicChildren=null);const{type:Oe,ref:Ze,shapeFlag:Ue}=se;switch(Oe){case dc:g(te,se,$e,Ie);break;case ra:v(te,se,$e,Ie);break;case Sp:te==null&&x(se,$e,Ie,he);break;case Ee:V(te,se,$e,Ie,be,me,he,Be,_e);break;default:Ue&1?M(te,se,$e,Ie,be,me,he,Be,_e):Ue&6?F(te,se,$e,Ie,be,me,he,Be,_e):(Ue&64||Ue&128)&&Oe.process(te,se,$e,Ie,be,me,he,Be,_e,pe)}Ze!=null&&be?Td(Ze,te&&te.ref,me,se||te,!se):Ze==null&&te&&te.ref!=null&&Td(te.ref,null,me,te,!0)},g=(te,se,$e,Ie)=>{if(te==null)r(se.el=i(se.children),$e,Ie);else{const be=se.el=te.el;se.children!==te.children&&c(be,se.children)}},v=(te,se,$e,Ie)=>{te==null?r(se.el=l(se.children||""),$e,Ie):se.el=te.el},x=(te,se,$e,Ie)=>{[te.el,te.anchor]=m(te.children,se,$e,Ie,te.el,te.anchor)},$=({el:te,anchor:se},$e,Ie)=>{let be;for(;te&&te!==se;)be=f(te),r(te,$e,Ie),te=be;r(se,$e,Ie)},C=({el:te,anchor:se})=>{let $e;for(;te&&te!==se;)$e=f(te),o(te),te=$e;o(se)},M=(te,se,$e,Ie,be,me,he,Be,_e)=>{if(se.type==="svg"?he="svg":se.type==="math"&&(he="mathml"),te==null)I(se,$e,Ie,be,me,he,Be,_e);else{const Oe=te.el&&te.el._isVueCE?te.el:null;try{Oe&&Oe._beginPatch(),O(te,se,be,me,he,Be,_e)}finally{Oe&&Oe._endPatch()}}},I=(te,se,$e,Ie,be,me,he,Be)=>{let _e,Oe;const{props:Ze,shapeFlag:Ue,transition:at,dirs:yt}=te;if(_e=te.el=a(te.type,me,Ze&&Ze.is,Ze),Ue&8?u(_e,te.children):Ue&16&&P(te.children,_e,null,Ie,be,kk(te,me),he,Be),yt&&ja(te,null,Ie,"created"),E(_e,te,te.scopeId,he,Ie),Ze){for(const Qt in Ze)Qt!=="value"&&!Md(Qt)&&s(_e,Qt,null,Ze[Qt],me,Ie);"value"in Ze&&s(_e,"value",null,Ze.value,me),(Oe=Ze.onVnodeBeforeMount)&&Gs(Oe,Ie,te)}yt&&ja(te,null,Ie,"beforeMount");const Et=Fq(be,at);Et&&at.beforeEnter(_e),r(_e,se,$e),((Oe=Ze&&Ze.onVnodeMounted)||Et||yt)&&Qo(()=>{Oe&&Gs(Oe,Ie,te),Et&&at.enter(_e),yt&&ja(te,null,Ie,"mounted")},be)},E=(te,se,$e,Ie,be)=>{if($e&&p(te,$e),Ie)for(let me=0;me<Ie.length;me++)p(te,Ie[me]);if(be){let me=be.subTree;if(se===me||Lq(me.type)&&(me.ssContent===se||me.ssFallback===se)){const he=be.vnode;E(te,he,he.scopeId,he.slotScopeIds,be.parent)}}},P=(te,se,$e,Ie,be,me,he,Be,_e=0)=>{for(let Oe=_e;Oe<te.length;Oe++){const Ze=te[Oe]=Be?El(te[Oe]):Qs(te[Oe]);h(null,Ze,se,$e,Ie,be,me,he,Be)}},O=(te,se,$e,Ie,be,me,he)=>{const Be=se.el=te.el;let{patchFlag:_e,dynamicChildren:Oe,dirs:Ze}=se;_e|=te.patchFlag&16;const Ue=te.props||hn,at=se.props||hn;let yt;if($e&&Ou($e,!1),(yt=at.onVnodeBeforeUpdate)&&Gs(yt,$e,se,te),Ze&&ja(se,te,$e,"beforeUpdate"),$e&&Ou($e,!0),(Ue.innerHTML&&at.innerHTML==null||Ue.textContent&&at.textContent==null)&&u(Be,""),Oe?D(te.dynamicChildren,Oe,Be,$e,Ie,kk(se,be),me):he||Y(te,se,Be,null,$e,Ie,kk(se,be),me,!1),_e>0){if(_e&16)L(Be,Ue,at,$e,be);else if(_e&2&&Ue.class!==at.class&&s(Be,"class",null,at.class,be),_e&4&&s(Be,"style",Ue.style,at.style,be),_e&8){const Et=se.dynamicProps;for(let Qt=0;Qt<Et.length;Qt++){const Lt=Et[Qt],Fn=Ue[Lt],gn=at[Lt];(gn!==Fn||Lt==="value")&&s(Be,Lt,Fn,gn,be,$e)}}_e&1&&te.children!==se.children&&u(Be,se.children)}else!he&&Oe==null&&L(Be,Ue,at,$e,be);((yt=at.onVnodeUpdated)||Ze)&&Qo(()=>{yt&&Gs(yt,$e,se,te),Ze&&ja(se,te,$e,"updated")},Ie)},D=(te,se,$e,Ie,be,me,he)=>{for(let Be=0;Be<se.length;Be++){const _e=te[Be],Oe=se[Be],Ze=_e.el&&(_e.type===Ee||!Gf(_e,Oe)||_e.shapeFlag&198)?d(_e.el):$e;h(_e,Oe,Ze,null,Ie,be,me,he,!0)}},L=(te,se,$e,Ie,be)=>{if(se!==$e){if(se!==hn)for(const me in se)!Md(me)&&!(me in $e)&&s(te,me,se[me],null,be,Ie);for(const me in $e){if(Md(me))continue;const he=$e[me],Be=se[me];he!==Be&&me!=="value"&&s(te,me,Be,he,be,Ie)}"value"in $e&&s(te,"value",se.value,$e.value,be)}},V=(te,se,$e,Ie,be,me,he,Be,_e)=>{const Oe=se.el=te?te.el:i(""),Ze=se.anchor=te?te.anchor:i("");let{patchFlag:Ue,dynamicChildren:at,slotScopeIds:yt}=se;yt&&(Be=Be?Be.concat(yt):yt),te==null?(r(Oe,$e,Ie),r(Ze,$e,Ie),P(se.children||[],$e,Ze,be,me,he,Be,_e)):Ue>0&&Ue&64&&at&&te.dynamicChildren&&te.dynamicChildren.length===at.length?(D(te.dynamicChildren,at,$e,be,me,he,Be),(se.key!=null||be&&se===be.subTree)&&pC(te,se,!0)):Y(te,se,$e,Ze,be,me,he,Be,_e)},F=(te,se,$e,Ie,be,me,he,Be,_e)=>{se.slotScopeIds=Be,te==null?se.shapeFlag&512?be.ctx.activate(se,$e,Ie,he,_e):z(se,$e,Ie,be,me,he,_e):N(te,se,_e)},z=(te,se,$e,Ie,be,me,he)=>{const Be=te.component=pZ(te,Ie,be);if(fq(te)&&(Be.ctx.renderer=pe),mZ(Be,!1,he),Be.asyncDep){if(be&&be.registerDep(Be,ee,he),!te.el){const _e=Be.subTree=_(ra);v(null,_e,se,$e),te.placeholder=_e.el}}else ee(Be,te,se,$e,be,me,he)},N=(te,se,$e)=>{const Ie=se.component=te.component;if(XX(te,se,$e))if(Ie.asyncDep&&!Ie.asyncResolved){ne(Ie,se,$e);return}else Ie.next=se,Ie.update();else se.el=te.el,Ie.vnode=se},ee=(te,se,$e,Ie,be,me,he)=>{const Be=()=>{if(te.isMounted){let{next:Ue,bu:at,u:yt,parent:Et,vnode:Qt}=te;{const ur=qq(te);if(ur){Ue&&(Ue.el=Qt.el,ne(te,Ue,he)),ur.asyncDep.then(()=>{te.isUnmounted||Be()});return}}let Lt=Ue,Fn;Ou(te,!1),Ue?(Ue.el=Qt.el,ne(te,Ue,he)):Ue=Qt,at&&ay(at),(Fn=Ue.props&&Ue.props.onVnodeBeforeUpdate)&&Gs(Fn,Et,Ue,Qt),Ou(te,!0);const gn=wk(te),pr=te.subTree;te.subTree=gn,h(pr,gn,d(pr.el),ce(pr),te,be,me),Ue.el=gn.el,Lt===null&&Aq(te,gn.el),yt&&Qo(yt,be),(Fn=Ue.props&&Ue.props.onVnodeUpdated)&&Qo(()=>Gs(Fn,Et,Ue,Qt),be)}else{let Ue;const{el:at,props:yt}=se,{bm:Et,m:Qt,parent:Lt,root:Fn,type:gn}=te,pr=uc(se);if(Ou(te,!1),Et&&ay(Et),!pr&&(Ue=yt&&yt.onVnodeBeforeMount)&&Gs(Ue,Lt,se),Ou(te,!0),at&&kt){const ur=()=>{te.subTree=wk(te),kt(at,te.subTree,te,be,null)};pr&&gn.__asyncHydrate?gn.__asyncHydrate(at,te,ur):ur()}else{Fn.ce&&Fn.ce._def.shadowRoot!==!1&&Fn.ce._injectChildStyle(gn);const ur=te.subTree=wk(te);h(null,ur,$e,Ie,te,be,me),se.el=ur.el}if(Qt&&Qo(Qt,be),!pr&&(Ue=yt&&yt.onVnodeMounted)){const ur=se;Qo(()=>Gs(Ue,Lt,ur),be)}(se.shapeFlag&256||Lt&&uc(Lt.vnode)&&Lt.vnode.shapeFlag&256)&&te.a&&Qo(te.a,be),te.isMounted=!0,se=$e=Ie=null}};te.scope.on();const _e=te.effect=new BF(Be);te.scope.off();const Oe=te.update=_e.run.bind(_e),Ze=te.job=_e.runIfDirty.bind(_e);Ze.i=te,Ze.id=te.uid,_e.scheduler=()=>lC(Ze),Ou(te,!0),Oe()},ne=(te,se,$e)=>{se.component=te;const Ie=te.vnode.props;te.vnode=se,te.next=null,eZ(te,se.props,Ie,$e),oZ(te,se.children,$e),Ji(),bP(te),Yi()},Y=(te,se,$e,Ie,be,me,he,Be,_e=!1)=>{const Oe=te&&te.children,Ze=te?te.shapeFlag:0,Ue=se.children,{patchFlag:at,shapeFlag:yt}=se;if(at>0){if(at&128){fe(Oe,Ue,$e,Ie,be,me,he,Be,_e);return}else if(at&256){Re(Oe,Ue,$e,Ie,be,me,he,Be,_e);return}}yt&8?(Ze&16&&it(Oe,be,me),Ue!==Oe&&u($e,Ue)):Ze&16?yt&16?fe(Oe,Ue,$e,Ie,be,me,he,Be,_e):it(Oe,be,me,!0):(Ze&8&&u($e,""),yt&16&&P(Ue,$e,Ie,be,me,he,Be,_e))},Re=(te,se,$e,Ie,be,me,he,Be,_e)=>{te=te||$d,se=se||$d;const Oe=te.length,Ze=se.length,Ue=Math.min(Oe,Ze);let at;for(at=0;at<Ue;at++){const yt=se[at]=_e?El(se[at]):Qs(se[at]);h(te[at],yt,$e,null,be,me,he,Be,_e)}Oe>Ze?it(te,be,me,!0,!1,Ue):P(se,$e,Ie,be,me,he,Be,_e,Ue)},fe=(te,se,$e,Ie,be,me,he,Be,_e)=>{let Oe=0;const Ze=se.length;let Ue=te.length-1,at=Ze-1;for(;Oe<=Ue&&Oe<=at;){const yt=te[Oe],Et=se[Oe]=_e?El(se[Oe]):Qs(se[Oe]);if(Gf(yt,Et))h(yt,Et,$e,null,be,me,he,Be,_e);else break;Oe++}for(;Oe<=Ue&&Oe<=at;){const yt=te[Ue],Et=se[at]=_e?El(se[at]):Qs(se[at]);if(Gf(yt,Et))h(yt,Et,$e,null,be,me,he,Be,_e);else break;Ue--,at--}if(Oe>Ue){if(Oe<=at){const yt=at+1,Et=yt<Ze?se[yt].el:Ie;for(;Oe<=at;)h(null,se[Oe]=_e?El(se[Oe]):Qs(se[Oe]),$e,Et,be,me,he,Be,_e),Oe++}}else if(Oe>at)for(;Oe<=Ue;)ue(te[Oe],be,me,!0),Oe++;else{const yt=Oe,Et=Oe,Qt=new Map;for(Oe=Et;Oe<=at;Oe++){const xe=se[Oe]=_e?El(se[Oe]):Qs(se[Oe]);xe.key!=null&&Qt.set(xe.key,Oe)}let Lt,Fn=0;const gn=at-Et+1;let pr=!1,ur=0;const cr=new Array(gn);for(Oe=0;Oe<gn;Oe++)cr[Oe]=0;for(Oe=yt;Oe<=Ue;Oe++){const xe=te[Oe];if(Fn>=gn){ue(xe,be,me,!0);continue}let ke;if(xe.key!=null)ke=Qt.get(xe.key);else for(Lt=Et;Lt<=at;Lt++)if(cr[Lt-Et]===0&&Gf(xe,se[Lt])){ke=Lt;break}ke===void 0?ue(xe,be,me,!0):(cr[ke-Et]=Oe+1,ke>=ur?ur=ke:pr=!0,h(xe,se[ke],$e,null,be,me,he,Be,_e),Fn++)}const xo=pr?iZ(cr):$d;for(Lt=xo.length-1,Oe=gn-1;Oe>=0;Oe--){const xe=Et+Oe,ke=se[xe],en=se[xe+1],vn=xe+1<Ze?en.el||zq(en):Ie;cr[Oe]===0?h(null,ke,$e,vn,be,me,he,Be,_e):pr&&(Lt<0||Oe!==xo[Lt]?we(ke,$e,vn,2):Lt--)}}},we=(te,se,$e,Ie,be=null)=>{const{el:me,type:he,transition:Be,children:_e,shapeFlag:Oe}=te;if(Oe&6){we(te.component.subTree,se,$e,Ie);return}if(Oe&128){te.suspense.move(se,$e,Ie);return}if(Oe&64){he.move(te,se,$e,pe);return}if(he===Ee){r(me,se,$e);for(let Ue=0;Ue<_e.length;Ue++)we(_e[Ue],se,$e,Ie);r(te.anchor,se,$e);return}if(he===Sp){$(te,se,$e);return}if(Ie!==2&&Oe&1&&Be)if(Ie===0)Be.beforeEnter(me),r(me,se,$e),Qo(()=>Be.enter(me),be);else{const{leave:Ue,delayLeave:at,afterLeave:yt}=Be,Et=()=>{te.ctx.isUnmounted?o(me):r(me,se,$e)},Qt=()=>{me._isLeaving&&me[AX](!0),Ue(me,()=>{Et(),yt&&yt()})};at?at(me,Et,Qt):Qt()}else r(me,se,$e)},ue=(te,se,$e,Ie=!1,be=!1)=>{const{type:me,props:he,ref:Be,children:_e,dynamicChildren:Oe,shapeFlag:Ze,patchFlag:Ue,dirs:at,cacheIndex:yt}=te;if(Ue===-2&&(be=!1),Be!=null&&(Ji(),Td(Be,null,$e,te,!0),Yi()),yt!=null&&(se.renderCache[yt]=void 0),Ze&256){se.ctx.deactivate(te);return}const Et=Ze&1&&at,Qt=!uc(te);let Lt;if(Qt&&(Lt=he&&he.onVnodeBeforeUnmount)&&Gs(Lt,se,te),Ze&6)st(te.component,$e,Ie);else{if(Ze&128){te.suspense.unmount($e,Ie);return}Et&&ja(te,null,se,"beforeUnmount"),Ze&64?te.type.remove(te,se,$e,pe,Ie):Oe&&!Oe.hasOnce&&(me!==Ee||Ue>0&&Ue&64)?it(Oe,se,$e,!1,!0):(me===Ee&&Ue&384||!be&&Ze&16)&&it(_e,se,$e),Ie&&Ne(te)}(Qt&&(Lt=he&&he.onVnodeUnmounted)||Et)&&Qo(()=>{Lt&&Gs(Lt,se,te),Et&&ja(te,null,se,"unmounted")},$e)},Ne=te=>{const{type:se,el:$e,anchor:Ie,transition:be}=te;if(se===Ee){Xe($e,Ie);return}if(se===Sp){C(te);return}const me=()=>{o($e),be&&!be.persisted&&be.afterLeave&&be.afterLeave()};if(te.shapeFlag&1&&be&&!be.persisted){const{leave:he,delayLeave:Be}=be,_e=()=>he($e,me);Be?Be(te.el,me,_e):_e()}else me()},Xe=(te,se)=>{let $e;for(;te!==se;)$e=f(te),o(te),te=$e;o(se)},st=(te,se,$e)=>{const{bum:Ie,scope:be,job:me,subTree:he,um:Be,m:_e,a:Oe}=te;PP(_e),PP(Oe),Ie&&ay(Ie),be.stop(),me&&(me.flags|=8,ue(he,te,se,$e)),Be&&Qo(Be,se),Qo(()=>{te.isUnmounted=!0},se)},it=(te,se,$e,Ie=!1,be=!1,me=0)=>{for(let he=me;he<te.length;he++)ue(te[he],se,$e,Ie,be)},ce=te=>{if(te.shapeFlag&6)return ce(te.component.subTree);if(te.shapeFlag&128)return te.suspense.next();const se=f(te.anchor||te.el),$e=se&&se[lq];return $e?f($e):se};let ve=!1;const Ae=(te,se,$e)=>{let Ie;te==null?se._vnode&&(ue(se._vnode,null,null,!0),Ie=se._vnode.component):h(se._vnode||null,te,se,null,null,null,$e),se._vnode=te,ve||(ve=!0,bP(Ie),Wy(),ve=!1)},pe={p:h,um:ue,m:we,r:Ne,mt:z,mc:P,pc:Y,pbc:D,n:ce,o:e};let et,kt;return t&&([et,kt]=t(pe)),{render:Ae,hydrate:et,createApp:WX(Ae,et)}}function kk({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Ou({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Fq(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function pC(e,t,n=!1){const r=e.children,o=t.children;if(xt(r)&&xt(o))for(let s=0;s<r.length;s++){const a=r[s];let i=o[s];i.shapeFlag&1&&!i.dynamicChildren&&((i.patchFlag<=0||i.patchFlag===32)&&(i=o[s]=El(o[s]),i.el=a.el),!n&&i.patchFlag!==-2&&pC(a,i)),i.type===dc&&(i.patchFlag!==-1?i.el=a.el:i.__elIndex=s+(e.type===Ee?1:0)),i.type===ra&&!i.el&&(i.el=a.el)}}function iZ(e){const t=e.slice(),n=[0];let r,o,s,a,i;const l=e.length;for(r=0;r<l;r++){const c=e[r];if(c!==0){if(o=n[n.length-1],e[o]<c){t[r]=o,n.push(r);continue}for(s=0,a=n.length-1;s<a;)i=s+a>>1,e[n[i]]<c?s=i+1:a=i;c<e[n[s]]&&(s>0&&(t[r]=n[s-1]),n[s]=r)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=t[a];return n}function qq(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:qq(t)}function PP(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}function zq(e){if(e.placeholder)return e.placeholder;const t=e.component;return t?zq(t.subTree):null}const Lq=e=>e.__isSuspense;function jq(e,t){t&&t.pendingBranch?xt(e)?t.effects.push(...e):t.effects.push(e):kX(e)}const Ee=Symbol.for("v-fgt"),dc=Symbol.for("v-txt"),ra=Symbol.for("v-cmt"),Sp=Symbol.for("v-stc"),$p=[];let ts=null;function A(e=!1){$p.push(ts=e?null:[])}function lZ(){$p.pop(),ts=$p[$p.length-1]||null}let Dd=1;function Qy(e,t=!1){Dd+=e,e<0&&ts&&t&&(ts.hasOnce=!0)}function Vq(e){return e.dynamicChildren=Dd>0?ts||$d:null,lZ(),Dd>0&&ts&&ts.push(e),e}function W(e,t,n,r,o,s){return Vq(k(e,t,n,r,o,s,!0))}function B(e,t,n,r,o){return Vq(_(e,t,n,r,o,!0))}function Gp(e){return e?e.__v_isVNode===!0:!1}function Gf(e,t){return e.type===t.type&&e.key===t.key}const Uq=({key:e})=>e??null,ly=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Zn(e)||Zt(e)||Dt(e)?{i:eo,r:e,k:t,f:!!n}:e:null);function k(e,t=null,n=null,r=0,o=null,s=e===Ee?0:1,a=!1,i=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Uq(t),ref:t&&ly(t),scopeId:oq,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:eo};return i?(mC(l,n),s&128&&e.normalize(l)):n&&(l.shapeFlag|=Zn(n)?8:16),Dd>0&&!a&&ts&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&ts.push(l),l}const _=uZ;function uZ(e,t=null,n=null,r=0,o=null,s=!1){if((!e||e===bq)&&(e=ra),Gp(e)){const i=Wl(e,t,!0);return n&&mC(i,n),Dd>0&&!s&&ts&&(i.shapeFlag&6?ts[ts.indexOf(e)]=i:ts.push(i)),i.patchFlag=-2,i}if(yZ(e)&&(e=e.__vccOpts),t){t=ct(t);let{class:i,style:l}=t;i&&!Zn(i)&&(t.class=Z(i)),$n(l)&&(ax(l)&&!xt(l)&&(l=to({},l)),t.style=Un(l))}const a=Zn(e)?1:Lq(e)?128:CX(e)?64:$n(e)?4:Dt(e)?2:0;return k(e,t,n,r,o,a,s,!0)}function ct(e){return e?ax(e)||Iq(e)?to({},e):e:null}function Wl(e,t,n=!1,r=!1){const{props:o,ref:s,patchFlag:a,children:i,transition:l}=e,c=t?oe(o||{},t):o,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Uq(c),ref:t&&t.ref?n&&s?xt(s)?s.concat(ly(t)):[s,ly(t)]:ly(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ee?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Wl(e.ssContent),ssFallback:e.ssFallback&&Wl(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&cC(u,l.clone(u)),u}function J(e=" ",t=0){return _(dc,null,e,t)}function cZ(e,t){const n=_(Sp,null,e);return n.staticCount=t,n}function X(e="",t=!1){return t?(A(),B(ra,null,e)):_(ra,null,e)}function Qs(e){return e==null||typeof e=="boolean"?_(ra):xt(e)?_(Ee,null,e.slice()):Gp(e)?El(e):_(dc,null,String(e))}function El(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Wl(e)}function mC(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(xt(t))n=16;else if(typeof t=="object")if(r&65){const o=t.default;o&&(o._c&&(o._d=!1),mC(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!Iq(t)?t._ctx=eo:o===3&&eo&&(eo.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Dt(t)?(t={default:t,_ctx:eo},n=32):(t=String(t),r&64?(n=16,t=[J(t)]):n=8);e.children=t,e.shapeFlag|=n}function oe(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const o in r)if(o==="class")t.class!==r.class&&(t.class=Z([t.class,r.class]));else if(o==="style")t.style=Un([t.style,r.style]);else if(nh(o)){const s=t[o],a=r[o];a&&s!==a&&!(xt(s)&&s.includes(a))&&(t[o]=s?[].concat(s,a):a)}else o!==""&&(t[o]=r[o])}return t}function Gs(e,t,n,r=null){Za(e,t,7,[n,r])}const dZ=$q();let fZ=0;function pZ(e,t,n){const r=e.type,o=(t?t.appContext:e.appContext)||dZ,s={uid:fZ++,vnode:e,type:r,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new RF(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Oq(r,o),emitsOptions:Mq(r,o),emit:null,emitted:null,propsDefaults:hn,inheritAttrs:r.inheritAttrs,ctx:hn,data:hn,props:hn,attrs:hn,slots:hn,refs:hn,setupState:hn,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=GX.bind(null,s),e.ce&&e.ce(s),s}let Ao=null;const ir=()=>Ao||eo;let Xy,hS;{const e=tx(),t=(n,r)=>{let o;return(o=e[n])||(o=e[n]=[]),o.push(r),s=>{o.length>1?o.forEach(a=>a(s)):o[0](s)}};Xy=t("__VUE_INSTANCE_SETTERS__",n=>Ao=n),hS=t("__VUE_SSR_SETTERS__",n=>Jp=n)}const uh=e=>{const t=Ao;return Xy(e),e.scope.on(),()=>{e.scope.off(),Xy(t)}},OP=()=>{Ao&&Ao.scope.off(),Xy(null)};function Kq(e){return e.vnode.shapeFlag&4}let Jp=!1;function mZ(e,t=!1,n=!1){t&&hS(t);const{props:r,children:o}=e.vnode,s=Kq(e);ZX(e,r,s,t),rZ(e,o,n||t);const a=s?hZ(e,t):void 0;return t&&hS(!1),a}function hZ(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,qX);const{setup:r}=n;if(r){Ji();const o=e.setupContext=r.length>1?Wq(e):null,s=uh(e),a=sh(r,e,0,[e.props,o]),i=MF(a);if(Yi(),s(),(i||e.sp)&&!uc(e)&&dq(e),i){if(a.then(OP,OP),t)return a.then(l=>{RP(e,l)}).catch(l=>{ix(l,e,0)});e.asyncDep=a}else RP(e,a)}else Hq(e)}function RP(e,t,n){Dt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:$n(t)&&(e.setupState=ZF(t)),Hq(e)}function Hq(e,t,n){const r=e.type;e.render||(e.render=r.render||Ya);{const o=uh(e);Ji();try{LX(e)}finally{Yi(),o()}}}const gZ={get(e,t){return Co(e,"get",""),e[t]}};function Wq(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,gZ),slots:e.slots,emit:e.emit,expose:t}}function cx(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(ZF(Rd(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in _p)return _p[n](e)},has(t,n){return n in t||n in _p}})):e.proxy}function vZ(e,t=!0){return Dt(e)?e.displayName||e.name:e.name||t&&e.__name}function yZ(e){return Dt(e)&&"__vccOpts"in e}const H=(e,t)=>vX(e,t,Jp);function Or(e,t,n){try{Qy(-1);const r=arguments.length;return r===2?$n(t)&&!xt(t)?Gp(t)?_(e,null,[t]):_(e,t):_(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Gp(n)&&(n=[n]),_(e,t,n))}finally{Qy(1)}}function bZ(e,t,n,r){const o=n[r];if(o&&xZ(o,e))return o;const s=t();return s.memo=e.slice(),s.cacheIndex=r,n[r]=s}function xZ(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let r=0;r<n.length;r++)if(Xo(n[r],t[r]))return!1;return Dd>0&&ts&&ts.push(e),!0}const wZ="3.5.26";let gS;const BP=typeof window<"u"&&window.trustedTypes;if(BP)try{gS=BP.createPolicy("vue",{createHTML:e=>e})}catch{}const Gq=gS?e=>gS.createHTML(e):e=>e,kZ="http://www.w3.org/2000/svg",_Z="http://www.w3.org/1998/Math/MathML",zi=typeof document<"u"?document:null,NP=zi&&zi.createElement("template"),SZ={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const o=t==="svg"?zi.createElementNS(kZ,e):t==="mathml"?zi.createElementNS(_Z,e):n?zi.createElement(e,{is:n}):zi.createElement(e);return e==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:e=>zi.createTextNode(e),createComment:e=>zi.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>zi.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,o,s){const a=n?n.previousSibling:t.lastChild;if(o&&(o===s||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===s||!(o=o.nextSibling)););else{NP.innerHTML=Gq(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const i=NP.content;if(r==="svg"||r==="mathml"){const l=i.firstChild;for(;l.firstChild;)i.appendChild(l.firstChild);i.removeChild(l)}t.insertBefore(i,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},$Z=Symbol("_vtc");function CZ(e,t,n){const r=e[$Z];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const DP=Symbol("_vod"),MZ=Symbol("_vsh"),AZ=Symbol(""),TZ=/(?:^|;)\s*display\s*:/;function EZ(e,t,n){const r=e.style,o=Zn(n);let s=!1;if(n&&!o){if(t)if(Zn(t))for(const a of t.split(";")){const i=a.slice(0,a.indexOf(":")).trim();n[i]==null&&uy(r,i,"")}else for(const a in t)n[a]==null&&uy(r,a,"");for(const a in n)a==="display"&&(s=!0),uy(r,a,n[a])}else if(o){if(t!==n){const a=r[AZ];a&&(n+=";"+a),r.cssText=n,s=TZ.test(n)}}else t&&e.removeAttribute("style");DP in e&&(e[DP]=s?r.display:"",e[MZ]&&(r.display="none"))}const FP=/\s*!important$/;function uy(e,t,n){if(xt(n))n.forEach(r=>uy(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=IZ(e,t);FP.test(n)?e.setProperty(rl(r),n.replace(FP,""),"important"):e[r]=n}}const qP=["Webkit","Moz","ms"],_k={};function IZ(e,t){const n=_k[t];if(n)return n;let r=rs(t);if(r!=="filter"&&r in e)return _k[t]=r;r=ex(r);for(let o=0;o<qP.length;o++){const s=qP[o]+r;if(s in e)return _k[t]=s}return t}const zP="http://www.w3.org/1999/xlink";function LP(e,t,n,r,o,s=UQ(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(zP,t.slice(6,t.length)):e.setAttributeNS(zP,t,n):n==null||s&&!IF(n)?e.removeAttribute(t):e.setAttribute(t,s?"":wa(n)?String(n):n)}function jP(e,t,n,r,o){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Gq(n):n);return}const s=e.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){const i=s==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(i!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let a=!1;if(n===""||n==null){const i=typeof e[t];i==="boolean"?n=IF(n):n==null&&i==="string"?(n="",a=!0):i==="number"&&(n=0,a=!0)}try{e[t]=n}catch{}a&&e.removeAttribute(o||t)}function Jq(e,t,n,r){e.addEventListener(t,n,r)}function PZ(e,t,n,r){e.removeEventListener(t,n,r)}const VP=Symbol("_vei");function OZ(e,t,n,r,o=null){const s=e[VP]||(e[VP]={}),a=s[t];if(r&&a)a.value=r;else{const[i,l]=RZ(t);if(r){const c=s[t]=DZ(r,o);Jq(e,i,c,l)}else a&&(PZ(e,i,a,l),s[t]=void 0)}}const UP=/(?:Once|Passive|Capture)$/;function RZ(e){let t;if(UP.test(e)){t={};let r;for(;r=e.match(UP);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):rl(e.slice(2)),t]}let Sk=0;const BZ=Promise.resolve(),NZ=()=>Sk||(BZ.then(()=>Sk=0),Sk=Date.now());function DZ(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Za(FZ(r,n.value),t,5,[r])};return n.value=e,n.attached=NZ(),n}function FZ(e,t){if(xt(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>o=>!o._stopped&&r&&r(o))}else return t}const KP=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,qZ=(e,t,n,r,o,s)=>{const a=o==="svg";t==="class"?CZ(e,r,a):t==="style"?EZ(e,n,r):nh(t)?nC(t)||OZ(e,t,n,r,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):zZ(e,t,r,a))?(jP(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&LP(e,t,r,a,s,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Zn(r))?jP(e,rs(t),r,s,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),LP(e,t,r,a))};function zZ(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&KP(t)&&Dt(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return KP(t)&&Zn(n)?!1:t in e}const HP=e=>{const t=e.props["onUpdate:modelValue"]||!1;return xt(t)?n=>ay(t,n):t},$k=Symbol("_assign"),Fd={created(e,{value:t},n){e.checked=Vy(t,n.props.value),e[$k]=HP(n),Jq(e,"change",()=>{e[$k](LZ(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e[$k]=HP(r),t!==n&&(e.checked=Vy(t,r.props.value))}};function LZ(e){return"_value"in e?e._value:e.value}const jZ=["ctrl","shift","alt","meta"],VZ={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>jZ.some(n=>e[`${n}Key`]&&!t.includes(n))},lt=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=((o,...s)=>{for(let a=0;a<t.length;a++){const i=VZ[t[a]];if(i&&i(o,t))return}return e(o,...s)}))},UZ={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},no=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=(o=>{if(!("key"in o))return;const s=rl(o.key);if(t.some(a=>a===s||UZ[a]===s))return e(o)}))},Yq=to({patchProp:qZ},SZ);let Cp,WP=!1;function KZ(){return Cp||(Cp=sZ(Yq))}function HZ(){return Cp=WP?Cp:aZ(Yq),WP=!0,Cp}const WZ=((...e)=>{const t=KZ().createApp(...e),{mount:n}=t;return t.mount=r=>{const o=Xq(r);if(!o)return;const s=t._component;!Dt(s)&&!s.render&&!s.template&&(s.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const a=n(o,!1,Qq(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},t}),GZ=((...e)=>{const t=HZ().createApp(...e),{mount:n}=t;return t.mount=r=>{const o=Xq(r);if(o)return n(o,!0,Qq(o))},t});function Qq(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Xq(e){return Zn(e)?document.querySelector(e):e}function GP(e){return typeof e=="string"?`'${e}'`:new JZ().serialize(e)}const JZ=(function(){class e{#e=new Map;compare(n,r){const o=typeof n,s=typeof r;return o==="string"&&s==="string"?n.localeCompare(r):o==="number"&&s==="number"?n-r:String.prototype.localeCompare.call(this.serialize(n,!0),this.serialize(r,!0))}serialize(n,r){if(n===null)return"null";switch(typeof n){case"string":return r?n:`'${n}'`;case"bigint":return`${n}n`;case"object":return this.$object(n);case"function":return this.$function(n)}return String(n)}serializeObject(n){const r=Object.prototype.toString.call(n);if(r!=="[object Object]")return this.serializeBuiltInType(r.length<10?`unknown:${r}`:r.slice(8,-1),n);const o=n.constructor,s=o===Object||o===void 0?"":o.name;if(s!==""&&globalThis[s]===o)return this.serializeBuiltInType(s,n);if(typeof n.toJSON=="function"){const a=n.toJSON();return s+(a!==null&&typeof a=="object"?this.$object(a):`(${this.serialize(a)})`)}return this.serializeObjectEntries(s,Object.entries(n))}serializeBuiltInType(n,r){const o=this["$"+n];if(o)return o.call(this,r);if(typeof r?.entries=="function")return this.serializeObjectEntries(n,r.entries());throw new Error(`Cannot serialize ${n}`)}serializeObjectEntries(n,r){const o=Array.from(r).sort((a,i)=>this.compare(a[0],i[0]));let s=`${n}{`;for(let a=0;a<o.length;a++){const[i,l]=o[a];s+=`${this.serialize(i,!0)}:${this.serialize(l)}`,a<o.length-1&&(s+=",")}return s+"}"}$object(n){let r=this.#e.get(n);return r===void 0&&(this.#e.set(n,`#${this.#e.size}`),r=this.serializeObject(n),this.#e.set(n,r)),r}$function(n){const r=Function.prototype.toString.call(n);return r.slice(-15)==="[native code] }"?`${n.name||""}()[native]`:`${n.name}(${n.length})${r.replace(/\s*\n\s*/g,"")}`}$Array(n){let r="[";for(let o=0;o<n.length;o++)r+=this.serialize(n[o]),o<n.length-1&&(r+=",");return r+"]"}$Date(n){try{return`Date(${n.toISOString()})`}catch{return"Date(null)"}}$ArrayBuffer(n){return`ArrayBuffer[${new Uint8Array(n).join(",")}]`}$Set(n){return`Set${this.$Array(Array.from(n).sort((r,o)=>this.compare(r,o)))}`}$Map(n){return this.serializeObjectEntries("Map",n.entries())}}for(const t of["Error","RegExp","URL"])e.prototype["$"+t]=function(n){return`${t}(${n})`};for(const t of["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"])e.prototype["$"+t]=function(n){return`${t}[${n.join(",")}]`};for(const t of["BigInt64Array","BigUint64Array"])e.prototype["$"+t]=function(n){return`${t}[${n.join("n,")}${n.length>0?"n":""}]`};return e})();function _a(e,t){return e===t||GP(e)===GP(t)}function cy(e,t,n){const r=e.findIndex(i=>_a(i,t)),o=e.findIndex(i=>_a(i,n));if(r===-1||o===-1)return[];const[s,a]=[r,o].sort((i,l)=>i-l);return e.slice(s,a+1)}function JP(e,t=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY){return Math.min(n,Math.max(t,e))}function Ft(e,t){const n=typeof e=="string"&&!t?`${e}Context`:t,r=Symbol(n);return[a=>{const i=or(r,a);if(i||i===null)return i;throw new Error(`Injection \`${r.toString()}\` not found. Component must be used within ${Array.isArray(e)?`one of the following components: ${e.join(", ")}`:`\`${e}\``}`)},a=>(Mo(r,a),a)]}function Dn(){let e=document.activeElement;if(e==null)return null;for(;e!=null&&e.shadowRoot!=null&&e.shadowRoot.activeElement!=null;)e=e.shadowRoot.activeElement;return e}function ch(e,t,n){const r=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&r.addEventListener(e,t,{once:!0}),r.dispatchEvent(o)}function bc(e){return e==null}function vS(e,t){return bc(e)?!1:Array.isArray(e)?e.some(n=>_a(n,t)):_a(e,t)}function hC(e){return e?e.flatMap(t=>t.type===Ee?hC(t.children):[t]):[]}const YZ=["INPUT","TEXTAREA"];function dh(e,t,n,r={}){if(!t||r.enableIgnoredElement&&YZ.includes(t.nodeName))return null;const{arrowKeyOptions:o="both",attributeName:s="[data-reka-collection-item]",itemsArray:a=[],loop:i=!0,dir:l="ltr",preventScroll:c=!0,focus:u=!1}=r,[d,f,p,m,h,g]=[e.key==="ArrowRight",e.key==="ArrowLeft",e.key==="ArrowUp",e.key==="ArrowDown",e.key==="Home",e.key==="End"],v=p||m,x=d||f;if(!h&&!g&&(!v&&!x||o==="vertical"&&x||o==="horizontal"&&v))return null;const $=n?Array.from(n.querySelectorAll(s)):a;if(!$.length)return null;c&&e.preventDefault();let C=null;return x||v?C=Zq($,t,{goForward:v?m:l==="ltr"?d:f,loop:i}):h?C=$.at(0)||null:g&&(C=$.at(-1)||null),u&&C?.focus(),C}function Zq(e,t,n,r=e.length){if(--r===0)return null;const o=e.indexOf(t),s=n.goForward?o+1:o-1;if(!n.loop&&(s<0||s>=e.length))return null;const a=(s+e.length)%e.length,i=e[a];return i?i.hasAttribute("disabled")&&i.getAttribute("disabled")!=="false"?Zq(e,i,n,r):i:null}const[ez,QZ]=Ft("ConfigProvider");var XZ=le({inheritAttrs:!1,__name:"ConfigProvider",props:{dir:{type:String,required:!1,default:"ltr"},locale:{type:String,required:!1,default:"en"},scrollBody:{type:[Boolean,Object],required:!1,default:!0},nonce:{type:String,required:!1,default:void 0},useId:{type:Function,required:!1,default:void 0}},setup(e){const t=e,{dir:n,locale:r,scrollBody:o,nonce:s}=an(t);return QZ({dir:n,locale:r,scrollBody:o,nonce:s,useId:t.useId}),(a,i)=>U(a.$slots,"default")}}),ZZ=XZ;function eee(e,t){var n;const r=yr();return Cn(()=>{r.value=e()},{...t,flush:(n=void 0)!=null?n:"sync"}),ms(r)}function tee(e,t){let n,r,o;const s=yr(!0),a=()=>{s.value=!0,o()};He(e,a,{flush:"sync"});const i=typeof t=="function"?t:t.get,l=typeof t=="function"?void 0:t.set,c=af((u,d)=>(r=u,o=d,{get(){return s.value&&(n=i(n),s.value=!1),r(),n},set(f){l?.(f)}}));return Object.isExtensible(c)&&(c.trigger=a),c}function Ic(e){return sf()?(oh(e),!0):!1}function Mp(){const e=new Set,t=s=>{e.delete(s)};return{on:s=>{e.add(s);const a=()=>t(s);return Ic(a),{off:a}},off:t,trigger:(...s)=>Promise.all(Array.from(e).map(a=>a(...s))),clear:()=>{e.clear()}}}function nee(e){let t=!1,n;const r=oC(!0);return(...o)=>(t||(n=r.run(()=>e(...o)),t=!0),n)}function tz(e){let t=0,n,r;const o=()=>{t-=1,r&&t<=0&&(r.stop(),n=void 0,r=void 0)};return(...s)=>(t+=1,r||(r=oC(!0),n=r.run(()=>e(...s))),Ic(o),n)}function ree(e){if(!Zt(e))return Pr(e);const t=new Proxy({},{get(n,r,o){return y(Reflect.get(e.value,r,o))},set(n,r,o){return Zt(e.value[r])&&!Zt(o)?e.value[r].value=o:e.value[r]=o,!0},deleteProperty(n,r){return Reflect.deleteProperty(e.value,r)},has(n,r){return Reflect.has(e.value,r)},ownKeys(){return Object.keys(e.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return Pr(t)}function oee(e){return ree(H(e))}function fh(e,...t){const n=t.flat(),r=n[0];return oee(()=>Object.fromEntries(typeof r=="function"?Object.entries(an(e)).filter(([o,s])=>!r(Ot(s),o)):Object.entries(an(e)).filter(o=>!n.includes(o[0]))))}const oa=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const see=e=>typeof e<"u",aee=Object.prototype.toString,iee=e=>aee.call(e)==="[object Object]",Zy=()=>{},YP=lee();function lee(){var e,t;return oa&&((e=window?.navigator)==null?void 0:e.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((t=window?.navigator)==null?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(window?.navigator.userAgent))}function nz(e,t){function n(...r){return new Promise((o,s)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(o).catch(s)})}return n}const rz=e=>e();function uee(e,t={}){let n,r,o=Zy;const s=l=>{clearTimeout(l),o(),o=Zy};let a;return l=>{const c=Ot(e),u=Ot(t.maxWait);return n&&s(n),c<=0||u!==void 0&&u<=0?(r&&(s(r),r=null),Promise.resolve(l())):new Promise((d,f)=>{o=t.rejectOnCancel?f:d,a=l,u&&!r&&(r=setTimeout(()=>{n&&s(n),r=null,d(a())},u)),n=setTimeout(()=>{r&&s(r),r=null,d(l())},c)})}}function cee(e=rz,t={}){const{initialState:n="active"}=t,r=dee(n==="active");function o(){r.value=!1}function s(){r.value=!0}const a=(...i)=>{r.value&&e(...i)};return{isActive:ms(r),pause:o,resume:s,eventFilter:a}}function oz(e){return ir()}function Ck(e){return Array.isArray(e)?e:[e]}function dee(...e){if(e.length!==1)return Nt(...e);const t=e[0];return typeof t=="function"?ms(af(()=>({get:t,set:Zy}))):K(t)}function lf(e,t=1e4){return af((n,r)=>{let o=Ot(e),s;const a=()=>setTimeout(()=>{o=Ot(e),r()},Ot(t));return Ic(()=>{clearTimeout(s)}),{get(){return n(),o},set(i){o=i,r(),clearTimeout(s),s=a()}}})}function fee(e,t=200,n={}){return nz(uee(t,n),e)}function pee(e,t,n={}){const{eventFilter:r=rz,...o}=n;return He(e,nz(r,t),o)}function QP(e,t,n={}){const{eventFilter:r,initialState:o="active",...s}=n,{eventFilter:a,pause:i,resume:l,isActive:c}=cee(r,{initialState:o});return{stop:pee(e,t,{...s,eventFilter:a}),pause:i,resume:l,isActive:c}}function mee(e,t,...[n]){const{flush:r="sync",deep:o=!1,immediate:s=!0,direction:a="both",transform:i={}}=n||{},l=[],c="ltr"in i&&i.ltr||(f=>f),u="rtl"in i&&i.rtl||(f=>f);return(a==="both"||a==="ltr")&&l.push(QP(e,f=>{l.forEach(p=>p.pause()),t.value=c(f),l.forEach(p=>p.resume())},{flush:r,deep:o,immediate:s})),(a==="both"||a==="rtl")&&l.push(QP(t,f=>{l.forEach(p=>p.pause()),e.value=u(f),l.forEach(p=>p.resume())},{flush:r,deep:o,immediate:s})),()=>{l.forEach(f=>f.stop())}}function hee(e,t){oz()&&Tc(e,t)}function gee(e,t=!0,n){oz()?wt(e,n):t?e():St(e)}function gC(e,t,n={}){const{immediate:r=!0,immediateCallback:o=!1}=n,s=yr(!1);let a=null;function i(){a&&(clearTimeout(a),a=null)}function l(){s.value=!1,i()}function c(...u){o&&e(),i(),s.value=!0,a=setTimeout(()=>{s.value=!1,a=null,e(...u)},Ot(t))}return r&&(s.value=!0,oa&&c()),Ic(l),{isPending:ms(s),start:c,stop:l}}function vee(e=1e3,t={}){const{controls:n=!1,callback:r}=t,o=gC(r??Zy,e,t),s=H(()=>!o.isPending.value);return n?{ready:s,...o}:s}function yee(e,t,n){return He(e,t,{...n,immediate:!0})}const ph=oa?window:void 0;function xs(e){var t;const n=Ot(e);return(t=n?.$el)!=null?t:n}function Xi(...e){const t=[],n=()=>{t.forEach(i=>i()),t.length=0},r=(i,l,c,u)=>(i.addEventListener(l,c,u),()=>i.removeEventListener(l,c,u)),o=H(()=>{const i=Ck(Ot(e[0])).filter(l=>l!=null);return i.every(l=>typeof l!="string")?i:void 0}),s=yee(()=>{var i,l;return[(l=(i=o.value)==null?void 0:i.map(c=>xs(c)))!=null?l:[ph].filter(c=>c!=null),Ck(Ot(o.value?e[1]:e[0])),Ck(y(o.value?e[2]:e[1])),Ot(o.value?e[3]:e[2])]},([i,l,c,u])=>{if(n(),!i?.length||!l?.length||!c?.length)return;const d=iee(u)?{...u}:u;t.push(...i.flatMap(f=>l.flatMap(p=>c.map(m=>r(f,p,m,d)))))},{flush:"post"}),a=()=>{s(),n()};return Ic(n),a}function sz(){const e=yr(!1),t=ir();return t&&wt(()=>{e.value=!0},t),e}function bee(e){const t=sz();return H(()=>(t.value,!!e()))}function xee(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function vC(...e){let t,n,r={};e.length===3?(t=e[0],n=e[1],r=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,n=e[0],r=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:o=ph,eventName:s="keydown",passive:a=!1,dedupe:i=!1}=r,l=xee(t);return Xi(o,s,u=>{u.repeat&&Ot(i)||l(u)&&n(u)},a)}function az(e,t={}){const{immediate:n=!0,fpsLimit:r=void 0,window:o=ph,once:s=!1}=t,a=yr(!1),i=H(()=>r?1e3/Ot(r):null);let l=0,c=null;function u(p){if(!a.value||!o)return;l||(l=p);const m=p-l;if(i.value&&m<i.value){c=o.requestAnimationFrame(u);return}if(l=p,e({delta:m,timestamp:p}),s){a.value=!1,c=null;return}c=o.requestAnimationFrame(u)}function d(){!a.value&&o&&(a.value=!0,l=0,c=o.requestAnimationFrame(u))}function f(){a.value=!1,c!=null&&o&&(o.cancelAnimationFrame(c),c=null)}return n&&d(),Ic(f),{isActive:ms(a),pause:f,resume:d}}function wee(e){return JSON.parse(JSON.stringify(e))}function kee(e){const t=ir(),n=tee(()=>null,()=>t.proxy.$el);return vq(n.trigger),wt(n.trigger),n}function qd(e,t,n={}){const{window:r=ph,...o}=n;let s;const a=bee(()=>r&&"ResizeObserver"in r),i=()=>{s&&(s.disconnect(),s=void 0)},l=H(()=>{const d=Ot(e);return Array.isArray(d)?d.map(f=>xs(f)):[xs(d)]}),c=He(l,d=>{if(i(),a.value&&r){s=new ResizeObserver(t);for(const f of d)f&&s.observe(f,o)}},{immediate:!0,flush:"post"}),u=()=>{i(),c()};return Ic(u),{isSupported:a,stop:u}}function _ee(e=kee()){const t=yr(),n=()=>{const r=xs(e);r&&(t.value=r.parentElement)};return gee(n),He(()=>Ot(e),n),t}function bn(e,t,n,r={}){var o,s,a;const{clone:i=!1,passive:l=!1,eventName:c,deep:u=!1,defaultValue:d,shouldEmit:f}=r,p=ir(),m=n||p?.emit||((o=p?.$emit)==null?void 0:o.bind(p))||((a=(s=p?.proxy)==null?void 0:s.$emit)==null?void 0:a.bind(p?.proxy));let h=c;t||(t="modelValue"),h=h||`update:${t.toString()}`;const g=$=>i?typeof i=="function"?i($):wee($):$,v=()=>see(e[t])?g(e[t]):d,x=$=>{f?f($)&&m(h,$):m(h,$)};if(l){const $=v(),C=K($);let M=!1;return He(()=>e[t],I=>{M||(M=!0,C.value=g(I),St(()=>M=!1))}),He(C,I=>{!M&&(I!==e[t]||u)&&x(I)},{deep:u}),C}else return H({get(){return v()},set($){x($)}})}function Mk(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t!==null&&t!==Object.prototype&&Object.getPrototypeOf(t)!==null||Symbol.iterator in e?!1:Symbol.toStringTag in e?Object.prototype.toString.call(e)==="[object Module]":!0}function yS(e,t,n=".",r){if(!Mk(t))return yS(e,{},n,r);const o=Object.assign({},t);for(const s in e){if(s==="__proto__"||s==="constructor")continue;const a=e[s];a!=null&&(r&&r(o,s,a,n)||(Array.isArray(a)&&Array.isArray(o[s])?o[s]=[...a,...o[s]]:Mk(a)&&Mk(o[s])?o[s]=yS(a,o[s],(n?`${n}.`:"")+s.toString(),r):o[s]=a))}return o}function See(e){return(...t)=>t.reduce((n,r)=>yS(n,r,"",e),{})}const sr=See(),$ee=tz(()=>{const e=K(new Map),t=K(),n=H(()=>{for(const a of e.value.values())if(a)return!0;return!1}),r=ez({scrollBody:K(!0)});let o=null;const s=()=>{document.body.style.paddingRight="",document.body.style.marginRight="",document.body.style.pointerEvents="",document.documentElement.style.removeProperty("--scrollbar-width"),document.body.style.overflow=t.value??"",YP&&o?.(),t.value=void 0};return He(n,(a,i)=>{if(!oa)return;if(!a){i&&s();return}t.value===void 0&&(t.value=document.body.style.overflow);const l=window.innerWidth-document.documentElement.clientWidth,c={padding:l,margin:0},u=r.scrollBody?.value?typeof r.scrollBody.value=="object"?sr({padding:r.scrollBody.value.padding===!0?l:r.scrollBody.value.padding,margin:r.scrollBody.value.margin===!0?l:r.scrollBody.value.margin},c):c:{padding:0,margin:0};l>0&&(document.body.style.paddingRight=typeof u.padding=="number"?`${u.padding}px`:String(u.padding),document.body.style.marginRight=typeof u.margin=="number"?`${u.margin}px`:String(u.margin),document.documentElement.style.setProperty("--scrollbar-width",`${l}px`),document.body.style.overflow="hidden"),YP&&(o=Xi(document,"touchmove",d=>Cee(d),{passive:!1})),St(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})},{immediate:!0,flush:"sync"}),e});function mh(e){const t=Math.random().toString(36).substring(2,7),n=$ee();n.value.set(t,e??!1);const r=H({get:()=>n.value.get(t)??!1,set:o=>n.value.set(t,o)});return hee(()=>{n.value.delete(t)}),r}function iz(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientWidth<e.scrollWidth||t.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const n=e.parentNode;return!(n instanceof Element)||n.tagName==="BODY"?!1:iz(n)}}function Cee(e){const t=e||window.event,n=t.target;return n instanceof Element&&iz(n)?!1:t.touches.length>1?!0:(t.preventDefault&&t.cancelable&&t.preventDefault(),!1)}function Ca(e){const t=ez({dir:K("ltr")});return H(()=>e?.value||t.dir?.value||"ltr")}function Pc(e){const t=ir(),n=t?.type.emits,r={};return n?.length||console.warn(`No emitted event found. Please check component: ${t?.type.__name}`),n?.forEach(o=>{r[bp(rs(o))]=(...s)=>e(o,...s)}),r}function lz(e){const t=H(()=>y(e)),n=H(()=>new Intl.Collator("en",{usage:"search",...t.value}));return{startsWith:(a,i)=>i.length===0?!0:(a=a.normalize("NFC"),i=i.normalize("NFC"),n.value.compare(a.slice(0,i.length),i)===0),endsWith:(a,i)=>i.length===0?!0:(a=a.normalize("NFC"),i=i.normalize("NFC"),n.value.compare(a.slice(-i.length),i)===0),contains:(a,i)=>{if(i.length===0)return!0;a=a.normalize("NFC"),i=i.normalize("NFC");let l=0;const c=i.length;for(;l+c<=a.length;l++){const u=a.slice(l,l+c);if(n.value.compare(i,u)===0)return!0}return!1}}}let Ak=0;function yC(){Cn(e=>{if(!oa)return;const t=document.querySelectorAll("[data-reka-focus-guard]");document.body.insertAdjacentElement("afterbegin",t[0]??XP()),document.body.insertAdjacentElement("beforeend",t[1]??XP()),Ak++,e(()=>{Ak===1&&document.querySelectorAll("[data-reka-focus-guard]").forEach(n=>n.remove()),Ak--})})}function XP(){const e=document.createElement("span");return e.setAttribute("data-reka-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}function uf(e){return H(()=>Ot(e)?!!xs(e)?.closest("form"):!0)}function Fe(){const e=ir(),t=K(),n=H(()=>["#text","#comment"].includes(t.value?.$el.nodeName)?t.value?.$el.nextElementSibling:xs(t)),r=Object.assign({},e.exposed),o={};for(const a in e.props)Object.defineProperty(o,a,{enumerable:!0,configurable:!0,get:()=>e.props[a]});if(Object.keys(r).length>0)for(const a in r)Object.defineProperty(o,a,{enumerable:!0,configurable:!0,get:()=>r[a]});Object.defineProperty(o,"$el",{enumerable:!0,configurable:!0,get:()=>e.vnode.el}),e.exposed=o;function s(a){t.value=a,a&&(Object.defineProperty(o,"$el",{enumerable:!0,configurable:!0,get:()=>a instanceof Element?a:a.$el}),e.exposed=o)}return{forwardRef:s,currentRef:t,currentElement:n}}function jn(e){const t=ir(),n=Object.keys(t?.type.props??{}).reduce((o,s)=>{const a=(t?.type.props[s]).default;return a!==void 0&&(o[s]=a),o},{}),r=Nt(e);return H(()=>{const o={},s=t?.vnode.props??{};return Object.keys(s).forEach(a=>{o[rs(a)]=s[a]}),Object.keys({...n,...o}).reduce((a,i)=>(r.value[i]!==void 0&&(a[i]=r.value[i]),a),{})})}function fn(e,t){const n=jn(e),r=t?Pc(t):{};return H(()=>({...n.value,...r}))}function uz(e,t){const n=lf(!1,300),r=K(null),o=Mp();function s(){r.value=null,n.value=!1}function a(i,l){const c=i.currentTarget,u={x:i.clientX,y:i.clientY},d=Mee(u,c.getBoundingClientRect()),f=Aee(u,d),p=Tee(l.getBoundingClientRect()),m=Iee([...f,...p]);r.value=m,n.value=!0}return Cn(i=>{if(e.value&&t.value){const l=u=>a(u,t.value),c=u=>a(u,e.value);e.value.addEventListener("pointerleave",l),t.value.addEventListener("pointerleave",c),i(()=>{e.value?.removeEventListener("pointerleave",l),t.value?.removeEventListener("pointerleave",c)})}}),Cn(i=>{if(r.value){const l=c=>{if(!r.value||!(c.target instanceof Element))return;const u=c.target,d={x:c.clientX,y:c.clientY},f=e.value?.contains(u)||t.value?.contains(u),p=!Eee(d,r.value),m=!!u.closest("[data-grace-area-trigger]");f?s():(p||m)&&(s(),o.trigger())};e.value?.ownerDocument.addEventListener("pointermove",l),i(()=>e.value?.ownerDocument.removeEventListener("pointermove",l))}}),{isPointerInTransit:n,onPointerExit:o.on}}function Mee(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(n,r,o,s)){case s:return"left";case o:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Aee(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function Tee(e){const{top:t,right:n,bottom:r,left:o}=e;return[{x:o,y:t},{x:n,y:t},{x:n,y:r},{x:o,y:r}]}function Eee(e,t){const{x:n,y:r}=e;let o=!1;for(let s=0,a=t.length-1;s<t.length;a=s++){const i=t[s].x,l=t[s].y,c=t[a].x,u=t[a].y;l>r!=u>r&&n<(c-i)*(r-l)/(u-l)+i&&(o=!o)}return o}function Iee(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Pee(t)}function Pee(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const o=e[r];for(;t.length>=2;){const s=t[t.length-1],a=t[t.length-2];if((s.x-a.x)*(o.y-a.y)>=(s.y-a.y)*(o.x-a.x))t.pop();else break}t.push(o)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const o=e[r];for(;n.length>=2;){const s=n[n.length-1],a=n[n.length-2];if((s.x-a.x)*(o.y-a.y)>=(s.y-a.y)*(o.x-a.x))n.pop();else break}n.push(o)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Oee=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},dd=new WeakMap,Ug=new WeakMap,Kg={},Tk=0,cz=function(e){return e&&(e.host||cz(e.parentNode))},Ree=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=cz(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Bee=function(e,t,n,r){var o=Ree(t,Array.isArray(e)?e:[e]);Kg[n]||(Kg[n]=new WeakMap);var s=Kg[n],a=[],i=new Set,l=new Set(o),c=function(d){!d||i.has(d)||(i.add(d),c(d.parentNode))};o.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(f){if(i.has(f))u(f);else try{var p=f.getAttribute(r),m=p!==null&&p!=="false",h=(dd.get(f)||0)+1,g=(s.get(f)||0)+1;dd.set(f,h),s.set(f,g),a.push(f),h===1&&m&&Ug.set(f,!0),g===1&&f.setAttribute(n,"true"),m||f.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",f,v)}})};return u(t),i.clear(),Tk++,function(){a.forEach(function(d){var f=dd.get(d)-1,p=s.get(d)-1;dd.set(d,f),s.set(d,p),f||(Ug.has(d)||d.removeAttribute(r),Ug.delete(d)),p||d.removeAttribute(n)}),Tk--,Tk||(dd=new WeakMap,dd=new WeakMap,Ug=new WeakMap,Kg={})}},Nee=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=Oee(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live], script"))),Bee(r,o,n,"aria-hidden")):function(){return null}};function hh(e){let t;He(()=>xs(e),n=>{n?t=Nee(n):t&&t()}),ar(()=>{t&&t()})}function In(e,t="reka"){return e||`${t}-${ol?.()}`}function dz(){return{ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",SPACE_CODE:"Space"}}function Dee(e){const t=K(),n=H(()=>t.value?.width??0),r=H(()=>t.value?.height??0);return wt(()=>{const o=xs(e);if(o){t.value={width:o.offsetWidth,height:o.offsetHeight};const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let l,c;if("borderBoxSize"in i){const u=i.borderBoxSize,d=Array.isArray(u)?u[0]:u;l=d.inlineSize,c=d.blockSize}else l=o.offsetWidth,c=o.offsetHeight;t.value={width:l,height:c}});return s.observe(o,{box:"border-box"}),()=>s.unobserve(o)}else t.value=void 0}),{width:n,height:r}}function Fee(e,t){const n=K(e);function r(s){return t[n.value][s]??n.value}return{state:n,dispatch:s=>{n.value=r(s)}}}function dx(e){const t=lf("",1e3);return{search:t,handleTypeaheadSearch:(o,s)=>{t.value=t.value+o;{const a=Dn(),i=s.map(f=>({...f,textValue:f.value?.textValue??f.ref.textContent?.trim()??""})),l=i.find(f=>f.ref===a),c=i.map(f=>f.textValue),u=fz(c,t.value,l?.textValue),d=i.find(f=>f.textValue===u);return d&&d.ref.focus(),d?.ref}},resetTypeahead:()=>{t.value=""}}}function qee(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function fz(e,t,n){const o=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let a=qee(e,Math.max(s,0));o.length===1&&(a=a.filter(c=>c!==n));const l=a.find(c=>c.toLowerCase().startsWith(o.toLowerCase()));return l!==n?l:void 0}function zee(e,t){const n=K({}),r=K("none"),o=K(e),s=e.value?"mounted":"unmounted";let a;const i=t.value?.ownerDocument.defaultView??ph,{state:l,dispatch:c}=Fee(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}}),u=g=>{if(oa){const v=new CustomEvent(g,{bubbles:!1,cancelable:!1});t.value?.dispatchEvent(v)}};He(e,async(g,v)=>{const x=v!==g;if(await St(),x){const $=r.value,C=Hg(t.value);g?(c("MOUNT"),u("enter"),C==="none"&&u("after-enter")):C==="none"||C==="undefined"||n.value?.display==="none"?(c("UNMOUNT"),u("leave"),u("after-leave")):v&&$!==C?(c("ANIMATION_OUT"),u("leave")):(c("UNMOUNT"),u("after-leave"))}},{immediate:!0});const d=g=>{const v=Hg(t.value),x=v.includes(CSS.escape(g.animationName)),$=l.value==="mounted"?"enter":"leave";if(g.target===t.value&&x&&(u(`after-${$}`),c("ANIMATION_END"),!o.value)){const C=t.value.style.animationFillMode;t.value.style.animationFillMode="forwards",a=i?.setTimeout(()=>{t.value?.style.animationFillMode==="forwards"&&(t.value.style.animationFillMode=C)})}g.target===t.value&&v==="none"&&c("ANIMATION_END")},f=g=>{g.target===t.value&&(r.value=Hg(t.value))},p=He(t,(g,v)=>{g?(n.value=getComputedStyle(g),g.addEventListener("animationstart",f),g.addEventListener("animationcancel",d),g.addEventListener("animationend",d)):(c("ANIMATION_END"),a!==void 0&&i?.clearTimeout(a),v?.removeEventListener("animationstart",f),v?.removeEventListener("animationcancel",d),v?.removeEventListener("animationend",d))},{immediate:!0}),m=He(l,()=>{const g=Hg(t.value);r.value=l.value==="mounted"?g:"none"});return ar(()=>{p(),m()}),{isPresent:H(()=>["mounted","unmountSuspended"].includes(l.value))}}function Hg(e){return e&&getComputedStyle(e).animationName||"none"}var Dr=le({name:"Presence",props:{present:{type:Boolean,required:!0},forceMount:{type:Boolean}},slots:{},setup(e,{slots:t,expose:n}){const{present:r,forceMount:o}=an(e),s=K(),{isPresent:a}=zee(r,s);n({present:a});let i=t.default({present:a.value});i=hC(i||[]);const l=ir();if(i&&i?.length>1){const c=l?.parent?.type.name?`<${l.parent.type.name} />`:"component";throw new Error([`Detected an invalid children for \`${c}\` for  \`Presence\` component.`,"","Note: Presence works similarly to `v-if` directly, but it waits for animation/transition to finished before unmounting. So it expect only one direct child of valid VNode type.","You can apply a few solutions:",["Provide a single child element so that `presence` directive attach correctly.","Ensure the first child is an actual element instead of a raw text node or comment node."].map(u=>`  - ${u}`).join(`
`)].join(`
`))}return()=>o.value||r.value||a.value?Or(t.default({present:a.value})[0],{ref:c=>{const u=xs(c);return typeof u?.hasAttribute>"u"||(u?.hasAttribute("data-reka-popper-content-wrapper")?s.value=u.firstElementChild:s.value=u),u}}):null}});const Yp=le({name:"PrimitiveSlot",inheritAttrs:!1,setup(e,{attrs:t,slots:n}){return()=>{if(!n.default)return null;const r=hC(n.default()),o=r.findIndex(l=>l.type!==ra);if(o===-1)return r;const s=r[o];delete s.props?.ref;const a=s.props?oe(t,s.props):t,i=Wl({...s,props:{}},a);return r.length===1?i:(r[o]=i,r)}}}),Lee=["area","img","input"],Le=le({name:"Primitive",inheritAttrs:!1,props:{asChild:{type:Boolean,default:!1},as:{type:[String,Object],default:"div"}},setup(e,{attrs:t,slots:n}){const r=e.asChild?"template":e.as;return typeof r=="string"&&Lee.includes(r)?()=>Or(r,t):r!=="template"?()=>Or(e.as,t,{default:n.default}):()=>Or(Yp,t,{default:n.default})}});function Gl(){const e=K(),t=H(()=>["#text","#comment"].includes(e.value?.$el.nodeName)?e.value?.$el.nextElementSibling:xs(e));return{primitiveElement:e,currentElement:t}}const[pz,jee]=Ft("CollapsibleRoot");var Vee=le({__name:"CollapsibleRoot",props:{defaultOpen:{type:Boolean,required:!1,default:!1},open:{type:Boolean,required:!1,default:void 0},disabled:{type:Boolean,required:!1},unmountOnHide:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["update:open"],setup(e,{expose:t,emit:n}){const r=e,s=bn(r,"open",n,{defaultValue:r.defaultOpen,passive:r.open===void 0}),{disabled:a,unmountOnHide:i}=an(r);return jee({contentId:"",disabled:a,open:s,unmountOnHide:i,onOpenToggle:()=>{a.value||(s.value=!s.value)}}),t({open:s}),Fe(),(l,c)=>(A(),B(y(Le),{as:l.as,"as-child":r.asChild,"data-state":y(s)?"open":"closed","data-disabled":y(a)?"":void 0},{default:S(()=>[U(l.$slots,"default",{open:y(s)})]),_:3},8,["as","as-child","data-state","data-disabled"]))}}),Uee=Vee,Kee=le({inheritAttrs:!1,__name:"CollapsibleContent",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["contentFound"],setup(e,{emit:t}){const n=e,r=t,o=pz();o.contentId||=In(void 0,"reka-collapsible-content");const s=K(),{forwardRef:a,currentElement:i}=Fe(),l=K(0),c=K(0),u=H(()=>o.open.value),d=K(u.value),f=K();He(()=>[u.value,s.value?.present],async()=>{await St();const m=i.value;if(!m)return;f.value=f.value||{transitionDuration:m.style.transitionDuration,animationName:m.style.animationName},m.style.transitionDuration="0s",m.style.animationName="none";const h=m.getBoundingClientRect();c.value=h.height,l.value=h.width,d.value||(m.style.transitionDuration=f.value.transitionDuration,m.style.animationName=f.value.animationName)},{immediate:!0});const p=H(()=>d.value&&o.open.value);return wt(()=>{requestAnimationFrame(()=>{d.value=!1})}),Xi(i,"beforematch",m=>{requestAnimationFrame(()=>{o.onOpenToggle(),r("contentFound")})}),(m,h)=>(A(),B(y(Dr),{ref_key:"presentRef",ref:s,present:m.forceMount||y(o).open.value,"force-mount":!0},{default:S(({present:g})=>[_(y(Le),oe(m.$attrs,{id:y(o).contentId,ref:y(a),"as-child":n.asChild,as:m.as,hidden:g?void 0:y(o).unmountOnHide.value?"":"until-found","data-state":p.value?void 0:y(o).open.value?"open":"closed","data-disabled":y(o).disabled?.value?"":void 0,style:{"--reka-collapsible-content-height":`${c.value}px`,"--reka-collapsible-content-width":`${l.value}px`}}),{default:S(()=>[!y(o).unmountOnHide.value||g?U(m.$slots,"default",{key:0}):X("v-if",!0)]),_:2},1040,["id","as-child","as","hidden","data-state","data-disabled","style"])]),_:3},8,["present"]))}}),Hee=Kee,Wee=le({__name:"CollapsibleTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const t=e;Fe();const n=pz();return(r,o)=>(A(),B(y(Le),{type:r.as==="button"?"button":void 0,as:r.as,"as-child":t.asChild,"aria-controls":y(n).contentId,"aria-expanded":y(n).open.value,"data-state":y(n).open.value?"open":"closed","data-disabled":y(n).disabled?.value?"":void 0,disabled:y(n).disabled?.value,onClick:y(n).onOpenToggle},{default:S(()=>[U(r.$slots,"default")]),_:3},8,["type","as","as-child","aria-controls","aria-expanded","data-state","data-disabled","disabled","onClick"]))}}),Gee=Wee;function Jee({type:e,defaultValue:t,modelValue:n}){const r=n||t;return n!==void 0||t!==void 0?Array.isArray(r)?"multiple":"single":e??"single"}function Yee({type:e,defaultValue:t,modelValue:n}){return e||Jee({type:e,defaultValue:t,modelValue:n})}function Qee({type:e,defaultValue:t}){return t!==void 0?t:e==="single"?void 0:[]}function Xee(e,t){const n=H(()=>Yee(e)),r=bn(e,"modelValue",t,{defaultValue:Qee(e),passive:e.modelValue===void 0,deep:!0});function o(a){if(n.value==="single")r.value=_a(a,r.value)?void 0:a;else{const i=Array.isArray(r.value)?[...r.value||[]]:[r.value].filter(Boolean);if(vS(i,a)){const l=i.findIndex(c=>_a(c,a));i.splice(l,1)}else i.push(a);r.value=i}}const s=H(()=>n.value==="single");return{modelValue:r,changeModelValue:o,isSingle:s}}const[bC,Zee]=Ft("AccordionRoot");var ete=le({__name:"AccordionRoot",props:{collapsible:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1},dir:{type:String,required:!1},orientation:{type:String,required:!1,default:"vertical"},unmountOnHide:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},type:{type:String,required:!1},modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,r=t,{dir:o,disabled:s,unmountOnHide:a}=an(n),i=Ca(o),{modelValue:l,changeModelValue:c,isSingle:u}=Xee(n,r),{forwardRef:d,currentElement:f}=Fe();return Zee({disabled:s,direction:i,orientation:n.orientation,parentElement:f,isSingle:u,collapsible:n.collapsible,modelValue:l,changeModelValue:c,unmountOnHide:a}),(p,m)=>(A(),B(y(Le),{ref:y(d),"as-child":p.asChild,as:p.as},{default:S(()=>[U(p.$slots,"default",{modelValue:y(l)})]),_:3},8,["as-child","as"]))}}),ZP=ete,bS=(function(e){return e.Open="open",e.Closed="closed",e})(bS||{});const[mz,tte]=Ft("AccordionItem");var nte=le({__name:"AccordionItem",props:{disabled:{type:Boolean,required:!1},value:{type:String,required:!0},unmountOnHide:{type:Boolean,required:!1,default:void 0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e,{expose:t}){const n=e,r=bC(),o=H(()=>r.isSingle.value?n.value===r.modelValue.value:Array.isArray(r.modelValue.value)&&r.modelValue.value.includes(n.value)),s=H(()=>r.disabled.value||n.disabled),a=H(()=>s.value?"":void 0),i=H(()=>o.value?bS.Open:bS.Closed);t({open:o,dataDisabled:a});const{currentRef:l,currentElement:c}=Fe();tte({open:o,dataState:i,disabled:s,dataDisabled:a,triggerId:"",currentRef:l,currentElement:c,value:H(()=>n.value)});function u(d){const f=d.target;if(Array.from(r.parentElement.value?.querySelectorAll("[data-reka-collection-item]")??[]).findIndex(h=>h===f)===-1)return null;dh(d,f,r.parentElement.value,{arrowKeyOptions:r.orientation,dir:r.direction.value,focus:!0})}return(d,f)=>(A(),B(y(Uee),{"data-orientation":y(r).orientation,"data-disabled":a.value,"data-state":i.value,disabled:s.value,open:o.value,as:n.as,"as-child":n.asChild,"unmount-on-hide":n.unmountOnHide??y(r).unmountOnHide.value,onKeydown:no(u,["up","down","left","right","home","end"])},{default:S(()=>[U(d.$slots,"default",{open:o.value})]),_:3},8,["data-orientation","data-disabled","data-state","disabled","open","as","as-child","unmount-on-hide"]))}}),rte=nte,ote=le({__name:"AccordionContent",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e,n=bC(),r=mz();return Fe(),(o,s)=>(A(),B(y(Hee),{role:"region","as-child":t.asChild,as:o.as,"force-mount":t.forceMount,"aria-labelledby":y(r).triggerId,"data-state":y(r).dataState.value,"data-disabled":y(r).dataDisabled.value,"data-orientation":y(n).orientation,style:{"--reka-accordion-content-width":"var(--reka-collapsible-content-width)","--reka-accordion-content-height":"var(--reka-collapsible-content-height)"},onContentFound:s[0]||(s[0]=a=>y(n).changeModelValue(y(r).value.value))},{default:S(()=>[U(o.$slots,"default")]),_:3},8,["as-child","as","force-mount","aria-labelledby","data-state","data-disabled","data-orientation"]))}}),ste=ote,ate=le({__name:"AccordionTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e,n=bC(),r=mz();r.triggerId||=In(void 0,"reka-accordion-trigger");function o(){const s=n.isSingle.value&&r.open.value&&!n.collapsible;r.disabled.value||s||n.changeModelValue(r.value.value)}return(s,a)=>(A(),B(y(Gee),{id:y(r).triggerId,ref:y(r).currentRef,"data-reka-collection-item":"",as:t.as,"as-child":t.asChild,"aria-disabled":y(r).disabled.value||void 0,"aria-expanded":y(r).open.value||!1,"data-disabled":y(r).dataDisabled.value,"data-orientation":y(n).orientation,"data-state":y(r).dataState.value,disabled:y(r).disabled.value,onClick:o},{default:S(()=>[U(s.$slots,"default")]),_:3},8,["id","as","as-child","aria-disabled","aria-expanded","data-disabled","data-orientation","data-state","disabled"]))}}),e2=ate;const[oi,ite]=Ft("DialogRoot");var lte=le({inheritAttrs:!1,__name:"DialogRoot",props:{open:{type:Boolean,required:!1,default:void 0},defaultOpen:{type:Boolean,required:!1,default:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(e,{emit:t}){const n=e,o=bn(n,"open",t,{defaultValue:n.defaultOpen,passive:n.open===void 0}),s=K(),a=K(),{modal:i}=an(n);return ite({open:o,modal:i,openModal:()=>{o.value=!0},onOpenChange:l=>{o.value=l},onOpenToggle:()=>{o.value=!o.value},contentId:"",titleId:"",descriptionId:"",triggerElement:s,contentElement:a}),(l,c)=>U(l.$slots,"default",{open:y(o),close:()=>o.value=!1})}}),xC=lte,ute=le({__name:"DialogClose",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const t=e;Fe();const n=oi();return(r,o)=>(A(),B(y(Le),oe(t,{type:r.as==="button"?"button":void 0,onClick:o[0]||(o[0]=s=>y(n).onOpenChange(!1))}),{default:S(()=>[U(r.$slots,"default")]),_:3},16,["type"]))}}),hz=ute;const cte="dismissableLayer.pointerDownOutside",dte="dismissableLayer.focusOutside";function gz(e,t){const n=t.closest("[data-dismissable-layer]"),r=e.dataset.dismissableLayer===""?e:e.querySelector("[data-dismissable-layer]"),o=Array.from(e.ownerDocument.querySelectorAll("[data-dismissable-layer]"));return!!(n&&(r===n||o.indexOf(r)<o.indexOf(n)))}function fte(e,t,n=!0){const r=t?.value?.ownerDocument??globalThis?.document,o=K(!1),s=K(()=>{});return Cn(a=>{if(!oa||!Ot(n))return;const i=async c=>{const u=c.target;if(!(!t?.value||!u)){if(gz(t.value,u)){o.value=!1;return}if(c.target&&!o.value){let f=function(){ch(cte,e,d)};const d={originalEvent:c};c.pointerType==="touch"?(r.removeEventListener("click",s.value),s.value=f,r.addEventListener("click",s.value,{once:!0})):f()}else r.removeEventListener("click",s.value);o.value=!1}},l=window.setTimeout(()=>{r.addEventListener("pointerdown",i)},0);a(()=>{window.clearTimeout(l),r.removeEventListener("pointerdown",i),r.removeEventListener("click",s.value)})}),{onPointerDownCapture:()=>{Ot(n)&&(o.value=!0)}}}function pte(e,t,n=!0){const r=t?.value?.ownerDocument??globalThis?.document,o=K(!1);return Cn(s=>{if(!oa||!Ot(n))return;const a=async i=>{if(!t?.value)return;await St(),await St();const l=i.target;!t.value||!l||gz(t.value,l)||i.target&&!o.value&&ch(dte,e,{originalEvent:i})};r.addEventListener("focusin",a),s(()=>r.removeEventListener("focusin",a))}),{onFocusCapture:()=>{Ot(n)&&(o.value=!0)},onBlurCapture:()=>{Ot(n)&&(o.value=!1)}}}const ha=Pr({layersRoot:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set});var mte=le({__name:"DismissableLayer",props:{disableOutsidePointerEvents:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","dismiss"],setup(e,{emit:t}){const n=e,r=t,{forwardRef:o,currentElement:s}=Fe(),a=H(()=>s.value?.ownerDocument??globalThis.document),i=H(()=>ha.layersRoot),l=H(()=>s.value?Array.from(i.value).indexOf(s.value):-1),c=H(()=>ha.layersWithOutsidePointerEventsDisabled.size>0),u=H(()=>{const m=Array.from(i.value),[h]=[...ha.layersWithOutsidePointerEventsDisabled].slice(-1),g=m.indexOf(h);return l.value>=g}),d=fte(async m=>{const h=[...ha.branches].some(g=>g?.contains(m.target));!u.value||h||(r("pointerDownOutside",m),r("interactOutside",m),await St(),m.defaultPrevented||r("dismiss"))},s),f=pte(m=>{[...ha.branches].some(g=>g?.contains(m.target))||(r("focusOutside",m),r("interactOutside",m),m.defaultPrevented||r("dismiss"))},s);vC("Escape",m=>{l.value===i.value.size-1&&(r("escapeKeyDown",m),m.defaultPrevented||r("dismiss"))});let p;return Cn(m=>{s.value&&(n.disableOutsidePointerEvents&&(ha.layersWithOutsidePointerEventsDisabled.size===0&&(p=a.value.body.style.pointerEvents,a.value.body.style.pointerEvents="none"),ha.layersWithOutsidePointerEventsDisabled.add(s.value)),i.value.add(s.value),m(()=>{n.disableOutsidePointerEvents&&ha.layersWithOutsidePointerEventsDisabled.size===1&&(a.value.body.style.pointerEvents=p)}))}),Cn(m=>{m(()=>{s.value&&(i.value.delete(s.value),ha.layersWithOutsidePointerEventsDisabled.delete(s.value))})}),(m,h)=>(A(),B(y(Le),{ref:y(o),"as-child":m.asChild,as:m.as,"data-dismissable-layer":"",style:Un({pointerEvents:c.value?u.value?"auto":"none":void 0}),onFocusCapture:y(f).onFocusCapture,onBlurCapture:y(f).onBlurCapture,onPointerdownCapture:y(d).onPointerDownCapture},{default:S(()=>[U(m.$slots,"default")]),_:3},8,["as-child","as","style","onFocusCapture","onBlurCapture","onPointerdownCapture"]))}}),tu=mte,hte=le({__name:"DismissableLayerBranch",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e,{forwardRef:n,currentElement:r}=Fe();return wt(()=>{ha.branches.add(r.value)}),ar(()=>{ha.branches.delete(r.value)}),(o,s)=>(A(),B(y(Le),oe({ref:y(n)},t),{default:S(()=>[U(o.$slots,"default")]),_:3},16))}}),gte=hte;const vte=nee(()=>K([]));function yte(){const e=vte();return{add(t){const n=e.value[0];t!==n&&n?.pause(),e.value=t2(e.value,t),e.value.unshift(t)},remove(t){e.value=t2(e.value,t),e.value[0]?.resume()}}}function t2(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function bte(e){return e.filter(t=>t.tagName!=="A")}const Ek="focusScope.autoFocusOnMount",Ik="focusScope.autoFocusOnUnmount",n2={bubbles:!1,cancelable:!0};function dy(e,{select:t=!1}={}){const n=Dn();for(const r of e)if(Cl(r,{select:t}),Dn()!==n)return!0}function xte(e){const t=wC(e),n=r2(t,e),r=r2(t.reverse(),e);return[n,r]}function wC(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function r2(e,t){for(const n of e)if(!wte(n,{upTo:t}))return n}function wte(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function kte(e){return e instanceof HTMLInputElement&&"select"in e}function Cl(e,{select:t=!1}={}){if(e&&e.focus){const n=Dn();e.focus({preventScroll:!0}),e!==n&&kte(e)&&t&&e.select()}}var _te=le({__name:"FocusScope",props:{loop:{type:Boolean,required:!1,default:!1},trapped:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["mountAutoFocus","unmountAutoFocus"],setup(e,{emit:t}){const n=e,r=t,{currentRef:o,currentElement:s}=Fe(),a=K(null),i=yte(),l=Pr({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});Cn(u=>{if(!oa)return;const d=s.value;if(!n.trapped)return;function f(g){if(l.paused||!d)return;const v=g.target;d.contains(v)?a.value=v:Cl(a.value,{select:!0})}function p(g){if(l.paused||!d)return;const v=g.relatedTarget;v!==null&&(d.contains(v)||Cl(a.value,{select:!0}))}function m(g){d.contains(a.value)||Cl(d)}document.addEventListener("focusin",f),document.addEventListener("focusout",p);const h=new MutationObserver(m);d&&h.observe(d,{childList:!0,subtree:!0}),u(()=>{document.removeEventListener("focusin",f),document.removeEventListener("focusout",p),h.disconnect()})}),Cn(async u=>{const d=s.value;if(await St(),!d)return;i.add(l);const f=Dn();if(!d.contains(f)){const m=new CustomEvent(Ek,n2);d.addEventListener(Ek,h=>r("mountAutoFocus",h)),d.dispatchEvent(m),m.defaultPrevented||(dy(bte(wC(d)),{select:!0}),Dn()===f&&Cl(d))}u(()=>{d.removeEventListener(Ek,g=>r("mountAutoFocus",g));const m=new CustomEvent(Ik,n2),h=g=>{r("unmountAutoFocus",g)};d.addEventListener(Ik,h),d.dispatchEvent(m),setTimeout(()=>{m.defaultPrevented||Cl(f??document.body,{select:!0}),d.removeEventListener(Ik,h),i.remove(l)},0)})});function c(u){if(!n.loop&&!n.trapped||l.paused)return;const d=u.key==="Tab"&&!u.altKey&&!u.ctrlKey&&!u.metaKey,f=Dn();if(d&&f){const p=u.currentTarget,[m,h]=xte(p);m&&h?!u.shiftKey&&f===h?(u.preventDefault(),n.loop&&Cl(m,{select:!0})):u.shiftKey&&f===m&&(u.preventDefault(),n.loop&&Cl(h,{select:!0})):f===p&&u.preventDefault()}}return(u,d)=>(A(),B(y(Le),{ref_key:"currentRef",ref:o,tabindex:"-1","as-child":u.asChild,as:u.as,onKeydown:c},{default:S(()=>[U(u.$slots,"default")]),_:3},8,["as-child","as"]))}}),gh=_te;const Ste="menu.itemSelect",xS=["Enter"," "],$te=["ArrowDown","PageUp","Home"],vz=["ArrowUp","PageDown","End"],Cte=[...$te,...vz],Mte={ltr:[...xS,"ArrowRight"],rtl:[...xS,"ArrowLeft"]},Ate={ltr:["ArrowLeft"],rtl:["ArrowRight"]};function kC(e){return e?"open":"closed"}function eb(e){return e==="indeterminate"}function _C(e){return eb(e)?"indeterminate":e?"checked":"unchecked"}function wS(e){const t=Dn();for(const n of e)if(n===t||(n.focus(),Dn()!==t))return}function Tte(e,t){const{x:n,y:r}=e;let o=!1;for(let s=0,a=t.length-1;s<t.length;a=s++){const i=t[s].x,l=t[s].y,c=t[a].x,u=t[a].y;l>r!=u>r&&n<(c-i)*(r-l)/(u-l)+i&&(o=!o)}return o}function Ete(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return Tte(n,t)}function Qp(e){return e.pointerType==="mouse"}var Ite=le({__name:"DialogContentImpl",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const n=e,r=t,o=oi(),{forwardRef:s,currentElement:a}=Fe();return o.titleId||=In(void 0,"reka-dialog-title"),o.descriptionId||=In(void 0,"reka-dialog-description"),wt(()=>{o.contentElement=a,Dn()!==document.body&&(o.triggerElement.value=Dn())}),(i,l)=>(A(),B(y(gh),{"as-child":"",loop:"",trapped:n.trapFocus,onMountAutoFocus:l[5]||(l[5]=c=>r("openAutoFocus",c)),onUnmountAutoFocus:l[6]||(l[6]=c=>r("closeAutoFocus",c))},{default:S(()=>[_(y(tu),oe({id:y(o).contentId,ref:y(s),as:i.as,"as-child":i.asChild,"disable-outside-pointer-events":i.disableOutsidePointerEvents,role:"dialog","aria-describedby":y(o).descriptionId,"aria-labelledby":y(o).titleId,"data-state":y(kC)(y(o).open.value)},i.$attrs,{onDismiss:l[0]||(l[0]=c=>y(o).onOpenChange(!1)),onEscapeKeyDown:l[1]||(l[1]=c=>r("escapeKeyDown",c)),onFocusOutside:l[2]||(l[2]=c=>r("focusOutside",c)),onInteractOutside:l[3]||(l[3]=c=>r("interactOutside",c)),onPointerDownOutside:l[4]||(l[4]=c=>r("pointerDownOutside",c))}),{default:S(()=>[U(i.$slots,"default")]),_:3},16,["id","as","as-child","disable-outside-pointer-events","aria-describedby","aria-labelledby","data-state"])]),_:3},8,["trapped"]))}}),yz=Ite,Pte=le({__name:"DialogContentModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const n=e,r=t,o=oi(),s=Pc(r),{forwardRef:a,currentElement:i}=Fe();return hh(i),(l,c)=>(A(),B(yz,oe({...n,...y(s)},{ref:y(a),"trap-focus":y(o).open.value,"disable-outside-pointer-events":!0,onCloseAutoFocus:c[0]||(c[0]=u=>{u.defaultPrevented||(u.preventDefault(),y(o).triggerElement.value?.focus())}),onPointerDownOutside:c[1]||(c[1]=u=>{const d=u.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0;(d.button===2||f)&&u.preventDefault()}),onFocusOutside:c[2]||(c[2]=u=>{u.preventDefault()})}),{default:S(()=>[U(l.$slots,"default")]),_:3},16,["trap-focus"]))}}),Ote=Pte,Rte=le({__name:"DialogContentNonModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const n=e,o=Pc(t);Fe();const s=oi(),a=K(!1),i=K(!1);return(l,c)=>(A(),B(yz,oe({...n,...y(o)},{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:c[0]||(c[0]=u=>{u.defaultPrevented||(a.value||y(s).triggerElement.value?.focus(),u.preventDefault()),a.value=!1,i.value=!1}),onInteractOutside:c[1]||(c[1]=u=>{u.defaultPrevented||(a.value=!0,u.detail.originalEvent.type==="pointerdown"&&(i.value=!0));const d=u.target;y(s).triggerElement.value?.contains(d)&&u.preventDefault(),u.detail.originalEvent.type==="focusin"&&i.value&&u.preventDefault()})}),{default:S(()=>[U(l.$slots,"default")]),_:3},16))}}),Bte=Rte,Nte=le({__name:"DialogContent",props:{forceMount:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const n=e,r=t,o=oi(),s=Pc(r),{forwardRef:a}=Fe();return(i,l)=>(A(),B(y(Dr),{present:i.forceMount||y(o).open.value},{default:S(()=>[y(o).modal.value?(A(),B(Ote,oe({key:0,ref:y(a)},{...n,...y(s),...i.$attrs}),{default:S(()=>[U(i.$slots,"default")]),_:3},16)):(A(),B(Bte,oe({key:1,ref:y(a)},{...n,...y(s),...i.$attrs}),{default:S(()=>[U(i.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),SC=Nte,Dte=le({__name:"DialogDescription",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"p"}},setup(e){const t=e;Fe();const n=oi();return(r,o)=>(A(),B(y(Le),oe(t,{id:y(n).descriptionId}),{default:S(()=>[U(r.$slots,"default")]),_:3},16,["id"]))}}),zd=Dte,Fte=le({__name:"DialogOverlayImpl",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=oi();return mh(!0),Fe(),(n,r)=>(A(),B(y(Le),{as:n.as,"as-child":n.asChild,"data-state":y(t).open.value?"open":"closed",style:{"pointer-events":"auto"}},{default:S(()=>[U(n.$slots,"default")]),_:3},8,["as","as-child","data-state"]))}}),qte=Fte,zte=le({__name:"DialogOverlay",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=oi(),{forwardRef:n}=Fe();return(r,o)=>y(t)?.modal.value?(A(),B(y(Dr),{key:0,present:r.forceMount||y(t).open.value},{default:S(()=>[_(qte,oe(r.$attrs,{ref:y(n),as:r.as,"as-child":r.asChild}),{default:S(()=>[U(r.$slots,"default")]),_:3},16,["as","as-child"])]),_:3},8,["present"])):X("v-if",!0)}}),tb=zte,Lte=le({__name:"Teleport",props:{to:{type:null,required:!1,default:"body"},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const t=sz();return(n,r)=>y(t)||n.forceMount?(A(),B(ih,{key:0,to:n.to,disabled:n.disabled,defer:n.defer},[U(n.$slots,"default")],8,["to","disabled","defer"])):X("v-if",!0)}}),nu=Lte,jte=le({__name:"DialogPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const t=e;return(n,r)=>(A(),B(y(nu),rt(ct(t)),{default:S(()=>[U(n.$slots,"default")]),_:3},16))}}),$C=jte,Vte=le({__name:"DialogTitle",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"h2"}},setup(e){const t=e,n=oi();return Fe(),(r,o)=>(A(),B(y(Le),oe(t,{id:y(n).titleId}),{default:S(()=>[U(r.$slots,"default")]),_:3},16,["id"]))}}),Ld=Vte,Ute=le({__name:"DialogTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const t=e,n=oi(),{forwardRef:r,currentElement:o}=Fe();return n.contentId||=In(void 0,"reka-dialog-content"),wt(()=>{n.triggerElement.value=o.value}),(s,a)=>(A(),B(y(Le),oe(t,{ref:y(r),type:s.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":y(n).open.value||!1,"aria-controls":y(n).open.value?y(n).contentId:void 0,"data-state":y(n).open.value?"open":"closed",onClick:y(n).onOpenToggle}),{default:S(()=>[U(s.$slots,"default")]),_:3},16,["type","aria-expanded","aria-controls","data-state","onClick"]))}}),CC=Ute;const o2="data-reka-collection-item";function br(e={}){const{key:t="",isProvider:n=!1}=e,r=`${t}CollectionProvider`;let o;if(n){const u=K(new Map);o={collectionRef:K(),itemMap:u},Mo(r,o)}else o=or(r);const s=(u=!1)=>{const d=o.collectionRef.value;if(!d)return[];const f=Array.from(d.querySelectorAll(`[${o2}]`)),m=Array.from(o.itemMap.value.values()).sort((h,g)=>f.indexOf(h.ref)-f.indexOf(g.ref));return u?m:m.filter(h=>h.ref.dataset.disabled!=="")},a=le({name:"CollectionSlot",setup(u,{slots:d}){const{primitiveElement:f,currentElement:p}=Gl();return He(p,()=>{o.collectionRef.value=p.value}),()=>Or(Yp,{ref:f},d)}}),i=le({name:"CollectionItem",inheritAttrs:!1,props:{value:{validator:()=>!0}},setup(u,{slots:d,attrs:f}){const{primitiveElement:p,currentElement:m}=Gl();return Cn(h=>{if(m.value){const g=Rd(m.value);o.itemMap.value.set(g,{ref:m.value,value:u.value}),h(()=>o.itemMap.value.delete(g))}}),()=>Or(Yp,{...f,[o2]:"",ref:p},d)}}),l=H(()=>Array.from(o.itemMap.value.values())),c=H(()=>o.itemMap.value.size);return{getItems:s,reactiveItems:l,itemMapSize:c,CollectionSlot:a,CollectionItem:i}}const Kte="rovingFocusGroup.onEntryFocus",Hte={bubbles:!1,cancelable:!0},bz={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Wte(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function xz(e,t,n){const r=Wte(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return bz[r]}function wz(e,t=!1){const n=Dn();for(const r of e)if(r===n||(r.focus({preventScroll:t}),Dn()!==n))return}function Gte(e,t){return e.map((n,r)=>e[(t+r)%e.length])}const[Jte,Yte]=Ft("RovingFocusGroup");var Qte=le({__name:"RovingFocusGroup",props:{orientation:{type:String,required:!1,default:void 0},dir:{type:String,required:!1},loop:{type:Boolean,required:!1,default:!1},currentTabStopId:{type:[String,null],required:!1},defaultCurrentTabStopId:{type:String,required:!1},preventScrollOnEntryFocus:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["entryFocus","update:currentTabStopId"],setup(e,{expose:t,emit:n}){const r=e,o=n,{loop:s,orientation:a,dir:i}=an(r),l=Ca(i),c=bn(r,"currentTabStopId",o,{defaultValue:r.defaultCurrentTabStopId,passive:r.currentTabStopId===void 0}),u=K(!1),d=K(!1),f=K(0),{getItems:p,CollectionSlot:m}=br({isProvider:!0});function h(v){const x=!d.value;if(v.currentTarget&&v.target===v.currentTarget&&x&&!u.value){const $=new CustomEvent(Kte,Hte);if(v.currentTarget.dispatchEvent($),o("entryFocus",$),!$.defaultPrevented){const C=p().map(O=>O.ref).filter(O=>O.dataset.disabled!==""),M=C.find(O=>O.getAttribute("data-active")===""),I=C.find(O=>O.getAttribute("data-highlighted")===""),E=C.find(O=>O.id===c.value),P=[M,I,E,...C].filter(Boolean);wz(P,r.preventScrollOnEntryFocus)}}d.value=!1}function g(){setTimeout(()=>{d.value=!1},1)}return t({getItems:p}),Yte({loop:s,dir:l,orientation:a,currentTabStopId:c,onItemFocus:v=>{c.value=v},onItemShiftTab:()=>{u.value=!0},onFocusableItemAdd:()=>{f.value++},onFocusableItemRemove:()=>{f.value--}}),(v,x)=>(A(),B(y(m),null,{default:S(()=>[_(y(Le),{tabindex:u.value||f.value===0?-1:0,"data-orientation":y(a),as:v.as,"as-child":v.asChild,dir:y(l),style:{outline:"none"},onMousedown:x[0]||(x[0]=$=>d.value=!0),onMouseup:g,onFocus:h,onBlur:x[1]||(x[1]=$=>u.value=!1)},{default:S(()=>[U(v.$slots,"default")]),_:3},8,["tabindex","data-orientation","as","as-child","dir"])]),_:3}))}}),MC=Qte,Xte=le({__name:"RovingFocusItem",props:{tabStopId:{type:String,required:!1},focusable:{type:Boolean,required:!1,default:!0},active:{type:Boolean,required:!1},allowShiftKey:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){const t=e,n=Jte(),r=In(),o=H(()=>t.tabStopId||r),s=H(()=>n.currentTabStopId.value===o.value),{getItems:a,CollectionItem:i}=br();wt(()=>{t.focusable&&n.onFocusableItemAdd()}),ar(()=>{t.focusable&&n.onFocusableItemRemove()});function l(c){if(c.key==="Tab"&&c.shiftKey){n.onItemShiftTab();return}if(c.target!==c.currentTarget)return;const u=xz(c,n.orientation.value,n.dir.value);if(u!==void 0){if(c.metaKey||c.ctrlKey||c.altKey||!t.allowShiftKey&&c.shiftKey)return;c.preventDefault();let d=[...a().map(f=>f.ref).filter(f=>f.dataset.disabled!=="")];if(u==="last")d.reverse();else if(u==="prev"||u==="next"){u==="prev"&&d.reverse();const f=d.indexOf(c.currentTarget);d=n.loop.value?Gte(d,f+1):d.slice(f+1)}St(()=>wz(d))}}return(c,u)=>(A(),B(y(i),null,{default:S(()=>[_(y(Le),{tabindex:s.value?0:-1,"data-orientation":y(n).orientation.value,"data-active":c.active?"":void 0,"data-disabled":c.focusable?void 0:"",as:c.as,"as-child":c.asChild,onMousedown:u[0]||(u[0]=d=>{c.focusable?y(n).onItemFocus(o.value):d.preventDefault()}),onFocus:u[1]||(u[1]=d=>y(n).onItemFocus(o.value)),onKeydown:l},{default:S(()=>[U(c.$slots,"default")]),_:3},8,["tabindex","data-orientation","data-active","data-disabled","as","as-child"])]),_:3}))}}),AC=Xte,Zte=le({__name:"VisuallyHidden",props:{feature:{type:String,required:!1,default:"focusable"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){return(t,n)=>(A(),B(y(Le),{as:t.as,"as-child":t.asChild,"aria-hidden":t.feature==="focusable"?"true":void 0,"data-hidden":t.feature==="fully-hidden"?"":void 0,tabindex:t.feature==="fully-hidden"?"-1":void 0,style:{position:"absolute",border:0,width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",whiteSpace:"nowrap",wordWrap:"normal",top:"-1px",left:"-1px"}},{default:S(()=>[U(t.$slots,"default")]),_:3},8,["as","as-child","aria-hidden","data-hidden","tabindex"]))}}),al=Zte,ene=le({inheritAttrs:!1,__name:"VisuallyHiddenInputBubble",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(e){const t=e,{primitiveElement:n,currentElement:r}=Gl(),o=H(()=>t.checked??t.value);return He(o,(s,a)=>{if(!r.value)return;const i=r.value,l=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(u&&s!==a){const d=new Event("input",{bubbles:!0}),f=new Event("change",{bubbles:!0});u.call(i,s),i.dispatchEvent(d),i.dispatchEvent(f)}}),(s,a)=>(A(),B(al,oe({ref_key:"primitiveElement",ref:n},{...t,...s.$attrs},{as:"input"}),null,16))}}),s2=ene,tne=le({inheritAttrs:!1,__name:"VisuallyHiddenInput",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(e){const t=e,n=H(()=>typeof t.value=="object"&&Array.isArray(t.value)&&t.value.length===0&&t.required),r=H(()=>typeof t.value=="string"||typeof t.value=="number"||typeof t.value=="boolean"||t.value===null||t.value===void 0?[{name:t.name,value:t.value}]:typeof t.value=="object"&&Array.isArray(t.value)?t.value.flatMap((o,s)=>typeof o=="object"?Object.entries(o).map(([a,i])=>({name:`${t.name}[${s}][${a}]`,value:i})):{name:`${t.name}[${s}]`,value:o}):t.value!==null&&typeof t.value=="object"&&!Array.isArray(t.value)?Object.entries(t.value).map(([o,s])=>({name:`${t.name}[${o}]`,value:s})):[]);return(o,s)=>(A(),W(Ee,null,[X(" We render single input if it's required "),n.value?(A(),B(s2,oe({key:o.name},{...t,...o.$attrs},{name:o.name,value:o.value}),null,16,["name","value"])):(A(!0),W(Ee,{key:1},Ve(r.value,a=>(A(),B(s2,oe({key:a.name},{ref_for:!0},{...t,...o.$attrs},{name:a.name,value:a.value}),null,16,["name","value"]))),128))],2112))}}),vh=tne;const[nne]=Ft("CheckboxGroupRoot");function nb(e){return e==="indeterminate"}function kz(e){return nb(e)?"indeterminate":e?"checked":"unchecked"}const[rne,one]=Ft("CheckboxRoot");var sne=le({inheritAttrs:!1,__name:"CheckboxRoot",props:{defaultValue:{type:[Boolean,String],required:!1},modelValue:{type:[Boolean,String,null],required:!1,default:void 0},disabled:{type:Boolean,required:!1},value:{type:null,required:!1,default:"on"},id:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,r=t,{forwardRef:o,currentElement:s}=Fe(),a=nne(null),i=bn(n,"modelValue",r,{defaultValue:n.defaultValue,passive:n.modelValue===void 0}),l=H(()=>a?.disabled.value||n.disabled),c=H(()=>bc(a?.modelValue.value)?i.value==="indeterminate"?"indeterminate":i.value:vS(a.modelValue.value,n.value));function u(){if(bc(a?.modelValue.value))i.value=nb(i.value)?!0:!i.value;else{const p=[...a.modelValue.value||[]];if(vS(p,n.value)){const m=p.findIndex(h=>_a(h,n.value));p.splice(m,1)}else p.push(n.value);a.modelValue.value=p}}const d=uf(s),f=H(()=>n.id&&s.value?document.querySelector(`[for="${n.id}"]`)?.innerText:void 0);return one({disabled:l,state:c}),(p,m)=>(A(),B(Kn(y(a)?.rovingFocus.value?y(AC):y(Le)),oe(p.$attrs,{id:p.id,ref:y(o),role:"checkbox","as-child":p.asChild,as:p.as,type:p.as==="button"?"button":void 0,"aria-checked":y(nb)(c.value)?"mixed":c.value,"aria-required":p.required,"aria-label":p.$attrs["aria-label"]||f.value,"data-state":y(kz)(c.value),"data-disabled":l.value?"":void 0,disabled:l.value,focusable:y(a)?.rovingFocus.value?!l.value:void 0,onKeydown:no(lt(()=>{},["prevent"]),["enter"]),onClick:u}),{default:S(()=>[U(p.$slots,"default",{modelValue:y(i),state:c.value}),y(d)&&p.name&&!y(a)?(A(),B(y(vh),{key:0,type:"checkbox",checked:!!c.value,name:p.name,value:p.value,disabled:l.value,required:p.required},null,8,["checked","name","value","disabled","required"])):X("v-if",!0)]),_:3},16,["id","as-child","as","type","aria-checked","aria-required","aria-label","data-state","data-disabled","disabled","focusable","onKeydown"]))}}),ane=sne,ine=le({__name:"CheckboxIndicator",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){const{forwardRef:t}=Fe(),n=rne();return(r,o)=>(A(),B(y(Dr),{present:r.forceMount||y(nb)(y(n).state.value)||y(n).state.value===!0},{default:S(()=>[_(y(Le),oe({ref:y(t),"data-state":y(kz)(y(n).state.value),"data-disabled":y(n).disabled.value?"":void 0,style:{pointerEvents:"none"},"as-child":r.asChild,as:r.as},r.$attrs),{default:S(()=>[U(r.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),lne=ine;const[_z,une]=Ft("PopperRoot");var cne=le({inheritAttrs:!1,__name:"PopperRoot",setup(e){const t=K();return une({anchor:t,onAnchorChange:n=>t.value=n}),(n,r)=>U(n.$slots,"default")}}),Oc=cne,dne=le({__name:"PopperAnchor",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e,{forwardRef:n,currentElement:r}=Fe(),o=_z();return sq(()=>{o.onAnchorChange(t.reference??r.value)}),(s,a)=>(A(),B(y(Le),{ref:y(n),as:s.as,"as-child":s.asChild},{default:S(()=>[U(s.$slots,"default")]),_:3},8,["as","as-child"]))}}),Rc=dne;const fne={key:0,d:"M0 0L6 6L12 0"},pne={key:1,d:"M0 0L4.58579 4.58579C5.36683 5.36683 6.63316 5.36684 7.41421 4.58579L12 0"};var mne=le({__name:"Arrow",props:{width:{type:Number,required:!1,default:10},height:{type:Number,required:!1,default:5},rounded:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"svg"}},setup(e){const t=e;return Fe(),(n,r)=>(A(),B(y(Le),oe(t,{width:n.width,height:n.height,viewBox:n.asChild?void 0:"0 0 12 6",preserveAspectRatio:n.asChild?void 0:"none"}),{default:S(()=>[U(n.$slots,"default",{},()=>[n.rounded?(A(),W("path",pne)):(A(),W("path",fne))])]),_:3},16,["width","height","viewBox","preserveAspectRatio"]))}}),hne=mne;function gne(e){return e!==null}function vne(e){return{name:"transformOrigin",options:e,fn(t){const{placement:n,rects:r,middlewareData:o}=t,a=o.arrow?.centerOffset!==0,i=a?0:e.arrowWidth,l=a?0:e.arrowHeight,[c,u]=kS(n),d={start:"0%",center:"50%",end:"100%"}[u],f=(o.arrow?.x??0)+i/2,p=(o.arrow?.y??0)+l/2;let m="",h="";return c==="bottom"?(m=a?d:`${f}px`,h=`${-l}px`):c==="top"?(m=a?d:`${f}px`,h=`${r.floating.height+l}px`):c==="right"?(m=`${-l}px`,h=a?d:`${p}px`):c==="left"&&(m=`${r.floating.width+l}px`,h=a?d:`${p}px`),{data:{x:m,y:h}}}}}function kS(e){const[t,n="center"]=e.split("-");return[t,n]}const yne=["top","right","bottom","left"],Jl=Math.min,Ts=Math.max,rb=Math.round,Wg=Math.floor,Qa=e=>({x:e,y:e}),bne={left:"right",right:"left",bottom:"top",top:"bottom"},xne={start:"end",end:"start"};function _S(e,t,n){return Ts(e,Jl(t,n))}function Zi(e,t){return typeof e=="function"?e(t):e}function el(e){return e.split("-")[0]}function cf(e){return e.split("-")[1]}function TC(e){return e==="x"?"y":"x"}function EC(e){return e==="y"?"height":"width"}const wne=new Set(["top","bottom"]);function Ha(e){return wne.has(el(e))?"y":"x"}function IC(e){return TC(Ha(e))}function kne(e,t,n){n===void 0&&(n=!1);const r=cf(e),o=IC(e),s=EC(o);let a=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(a=ob(a)),[a,ob(a)]}function _ne(e){const t=ob(e);return[SS(e),t,SS(t)]}function SS(e){return e.replace(/start|end/g,t=>xne[t])}const a2=["left","right"],i2=["right","left"],Sne=["top","bottom"],$ne=["bottom","top"];function Cne(e,t,n){switch(e){case"top":case"bottom":return n?t?i2:a2:t?a2:i2;case"left":case"right":return t?Sne:$ne;default:return[]}}function Mne(e,t,n,r){const o=cf(e);let s=Cne(el(e),n==="start",r);return o&&(s=s.map(a=>a+"-"+o),t&&(s=s.concat(s.map(SS)))),s}function ob(e){return e.replace(/left|right|bottom|top/g,t=>bne[t])}function Ane(e){return{top:0,right:0,bottom:0,left:0,...e}}function Sz(e){return typeof e!="number"?Ane(e):{top:e,right:e,bottom:e,left:e}}function sb(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function l2(e,t,n){let{reference:r,floating:o}=e;const s=Ha(t),a=IC(t),i=EC(a),l=el(t),c=s==="y",u=r.x+r.width/2-o.width/2,d=r.y+r.height/2-o.height/2,f=r[i]/2-o[i]/2;let p;switch(l){case"top":p={x:u,y:r.y-o.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-o.width,y:d};break;default:p={x:r.x,y:r.y}}switch(cf(t)){case"start":p[a]-=f*(n&&c?-1:1);break;case"end":p[a]+=f*(n&&c?-1:1);break}return p}const Tne=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:s=[],platform:a}=n,i=s.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(t));let c=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:u,y:d}=l2(c,r,l),f=r,p={},m=0;for(let h=0;h<i.length;h++){const{name:g,fn:v}=i[h],{x,y:$,data:C,reset:M}=await v({x:u,y:d,initialPlacement:r,placement:f,strategy:o,middlewareData:p,rects:c,platform:a,elements:{reference:e,floating:t}});u=x??u,d=$??d,p={...p,[g]:{...p[g],...C}},M&&m<=50&&(m++,typeof M=="object"&&(M.placement&&(f=M.placement),M.rects&&(c=M.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:o}):M.rects),{x:u,y:d}=l2(c,f,l)),h=-1)}return{x:u,y:d,placement:f,strategy:o,middlewareData:p}};async function Xp(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:s,rects:a,elements:i,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:p=0}=Zi(t,e),m=Sz(p),g=i[f?d==="floating"?"reference":"floating":d],v=sb(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(g)))==null||n?g:g.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(i.floating)),boundary:c,rootBoundary:u,strategy:l})),x=d==="floating"?{x:r,y:o,width:a.floating.width,height:a.floating.height}:a.reference,$=await(s.getOffsetParent==null?void 0:s.getOffsetParent(i.floating)),C=await(s.isElement==null?void 0:s.isElement($))?await(s.getScale==null?void 0:s.getScale($))||{x:1,y:1}:{x:1,y:1},M=sb(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:x,offsetParent:$,strategy:l}):x);return{top:(v.top-M.top+m.top)/C.y,bottom:(M.bottom-v.bottom+m.bottom)/C.y,left:(v.left-M.left+m.left)/C.x,right:(M.right-v.right+m.right)/C.x}}const Ene=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:s,platform:a,elements:i,middlewareData:l}=t,{element:c,padding:u=0}=Zi(e,t)||{};if(c==null)return{};const d=Sz(u),f={x:n,y:r},p=IC(o),m=EC(p),h=await a.getDimensions(c),g=p==="y",v=g?"top":"left",x=g?"bottom":"right",$=g?"clientHeight":"clientWidth",C=s.reference[m]+s.reference[p]-f[p]-s.floating[m],M=f[p]-s.reference[p],I=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let E=I?I[$]:0;(!E||!await(a.isElement==null?void 0:a.isElement(I)))&&(E=i.floating[$]||s.floating[m]);const P=C/2-M/2,O=E/2-h[m]/2-1,D=Jl(d[v],O),L=Jl(d[x],O),V=D,F=E-h[m]-L,z=E/2-h[m]/2+P,N=_S(V,z,F),ee=!l.arrow&&cf(o)!=null&&z!==N&&s.reference[m]/2-(z<V?D:L)-h[m]/2<0,ne=ee?z<V?z-V:z-F:0;return{[p]:f[p]+ne,data:{[p]:N,centerOffset:z-N-ne,...ee&&{alignmentOffset:ne}},reset:ee}}}),Ine=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:s,rects:a,initialPlacement:i,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:h=!0,...g}=Zi(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const v=el(o),x=Ha(i),$=el(i)===i,C=await(l.isRTL==null?void 0:l.isRTL(c.floating)),M=f||($||!h?[ob(i)]:_ne(i)),I=m!=="none";!f&&I&&M.push(...Mne(i,h,m,C));const E=[i,...M],P=await Xp(t,g),O=[];let D=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&O.push(P[v]),d){const z=kne(o,a,C);O.push(P[z[0]],P[z[1]])}if(D=[...D,{placement:o,overflows:O}],!O.every(z=>z<=0)){var L,V;const z=(((L=s.flip)==null?void 0:L.index)||0)+1,N=E[z];if(N&&(!(d==="alignment"?x!==Ha(N):!1)||D.every(Y=>Ha(Y.placement)===x?Y.overflows[0]>0:!0)))return{data:{index:z,overflows:D},reset:{placement:N}};let ee=(V=D.filter(ne=>ne.overflows[0]<=0).sort((ne,Y)=>ne.overflows[1]-Y.overflows[1])[0])==null?void 0:V.placement;if(!ee)switch(p){case"bestFit":{var F;const ne=(F=D.filter(Y=>{if(I){const Re=Ha(Y.placement);return Re===x||Re==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter(Re=>Re>0).reduce((Re,fe)=>Re+fe,0)]).sort((Y,Re)=>Y[1]-Re[1])[0])==null?void 0:F[0];ne&&(ee=ne);break}case"initialPlacement":ee=i;break}if(o!==ee)return{reset:{placement:ee}}}return{}}}};function u2(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function c2(e){return yne.some(t=>e[t]>=0)}const Pne=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=Zi(e,t);switch(r){case"referenceHidden":{const s=await Xp(t,{...o,elementContext:"reference"}),a=u2(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:c2(a)}}}case"escaped":{const s=await Xp(t,{...o,altBoundary:!0}),a=u2(s,n.floating);return{data:{escapedOffsets:a,escaped:c2(a)}}}default:return{}}}}},$z=new Set(["left","top"]);async function One(e,t){const{placement:n,platform:r,elements:o}=e,s=await(r.isRTL==null?void 0:r.isRTL(o.floating)),a=el(n),i=cf(n),l=Ha(n)==="y",c=$z.has(a)?-1:1,u=s&&l?-1:1,d=Zi(t,e);let{mainAxis:f,crossAxis:p,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return i&&typeof m=="number"&&(p=i==="end"?m*-1:m),l?{x:p*u,y:f*c}:{x:f*c,y:p*u}}const Rne=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:s,placement:a,middlewareData:i}=t,l=await One(t,e);return a===((n=i.offset)==null?void 0:n.placement)&&(r=i.arrow)!=null&&r.alignmentOffset?{}:{x:o+l.x,y:s+l.y,data:{...l,placement:a}}}}},Bne=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:s=!0,crossAxis:a=!1,limiter:i={fn:g=>{let{x:v,y:x}=g;return{x:v,y:x}}},...l}=Zi(e,t),c={x:n,y:r},u=await Xp(t,l),d=Ha(el(o)),f=TC(d);let p=c[f],m=c[d];if(s){const g=f==="y"?"top":"left",v=f==="y"?"bottom":"right",x=p+u[g],$=p-u[v];p=_S(x,p,$)}if(a){const g=d==="y"?"top":"left",v=d==="y"?"bottom":"right",x=m+u[g],$=m-u[v];m=_S(x,m,$)}const h=i.fn({...t,[f]:p,[d]:m});return{...h,data:{x:h.x-n,y:h.y-r,enabled:{[f]:s,[d]:a}}}}}},Nne=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:s,middlewareData:a}=t,{offset:i=0,mainAxis:l=!0,crossAxis:c=!0}=Zi(e,t),u={x:n,y:r},d=Ha(o),f=TC(d);let p=u[f],m=u[d];const h=Zi(i,t),g=typeof h=="number"?{mainAxis:h,crossAxis:0}:{mainAxis:0,crossAxis:0,...h};if(l){const $=f==="y"?"height":"width",C=s.reference[f]-s.floating[$]+g.mainAxis,M=s.reference[f]+s.reference[$]-g.mainAxis;p<C?p=C:p>M&&(p=M)}if(c){var v,x;const $=f==="y"?"width":"height",C=$z.has(el(o)),M=s.reference[d]-s.floating[$]+(C&&((v=a.offset)==null?void 0:v[d])||0)+(C?0:g.crossAxis),I=s.reference[d]+s.reference[$]+(C?0:((x=a.offset)==null?void 0:x[d])||0)-(C?g.crossAxis:0);m<M?m=M:m>I&&(m=I)}return{[f]:p,[d]:m}}}},Dne=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:s,platform:a,elements:i}=t,{apply:l=()=>{},...c}=Zi(e,t),u=await Xp(t,c),d=el(o),f=cf(o),p=Ha(o)==="y",{width:m,height:h}=s.floating;let g,v;d==="top"||d==="bottom"?(g=d,v=f===(await(a.isRTL==null?void 0:a.isRTL(i.floating))?"start":"end")?"left":"right"):(v=d,g=f==="end"?"top":"bottom");const x=h-u.top-u.bottom,$=m-u.left-u.right,C=Jl(h-u[g],x),M=Jl(m-u[v],$),I=!t.middlewareData.shift;let E=C,P=M;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(P=$),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(E=x),I&&!f){const D=Ts(u.left,0),L=Ts(u.right,0),V=Ts(u.top,0),F=Ts(u.bottom,0);p?P=m-2*(D!==0||L!==0?D+L:Ts(u.left,u.right)):E=h-2*(V!==0||F!==0?V+F:Ts(u.top,u.bottom))}await l({...t,availableWidth:P,availableHeight:E});const O=await a.getDimensions(i.floating);return m!==O.width||h!==O.height?{reset:{rects:!0}}:{}}}};function fx(){return typeof window<"u"}function Bc(e){return PC(e)?(e.nodeName||"").toLowerCase():"#document"}function Os(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function si(e){var t;return(t=(PC(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function PC(e){return fx()?e instanceof Node||e instanceof Os(e).Node:!1}function Sa(e){return fx()?e instanceof Element||e instanceof Os(e).Element:!1}function ei(e){return fx()?e instanceof HTMLElement||e instanceof Os(e).HTMLElement:!1}function d2(e){return!fx()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Os(e).ShadowRoot}const Fne=new Set(["inline","contents"]);function yh(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=$a(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!Fne.has(o)}const qne=new Set(["table","td","th"]);function zne(e){return qne.has(Bc(e))}const Lne=[":popover-open",":modal"];function px(e){return Lne.some(t=>{try{return e.matches(t)}catch{return!1}})}const jne=["transform","translate","scale","rotate","perspective"],Vne=["transform","translate","scale","rotate","perspective","filter"],Une=["paint","layout","strict","content"];function OC(e){const t=RC(),n=Sa(e)?$a(e):e;return jne.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||Vne.some(r=>(n.willChange||"").includes(r))||Une.some(r=>(n.contain||"").includes(r))}function Kne(e){let t=Yl(e);for(;ei(t)&&!jd(t);){if(OC(t))return t;if(px(t))return null;t=Yl(t)}return null}function RC(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Hne=new Set(["html","body","#document"]);function jd(e){return Hne.has(Bc(e))}function $a(e){return Os(e).getComputedStyle(e)}function mx(e){return Sa(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Yl(e){if(Bc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||d2(e)&&e.host||si(e);return d2(t)?t.host:t}function Cz(e){const t=Yl(e);return jd(t)?e.ownerDocument?e.ownerDocument.body:e.body:ei(t)&&yh(t)?t:Cz(t)}function Zp(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=Cz(e),s=o===((r=e.ownerDocument)==null?void 0:r.body),a=Os(o);if(s){const i=$S(a);return t.concat(a,a.visualViewport||[],yh(o)?o:[],i&&n?Zp(i):[])}return t.concat(o,Zp(o,[],n))}function $S(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Mz(e){const t=$a(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=ei(e),s=o?e.offsetWidth:n,a=o?e.offsetHeight:r,i=rb(n)!==s||rb(r)!==a;return i&&(n=s,r=a),{width:n,height:r,$:i}}function BC(e){return Sa(e)?e:e.contextElement}function Ed(e){const t=BC(e);if(!ei(t))return Qa(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:s}=Mz(t);let a=(s?rb(n.width):n.width)/r,i=(s?rb(n.height):n.height)/o;return(!a||!Number.isFinite(a))&&(a=1),(!i||!Number.isFinite(i))&&(i=1),{x:a,y:i}}const Wne=Qa(0);function Az(e){const t=Os(e);return!RC()||!t.visualViewport?Wne:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Gne(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Os(e)?!1:t}function xc(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),s=BC(e);let a=Qa(1);t&&(r?Sa(r)&&(a=Ed(r)):a=Ed(e));const i=Gne(s,n,r)?Az(s):Qa(0);let l=(o.left+i.x)/a.x,c=(o.top+i.y)/a.y,u=o.width/a.x,d=o.height/a.y;if(s){const f=Os(s),p=r&&Sa(r)?Os(r):r;let m=f,h=$S(m);for(;h&&r&&p!==m;){const g=Ed(h),v=h.getBoundingClientRect(),x=$a(h),$=v.left+(h.clientLeft+parseFloat(x.paddingLeft))*g.x,C=v.top+(h.clientTop+parseFloat(x.paddingTop))*g.y;l*=g.x,c*=g.y,u*=g.x,d*=g.y,l+=$,c+=C,m=Os(h),h=$S(m)}}return sb({width:u,height:d,x:l,y:c})}function hx(e,t){const n=mx(e).scrollLeft;return t?t.left+n:xc(si(e)).left+n}function Tz(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-hx(e,n),o=n.top+t.scrollTop;return{x:r,y:o}}function Jne(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const s=o==="fixed",a=si(r),i=t?px(t.floating):!1;if(r===a||i&&s)return n;let l={scrollLeft:0,scrollTop:0},c=Qa(1);const u=Qa(0),d=ei(r);if((d||!d&&!s)&&((Bc(r)!=="body"||yh(a))&&(l=mx(r)),ei(r))){const p=xc(r);c=Ed(r),u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}const f=a&&!d&&!s?Tz(a,l):Qa(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:n.y*c.y-l.scrollTop*c.y+u.y+f.y}}function Yne(e){return Array.from(e.getClientRects())}function Qne(e){const t=si(e),n=mx(e),r=e.ownerDocument.body,o=Ts(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Ts(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+hx(e);const i=-n.scrollTop;return $a(r).direction==="rtl"&&(a+=Ts(t.clientWidth,r.clientWidth)-o),{width:o,height:s,x:a,y:i}}const f2=25;function Xne(e,t){const n=Os(e),r=si(e),o=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,i=0,l=0;if(o){s=o.width,a=o.height;const u=RC();(!u||u&&t==="fixed")&&(i=o.offsetLeft,l=o.offsetTop)}const c=hx(r);if(c<=0){const u=r.ownerDocument,d=u.body,f=getComputedStyle(d),p=u.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,m=Math.abs(r.clientWidth-d.clientWidth-p);m<=f2&&(s-=m)}else c<=f2&&(s+=c);return{width:s,height:a,x:i,y:l}}const Zne=new Set(["absolute","fixed"]);function ere(e,t){const n=xc(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,s=ei(e)?Ed(e):Qa(1),a=e.clientWidth*s.x,i=e.clientHeight*s.y,l=o*s.x,c=r*s.y;return{width:a,height:i,x:l,y:c}}function p2(e,t,n){let r;if(t==="viewport")r=Xne(e,n);else if(t==="document")r=Qne(si(e));else if(Sa(t))r=ere(t,n);else{const o=Az(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return sb(r)}function Ez(e,t){const n=Yl(e);return n===t||!Sa(n)||jd(n)?!1:$a(n).position==="fixed"||Ez(n,t)}function tre(e,t){const n=t.get(e);if(n)return n;let r=Zp(e,[],!1).filter(i=>Sa(i)&&Bc(i)!=="body"),o=null;const s=$a(e).position==="fixed";let a=s?Yl(e):e;for(;Sa(a)&&!jd(a);){const i=$a(a),l=OC(a);!l&&i.position==="fixed"&&(o=null),(s?!l&&!o:!l&&i.position==="static"&&!!o&&Zne.has(o.position)||yh(a)&&!l&&Ez(e,a))?r=r.filter(u=>u!==a):o=i,a=Yl(a)}return t.set(e,r),r}function nre(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const a=[...n==="clippingAncestors"?px(t)?[]:tre(t,this._c):[].concat(n),r],i=a[0],l=a.reduce((c,u)=>{const d=p2(t,u,o);return c.top=Ts(d.top,c.top),c.right=Jl(d.right,c.right),c.bottom=Jl(d.bottom,c.bottom),c.left=Ts(d.left,c.left),c},p2(t,i,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function rre(e){const{width:t,height:n}=Mz(e);return{width:t,height:n}}function ore(e,t,n){const r=ei(t),o=si(t),s=n==="fixed",a=xc(e,!0,s,t);let i={scrollLeft:0,scrollTop:0};const l=Qa(0);function c(){l.x=hx(o)}if(r||!r&&!s)if((Bc(t)!=="body"||yh(o))&&(i=mx(t)),r){const p=xc(t,!0,s,t);l.x=p.x+t.clientLeft,l.y=p.y+t.clientTop}else o&&c();s&&!r&&o&&c();const u=o&&!r&&!s?Tz(o,i):Qa(0),d=a.left+i.scrollLeft-l.x-u.x,f=a.top+i.scrollTop-l.y-u.y;return{x:d,y:f,width:a.width,height:a.height}}function Pk(e){return $a(e).position==="static"}function m2(e,t){if(!ei(e)||$a(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return si(e)===n&&(n=n.ownerDocument.body),n}function Iz(e,t){const n=Os(e);if(px(e))return n;if(!ei(e)){let o=Yl(e);for(;o&&!jd(o);){if(Sa(o)&&!Pk(o))return o;o=Yl(o)}return n}let r=m2(e,t);for(;r&&zne(r)&&Pk(r);)r=m2(r,t);return r&&jd(r)&&Pk(r)&&!OC(r)?n:r||Kne(e)||n}const sre=async function(e){const t=this.getOffsetParent||Iz,n=this.getDimensions,r=await n(e.floating);return{reference:ore(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function are(e){return $a(e).direction==="rtl"}const ire={convertOffsetParentRelativeRectToViewportRelativeRect:Jne,getDocumentElement:si,getClippingRect:nre,getOffsetParent:Iz,getElementRects:sre,getClientRects:Yne,getDimensions:rre,getScale:Ed,isElement:Sa,isRTL:are};function Pz(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function lre(e,t){let n=null,r;const o=si(e);function s(){var i;clearTimeout(r),(i=n)==null||i.disconnect(),n=null}function a(i,l){i===void 0&&(i=!1),l===void 0&&(l=1),s();const c=e.getBoundingClientRect(),{left:u,top:d,width:f,height:p}=c;if(i||t(),!f||!p)return;const m=Wg(d),h=Wg(o.clientWidth-(u+f)),g=Wg(o.clientHeight-(d+p)),v=Wg(u),$={rootMargin:-m+"px "+-h+"px "+-g+"px "+-v+"px",threshold:Ts(0,Jl(1,l))||1};let C=!0;function M(I){const E=I[0].intersectionRatio;if(E!==l){if(!C)return a();E?a(!1,E):r=setTimeout(()=>{a(!1,1e-7)},1e3)}E===1&&!Pz(c,e.getBoundingClientRect())&&a(),C=!1}try{n=new IntersectionObserver(M,{...$,root:o.ownerDocument})}catch{n=new IntersectionObserver(M,$)}n.observe(e)}return a(!0),s}function ure(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:i=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=BC(e),u=o||s?[...c?Zp(c):[],...Zp(t)]:[];u.forEach(v=>{o&&v.addEventListener("scroll",n,{passive:!0}),s&&v.addEventListener("resize",n)});const d=c&&i?lre(c,n):null;let f=-1,p=null;a&&(p=new ResizeObserver(v=>{let[x]=v;x&&x.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var $;($=p)==null||$.observe(t)})),n()}),c&&!l&&p.observe(c),p.observe(t));let m,h=l?xc(e):null;l&&g();function g(){const v=xc(e);h&&!Pz(h,v)&&n(),h=v,m=requestAnimationFrame(g)}return n(),()=>{var v;u.forEach(x=>{o&&x.removeEventListener("scroll",n),s&&x.removeEventListener("resize",n)}),d?.(),(v=p)==null||v.disconnect(),p=null,l&&cancelAnimationFrame(m)}}const cre=Rne,dre=Bne,h2=Ine,fre=Dne,pre=Pne,mre=Ene,hre=Nne,gre=(e,t,n)=>{const r=new Map,o={platform:ire,...n},s={...o.platform,_c:r};return Tne(e,t,{...o,platform:s})};function vre(e){return e!=null&&typeof e=="object"&&"$el"in e}function CS(e){if(vre(e)){const t=e.$el;return PC(t)&&Bc(t)==="#comment"?null:t}return e}function yd(e){return typeof e=="function"?e():y(e)}function yre(e){return{name:"arrow",options:e,fn(t){const n=CS(yd(e.element));return n==null?{}:mre({element:n,padding:e.padding}).fn(t)}}}function Oz(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function g2(e,t){const n=Oz(e);return Math.round(t*n)/n}function bre(e,t,n){n===void 0&&(n={});const r=n.whileElementsMounted,o=H(()=>{var E;return(E=yd(n.open))!=null?E:!0}),s=H(()=>yd(n.middleware)),a=H(()=>{var E;return(E=yd(n.placement))!=null?E:"bottom"}),i=H(()=>{var E;return(E=yd(n.strategy))!=null?E:"absolute"}),l=H(()=>{var E;return(E=yd(n.transform))!=null?E:!0}),c=H(()=>CS(e.value)),u=H(()=>CS(t.value)),d=K(0),f=K(0),p=K(i.value),m=K(a.value),h=yr({}),g=K(!1),v=H(()=>{const E={position:p.value,left:"0",top:"0"};if(!u.value)return E;const P=g2(u.value,d.value),O=g2(u.value,f.value);return l.value?{...E,transform:"translate("+P+"px, "+O+"px)",...Oz(u.value)>=1.5&&{willChange:"transform"}}:{position:p.value,left:P+"px",top:O+"px"}});let x;function $(){if(c.value==null||u.value==null)return;const E=o.value;gre(c.value,u.value,{middleware:s.value,placement:a.value,strategy:i.value}).then(P=>{d.value=P.x,f.value=P.y,p.value=P.strategy,m.value=P.placement,h.value=P.middlewareData,g.value=E!==!1})}function C(){typeof x=="function"&&(x(),x=void 0)}function M(){if(C(),r===void 0){$();return}if(c.value!=null&&u.value!=null){x=r(c.value,u.value,$);return}}function I(){o.value||(g.value=!1)}return He([s,a,i,o],$,{flush:"sync"}),He([c,u],M,{flush:"sync"}),He(o,I,{flush:"sync"}),sf()&&oh(C),{x:ud(d),y:ud(f),strategy:ud(p),placement:ud(m),middlewareData:ud(h),isPositioned:ud(g),floatingStyles:v,update:$}}const Rz={side:"bottom",sideOffset:0,sideFlip:!0,align:"center",alignOffset:0,alignFlip:!0,arrowPadding:0,avoidCollisions:!0,collisionBoundary:()=>[],collisionPadding:0,sticky:"partial",hideWhenDetached:!1,positionStrategy:"fixed",updatePositionStrategy:"optimized",prioritizePosition:!1},[xre,wre]=Ft("PopperContent");var kre=le({inheritAttrs:!1,__name:"PopperContent",props:kq({side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},{...Rz}),emits:["placed"],setup(e,{emit:t}){const n=e,r=t,o=_z(),{forwardRef:s,currentElement:a}=Fe(),i=K(),l=K(),{width:c,height:u}=Dee(l),d=H(()=>n.side+(n.align!=="center"?`-${n.align}`:"")),f=H(()=>typeof n.collisionPadding=="number"?n.collisionPadding:{top:0,right:0,bottom:0,left:0,...n.collisionPadding}),p=H(()=>Array.isArray(n.collisionBoundary)?n.collisionBoundary:[n.collisionBoundary]),m=H(()=>({padding:f.value,boundary:p.value.filter(gne),altBoundary:p.value.length>0})),h=H(()=>({mainAxis:n.sideFlip,crossAxis:n.alignFlip})),g=eee(()=>[cre({mainAxis:n.sideOffset+u.value,alignmentAxis:n.alignOffset}),n.prioritizePosition&&n.avoidCollisions&&h2({...m.value,...h.value}),n.avoidCollisions&&dre({mainAxis:!0,crossAxis:!!n.prioritizePosition,limiter:n.sticky==="partial"?hre():void 0,...m.value}),!n.prioritizePosition&&n.avoidCollisions&&h2({...m.value,...h.value}),fre({...m.value,apply:({elements:V,rects:F,availableWidth:z,availableHeight:N})=>{const{width:ee,height:ne}=F.reference,Y=V.floating.style;Y.setProperty("--reka-popper-available-width",`${z}px`),Y.setProperty("--reka-popper-available-height",`${N}px`),Y.setProperty("--reka-popper-anchor-width",`${ee}px`),Y.setProperty("--reka-popper-anchor-height",`${ne}px`)}}),l.value&&yre({element:l.value,padding:n.arrowPadding}),vne({arrowWidth:c.value,arrowHeight:u.value}),n.hideWhenDetached&&pre({strategy:"referenceHidden",...m.value})]),v=H(()=>n.reference??o.anchor.value),{floatingStyles:x,placement:$,isPositioned:C,middlewareData:M}=bre(v,i,{strategy:n.positionStrategy,placement:d,whileElementsMounted:(...V)=>ure(...V,{layoutShift:!n.disableUpdateOnLayoutShift,animationFrame:n.updatePositionStrategy==="always"}),middleware:g}),I=H(()=>kS($.value)[0]),E=H(()=>kS($.value)[1]);sq(()=>{C.value&&r("placed")});const P=H(()=>M.value.arrow?.centerOffset!==0),O=K("");Cn(()=>{a.value&&(O.value=window.getComputedStyle(a.value).zIndex)});const D=H(()=>M.value.arrow?.x??0),L=H(()=>M.value.arrow?.y??0);return wre({placedSide:I,onArrowChange:V=>l.value=V,arrowX:D,arrowY:L,shouldHideArrow:P}),(V,F)=>(A(),W("div",{ref_key:"floatingRef",ref:i,"data-reka-popper-content-wrapper":"",style:Un({...y(x),transform:y(C)?y(x).transform:"translate(0, -200%)",minWidth:"max-content",zIndex:O.value,"--reka-popper-transform-origin":[y(M).transformOrigin?.x,y(M).transformOrigin?.y].join(" "),...y(M).hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}})},[_(y(Le),oe({ref:y(s)},V.$attrs,{"as-child":n.asChild,as:V.as,"data-side":I.value,"data-align":E.value,style:{animation:y(C)?void 0:"none"}}),{default:S(()=>[U(V.$slots,"default")]),_:3},16,["as-child","as","data-side","data-align","style"])],4))}}),df=kre;const _re={top:"bottom",right:"left",bottom:"top",left:"right"};var Sre=le({inheritAttrs:!1,__name:"PopperArrow",props:{width:{type:Number,required:!1},height:{type:Number,required:!1},rounded:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"svg"}},setup(e){const{forwardRef:t}=Fe(),n=xre(),r=H(()=>_re[n.placedSide.value]);return(o,s)=>(A(),W("span",{ref:a=>{y(n).onArrowChange(a)},style:Un({position:"absolute",left:y(n).arrowX?.value?`${y(n).arrowX?.value}px`:void 0,top:y(n).arrowY?.value?`${y(n).arrowY?.value}px`:void 0,[r.value]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[y(n).placedSide.value],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[y(n).placedSide.value],visibility:y(n).shouldHideArrow.value?"hidden":void 0})},[_(hne,oe(o.$attrs,{ref:y(t),style:{display:"block"},as:o.as,"as-child":o.asChild,rounded:o.rounded,width:o.width,height:o.height}),{default:S(()=>[U(o.$slots,"default")]),_:3},16,["as","as-child","rounded","width","height"])],4))}}),ff=Sre,$re=le({__name:"ComboboxAnchor",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const{forwardRef:t}=Fe();return(n,r)=>(A(),B(y(Rc),{"as-child":"",reference:n.reference},{default:S(()=>[_(y(Le),oe({ref:y(t),"as-child":n.asChild,as:n.as},n.$attrs),{default:S(()=>[U(n.$slots,"default")]),_:3},16,["as-child","as"])]),_:3},8,["reference"]))}}),Cre=$re;function v2(e){return e?.querySelector("[data-state=checked]")}function Mre(e,t,n){return e===void 0?!1:Array.isArray(e)?e.some(r=>Vl(r,t,n)):Vl(e,t,n)}function Vl(e,t,n){return e===void 0||t===void 0?!1:typeof e=="string"?e===t:typeof n=="function"?n(e,t):typeof n=="string"?e?.[n]===t?.[n]:_a(e,t)}const[bh,Are]=Ft("ListboxRoot");var Tre=le({__name:"ListboxRoot",props:{modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},multiple:{type:Boolean,required:!1},orientation:{type:String,required:!1,default:"vertical"},dir:{type:String,required:!1},disabled:{type:Boolean,required:!1},selectionBehavior:{type:String,required:!1,default:"toggle"},highlightOnHover:{type:Boolean,required:!1},by:{type:[String,Function],required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","highlight","entryFocus","leave"],setup(e,{expose:t,emit:n}){const r=e,o=n,{multiple:s,highlightOnHover:a,orientation:i,disabled:l,selectionBehavior:c,dir:u}=an(r),{getItems:d}=br({isProvider:!0}),{handleTypeaheadSearch:f}=dx(),{primitiveElement:p,currentElement:m}=Gl(),h=dz(),g=Ca(u),v=uf(m),x=K(),$=K(!1),C=K(!0),M=bn(r,"modelValue",o,{defaultValue:r.defaultValue??(s.value?[]:void 0),passive:r.modelValue===void 0,deep:!0});function I(ce){if($.value=!0,r.multiple){const ve=Array.isArray(M.value)?[...M.value]:[],Ae=ve.findIndex(pe=>Vl(pe,ce,r.by));r.selectionBehavior==="toggle"?(Ae===-1?ve.push(ce):ve.splice(Ae,1),M.value=ve):(M.value=[ce],x.value=ce)}else r.selectionBehavior==="toggle"&&Vl(M.value,ce,r.by)?M.value=void 0:M.value=ce;setTimeout(()=>{$.value=!1},1)}const E=K(null),P=K(null),O=K(!1),D=K(!1),L=Mp(),V=Mp(),F=Mp();function z(){return d().map(ce=>ce.ref).filter(ce=>ce.dataset.disabled!=="")}function N(ce,ve=!0){if(!ce)return;E.value=ce,C.value&&E.value.focus(),ve&&E.value.scrollIntoView({block:"nearest"});const Ae=d().find(pe=>pe.ref===ce);o("highlight",Ae)}function ee(ce){if(O.value)F.trigger(ce);else{const ve=d().find(Ae=>Vl(Ae.value,ce,r.by));ve&&(E.value=ve.ref,N(ve.ref))}}function ne(ce){E.value&&E.value.isConnected&&(ce.preventDefault(),ce.stopPropagation(),D.value||E.value.click())}function Y(ce){if(C.value){if($.value=!0,O.value)V.trigger(ce);else{const ve=ce.altKey||ce.ctrlKey||ce.metaKey;if(ve&&ce.key==="a"&&s.value){const Ae=d(),pe=Ae.map(et=>et.value);M.value=[...pe],ce.preventDefault(),N(Ae[Ae.length-1].ref)}else if(!ve){const Ae=f(ce.key,d());Ae&&N(Ae)}}setTimeout(()=>{$.value=!1},1)}}function Re(){D.value=!0}function fe(){St(()=>{D.value=!1})}function we(){St(()=>{const ce=new KeyboardEvent("keydown",{key:"PageUp"});Xe(ce)})}function ue(ce){const ve=E.value;ve?.isConnected&&(P.value=ve),E.value=null,o("leave",ce)}function Ne(ce){const ve=new CustomEvent("listbox.entryFocus",{bubbles:!1,cancelable:!0});if(ce.currentTarget?.dispatchEvent(ve),o("entryFocus",ve),!ve.defaultPrevented)if(P.value)N(P.value);else{const Ae=z()?.[0];N(Ae)}}function Xe(ce){const ve=xz(ce,i.value,g.value);if(!ve)return;let Ae=z();if(E.value){if(ve==="last")Ae.reverse();else if(ve==="prev"||ve==="next"){ve==="prev"&&Ae.reverse();const pe=Ae.indexOf(E.value);Ae=Ae.slice(pe+1)}st(ce,Ae[0])}if(Ae.length){const pe=!E.value&&ve==="prev"?Ae.length-1:0;N(Ae[pe])}if(O.value)return V.trigger(ce)}function st(ce,ve){if(!(O.value||r.selectionBehavior!=="replace"||!s.value||!Array.isArray(M.value)||(ce.altKey||ce.ctrlKey||ce.metaKey)&&!ce.shiftKey)&&ce.shiftKey){const pe=d().filter(te=>te.ref.dataset.disabled!=="");let et=pe.find(te=>te.ref===ve)?.value;if(ce.key===h.END?et=pe[pe.length-1].value:ce.key===h.HOME&&(et=pe[0].value),!et||!x.value)return;const kt=cy(pe.map(te=>te.value),x.value,et);M.value=kt}}async function it(ce){if(await St(),O.value)L.trigger(ce);else{const ve=z(),Ae=ve.find(pe=>pe.dataset.state==="checked");Ae?N(Ae):ve.length&&N(ve[0])}}return He(M,()=>{$.value||St(()=>{it()})},{immediate:!0,deep:!0}),t({highlightedElement:E,highlightItem:ee,highlightFirstItem:we,highlightSelected:it,getItems:d}),Are({modelValue:M,onValueChange:I,multiple:s,orientation:i,dir:g,disabled:l,highlightOnHover:a,highlightedElement:E,isVirtual:O,virtualFocusHook:L,virtualKeydownHook:V,virtualHighlightHook:F,by:r.by,firstValue:x,selectionBehavior:c,focusable:C,onLeave:ue,onEnter:Ne,changeHighlight:N,onKeydownEnter:ne,onKeydownNavigation:Xe,onKeydownTypeAhead:Y,onCompositionStart:Re,onCompositionEnd:fe,highlightFirstItem:we}),(ce,ve)=>(A(),B(y(Le),{ref_key:"primitiveElement",ref:p,as:ce.as,"as-child":ce.asChild,dir:y(g),"data-disabled":y(l)?"":void 0,onPointerleave:ue,onFocusout:ve[0]||(ve[0]=async Ae=>{const pe=Ae.relatedTarget||Ae.target;await St(),E.value&&y(m)&&!y(m).contains(pe)&&ue(Ae)})},{default:S(()=>[U(ce.$slots,"default",{modelValue:y(M)}),y(v)&&ce.name?(A(),B(y(vh),{key:0,name:ce.name,value:y(M),disabled:y(l),required:ce.required},null,8,["name","value","disabled","required"])):X("v-if",!0)]),_:3},8,["as","as-child","dir","data-disabled"]))}}),Bz=Tre,Ere=le({__name:"ListboxContent",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const{CollectionSlot:t}=br(),n=bh(),r=lf(!1,10);return(o,s)=>(A(),B(y(t),null,{default:S(()=>[_(y(Le),{role:"listbox",as:o.as,"as-child":o.asChild,tabindex:y(n).focusable.value?y(n).highlightedElement.value?"-1":"0":"-1","aria-orientation":y(n).orientation.value,"aria-multiselectable":!!y(n).multiple.value,"data-orientation":y(n).orientation.value,onMousedown:s[0]||(s[0]=lt(a=>r.value=!0,["left"])),onFocus:s[1]||(s[1]=a=>{y(r)||y(n).onEnter(a)}),onKeydown:[s[2]||(s[2]=no(a=>{y(n).orientation.value==="vertical"&&(a.key==="ArrowLeft"||a.key==="ArrowRight")||y(n).orientation.value==="horizontal"&&(a.key==="ArrowUp"||a.key==="ArrowDown")||(a.preventDefault(),y(n).focusable.value&&y(n).onKeydownNavigation(a))},["down","up","left","right","home","end"])),no(y(n).onKeydownEnter,["enter"]),y(n).onKeydownTypeAhead]},{default:S(()=>[U(o.$slots,"default")]),_:3},8,["as","as-child","tabindex","aria-orientation","aria-multiselectable","data-orientation","onKeydown"])]),_:3}))}}),Nz=Ere,Ire=le({__name:"ListboxFilter",props:{modelValue:{type:String,required:!1},autoFocus:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"input"}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=bn(n,"modelValue",t,{defaultValue:"",passive:n.modelValue===void 0}),s=bh(),{primitiveElement:a,currentElement:i}=Gl(),l=H(()=>n.disabled||s.disabled.value||!1),c=K();return aq(()=>c.value=s.highlightedElement.value?.id),wt(()=>{s.focusable.value=!1,setTimeout(()=>{n.autoFocus&&i.value?.focus()},1)}),ar(()=>{s.focusable.value=!0}),(u,d)=>(A(),B(y(Le),{ref_key:"primitiveElement",ref:a,as:u.as,"as-child":u.asChild,value:y(o),disabled:l.value?"":void 0,"data-disabled":l.value?"":void 0,"aria-disabled":l.value??void 0,"aria-activedescendant":c.value,type:"text",onKeydown:[no(lt(y(s).onKeydownNavigation,["prevent"]),["down","up","home","end"]),no(y(s).onKeydownEnter,["enter"])],onInput:d[0]||(d[0]=f=>{o.value=f.target.value,y(s).highlightFirstItem()}),onCompositionstart:y(s).onCompositionStart,onCompositionend:y(s).onCompositionEnd},{default:S(()=>[U(u.$slots,"default",{modelValue:y(o)})]),_:3},8,["as","as-child","value","disabled","data-disabled","aria-disabled","aria-activedescendant","onKeydown","onCompositionstart","onCompositionend"]))}}),Dz=Ire;const[Pre,Ore]=Ft("ListboxGroup");var Rre=le({__name:"ListboxGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e,n=In(void 0,"reka-listbox-group");return Ore({id:n}),(r,o)=>(A(),B(y(Le),oe({role:"group"},t,{"aria-labelledby":y(n)}),{default:S(()=>[U(r.$slots,"default")]),_:3},16,["aria-labelledby"]))}}),Fz=Rre,Bre=le({__name:"ListboxGroupLabel",props:{for:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(e){const t=e,n=Pre({id:""});return(r,o)=>(A(),B(y(Le),oe(t,{id:y(n).id}),{default:S(()=>[U(r.$slots,"default")]),_:3},16,["id"]))}}),Nre=Bre;const Dre="listbox.select",[Fre,qre]=Ft("ListboxItem");var zre=le({__name:"ListboxItem",props:{value:{type:null,required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},emits:["select"],setup(e,{emit:t}){const n=e,r=t,o=In(void 0,"reka-listbox-item"),{CollectionItem:s}=br(),{forwardRef:a,currentElement:i}=Fe(),l=bh(),c=H(()=>i.value===l.highlightedElement.value),u=H(()=>Mre(l.modelValue.value,n.value,l.by)),d=H(()=>l.disabled.value||n.disabled);async function f(m){r("select",m),!m?.defaultPrevented&&!d.value&&m&&(l.onValueChange(n.value),l.changeHighlight(i.value))}function p(m){const h={originalEvent:m,value:n.value};ch(Dre,f,h)}return qre({isSelected:u}),(m,h)=>(A(),B(y(s),{value:m.value},{default:S(()=>[bZ([c.value,u.value],()=>_(y(Le),oe({id:y(o)},m.$attrs,{ref:y(a),role:"option",tabindex:y(l).focusable.value?c.value?"0":"-1":-1,"aria-selected":u.value,as:m.as,"as-child":m.asChild,disabled:d.value?"":void 0,"data-disabled":d.value?"":void 0,"data-highlighted":c.value?"":void 0,"data-state":u.value?"checked":"unchecked",onClick:p,onKeydown:no(lt(p,["prevent"]),["space"]),onPointermove:h[0]||(h[0]=()=>{y(l).highlightedElement.value!==y(i)&&y(l).highlightOnHover.value&&!y(l).focusable.value&&y(l).changeHighlight(y(i),!1)})}),{default:S(()=>[U(m.$slots,"default")]),_:3},16,["id","tabindex","aria-selected","as","as-child","disabled","data-disabled","data-highlighted","data-state","onKeydown"]),h,1)]),_:3},8,["value"]))}}),qz=zre,Lre=le({__name:"ListboxItemIndicator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){const t=e;Fe();const n=Fre();return(r,o)=>y(n).isSelected.value?(A(),B(y(Le),oe({key:0,"aria-hidden":"true"},t),{default:S(()=>[U(r.$slots,"default")]),_:3},16)):X("v-if",!0)}}),zz=Lre;function fd(e,t,n){let r=n.initialDeps??[],o,s=!0;function a(){var i,l,c;let u;n.key&&((i=n.debug)!=null&&i.call(n))&&(u=Date.now());const d=e();if(!(d.length!==r.length||d.some((m,h)=>r[h]!==m)))return o;r=d;let p;if(n.key&&((l=n.debug)!=null&&l.call(n))&&(p=Date.now()),o=t(...d),n.key&&((c=n.debug)!=null&&c.call(n))){const m=Math.round((Date.now()-u)*100)/100,h=Math.round((Date.now()-p)*100)/100,g=h/16,v=(x,$)=>{for(x=String(x);x.length<$;)x=" "+x;return x};console.info(`%c ${v(h,5)} /${v(m,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*g,120))}deg 100% 31%);`,n?.key)}return n?.onChange&&!(s&&n.skipInitialOnChange)&&n.onChange(o),s=!1,o}return a.updateDeps=i=>{r=i},a}function y2(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const jre=(e,t)=>Math.abs(e-t)<1.01,Vre=(e,t,n)=>{let r;return function(...o){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,o),n)}},b2=e=>{const{offsetWidth:t,offsetHeight:n}=e;return{width:t,height:n}},Ure=e=>e,Kre=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let o=t;o<=n;o++)r.push(o);return r},Hre=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const o=a=>{const{width:i,height:l}=a;t({width:Math.round(i),height:Math.round(l)})};if(o(b2(n)),!r.ResizeObserver)return()=>{};const s=new r.ResizeObserver(a=>{const i=()=>{const l=a[0];if(l?.borderBoxSize){const c=l.borderBoxSize[0];if(c){o({width:c.inlineSize,height:c.blockSize});return}}o(b2(n))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(i):i()});return s.observe(n,{box:"border-box"}),()=>{s.unobserve(n)}},x2={passive:!0},w2=typeof window>"u"?!0:"onscrollend"in window,Wre=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let o=0;const s=e.options.useScrollendEvent&&w2?()=>{}:Vre(r,()=>{t(o,!1)},e.options.isScrollingResetDelay),a=u=>()=>{const{horizontal:d,isRtl:f}=e.options;o=d?n.scrollLeft*(f&&-1||1):n.scrollTop,s(),t(o,u)},i=a(!0),l=a(!1);l(),n.addEventListener("scroll",i,x2);const c=e.options.useScrollendEvent&&w2;return c&&n.addEventListener("scrollend",l,x2),()=>{n.removeEventListener("scroll",i),c&&n.removeEventListener("scrollend",l)}},Gre=(e,t,n)=>{if(t?.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return e[n.options.horizontal?"offsetWidth":"offsetHeight"]},Jre=(e,{adjustments:t=0,behavior:n},r)=>{var o,s;const a=e+t;(s=(o=r.scrollElement)==null?void 0:o.scrollTo)==null||s.call(o,{[r.options.horizontal?"left":"top"]:a,behavior:n})};class Yre{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(o=>{o.forEach(s=>{const a=()=>{this._measureElement(s.target,s)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(a):a()})}));return{disconnect:()=>{var o;(o=r())==null||o.disconnect(),n=null},observe:o=>{var s;return(s=r())==null?void 0:s.observe(o,{box:"border-box"})},unobserve:o=>{var s;return(s=r())==null?void 0:s.unobserve(o)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,o])=>{typeof o>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Ure,rangeExtractor:Kre,onChange:()=>{},measureElement:Gre,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var r,o;(o=(r=this.options).onChange)==null||o.call(r,this,n)},this.maybeNotify=fd(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(o=>{this.observer.observe(o)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,o=>{this.scrollRect=o,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(o,s)=>{this.scrollAdjustments=0,this.scrollDirection=s?this.getScrollOffset()<o?"forward":"backward":null,this.scrollOffset=o,this.isScrolling=s,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const o=new Map,s=new Map;for(let a=r-1;a>=0;a--){const i=n[a];if(o.has(i.lane))continue;const l=s.get(i.lane);if(l==null||i.end>l.end?s.set(i.lane,i):i.end<l.end&&o.set(i.lane,!0),o.size===this.options.lanes)break}return s.size===this.options.lanes?Array.from(s.values()).sort((a,i)=>a.end===i.end?a.index-i.index:a.end-i.end)[0]:void 0},this.getMeasurementOptions=fd(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(n,r,o,s,a,i)=>(this.prevLanes!==void 0&&this.prevLanes!==i&&(this.lanesChangedFlag=!0),this.prevLanes=i,this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:o,getItemKey:s,enabled:a,lanes:i}),{key:!1,skipInitialOnChange:!0,onChange:()=>{this.notify(this.isScrolling)}}),this.getMeasurements=fd(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:o,getItemKey:s,enabled:a,lanes:i},l)=>{if(!a)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>n)for(const f of this.laneAssignments.keys())f>=n&&this.laneAssignments.delete(f);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(f=>{this.itemSizeCache.set(f.key,f.size)}));const c=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===n&&(this.lanesSettling=!1);const u=this.measurementsCache.slice(0,c),d=new Array(i).fill(void 0);for(let f=0;f<c;f++){const p=u[f];p&&(d[p.lane]=f)}for(let f=c;f<n;f++){const p=s(f),m=this.laneAssignments.get(f);let h,g;if(m!==void 0&&this.options.lanes>1){h=m;const C=d[h],M=C!==void 0?u[C]:void 0;g=M?M.end+this.options.gap:r+o}else{const C=this.options.lanes===1?u[f-1]:this.getFurthestMeasurement(u,f);g=C?C.end+this.options.gap:r+o,h=C?C.lane:f%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(f,h)}const v=l.get(p),x=typeof v=="number"?v:this.options.estimateSize(f),$=g+x;u[f]={index:f,start:g,size:x,end:$,key:p,lane:h},d[h]=f}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=fd(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,r,o,s)=>this.range=n.length>0&&r>0?Qre({measurements:n,outerSize:r,scrollOffset:o,lanes:s}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=fd(()=>{let n=null,r=null;const o=this.calculateRange();return o&&(n=o.startIndex,r=o.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,r]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,o,s,a)=>s===null||a===null?[]:n({startIndex:s,endIndex:a,overscan:r,count:o}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,o=n.getAttribute(r);return o?parseInt(o,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const o=this.indexFromElement(n),s=this.measurementsCache[o];if(!s)return;const a=s.key,i=this.elementsCache.get(a);i!==n&&(i&&this.observer.unobserve(i),this.observer.observe(n),this.elementsCache.set(a,n)),n.isConnected&&this.resizeItem(o,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const o=this.measurementsCache[n];if(!o)return;const s=this.itemSizeCache.get(o.key)??o.size,a=r-s;a!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(o,a,this):o.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=a,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(o.index),this.itemSizeCache=new Map(this.itemSizeCache.set(o.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,o)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(o))});return}this._measureElement(n,void 0)},this.getVirtualItems=fd(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,r)=>{const o=[];for(let s=0,a=n.length;s<a;s++){const i=n[s],l=r[i];o.push(l)}return o},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return y2(r[Lz(0,r.length-1,o=>y2(r[o]).start,n)])},this.getOffsetForAlignment=(n,r,o=0)=>{const s=this.getSize(),a=this.getScrollOffset();r==="auto"&&(r=n>=a+s?"end":"start"),r==="center"?n+=(o-s)/2:r==="end"&&(n-=s);const i=this.getTotalSize()+this.options.scrollMargin-s;return Math.max(Math.min(i,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const o=this.measurementsCache[n];if(!o)return;const s=this.getSize(),a=this.getScrollOffset();if(r==="auto")if(o.end>=a+s-this.options.scrollPaddingEnd)r="end";else if(o.start<=a+this.options.scrollPaddingStart)r="start";else return[a,r];const i=r==="end"?o.end+this.options.scrollPaddingEnd:o.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(i,r,o.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(n,{align:r="start",behavior:o}={})=>{o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:o})},this.scrollToIndex=(n,{align:r="auto",behavior:o}={})=>{o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n=Math.max(0,Math.min(n,this.options.count-1));let s=0;const a=10,i=c=>{if(!this.targetWindow)return;const u=this.getOffsetForIndex(n,c);if(!u){console.warn("Failed to get offset for index:",n);return}const[d,f]=u;this._scrollToOffset(d,{adjustments:void 0,behavior:o}),this.targetWindow.requestAnimationFrame(()=>{const p=this.getScrollOffset(),m=this.getOffsetForIndex(n,f);if(!m){console.warn("Failed to get offset for index:",n);return}jre(m[0],p)||l(f)})},l=c=>{this.targetWindow&&(s++,s<a?this.targetWindow.requestAnimationFrame(()=>i(c)):console.warn(`Failed to scroll to index ${n} after ${a} attempts.`))};i(r)},this.scrollBy=(n,{behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let o;if(r.length===0)o=this.options.paddingStart;else if(this.options.lanes===1)o=((n=r[r.length-1])==null?void 0:n.end)??0;else{const s=Array(this.options.lanes).fill(null);let a=r.length-1;for(;a>=0&&s.some(i=>i===null);){const i=r[a];s[i.lane]===null&&(s[i.lane]=i.end),a--}o=Math.max(...s.filter(i=>i!==null))}return Math.max(o-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:o})=>{this.options.scrollToFn(n,{behavior:o,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(t)}}const Lz=(e,t,n,r)=>{for(;e<=t;){const o=(e+t)/2|0,s=n(o);if(s<r)e=o+1;else if(s>r)t=o-1;else return o}return e>0?e-1:0};function Qre({measurements:e,outerSize:t,scrollOffset:n,lanes:r}){const o=e.length-1,s=l=>e[l].start;if(e.length<=r)return{startIndex:0,endIndex:o};let a=Lz(0,o,s,n),i=a;if(r===1)for(;i<o&&e[i].end<n+t;)i++;else if(r>1){const l=Array(r).fill(0);for(;i<o&&l.some(u=>u<n+t);){const u=e[i];l[u.lane]=u.end,i++}const c=Array(r).fill(n+t);for(;a>=0&&c.some(u=>u>=n);){const u=e[a];c[u.lane]=u.start,a--}a=Math.max(0,a-a%r),i=Math.min(o,i+(r-1-i%r))}return{startIndex:a,endIndex:i}}function Xre(e){const t=new Yre(y(e)),n=yr(t),r=t._didMount();return He(()=>y(e).getScrollElement(),o=>{o&&t._willUpdate()},{immediate:!0}),He(()=>y(e),o=>{t.setOptions({...o,onChange:(s,a)=>{var i;yP(n),(i=o.onChange)==null||i.call(o,s,a)}}),t._willUpdate(),yP(n)},{immediate:!0}),oh(r),n}function jz(e){return Xre(H(()=>({observeElementRect:Hre,observeElementOffset:Wre,scrollToFn:Jre,...y(e)})))}var Zre=le({__name:"ListboxVirtualizer",props:{options:{type:Array,required:!0},overscan:{type:Number,required:!1},estimateSize:{type:Number,required:!1},textContent:{type:Function,required:!1}},setup(e){const t=e,n=rn(),r=bh(),o=_ee(),{getItems:s}=br();r.isVirtual.value=!0;const a=H(()=>{const f=o.value;if(f){const p=window.getComputedStyle(f);return{start:Number.parseFloat(p.paddingBlockStart||p.paddingTop),end:Number.parseFloat(p.paddingBlockEnd||p.paddingBottom)}}else return{start:0,end:0}}),i=jz({get scrollPaddingStart(){return a.value.start},get scrollPaddingEnd(){return a.value.end},get count(){return t.options.length},get horizontal(){return r.orientation.value==="horizontal"},estimateSize(){return t.estimateSize??28},getScrollElement(){return o.value},overscan:t.overscan??12}),l=H(()=>i.value.getVirtualItems().map(f=>{const p=n.default({option:t.options[f.index],virtualizer:i.value,virtualItem:f})[0],m=p.type===Ee&&Array.isArray(p.children)?p.children[0]:p;return{item:f,is:Wl(m,{key:`${f.key}`,"data-index":f.index,"aria-setsize":t.options.length,"aria-posinset":f.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${f.start}px)`,overflowAnchor:"none"}})}}));r.virtualFocusHook.on(f=>{const p=t.options.findIndex(m=>Array.isArray(r.modelValue.value)?Vl(m,r.modelValue.value[0],r.by):Vl(m,r.modelValue.value,r.by));p!==-1?(f?.preventDefault(),i.value.scrollToIndex(p,{align:"start"}),requestAnimationFrame(()=>{const m=v2(o.value);m&&(r.changeHighlight(m),f&&m?.focus())})):r.highlightFirstItem()}),r.virtualHighlightHook.on(f=>{const p=t.options.findIndex(m=>Vl(m,f,r.by));i.value.scrollToIndex(p,{align:"start"}),requestAnimationFrame(()=>{const m=v2(o.value);m&&r.changeHighlight(m)})});const c=lf("",1e3),u=H(()=>{const f=p=>t.textContent?t.textContent(p):p?.toString().toLowerCase();return t.options.map((p,m)=>({index:m,textContent:f(p)}))});function d(f,p){if(!r.firstValue?.value||!r.multiple.value||!Array.isArray(r.modelValue.value))return;const h=s().filter(v=>v.ref.dataset.disabled!=="").find(v=>v.ref===r.highlightedElement.value)?.value;if(!h)return;let g=null;switch(p){case"prev":case"next":{g=cy(t.options,r.firstValue.value,h);break}case"first":{g=cy(t.options,r.firstValue.value,t.options?.[0]);break}case"last":{g=cy(t.options,r.firstValue.value,t.options?.[t.options.length-1]);break}}r.modelValue.value=g}return r.virtualKeydownHook.on(f=>{const p=f.altKey||f.ctrlKey||f.metaKey;if(f.key==="Tab"&&!p)return;let h=bz[f.key];if(p&&f.key==="a"&&r.multiple.value?(f.preventDefault(),r.modelValue.value=[...t.options],h="last"):f.shiftKey&&h&&d(f,h),["first","last"].includes(h)){f.preventDefault();const g=h==="first"?0:t.options.length-1;i.value.scrollToIndex(g),requestAnimationFrame(()=>{const v=s(),x=h==="first"?v[0]:v[v.length-1];x&&r.changeHighlight(x.ref)})}else if(!h&&!p){c.value+=f.key;const g=Number(Dn()?.getAttribute("data-index")),v=u.value[g].textContent,x=u.value.map(M=>M.textContent??""),$=fz(x,c.value,v),C=u.value.find(M=>M.textContent===$);C&&(i.value.scrollToIndex(C.index,{align:"start"}),requestAnimationFrame(()=>{const M=o.value.querySelector(`[data-index="${C.index}"]`);M instanceof HTMLElement&&r.changeHighlight(M)}))}}),(f,p)=>(A(),W("div",{"data-reka-virtualizer":"",style:Un({position:"relative",width:"100%",height:`${y(i).getTotalSize()}px`})},[(A(!0),W(Ee,null,Ve(l.value,({is:m,item:h})=>(A(),B(Kn(m),{key:h.index}))),128))],4))}}),Vz=Zre;const[il,eoe]=Ft("ComboboxRoot");var toe=le({__name:"ComboboxRoot",props:{open:{type:Boolean,required:!1,default:void 0},defaultOpen:{type:Boolean,required:!1},resetSearchTermOnBlur:{type:Boolean,required:!1,default:!0},resetSearchTermOnSelect:{type:Boolean,required:!1,default:!0},openOnFocus:{type:Boolean,required:!1,default:!1},openOnClick:{type:Boolean,required:!1,default:!1},ignoreFilter:{type:Boolean,required:!1},resetModelValueOnClear:{type:Boolean,required:!1,default:!1},modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},multiple:{type:Boolean,required:!1},dir:{type:String,required:!1},disabled:{type:Boolean,required:!1},highlightOnHover:{type:Boolean,required:!1,default:!0},by:{type:[String,Function],required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","highlight","update:open"],setup(e,{expose:t,emit:n}){const r=e,o=n,{primitiveElement:s,currentElement:a}=Gl(),{multiple:i,disabled:l,ignoreFilter:c,resetSearchTermOnSelect:u,openOnFocus:d,openOnClick:f,dir:p,resetModelValueOnClear:m,highlightOnHover:h}=an(r),g=Ca(p),v=bn(r,"modelValue",o,{defaultValue:r.defaultValue??(i.value?[]:void 0),passive:r.modelValue===void 0,deep:!0}),x=bn(r,"open",o,{defaultValue:r.defaultOpen,passive:r.open===void 0});async function $(ee){x.value=ee,F.value="",ee?(await St(),s.value?.highlightSelected(),M.value=!0,E.value?.focus()):(M.value=!1,setTimeout(()=>{!ee&&r.resetSearchTermOnBlur&&C.trigger()},1))}const C=Mp(),M=K(!1),I=K(!1),E=K(),P=K(),O=H(()=>s.value?.highlightedElement??void 0),D=K(new Map),L=K(new Map),{contains:V}=lz({sensitivity:"base"}),F=K(""),z=H(ee=>{if(!F.value||r.ignoreFilter||I.value)return{count:D.value.size,items:ee?.items??new Map,groups:ee?.groups??new Set(L.value.keys())};let ne=0;const Y=new Map,Re=new Set;for(const[fe,we]of D.value){const ue=V(we,F.value);Y.set(fe,ue?1:0),ue&&ne++}for(const[fe,we]of L.value)for(const ue of we)if(Y.get(ue)>0){Re.add(fe);break}return{count:ne,items:Y,groups:Re}}),N=ir();return wt(()=>{N?.exposed&&(N.exposed.highlightItem=s.value?.highlightItem,N.exposed.highlightFirstItem=s.value?.highlightFirstItem,N.exposed.highlightSelected=s.value?.highlightSelected)}),t({filtered:z,highlightedElement:O,highlightItem:s.value?.highlightItem,highlightFirstItem:s.value?.highlightFirstItem,highlightSelected:s.value?.highlightSelected}),eoe({modelValue:v,multiple:i,disabled:l,open:x,onOpenChange:$,contentId:"",isUserInputted:M,isVirtual:I,inputElement:E,highlightedElement:O,onInputElementChange:ee=>E.value=ee,triggerElement:P,onTriggerElementChange:ee=>P.value=ee,parentElement:a,resetSearchTermOnSelect:u,onResetSearchTerm:C.on,allItems:D,allGroups:L,filterSearch:F,filterState:z,ignoreFilter:c,openOnFocus:d,openOnClick:f,resetModelValueOnClear:m}),(ee,ne)=>(A(),B(y(Oc),null,{default:S(()=>[_(y(Bz),oe({ref_key:"primitiveElement",ref:s},ee.$attrs,{modelValue:y(v),"onUpdate:modelValue":ne[0]||(ne[0]=Y=>Zt(v)?v.value=Y:null),style:{pointerEvents:y(x)?"auto":void 0},as:ee.as,"as-child":ee.asChild,dir:y(g),multiple:y(i),name:ee.name,required:ee.required,disabled:y(l),"highlight-on-hover":y(h),by:r.by,onHighlight:ne[1]||(ne[1]=Y=>o("highlight",Y))}),{default:S(()=>[U(ee.$slots,"default",{open:y(x),modelValue:y(v)})]),_:3},16,["modelValue","style","as","as-child","dir","multiple","name","required","disabled","highlight-on-hover","by"])]),_:3}))}}),noe=toe;const[roe,ooe]=Ft("ComboboxContent");var soe=le({__name:"ComboboxContentImpl",props:{position:{type:String,required:!1,default:"inline"},bodyLock:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside"],setup(e,{emit:t}){const n=e,r=t,{position:o}=an(n),s=il(),{forwardRef:a,currentElement:i}=Fe();mh(n.bodyLock),hh(s.parentElement);const l=H(()=>n.position==="popper"?n:{}),c=jn(l.value),u={boxSizing:"border-box","--reka-combobox-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-combobox-content-available-width":"var(--reka-popper-available-width)","--reka-combobox-content-available-height":"var(--reka-popper-available-height)","--reka-combobox-trigger-width":"var(--reka-popper-anchor-width)","--reka-combobox-trigger-height":"var(--reka-popper-anchor-height)"};ooe({position:o});const d=K(!1);return wt(()=>{s.inputElement.value&&(d.value=i.value.contains(s.inputElement.value),d.value&&s.inputElement.value.focus())}),ar(()=>{d.value&&s.triggerElement.value?.focus()}),(f,p)=>(A(),B(y(Nz),{"as-child":""},{default:S(()=>[_(y(tu),{"as-child":"","disable-outside-pointer-events":f.disableOutsidePointerEvents,onDismiss:p[0]||(p[0]=m=>y(s).onOpenChange(!1)),onFocusOutside:p[1]||(p[1]=m=>{y(s).parentElement.value?.contains(m.target)&&m.preventDefault(),r("focusOutside",m)}),onInteractOutside:p[2]||(p[2]=m=>r("interactOutside",m)),onEscapeKeyDown:p[3]||(p[3]=m=>r("escapeKeyDown",m)),onPointerDownOutside:p[4]||(p[4]=m=>{y(s).parentElement.value?.contains(m.target)&&m.preventDefault(),r("pointerDownOutside",m)})},{default:S(()=>[(A(),B(Kn(y(o)==="popper"?y(df):y(Le)),oe({...f.$attrs,...y(c)},{id:y(s).contentId,ref:y(a),"data-state":y(s).open.value?"open":"closed",style:{display:"flex",flexDirection:"column",outline:"none",...y(o)==="popper"?u:{}}}),{default:S(()=>[U(f.$slots,"default")]),_:3},16,["id","data-state","style"]))]),_:3},8,["disable-outside-pointer-events"])]),_:3}))}}),aoe=soe,ioe=le({__name:"ComboboxArrow",props:{width:{type:Number,required:!1,default:10},height:{type:Number,required:!1,default:5},rounded:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"svg"}},setup(e){const t=e,n=il(),r=roe();return Fe(),(o,s)=>y(n).open.value&&y(r).position.value==="popper"?(A(),B(y(ff),rt(oe({key:0},t)),{default:S(()=>[U(o.$slots,"default")]),_:3},16)):X("v-if",!0)}}),loe=ioe,uoe=le({__name:"ComboboxContent",props:{forceMount:{type:Boolean,required:!1},position:{type:String,required:!1},bodyLock:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside"],setup(e,{emit:t}){const o=fn(e,t),{forwardRef:s}=Fe(),a=il();return a.contentId||=In(void 0,"reka-combobox-content"),(i,l)=>(A(),B(y(Dr),{present:i.forceMount||y(a).open.value},{default:S(()=>[_(aoe,oe({...y(o),...i.$attrs},{ref:y(s)}),{default:S(()=>[U(i.$slots,"default")]),_:3},16)]),_:3},8,["present"]))}}),coe=uoe,doe=le({__name:"ComboboxEmpty",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e,n=il(),r=H(()=>n.ignoreFilter.value?n.allItems.value.size===0:n.filterState.value.count===0);return(o,s)=>r.value?(A(),B(y(Le),rt(oe({key:0},t)),{default:S(()=>[U(o.$slots,"default",{},()=>[s[0]||(s[0]=J("No options"))])]),_:3},16)):X("v-if",!0)}}),foe=doe;const[Uz,poe]=Ft("ComboboxGroup");var moe=le({__name:"ComboboxGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e,n=In(void 0,"reka-combobox-group"),r=il(),o=H(()=>r.ignoreFilter.value?!0:r.filterSearch.value?r.filterState.value.groups.has(n):!0),s=poe({id:n,labelId:""});return wt(()=>{r.allGroups.value.has(n)||r.allGroups.value.set(n,new Set)}),ar(()=>{r.allGroups.value.delete(n)}),(a,i)=>(A(),B(y(Fz),oe({id:y(n),"aria-labelledby":y(s).labelId},t,{hidden:o.value?void 0:!0}),{default:S(()=>[U(a.$slots,"default")]),_:3},16,["id","aria-labelledby","hidden"]))}}),Ok=moe,hoe=le({__name:"ComboboxInput",props:{displayValue:{type:Function,required:!1},modelValue:{type:String,required:!1},autoFocus:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"input"}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,r=t,o=il(),s=bh(),{primitiveElement:a,currentElement:i}=Gl(),l=bn(n,"modelValue",r,{passive:n.modelValue===void 0});wt(()=>{i.value&&o.onInputElementChange(i.value)});function c(m){o.open.value||o.onOpenChange(!0)}function u(m){const h=m.target;o.open.value?o.filterSearch.value=h.value:(o.onOpenChange(!0),St(()=>{h.value&&(o.filterSearch.value=h.value,s.highlightFirstItem())}))}function d(){o.openOnFocus.value&&!o.open.value&&o.onOpenChange(!0)}function f(){o.openOnClick.value&&!o.open.value&&o.onOpenChange(!0)}function p(){const m=o.modelValue.value;n.displayValue?l.value=n.displayValue(m):!o.multiple.value&&m&&!Array.isArray(m)&&typeof m!="object"?l.value=m.toString():l.value="",St(()=>{l.value=l.value})}return o.onResetSearchTerm(()=>{p()}),He(o.modelValue,async()=>{!o.isUserInputted.value&&o.resetSearchTermOnSelect.value&&p()},{immediate:!0,deep:!0}),He(o.filterState,(m,h)=>{!o.isVirtual.value&&h.count===0&&s.highlightFirstItem()}),(m,h)=>(A(),B(y(Dz),{ref_key:"primitiveElement",ref:a,modelValue:y(l),"onUpdate:modelValue":h[0]||(h[0]=g=>Zt(l)?l.value=g:null),as:m.as,"as-child":m.asChild,"auto-focus":m.autoFocus,disabled:m.disabled,"aria-expanded":y(o).open.value,"aria-controls":y(o).contentId,"aria-autocomplete":"list",role:"combobox",autocomplete:"off",onClick:f,onInput:u,onKeydown:no(lt(c,["prevent"]),["down","up"]),onFocus:d},{default:S(()=>[U(m.$slots,"default")]),_:3},8,["modelValue","as","as-child","auto-focus","disabled","aria-expanded","aria-controls","onKeydown"]))}}),goe=hoe,voe=le({__name:"ComboboxItem",props:{textValue:{type:String,required:!1},value:{type:null,required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select"],setup(e,{emit:t}){const n=e,r=t,o=In(void 0,"reka-combobox-item"),s=il(),a=Uz(null),{primitiveElement:i,currentElement:l}=Gl();if(n.value==="")throw new Error("A <ComboboxItem /> must have a value prop that is not an empty string. This is because the Combobox value can be set to an empty string to clear the selection and show the placeholder.");const c=H(()=>{if(s.isVirtual.value||s.ignoreFilter.value||!s.filterSearch.value)return!0;{const u=s.filterState.value.items.get(o);return u===void 0?!0:u>0}});return wt(()=>{s.allItems.value.set(o,n.textValue||l.value.textContent||l.value.innerText);const u=a?.id;u&&(s.allGroups.value.has(u)?s.allGroups.value.get(u)?.add(o):s.allGroups.value.set(u,new Set([o])))}),ar(()=>{s.allItems.value.delete(o)}),(u,d)=>c.value?(A(),B(y(qz),oe({key:0},n,{id:y(o),ref_key:"primitiveElement",ref:i,disabled:y(s).disabled.value||u.disabled,onSelect:d[0]||(d[0]=f=>{r("select",f),!f.defaultPrevented&&!y(s).multiple.value&&!u.disabled&&!y(s).disabled.value&&(f.preventDefault(),y(s).onOpenChange(!1),y(s).modelValue.value=n.value)})}),{default:S(()=>[U(u.$slots,"default",{},()=>[J(q(u.value),1)])]),_:3},16,["id","disabled"])):X("v-if",!0)}}),k2=voe,yoe=le({__name:"ComboboxItemIndicator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){const t=e;return(n,r)=>(A(),B(y(zz),rt(ct(t)),{default:S(()=>[U(n.$slots,"default")]),_:3},16))}}),boe=yoe,xoe=le({__name:"ComboboxLabel",props:{for:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(e){const t=e;Fe();const n=Uz({id:"",labelId:""});return n.labelId||=In(void 0,"reka-combobox-group-label"),(r,o)=>(A(),B(y(Le),oe(t,{id:y(n).labelId}),{default:S(()=>[U(r.$slots,"default")]),_:3},16,["id"]))}}),woe=xoe,koe=le({__name:"ComboboxPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const t=e;return(n,r)=>(A(),B(y(nu),rt(ct(t)),{default:S(()=>[U(n.$slots,"default")]),_:3},16))}}),_oe=koe,Soe=le({__name:"ComboboxSeparator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e;return Fe(),(n,r)=>(A(),B(y(Le),oe(t,{"aria-hidden":"true"}),{default:S(()=>[U(n.$slots,"default")]),_:3},16))}}),$oe=Soe,Coe=le({__name:"ComboboxTrigger",props:{disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const t=e,{forwardRef:n,currentElement:r}=Fe(),o=il(),s=H(()=>t.disabled||o.disabled.value||!1);return wt(()=>{r.value&&o.onTriggerElementChange(r.value)}),(a,i)=>(A(),B(y(Le),oe(t,{ref:y(n),type:a.as==="button"?"button":void 0,tabindex:"-1","aria-label":"Show popup","aria-haspopup":"listbox","aria-expanded":y(o).open.value,"aria-controls":y(o).contentId,"data-state":y(o).open.value?"open":"closed",disabled:s.value,"data-disabled":s.value?"":void 0,"aria-disabled":s.value??void 0,onClick:i[0]||(i[0]=l=>y(o).onOpenChange(!y(o).open.value))}),{default:S(()=>[U(a.$slots,"default")]),_:3},16,["type","aria-expanded","aria-controls","data-state","disabled","data-disabled","aria-disabled"]))}}),Moe=Coe,Aoe=le({__name:"ComboboxVirtualizer",props:{options:{type:Array,required:!0},overscan:{type:Number,required:!1},estimateSize:{type:Number,required:!1},textContent:{type:Function,required:!1}},setup(e){const t=e,n=il();return n.isVirtual.value=!0,(r,o)=>(A(),B(Vz,rt(ct(t)),{default:S(s=>[U(r.$slots,"default",rt(ct(s)))]),_:3},16))}}),Toe=Aoe,Eoe=le({__name:"MenuAnchor",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e;return(n,r)=>(A(),B(y(Rc),rt(ct(t)),{default:S(()=>[U(n.$slots,"default")]),_:3},16))}}),Kz=Eoe,Ioe=le({__name:"MenuArrow",props:{width:{type:Number,required:!1},height:{type:Number,required:!1},rounded:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e;return(n,r)=>(A(),B(y(ff),rt(ct(t)),{default:S(()=>[U(n.$slots,"default")]),_:3},16))}}),Poe=Ioe;function Ooe(){const e=K(!1);return wt(()=>{Xi("keydown",()=>{e.value=!0},{capture:!0,passive:!0}),Xi(["pointerdown","pointermove"],()=>{e.value=!1},{capture:!0,passive:!0})}),e}const Roe=tz(Ooe),[Nc,Hz]=Ft(["MenuRoot","MenuSub"],"MenuContext"),[xh,Boe]=Ft("MenuRoot");var Noe=le({__name:"MenuRoot",props:{open:{type:Boolean,required:!1,default:!1},dir:{type:String,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(e,{emit:t}){const n=e,r=t,{modal:o,dir:s}=an(n),a=Ca(s),i=bn(n,"open",r),l=K(),c=Roe();return Hz({open:i,onOpenChange:u=>{i.value=u},content:l,onContentChange:u=>{l.value=u}}),Boe({onClose:()=>{i.value=!1},isUsingKeyboardRef:c,dir:a,modal:o}),(u,d)=>(A(),B(y(Oc),null,{default:S(()=>[U(u.$slots,"default")]),_:3}))}}),Doe=Noe;const[NC,Foe]=Ft("MenuContent");var qoe=le({__name:"MenuContentImpl",props:kq({loop:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},disableOutsideScroll:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},{...Rz}),emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus","dismiss"],setup(e,{emit:t}){const n=e,r=t,o=Nc(),s=xh(),{trapFocus:a,disableOutsidePointerEvents:i,loop:l}=an(n);yC(),mh(i.value);const c=K(""),u=K(0),d=K(0),f=K(null),p=K("right"),m=K(0),h=K(null),g=K(),{forwardRef:v,currentElement:x}=Fe(),{handleTypeaheadSearch:$}=dx();He(x,O=>{o.onContentChange(O)}),ar(()=>{window.clearTimeout(u.value)});function C(O){return p.value===f.value?.side&&Ete(O,f.value?.area)}async function M(O){r("openAutoFocus",O),!O.defaultPrevented&&(O.preventDefault(),x.value?.focus({preventScroll:!0}))}function I(O){if(O.defaultPrevented)return;const L=O.target.closest("[data-reka-menu-content]")===O.currentTarget,V=O.ctrlKey||O.altKey||O.metaKey,F=O.key.length===1,z=dh(O,Dn(),x.value,{loop:l.value,arrowKeyOptions:"vertical",dir:s?.dir.value,focus:!0,attributeName:"[data-reka-collection-item]:not([data-disabled])"});if(z)return z?.focus();if(O.code==="Space")return;const N=g.value?.getItems()??[];if(L&&(O.key==="Tab"&&O.preventDefault(),!V&&F&&$(O.key,N)),O.target!==x.value||!Cte.includes(O.key))return;O.preventDefault();const ee=[...N.map(ne=>ne.ref)];vz.includes(O.key)&&ee.reverse(),wS(ee)}function E(O){O?.currentTarget?.contains?.(O.target)||(window.clearTimeout(u.value),c.value="")}function P(O){if(!Qp(O))return;const D=O.target,L=m.value!==O.clientX;if(O?.currentTarget?.contains(D)&&L){const V=O.clientX>m.value?"right":"left";p.value=V,m.value=O.clientX}}return Foe({onItemEnter:O=>!!C(O),onItemLeave:O=>{C(O)||(x.value?.focus(),h.value=null)},onTriggerLeave:O=>!!C(O),searchRef:c,pointerGraceTimerRef:d,onPointerGraceIntentChange:O=>{f.value=O}}),(O,D)=>(A(),B(y(gh),{"as-child":"",trapped:y(a),onMountAutoFocus:M,onUnmountAutoFocus:D[7]||(D[7]=L=>r("closeAutoFocus",L))},{default:S(()=>[_(y(tu),{"as-child":"","disable-outside-pointer-events":y(i),onEscapeKeyDown:D[2]||(D[2]=L=>r("escapeKeyDown",L)),onPointerDownOutside:D[3]||(D[3]=L=>r("pointerDownOutside",L)),onFocusOutside:D[4]||(D[4]=L=>r("focusOutside",L)),onInteractOutside:D[5]||(D[5]=L=>r("interactOutside",L)),onDismiss:D[6]||(D[6]=L=>r("dismiss"))},{default:S(()=>[_(y(MC),{ref_key:"rovingFocusGroupRef",ref:g,"current-tab-stop-id":h.value,"onUpdate:currentTabStopId":D[0]||(D[0]=L=>h.value=L),"as-child":"",orientation:"vertical",dir:y(s).dir.value,loop:y(l),onEntryFocus:D[1]||(D[1]=L=>{r("entryFocus",L),y(s).isUsingKeyboardRef.value||L.preventDefault()})},{default:S(()=>[_(y(df),{ref:y(v),role:"menu",as:O.as,"as-child":O.asChild,"aria-orientation":"vertical","data-reka-menu-content":"","data-state":y(kC)(y(o).open.value),dir:y(s).dir.value,side:O.side,"side-offset":O.sideOffset,align:O.align,"align-offset":O.alignOffset,"avoid-collisions":O.avoidCollisions,"collision-boundary":O.collisionBoundary,"collision-padding":O.collisionPadding,"arrow-padding":O.arrowPadding,"prioritize-position":O.prioritizePosition,"position-strategy":O.positionStrategy,"update-position-strategy":O.updatePositionStrategy,sticky:O.sticky,"hide-when-detached":O.hideWhenDetached,reference:O.reference,onKeydown:I,onBlur:E,onPointermove:P},{default:S(()=>[U(O.$slots,"default")]),_:3},8,["as","as-child","data-state","dir","side","side-offset","align","align-offset","avoid-collisions","collision-boundary","collision-padding","arrow-padding","prioritize-position","position-strategy","update-position-strategy","sticky","hide-when-detached","reference"])]),_:3},8,["current-tab-stop-id","dir","loop"])]),_:3},8,["disable-outside-pointer-events"])]),_:3},8,["trapped"]))}}),DC=qoe,zoe=le({inheritAttrs:!1,__name:"MenuItemImpl",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e,n=NC(),{forwardRef:r}=Fe(),{CollectionItem:o}=br(),s=K(!1);async function a(l){l.defaultPrevented||Qp(l)&&(t.disabled?n.onItemLeave(l):n.onItemEnter(l)||l.currentTarget?.focus({preventScroll:!0}))}async function i(l){await St(),!l.defaultPrevented&&Qp(l)&&n.onItemLeave(l)}return(l,c)=>(A(),B(y(o),{value:{textValue:l.textValue}},{default:S(()=>[_(y(Le),oe({ref:y(r),role:"menuitem",tabindex:"-1"},l.$attrs,{as:l.as,"as-child":l.asChild,"aria-disabled":l.disabled||void 0,"data-disabled":l.disabled?"":void 0,"data-highlighted":s.value?"":void 0,onPointermove:a,onPointerleave:i,onFocus:c[0]||(c[0]=async u=>{await St(),!(u.defaultPrevented||l.disabled)&&(s.value=!0)}),onBlur:c[1]||(c[1]=async u=>{await St(),!u.defaultPrevented&&(s.value=!1)})}),{default:S(()=>[U(l.$slots,"default")]),_:3},16,["as","as-child","aria-disabled","data-disabled","data-highlighted"])]),_:3},8,["value"]))}}),Wz=zoe,Loe=le({__name:"MenuItem",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select"],setup(e,{emit:t}){const n=e,r=t,{forwardRef:o,currentElement:s}=Fe(),a=xh(),i=NC(),l=K(!1);async function c(){const u=s.value;if(!n.disabled&&u){const d=new CustomEvent(Ste,{bubbles:!0,cancelable:!0});r("select",d),await St(),d.defaultPrevented?l.value=!1:a.onClose()}}return(u,d)=>(A(),B(Wz,oe(n,{ref:y(o),onClick:c,onPointerdown:d[0]||(d[0]=()=>{l.value=!0}),onPointerup:d[1]||(d[1]=async f=>{await St(),!f.defaultPrevented&&(l.value||f.currentTarget?.click())}),onKeydown:d[2]||(d[2]=async f=>{const p=y(i).searchRef.value!=="";u.disabled||p&&f.key===" "||y(xS).includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})}),{default:S(()=>[U(u.$slots,"default")]),_:3},16))}}),FC=Loe;const[joe,Gz]=Ft(["MenuCheckboxItem","MenuRadioItem"],"MenuItemIndicatorContext");var Voe=le({__name:"MenuItemIndicator",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){const t=joe({modelValue:K(!1)});return(n,r)=>(A(),B(y(Dr),{present:n.forceMount||y(eb)(y(t).modelValue.value)||y(t).modelValue.value===!0},{default:S(()=>[_(y(Le),{as:n.as,"as-child":n.asChild,"data-state":y(_C)(y(t).modelValue.value)},{default:S(()=>[U(n.$slots,"default")]),_:3},8,["as","as-child","data-state"])]),_:3},8,["present"]))}}),Uoe=Voe,Koe=le({__name:"MenuCheckboxItem",props:{modelValue:{type:[Boolean,String],required:!1,default:!1},disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select","update:modelValue"],setup(e,{emit:t}){const n=e,r=t,o=fh(n,["modelValue"]),s=jn(o),a=bn(n,"modelValue",r);return Gz({modelValue:a}),(i,l)=>(A(),B(FC,oe({role:"menuitemcheckbox"},y(s),{"aria-checked":y(eb)(y(a))?"mixed":y(a),"data-state":y(_C)(y(a)),onSelect:l[0]||(l[0]=async c=>{r("select",c),y(eb)(y(a))?a.value=!0:a.value=!y(a)})}),{default:S(()=>[U(i.$slots,"default",{modelValue:y(a)})]),_:3},16,["aria-checked","data-state"]))}}),Hoe=Koe,Woe=le({__name:"MenuRootContentModal",props:{loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const n=e,r=t,o=fn(n,r),s=Nc(),{forwardRef:a,currentElement:i}=Fe();return hh(i),(l,c)=>(A(),B(DC,oe(y(o),{ref:y(a),"trap-focus":y(s).open.value,"disable-outside-pointer-events":y(s).open.value,"disable-outside-scroll":!0,onDismiss:c[0]||(c[0]=u=>y(s).onOpenChange(!1)),onFocusOutside:c[1]||(c[1]=lt(u=>r("focusOutside",u),["prevent"]))}),{default:S(()=>[U(l.$slots,"default")]),_:3},16,["trap-focus","disable-outside-pointer-events"]))}}),Goe=Woe,Joe=le({__name:"MenuRootContentNonModal",props:{loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const o=fn(e,t),s=Nc();return(a,i)=>(A(),B(DC,oe(y(o),{"trap-focus":!1,"disable-outside-pointer-events":!1,"disable-outside-scroll":!1,onDismiss:i[0]||(i[0]=l=>y(s).onOpenChange(!1))}),{default:S(()=>[U(a.$slots,"default")]),_:3},16))}}),Yoe=Joe,Qoe=le({__name:"MenuContent",props:{forceMount:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const o=fn(e,t),s=Nc(),a=xh();return(i,l)=>(A(),B(y(Dr),{present:i.forceMount||y(s).open.value},{default:S(()=>[y(a).modal.value?(A(),B(Goe,rt(oe({key:0},{...i.$attrs,...y(o)})),{default:S(()=>[U(i.$slots,"default")]),_:3},16)):(A(),B(Yoe,rt(oe({key:1},{...i.$attrs,...y(o)})),{default:S(()=>[U(i.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),Xoe=Qoe,Zoe=le({__name:"MenuGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e;return(n,r)=>(A(),B(y(Le),oe({role:"group"},t),{default:S(()=>[U(n.$slots,"default")]),_:3},16))}}),Jz=Zoe,ese=le({__name:"MenuLabel",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(e){const t=e;return(n,r)=>(A(),B(y(Le),rt(ct(t)),{default:S(()=>[U(n.$slots,"default")]),_:3},16))}}),tse=ese,nse=le({__name:"MenuPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const t=e;return(n,r)=>(A(),B(y(nu),rt(ct(t)),{default:S(()=>[U(n.$slots,"default")]),_:3},16))}}),rse=nse;const[ose,sse]=Ft("MenuRadioGroup");var ase=le({__name:"MenuRadioGroup",props:{modelValue:{type:String,required:!1,default:""},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,r=t,o=fh(n,["modelValue"]),s=jn(o),a=bn(n,"modelValue",r);return sse({modelValue:a,onValueChange:i=>{a.value=i}}),(i,l)=>(A(),B(Jz,rt(ct(y(s))),{default:S(()=>[U(i.$slots,"default",{modelValue:y(a)})]),_:3},16))}}),ise=ase,lse=le({__name:"MenuRadioItem",props:{value:{type:String,required:!0},disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select"],setup(e,{emit:t}){const n=e,r=t,o=fh(n,["value"]),s=jn(o),{value:a}=an(n),i=ose(),l=H(()=>i.modelValue.value===a?.value);return Gz({modelValue:l}),(c,u)=>(A(),B(FC,oe({role:"menuitemradio"},y(s),{"aria-checked":l.value,"data-state":y(_C)(l.value),onSelect:u[0]||(u[0]=async d=>{r("select",d),y(i).onValueChange(y(a))})}),{default:S(()=>[U(c.$slots,"default")]),_:3},16,["aria-checked","data-state"]))}}),use=lse,cse=le({__name:"MenuSeparator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e;return(n,r)=>(A(),B(y(Le),oe(t,{role:"separator","aria-orientation":"horizontal"}),{default:S(()=>[U(n.$slots,"default")]),_:3},16))}}),dse=cse;const[Yz,fse]=Ft("MenuSub");var pse=le({__name:"MenuSub",props:{open:{type:Boolean,required:!1,default:void 0}},emits:["update:open"],setup(e,{emit:t}){const n=e,o=bn(n,"open",t,{defaultValue:!1,passive:n.open===void 0}),s=Nc(),a=K(),i=K();return Cn(l=>{s?.open.value===!1&&(o.value=!1),l(()=>o.value=!1)}),Hz({open:o,onOpenChange:l=>{o.value=l},content:i,onContentChange:l=>{i.value=l}}),fse({triggerId:"",contentId:"",trigger:a,onTriggerChange:l=>{a.value=l}}),(l,c)=>(A(),B(y(Oc),null,{default:S(()=>[U(l.$slots,"default")]),_:3}))}}),mse=pse,hse=le({__name:"MenuSubContent",props:{forceMount:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1,default:!0},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const o=fn(e,t),s=Nc(),a=xh(),i=Yz(),{forwardRef:l,currentElement:c}=Fe();return i.contentId||=In(void 0,"reka-menu-sub-content"),(u,d)=>(A(),B(y(Dr),{present:u.forceMount||y(s).open.value},{default:S(()=>[_(DC,oe(y(o),{id:y(i).contentId,ref:y(l),"aria-labelledby":y(i).triggerId,align:"start",side:y(a).dir.value==="rtl"?"left":"right","disable-outside-pointer-events":!1,"disable-outside-scroll":!1,"trap-focus":!1,onOpenAutoFocus:d[0]||(d[0]=lt(f=>{y(a).isUsingKeyboardRef.value&&y(c)?.focus()},["prevent"])),onCloseAutoFocus:d[1]||(d[1]=lt(()=>{},["prevent"])),onFocusOutside:d[2]||(d[2]=f=>{f.defaultPrevented||f.target!==y(i).trigger.value&&y(s).onOpenChange(!1)}),onEscapeKeyDown:d[3]||(d[3]=f=>{y(a).onClose(),f.preventDefault()}),onKeydown:d[4]||(d[4]=f=>{const p=f.currentTarget?.contains(f.target),m=y(Ate)[y(a).dir.value].includes(f.key);p&&m&&(y(s).onOpenChange(!1),y(i).trigger.value?.focus(),f.preventDefault())})}),{default:S(()=>[U(u.$slots,"default")]),_:3},16,["id","aria-labelledby","side"])]),_:3},8,["present"]))}}),gse=hse,vse=le({__name:"MenuSubTrigger",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e,n=Nc(),r=xh(),o=Yz(),s=NC(),a=K(null);o.triggerId||=In(void 0,"reka-menu-sub-trigger");function i(){a.value&&window.clearTimeout(a.value),a.value=null}ar(()=>{i()});function l(d){!Qp(d)||s.onItemEnter(d)||!t.disabled&&!n.open.value&&!a.value&&(s.onPointerGraceIntentChange(null),a.value=window.setTimeout(()=>{n.onOpenChange(!0),i()},100))}async function c(d){if(!Qp(d))return;i();const f=n.content.value?.getBoundingClientRect();if(f?.width){const p=n.content.value?.dataset.side,m=p==="right",h=m?-5:5,g=f[m?"left":"right"],v=f[m?"right":"left"];s.onPointerGraceIntentChange({area:[{x:d.clientX+h,y:d.clientY},{x:g,y:f.top},{x:v,y:f.top},{x:v,y:f.bottom},{x:g,y:f.bottom}],side:p}),window.clearTimeout(s.pointerGraceTimerRef.value),s.pointerGraceTimerRef.value=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(d))return;s.onPointerGraceIntentChange(null)}}async function u(d){const f=s.searchRef.value!=="";t.disabled||f&&d.key===" "||Mte[r.dir.value].includes(d.key)&&(n.onOpenChange(!0),await St(),n.content.value?.focus(),d.preventDefault())}return(d,f)=>(A(),B(Kz,{"as-child":""},{default:S(()=>[_(Wz,oe(t,{id:y(o).triggerId,ref:p=>{y(o)?.onTriggerChange(p?.$el)},"aria-haspopup":"menu","aria-expanded":y(n).open.value,"aria-controls":y(o).contentId,"data-state":y(kC)(y(n).open.value),onClick:f[0]||(f[0]=async p=>{t.disabled||p.defaultPrevented||(p.currentTarget.focus(),y(n).open.value||y(n).onOpenChange(!0))}),onPointermove:l,onPointerleave:c,onKeydown:u}),{default:S(()=>[U(d.$slots,"default")]),_:3},16,["id","aria-expanded","aria-controls","data-state"])]),_:3}))}}),yse=vse;const[Dc,bse]=Ft("PopoverRoot");var xse=le({__name:"PopoverRoot",props:{defaultOpen:{type:Boolean,required:!1,default:!1},open:{type:Boolean,required:!1,default:void 0},modal:{type:Boolean,required:!1,default:!1}},emits:["update:open"],setup(e,{emit:t}){const n=e,r=t,{modal:o}=an(n),s=bn(n,"open",r,{defaultValue:n.defaultOpen,passive:n.open===void 0}),a=K(),i=K(!1);return bse({contentId:"",triggerId:"",modal:o,open:s,onOpenChange:l=>{s.value=l},onOpenToggle:()=>{s.value=!s.value},triggerElement:a,hasCustomAnchor:i}),(l,c)=>(A(),B(y(Oc),null,{default:S(()=>[U(l.$slots,"default",{open:y(s),close:()=>s.value=!1})]),_:3}))}}),wse=xse,kse=le({__name:"PopoverAnchor",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e;Fe();const n=Dc();return gq(()=>{n.hasCustomAnchor.value=!0}),ar(()=>{n.hasCustomAnchor.value=!1}),(r,o)=>(A(),B(y(Rc),rt(ct(t)),{default:S(()=>[U(r.$slots,"default")]),_:3},16))}}),_se=kse,Sse=le({__name:"PopoverArrow",props:{width:{type:Number,required:!1,default:10},height:{type:Number,required:!1,default:5},rounded:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"svg"}},setup(e){const t=e;return Fe(),(n,r)=>(A(),B(y(ff),rt(ct(t)),{default:S(()=>[U(n.$slots,"default")]),_:3},16))}}),$se=Sse,Cse=le({__name:"PopoverClose",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const t=e;Fe();const n=Dc();return(r,o)=>(A(),B(y(Le),{type:r.as==="button"?"button":void 0,as:r.as,"as-child":t.asChild,onClick:o[0]||(o[0]=s=>y(n).onOpenChange(!1))},{default:S(()=>[U(r.$slots,"default")]),_:3},8,["type","as","as-child"]))}}),Mse=Cse,Ase=le({__name:"PopoverContentImpl",props:{trapFocus:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const n=e,r=t,o=jn(fh(n,"trapFocus","disableOutsidePointerEvents")),{forwardRef:s}=Fe(),a=Dc();return yC(),(i,l)=>(A(),B(y(gh),{"as-child":"",loop:"",trapped:i.trapFocus,onMountAutoFocus:l[5]||(l[5]=c=>r("openAutoFocus",c)),onUnmountAutoFocus:l[6]||(l[6]=c=>r("closeAutoFocus",c))},{default:S(()=>[_(y(tu),{"as-child":"","disable-outside-pointer-events":i.disableOutsidePointerEvents,onPointerDownOutside:l[0]||(l[0]=c=>r("pointerDownOutside",c)),onInteractOutside:l[1]||(l[1]=c=>r("interactOutside",c)),onEscapeKeyDown:l[2]||(l[2]=c=>r("escapeKeyDown",c)),onFocusOutside:l[3]||(l[3]=c=>r("focusOutside",c)),onDismiss:l[4]||(l[4]=c=>y(a).onOpenChange(!1))},{default:S(()=>[_(y(df),oe(y(o),{id:y(a).contentId,ref:y(s),"data-state":y(a).open.value?"open":"closed","aria-labelledby":y(a).triggerId,style:{"--reka-popover-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-popover-content-available-width":"var(--reka-popper-available-width)","--reka-popover-content-available-height":"var(--reka-popper-available-height)","--reka-popover-trigger-width":"var(--reka-popper-anchor-width)","--reka-popover-trigger-height":"var(--reka-popper-anchor-height)"},role:"dialog"}),{default:S(()=>[U(i.$slots,"default")]),_:3},16,["id","data-state","aria-labelledby"])]),_:3},8,["disable-outside-pointer-events"])]),_:3},8,["trapped"]))}}),Qz=Ase,Tse=le({__name:"PopoverContentModal",props:{side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const n=e,r=t,o=Dc(),s=K(!1);mh(!0);const a=fn(n,r),{forwardRef:i,currentElement:l}=Fe();return hh(l),(c,u)=>(A(),B(Qz,oe(y(a),{ref:y(i),"trap-focus":y(o).open.value,"disable-outside-pointer-events":"",onCloseAutoFocus:u[0]||(u[0]=lt(d=>{r("closeAutoFocus",d),s.value||y(o).triggerElement.value?.focus()},["prevent"])),onPointerDownOutside:u[1]||(u[1]=d=>{r("pointerDownOutside",d);const f=d.detail.originalEvent,p=f.button===0&&f.ctrlKey===!0,m=f.button===2||p;s.value=m}),onFocusOutside:u[2]||(u[2]=lt(()=>{},["prevent"]))}),{default:S(()=>[U(c.$slots,"default")]),_:3},16,["trap-focus"]))}}),Ese=Tse,Ise=le({__name:"PopoverContentNonModal",props:{side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const n=e,r=t,o=Dc(),s=K(!1),a=K(!1),i=fn(n,r);return(l,c)=>(A(),B(Qz,oe(y(i),{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:c[0]||(c[0]=u=>{r("closeAutoFocus",u),u.defaultPrevented||(s.value||y(o).triggerElement.value?.focus(),u.preventDefault()),s.value=!1,a.value=!1}),onInteractOutside:c[1]||(c[1]=async u=>{r("interactOutside",u),u.defaultPrevented||(s.value=!0,u.detail.originalEvent.type==="pointerdown"&&(a.value=!0));const d=u.target;y(o).triggerElement.value?.contains(d)&&u.preventDefault(),u.detail.originalEvent.type==="focusin"&&a.value&&u.preventDefault()})}),{default:S(()=>[U(l.$slots,"default")]),_:3},16))}}),Pse=Ise,Ose=le({__name:"PopoverContent",props:{forceMount:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const n=e,r=t,o=Dc(),s=fn(n,r),{forwardRef:a}=Fe();return o.contentId||=In(void 0,"reka-popover-content"),(i,l)=>(A(),B(y(Dr),{present:i.forceMount||y(o).open.value},{default:S(()=>[y(o).modal.value?(A(),B(Ese,oe({key:0},y(s),{ref:y(a)}),{default:S(()=>[U(i.$slots,"default")]),_:3},16)):(A(),B(Pse,oe({key:1},y(s),{ref:y(a)}),{default:S(()=>[U(i.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),Rse=Ose,Bse=le({__name:"PopoverPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const t=e;return(n,r)=>(A(),B(y(nu),rt(ct(t)),{default:S(()=>[U(n.$slots,"default")]),_:3},16))}}),Nse=Bse,Dse=le({__name:"PopoverTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const t=e,n=Dc(),{forwardRef:r,currentElement:o}=Fe();return n.triggerId||=In(void 0,"reka-popover-trigger"),wt(()=>{n.triggerElement.value=o.value}),(s,a)=>(A(),B(Kn(y(n).hasCustomAnchor.value?y(Le):y(Rc)),{"as-child":""},{default:S(()=>[_(y(Le),{id:y(n).triggerId,ref:y(r),type:s.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":y(n).open.value,"aria-controls":y(n).contentId,"data-state":y(n).open.value?"open":"closed",as:s.as,"as-child":t.asChild,onClick:y(n).onOpenToggle},{default:S(()=>[U(s.$slots,"default")]),_:3},8,["id","type","aria-expanded","aria-controls","data-state","as","as-child","onClick"])]),_:3}))}}),Fse=Dse,qse=le({__name:"DropdownMenuArrow",props:{width:{type:Number,required:!1,default:10},height:{type:Number,required:!1,default:5},rounded:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"svg"}},setup(e){const t=e;return Fe(),(n,r)=>(A(),B(y(Poe),rt(ct(t)),{default:S(()=>[U(n.$slots,"default")]),_:3},16))}}),Xz=qse,zse=le({__name:"DropdownMenuCheckboxItem",props:{modelValue:{type:[Boolean,String],required:!1},disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select","update:modelValue"],setup(e,{emit:t}){const n=e,o=Pc(t);return Fe(),(s,a)=>(A(),B(y(Hoe),rt(ct({...n,...y(o)})),{default:S(()=>[U(s.$slots,"default")]),_:3},16))}}),Lse=zse;const[Zz,jse]=Ft("DropdownMenuRoot");var Vse=le({__name:"DropdownMenuRoot",props:{defaultOpen:{type:Boolean,required:!1},open:{type:Boolean,required:!1,default:void 0},dir:{type:String,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(e,{emit:t}){const n=e,r=t;Fe();const o=bn(n,"open",r,{defaultValue:n.defaultOpen,passive:n.open===void 0}),s=K(),{modal:a,dir:i}=an(n),l=Ca(i);return jse({open:o,onOpenChange:c=>{o.value=c},onOpenToggle:()=>{o.value=!o.value},triggerId:"",triggerElement:s,contentId:"",modal:a,dir:l}),(c,u)=>(A(),B(y(Doe),{open:y(o),"onUpdate:open":u[0]||(u[0]=d=>Zt(o)?o.value=d:null),dir:y(l),modal:y(a)},{default:S(()=>[U(c.$slots,"default",{open:y(o)})]),_:3},8,["open","dir","modal"]))}}),e3=Vse,Use=le({__name:"DropdownMenuContent",props:{forceMount:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(e,{emit:t}){const o=fn(e,t);Fe();const s=Zz(),a=K(!1);function i(l){l.defaultPrevented||(a.value||setTimeout(()=>{s.triggerElement.value?.focus()},0),a.value=!1,l.preventDefault())}return s.contentId||=In(void 0,"reka-dropdown-menu-content"),(l,c)=>(A(),B(y(Xoe),oe(y(o),{id:y(s).contentId,"aria-labelledby":y(s)?.triggerId,style:{"--reka-dropdown-menu-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-dropdown-menu-content-available-width":"var(--reka-popper-available-width)","--reka-dropdown-menu-content-available-height":"var(--reka-popper-available-height)","--reka-dropdown-menu-trigger-width":"var(--reka-popper-anchor-width)","--reka-dropdown-menu-trigger-height":"var(--reka-popper-anchor-height)"},onCloseAutoFocus:i,onInteractOutside:c[0]||(c[0]=u=>{if(u.defaultPrevented)return;const d=u.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0,p=d.button===2||f;(!y(s).modal.value||p)&&(a.value=!0),y(s).triggerElement.value?.contains(u.target)&&u.preventDefault()})}),{default:S(()=>[U(l.$slots,"default")]),_:3},16,["id","aria-labelledby"]))}}),Kse=Use,Hse=le({__name:"DropdownMenuGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e;return Fe(),(n,r)=>(A(),B(y(Jz),rt(ct(t)),{default:S(()=>[U(n.$slots,"default")]),_:3},16))}}),Wse=Hse,Gse=le({__name:"DropdownMenuItem",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select"],setup(e,{emit:t}){const n=e,o=Pc(t);return Fe(),(s,a)=>(A(),B(y(FC),rt(ct({...n,...y(o)})),{default:S(()=>[U(s.$slots,"default")]),_:3},16))}}),Jse=Gse,Yse=le({__name:"DropdownMenuItemIndicator",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e;return Fe(),(n,r)=>(A(),B(y(Uoe),rt(ct(t)),{default:S(()=>[U(n.$slots,"default")]),_:3},16))}}),Qse=Yse,Xse=le({__name:"DropdownMenuLabel",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e;return Fe(),(n,r)=>(A(),B(y(tse),rt(ct(t)),{default:S(()=>[U(n.$slots,"default")]),_:3},16))}}),Zse=Xse,eae=le({__name:"DropdownMenuPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const t=e;return(n,r)=>(A(),B(y(rse),rt(ct(t)),{default:S(()=>[U(n.$slots,"default")]),_:3},16))}}),tae=eae,nae=le({__name:"DropdownMenuRadioGroup",props:{modelValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=Pc(t);return Fe(),(s,a)=>(A(),B(y(ise),rt(ct({...n,...y(o)})),{default:S(()=>[U(s.$slots,"default")]),_:3},16))}}),rae=nae,oae=le({__name:"DropdownMenuRadioItem",props:{value:{type:String,required:!0},disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select"],setup(e,{emit:t}){const o=fn(e,t);return Fe(),(s,a)=>(A(),B(y(use),rt(ct(y(o))),{default:S(()=>[U(s.$slots,"default")]),_:3},16))}}),sae=oae,aae=le({__name:"DropdownMenuSeparator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e;return Fe(),(n,r)=>(A(),B(y(dse),rt(ct(t)),{default:S(()=>[U(n.$slots,"default")]),_:3},16))}}),iae=aae,lae=le({__name:"DropdownMenuSub",props:{defaultOpen:{type:Boolean,required:!1},open:{type:Boolean,required:!1,default:void 0}},emits:["update:open"],setup(e,{emit:t}){const n=e,o=bn(n,"open",t,{passive:n.open===void 0,defaultValue:n.defaultOpen??!1});return Fe(),(s,a)=>(A(),B(y(mse),{open:y(o),"onUpdate:open":a[0]||(a[0]=i=>Zt(o)?o.value=i:null)},{default:S(()=>[U(s.$slots,"default",{open:y(o)})]),_:3},8,["open"]))}}),uae=lae,cae=le({__name:"DropdownMenuSubContent",props:{forceMount:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const o=fn(e,t);return Fe(),(s,a)=>(A(),B(y(gse),oe(y(o),{style:{"--reka-dropdown-menu-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-dropdown-menu-content-available-width":"var(--reka-popper-available-width)","--reka-dropdown-menu-content-available-height":"var(--reka-popper-available-height)","--reka-dropdown-menu-trigger-width":"var(--reka-popper-anchor-width)","--reka-dropdown-menu-trigger-height":"var(--reka-popper-anchor-height)"}}),{default:S(()=>[U(s.$slots,"default")]),_:3},16))}}),dae=cae,fae=le({__name:"DropdownMenuSubTrigger",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e;return Fe(),(n,r)=>(A(),B(y(yse),rt(ct(t)),{default:S(()=>[U(n.$slots,"default")]),_:3},16))}}),pae=fae,mae=le({__name:"DropdownMenuTrigger",props:{disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const t=e,n=Zz(),{forwardRef:r,currentElement:o}=Fe();return wt(()=>{n.triggerElement=o}),n.triggerId||=In(void 0,"reka-dropdown-menu-trigger"),(s,a)=>(A(),B(y(Kz),{"as-child":""},{default:S(()=>[_(y(Le),{id:y(n).triggerId,ref:y(r),type:s.as==="button"?"button":void 0,"as-child":t.asChild,as:s.as,"aria-haspopup":"menu","aria-expanded":y(n).open.value,"aria-controls":y(n).open.value?y(n).contentId:void 0,"data-disabled":s.disabled?"":void 0,disabled:s.disabled,"data-state":y(n).open.value?"open":"closed",onClick:a[0]||(a[0]=async i=>{!s.disabled&&i.button===0&&i.ctrlKey===!1&&(y(n)?.onOpenToggle(),await St(),y(n).open.value&&i.preventDefault())}),onKeydown:a[1]||(a[1]=no(i=>{s.disabled||(["Enter"," "].includes(i.key)&&y(n).onOpenToggle(),i.key==="ArrowDown"&&y(n).onOpenChange(!0),["Enter"," ","ArrowDown"].includes(i.key)&&i.preventDefault())},["enter","space","arrow-down"]))},{default:S(()=>[U(s.$slots,"default")]),_:3},8,["id","type","as-child","as","aria-expanded","aria-controls","data-disabled","disabled","data-state"])]),_:3}))}}),t3=mae,hae=le({__name:"HoverCardArrow",props:{width:{type:Number,required:!1,default:10},height:{type:Number,required:!1,default:5},rounded:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"svg"}},setup(e){const t=e;return Fe(),(n,r)=>(A(),B(y(ff),rt(ct(t)),{default:S(()=>[U(n.$slots,"default")]),_:3},16))}}),gae=hae;const[qC,vae]=Ft("HoverCardRoot");var yae=le({__name:"HoverCardRoot",props:{defaultOpen:{type:Boolean,required:!1,default:!1},open:{type:Boolean,required:!1,default:void 0},openDelay:{type:Number,required:!1,default:700},closeDelay:{type:Number,required:!1,default:300}},emits:["update:open"],setup(e,{emit:t}){const n=e,r=t,{openDelay:o,closeDelay:s}=an(n);Fe();const a=bn(n,"open",r,{defaultValue:n.defaultOpen,passive:n.open===void 0}),i=K(0),l=K(0),c=K(!1),u=K(!1),d=K(!1),f=K();function p(){clearTimeout(l.value),i.value=window.setTimeout(()=>a.value=!0,o.value)}function m(){clearTimeout(i.value),!c.value&&!u.value&&(l.value=window.setTimeout(()=>a.value=!1,s.value))}function h(){a.value=!1}return vae({open:a,onOpenChange(g){a.value=g},onOpen:p,onClose:m,onDismiss:h,hasSelectionRef:c,isPointerDownOnContentRef:u,isPointerInTransitRef:d,triggerElement:f}),(g,v)=>(A(),B(y(Oc),null,{default:S(()=>[U(g.$slots,"default",{open:y(a)})]),_:3}))}}),bae=yae;function MS(e){return t=>t.pointerType==="touch"?void 0:e()}function xae(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;n.nextNode();)t.push(n.currentNode);return t}var wae=le({__name:"HoverCardContentImpl",props:{side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside"],setup(e,{emit:t}){const n=e,r=t,o=jn(n),{forwardRef:s,currentElement:a}=Fe(),i=qC(),{isPointerInTransit:l,onPointerExit:c}=uz(i.triggerElement,a);mee(i.isPointerInTransitRef,l,{direction:"rtl"}),c(()=>{i.onClose()});const u=K(!1);let d;Cn(p=>{if(u.value){const m=document.body;d=m.style.userSelect||m.style.webkitUserSelect,m.style.userSelect="none",m.style.webkitUserSelect="none",p(()=>{m.style.userSelect=d,m.style.webkitUserSelect=d})}});function f(){u.value=!1,i.isPointerDownOnContentRef.value=!1,St(()=>{document.getSelection()?.toString()!==""&&(i.hasSelectionRef.value=!0)})}return wt(()=>{a.value&&(document.addEventListener("pointerup",f),xae(a.value).forEach(m=>m.setAttribute("tabindex","-1")))}),ar(()=>{document.removeEventListener("pointerup",f),i.hasSelectionRef.value=!1,i.isPointerDownOnContentRef.value=!1}),(p,m)=>(A(),B(y(tu),{"as-child":"","disable-outside-pointer-events":!1,onEscapeKeyDown:m[1]||(m[1]=h=>r("escapeKeyDown",h)),onPointerDownOutside:m[2]||(m[2]=h=>r("pointerDownOutside",h)),onFocusOutside:m[3]||(m[3]=lt(h=>r("focusOutside",h),["prevent"])),onDismiss:y(i).onDismiss},{default:S(()=>[_(y(df),oe({...y(o),...p.$attrs},{ref:y(s),"data-state":y(i).open.value?"open":"closed",style:{userSelect:u.value?"text":void 0,WebkitUserSelect:u.value?"text":void 0,"--reka-hover-card-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-hover-card-content-available-width":"var(--reka-popper-available-width)","--reka-hover-card-content-available-height":"var(--reka-popper-available-height)","--reka-hover-card-trigger-width":"var(--reka-popper-anchor-width)","--reka-hover-card-trigger-height":"var(--reka-popper-anchor-height)"},onPointerdown:m[0]||(m[0]=h=>{h.currentTarget.contains(h.target)&&(u.value=!0),y(i).hasSelectionRef.value=!1,y(i).isPointerDownOnContentRef.value=!0})}),{default:S(()=>[U(p.$slots,"default")]),_:3},16,["data-state","style"])]),_:3},8,["onDismiss"]))}}),kae=wae,_ae=le({__name:"HoverCardContent",props:{forceMount:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside"],setup(e,{emit:t}){const o=fn(e,t),{forwardRef:s}=Fe(),a=qC();return(i,l)=>(A(),B(y(Dr),{present:i.forceMount||y(a).open.value},{default:S(()=>[_(kae,oe(y(o),{ref:y(s),onPointerenter:l[0]||(l[0]=c=>y(MS)(y(a).onOpen)(c))}),{default:S(()=>[U(i.$slots,"default")]),_:3},16)]),_:3},8,["present"]))}}),Sae=_ae,$ae=le({__name:"HoverCardPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const t=e;return(n,r)=>(A(),B(y(nu),rt(ct(t)),{default:S(()=>[U(n.$slots,"default")]),_:3},16))}}),Cae=$ae,Mae=le({__name:"HoverCardTrigger",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"a"}},setup(e){const{forwardRef:t,currentElement:n}=Fe(),r=qC();r.triggerElement=n;function o(){setTimeout(()=>{!r.isPointerInTransitRef.value&&!r.open.value&&r.onClose()},0)}return(s,a)=>(A(),B(y(Rc),{"as-child":"",reference:s.reference},{default:S(()=>[_(y(Le),{ref:y(t),"as-child":s.asChild,as:s.as,"data-state":y(r).open.value?"open":"closed","data-grace-area-trigger":"",onPointerenter:a[0]||(a[0]=i=>y(MS)(y(r).onOpen)(i)),onPointerleave:a[1]||(a[1]=i=>y(MS)(o)(i)),onFocus:a[2]||(a[2]=i=>y(r).onOpen()),onBlur:a[3]||(a[3]=i=>y(r).onClose())},{default:S(()=>[U(s.$slots,"default")]),_:3},8,["as-child","as","data-state"])]),_:3},8,["reference"]))}}),Aae=Mae,Tae=le({__name:"Label",props:{for:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"label"}},setup(e){const t=e;return Fe(),(n,r)=>(A(),B(y(Le),oe(t,{onMousedown:r[0]||(r[0]=o=>{!o.defaultPrevented&&o.detail>1&&o.preventDefault()})}),{default:S(()=>[U(n.$slots,"default")]),_:3},16))}}),Vd=Tae;const[Fc,Eae]=Ft(["NavigationMenuRoot","NavigationMenuSub"],"NavigationMenuContext");var Iae=le({__name:"NavigationMenuRoot",props:{modelValue:{type:String,required:!1,default:void 0},defaultValue:{type:String,required:!1},dir:{type:String,required:!1},orientation:{type:String,required:!1,default:"horizontal"},delayDuration:{type:Number,required:!1,default:200},skipDelayDuration:{type:Number,required:!1,default:300},disableClickTrigger:{type:Boolean,required:!1,default:!1},disableHoverTrigger:{type:Boolean,required:!1,default:!1},disablePointerLeaveClose:{type:Boolean,required:!1},unmountOnHide:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"nav"}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=bn(n,"modelValue",t,{defaultValue:n.defaultValue??"",passive:n.modelValue===void 0}),s=K(""),{forwardRef:a,currentElement:i}=Fe(),l=K(),c=K(),u=K(),{getItems:d,CollectionSlot:f}=br({key:"NavigationMenu",isProvider:!0}),{delayDuration:p,skipDelayDuration:m,dir:h,disableClickTrigger:g,disableHoverTrigger:v,unmountOnHide:x}=an(n),$=Ca(h),C=lf(!1,m),M=H(()=>o.value!==""||C.value?150:p.value),I=fee(E=>{typeof E=="string"&&(s.value=o.value,o.value=E)},M);return Cn(()=>{if(!o.value)return;const E=d().map(P=>P.ref);u.value=E.find(P=>P.id.includes(o.value))}),Eae({isRootMenu:!0,modelValue:o,previousValue:s,baseId:In(void 0,"reka-navigation-menu"),disableClickTrigger:g,disableHoverTrigger:v,dir:$,unmountOnHide:x,orientation:n.orientation,rootNavigationMenu:i,indicatorTrack:l,activeTrigger:u,onIndicatorTrackChange:E=>{l.value=E},viewport:c,onViewportChange:E=>{c.value=E},onTriggerEnter:E=>{I(E)},onTriggerLeave:()=>{C.value=!0,I("")},onContentEnter:()=>{I()},onContentLeave:()=>{n.disablePointerLeaveClose||I("")},onItemSelect:E=>{s.value=o.value,o.value=E},onItemDismiss:()=>{s.value=o.value,o.value=""}}),(E,P)=>(A(),B(y(f),null,{default:S(()=>[_(y(Le),{ref:y(a),"aria-label":"Main",as:E.as,"as-child":E.asChild,"data-orientation":E.orientation,dir:y($),"data-reka-navigation-menu":""},{default:S(()=>[U(E.$slots,"default",{modelValue:y(o)})]),_:3},8,["as","as-child","data-orientation","dir"])]),_:3}))}}),Pae=Iae;function gx(e){return e?"open":"closed"}function n3(e,t){return`${e}-trigger-${t}`}function zC(e,t){return`${e}-content-${t}`}const Oae="navigationMenu.linkSelect",fy="navigationMenu.rootContentDismiss";function AS(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function r3(e){const t=Dn();return e.some(n=>n===t?!0:(n.focus(),Dn()!==t))}function Rae(e){return e.forEach(t=>{t.dataset.tabindex=t.getAttribute("tabindex")||"",t.setAttribute("tabindex","-1")}),()=>{e.forEach(t=>{const n=t.dataset.tabindex;t.setAttribute("tabindex",n)})}}function o3(e){return t=>t.pointerType==="mouse"?e(t):void 0}const[LC,Bae]=Ft("NavigationMenuItem");var Nae=le({__name:"NavigationMenuItem",props:{value:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"li"}},setup(e){const t=e;Fe();const{getItems:n}=br({key:"NavigationMenu"}),r=Fc(),o=In(t.value),s=K(),a=K(),i=zC(r.baseId,o);let l=()=>({});const c=K(!1);async function u(m="start"){const h=document.getElementById(i);if(h){l();const g=AS(h);g.length&&r3(m==="start"?g:g.reverse())}}function d(){const m=document.getElementById(i);if(m){const h=AS(m);h.length&&(l=Rae(h))}}Bae({value:o,contentId:i,triggerRef:s,focusProxyRef:a,wasEscapeCloseRef:c,onEntryKeyDown:u,onFocusProxyEnter:u,onContentFocusOutside:d,onRootContentClose:d});function f(){r.onItemDismiss(),s.value?.focus()}function p(m){const h=Dn();if(m.keyCode===32||m.key==="Enter")if(r.modelValue.value===o){f(),m.preventDefault();return}else{m.target.click(),m.preventDefault();return}const g=n().filter(x=>x.ref.parentElement?.hasAttribute("data-menu-item")).map(x=>x.ref);if(!g.includes(h))return;const v=dh(m,h,void 0,{itemsArray:g,loop:!1});v&&v?.focus(),m.preventDefault(),m.stopPropagation()}return(m,h)=>(A(),B(y(Le),{"as-child":m.asChild,as:m.as,"data-menu-item":"",onKeydown:no(p,["up","down","left","right","home","end","space"])},{default:S(()=>[U(m.$slots,"default")]),_:3},8,["as-child","as"]))}}),Dae=Nae,Fae=le({__name:"NavigationMenuContentImpl",props:{disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside"],setup(e,{emit:t}){const n=e,r=t,{getItems:o}=br({key:"NavigationMenu"}),{forwardRef:s,currentElement:a}=Fe(),i=Fc(),l=LC(),c=n3(i.baseId,l.value),u=zC(i.baseId,l.value),d=K(null),f=H(()=>{const x=o().map(P=>P.ref.id.split("trigger-")[1]);i.dir.value==="rtl"&&x.reverse();const $=x.indexOf(i.modelValue.value),C=x.indexOf(i.previousValue.value),M=l.value===i.modelValue.value,I=C===x.indexOf(l.value);if(!M&&!I)return d.value;const E=(()=>{if($!==C){if(M&&C!==-1)return $>C?"from-end":"from-start";if(I&&$!==-1)return $>C?"to-start":"to-end"}return null})();return d.value=E,E});function p(x){if(r("focusOutside",x),r("interactOutside",x),x.detail.originalEvent.target.hasAttribute("data-navigation-menu-trigger")&&x.preventDefault(),!x.defaultPrevented){l.onContentFocusOutside();const C=x.target;i.rootNavigationMenu?.value?.contains(C)&&x.preventDefault()}}function m(x){if(r("pointerDownOutside",x),!x.defaultPrevented){const $=x.target,C=o().some(I=>I.ref.contains($)),M=i.isRootMenu&&i.viewport.value?.contains($);(C||M||!i.isRootMenu)&&x.preventDefault()}}Cn(x=>{const $=a.value;if(i.isRootMenu&&$){const C=()=>{i.onItemDismiss(),l.onRootContentClose(),$.contains(Dn())&&l.triggerRef.value?.focus()};$.addEventListener(fy,C),x(()=>$.removeEventListener(fy,C))}});function h(x){r("escapeKeyDown",x),x.defaultPrevented||(i.onItemDismiss(),l.triggerRef?.value?.focus(),l.wasEscapeCloseRef.value=!0)}function g(x){if(x.target.closest("[data-reka-navigation-menu]")!==i.rootNavigationMenu.value)return;const $=x.altKey||x.ctrlKey||x.metaKey,C=x.key==="Tab"&&!$,M=AS(x.currentTarget);if(C){const E=Dn(),P=M.findIndex(L=>L===E),D=x.shiftKey?M.slice(0,P).reverse():M.slice(P+1,M.length);if(r3(D))x.preventDefault();else{l.focusProxyRef.value?.focus();return}}dh(x,Dn(),void 0,{itemsArray:M,loop:!1,enableIgnoredElement:!0})?.focus()}function v(){const x=new Event(fy,{bubbles:!0,cancelable:!0});a.value?.dispatchEvent(x)}return(x,$)=>(A(),B(y(tu),oe({id:y(u),ref:y(s),"aria-labelledby":y(c),"data-motion":f.value,"data-state":y(gx)(y(i).modelValue.value===y(l).value),"data-orientation":y(i).orientation},n,{onKeydown:g,onEscapeKeyDown:h,onPointerDownOutside:m,onFocusOutside:p,onDismiss:v}),{default:S(()=>[U(x.$slots,"default")]),_:3},16,["id","aria-labelledby","data-motion","data-state","data-orientation"]))}}),qae=Fae,zae=le({inheritAttrs:!1,__name:"NavigationMenuContent",props:{forceMount:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside"],setup(e,{emit:t}){const n=e,r=t,o=fn(fh(n,"forceMount"),r),{forwardRef:s}=Fe(),a=Fc(),i=LC(),l=H(()=>i.value===a.modelValue.value),c=H(()=>a.viewport.value&&!a.modelValue.value&&a.previousValue.value?a.previousValue.value===i.value:!1);return(u,d)=>(A(),B(ih,{to:y(oa)&&y(a).viewport.value?y(a).viewport.value:"body",disabled:y(oa)&&y(a).viewport.value?!y(a).viewport.value:!0},[_(y(Dr),{present:u.forceMount||l.value||c.value,"force-mount":!y(a).unmountOnHide.value},{default:S(({present:f})=>[_(qae,oe({ref:y(s),"data-state":y(gx)(l.value),style:{pointerEvents:!l.value&&y(a).isRootMenu?"none":void 0}},{...u.$attrs,...y(o)},{hidden:!f,onPointerenter:d[0]||(d[0]=p=>y(a).onContentEnter(y(i).value)),onPointerleave:d[1]||(d[1]=p=>y(o3)(()=>y(a).onContentLeave())(p)),onPointerDownOutside:d[2]||(d[2]=p=>r("pointerDownOutside",p)),onFocusOutside:d[3]||(d[3]=p=>r("focusOutside",p)),onInteractOutside:d[4]||(d[4]=p=>r("interactOutside",p))}),{default:S(()=>[U(u.$slots,"default")]),_:2},1040,["data-state","style","hidden"])]),_:3},8,["present","force-mount"])],8,["to","disabled"]))}}),Lae=zae,jae=le({inheritAttrs:!1,__name:"NavigationMenuIndicator",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e,{forwardRef:n}=Fe(),r=Fc(),o=K(),s=H(()=>r.orientation==="horizontal"),a=H(()=>!!r.modelValue.value),{activeTrigger:i}=r;function l(){i.value&&(o.value={size:s.value?i.value.offsetWidth:i.value.offsetHeight,position:s.value?i.value.offsetLeft:i.value.offsetTop})}return Cn(()=>{r.modelValue.value&&l()}),qd(i,l),qd(r.indicatorTrack,l),(c,u)=>y(r).indicatorTrack.value?(A(),B(ih,{key:0,to:y(r).indicatorTrack.value},[_(y(Dr),{present:c.forceMount||a.value},{default:S(()=>[_(y(Le),oe({ref:y(n),"aria-hidden":"true","data-state":a.value?"visible":"hidden","data-orientation":y(r).orientation,"as-child":t.asChild,as:c.as,style:{...o.value?{"--reka-navigation-menu-indicator-size":`${o.value.size}px`,"--reka-navigation-menu-indicator-position":`${o.value.position}px`}:{}}},c.$attrs),{default:S(()=>[U(c.$slots,"default")]),_:3},16,["data-state","data-orientation","as-child","as","style"])]),_:3},8,["present"])],8,["to"])):X("v-if",!0)}}),Vae=jae,Uae=le({__name:"NavigationMenuLink",props:{active:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"a"}},emits:["select"],setup(e,{emit:t}){const n=e,r=t,{CollectionItem:o}=br({key:"NavigationMenu"});Fe();async function s(a){const i=new CustomEvent(Oae,{bubbles:!0,cancelable:!0,detail:{originalEvent:a}});if(r("select",i),!i.defaultPrevented&&!a.metaKey){const l=new CustomEvent(fy,{bubbles:!0,cancelable:!0});a.target?.dispatchEvent(l)}}return(a,i)=>(A(),B(y(o),null,{default:S(()=>[_(y(Le),{as:a.as,"data-active":a.active?"":void 0,"aria-current":a.active?"page":void 0,"as-child":n.asChild,onClick:s},{default:S(()=>[U(a.$slots,"default")]),_:3},8,["as","data-active","aria-current","as-child"])]),_:3}))}}),Rk=Uae,Kae=le({inheritAttrs:!1,__name:"NavigationMenuList",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"ul"}},setup(e){const t=e,n=Fc(),{forwardRef:r,currentElement:o}=Fe();return wt(()=>{n.onIndicatorTrackChange(o.value)}),(s,a)=>(A(),B(y(Le),{ref:y(r),style:{position:"relative"}},{default:S(()=>[_(y(Le),oe(s.$attrs,{"as-child":t.asChild,as:s.as,"data-orientation":y(n).orientation}),{default:S(()=>[U(s.$slots,"default")]),_:3},16,["as-child","as","data-orientation"])]),_:3},512))}}),Hae=Kae;const Wae=["aria-owns"];var Gae=le({inheritAttrs:!1,__name:"NavigationMenuTrigger",props:{disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const t=e,n=Fc(),r=LC(),{CollectionItem:o}=br({key:"NavigationMenu"}),{forwardRef:s,currentElement:a}=Fe(),i=K(""),l=K(""),c=lf(!1,300),u=K(!1),d=H(()=>r.value===n.modelValue.value);wt(()=>{r.triggerRef=a,i.value=n3(n.baseId,r.value),l.value=zC(n.baseId,r.value)});function f(){n.disableHoverTrigger.value||(u.value=!1,r.wasEscapeCloseRef.value=!1)}function p($){if(!n.disableHoverTrigger.value&&$.pointerType==="mouse"){if(t.disabled||u.value||r.wasEscapeCloseRef.value||c.value)return;n.onTriggerEnter(r.value),c.value=!0}}function m($){if(!n.disableHoverTrigger.value&&$.pointerType==="mouse"){if(t.disabled)return;n.onTriggerLeave(),c.value=!1}}function h($){(!("pointerType"in $)||$.pointerType==="mouse")&&n.disableClickTrigger.value||c.value||(d.value?n.onItemSelect(""):n.onItemSelect(r.value),u.value=d.value)}function g($){const M={horizontal:"ArrowDown",vertical:n.dir.value==="rtl"?"ArrowLeft":"ArrowRight"}[n.orientation];d.value&&$.key===M&&(r.onEntryKeyDown(),$.preventDefault(),$.stopPropagation())}function v($){r.focusProxyRef.value=xs($)}function x($){const C=document.getElementById(r.contentId),M=$.relatedTarget,I=M===a.value,E=C?.contains(M);(I||!E)&&r.onFocusProxyEnter(I?"start":"end")}return($,C)=>(A(),W(Ee,null,[_(y(o),null,{default:S(()=>[_(y(Le),oe({id:i.value,ref:y(s),disabled:$.disabled,"data-disabled":$.disabled?"":void 0,"data-state":y(gx)(d.value),"data-navigation-menu-trigger":"","aria-expanded":d.value,"aria-controls":l.value,"as-child":t.asChild,as:$.as},$.$attrs,{onPointerenter:f,onPointermove:p,onPointerleave:m,onClick:h,onKeydown:g}),{default:S(()=>[U($.$slots,"default")]),_:3},16,["id","disabled","data-disabled","data-state","aria-expanded","aria-controls","as-child","as"])]),_:3}),d.value?(A(),W(Ee,{key:0},[_(y(al),{ref:v,"aria-hidden":"true",tabindex:0,onFocus:x}),y(n).viewport?(A(),W("span",{key:0,"aria-owns":l.value},null,8,Wae)):X("v-if",!0)],64)):X("v-if",!0)],64))}}),Jae=Gae,Yae=le({inheritAttrs:!1,__name:"NavigationMenuViewport",props:{forceMount:{type:Boolean,required:!1},align:{type:String,required:!1,default:"center"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e,{forwardRef:n,currentElement:r}=Fe(),o=Fc(),{activeTrigger:s,rootNavigationMenu:a,modelValue:i}=o,l=K(),c=K(),u=H(()=>!!o.modelValue.value);He(r,()=>{o.onViewportChange(r.value)});const d=K();He([i,u],()=>{St(()=>{r.value&&requestAnimationFrame(()=>{const p=r.value?.querySelector("[data-state=open]");d.value=p})})},{immediate:!0});function f(){if(d.value&&s.value&&a.value){const p=document.documentElement.offsetWidth,m=document.documentElement.offsetHeight,h=a.value.getBoundingClientRect(),g=s.value.getBoundingClientRect(),{offsetWidth:v,offsetHeight:x}=d.value,$=g.left-h.left,C=g.top-h.top;let M=null,I=null;switch(t.align){case"start":M=$,I=C;break;case"end":M=$-v+g.width,I=C-x+g.height;break;default:M=$-v/2+g.width/2,I=C-x/2+g.height/2}const E=10;M+h.left<E&&(M=E-h.left);const P=M+h.left+v;P>p-E&&(M-=P-p+E,M<E-h.left&&(M=E-h.left)),I+h.top<E&&(I=E-h.top);const O=I+h.top+x;O>m-E&&(I-=O-m+E,I<E-h.top&&(I=E-h.top)),M=Math.round(M),I=Math.round(I),c.value={left:M,top:I}}}return qd(d,()=>{d.value&&(l.value={width:d.value.offsetWidth,height:d.value.offsetHeight},f())}),qd([globalThis.document?.body,a],()=>{f()}),(p,m)=>(A(),B(y(Dr),{present:p.forceMount||u.value,"force-mount":!y(o).unmountOnHide.value,onAfterLeave:m[2]||(m[2]=()=>{l.value=void 0,c.value=void 0})},{default:S(({present:h})=>[_(y(Le),oe(p.$attrs,{ref:y(n),as:p.as,"as-child":p.asChild,"data-state":y(gx)(u.value),"data-orientation":y(o).orientation,style:{pointerEvents:!u.value&&y(o).isRootMenu?"none":void 0,"--reka-navigation-menu-viewport-width":l.value?`${l.value?.width}px`:void 0,"--reka-navigation-menu-viewport-height":l.value?`${l.value?.height}px`:void 0,"--reka-navigation-menu-viewport-left":c.value?`${c.value?.left}px`:void 0,"--reka-navigation-menu-viewport-top":c.value?`${c.value?.top}px`:void 0},hidden:!h,onPointerenter:m[0]||(m[0]=g=>y(o).onContentEnter(y(o).modelValue.value)),onPointerleave:m[1]||(m[1]=g=>y(o3)(()=>y(o).onContentLeave())(g))}),{default:S(()=>[U(p.$slots,"default")]),_:2},1040,["as","as-child","data-state","data-orientation","style","hidden"])]),_:3},8,["present","force-mount"]))}}),Qae=Yae,Xae=le({__name:"PaginationEllipsis",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e;return Fe(),(n,r)=>(A(),B(y(Le),oe(t,{"data-type":"ellipsis"}),{default:S(()=>[U(n.$slots,"default",{},()=>[r[0]||(r[0]=J(""))])]),_:3},16))}}),Zae=Xae;const[pf,eie]=Ft("PaginationRoot");var tie=le({__name:"PaginationRoot",props:{page:{type:Number,required:!1},defaultPage:{type:Number,required:!1,default:1},itemsPerPage:{type:Number,required:!0},total:{type:Number,required:!1,default:0},siblingCount:{type:Number,required:!1,default:2},disabled:{type:Boolean,required:!1},showEdges:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"nav"}},emits:["update:page"],setup(e,{emit:t}){const n=e,r=t,{siblingCount:o,disabled:s,showEdges:a}=an(n);Fe();const i=bn(n,"page",r,{defaultValue:n.defaultPage,passive:n.page===void 0}),l=H(()=>Math.max(1,Math.ceil(n.total/(n.itemsPerPage||1))));return eie({page:i,onPageChange(c){i.value=c},pageCount:l,siblingCount:o,disabled:s,showEdges:a}),(c,u)=>(A(),B(y(Le),{as:c.as,"as-child":c.asChild},{default:S(()=>[U(c.$slots,"default",{page:y(i),pageCount:l.value})]),_:3},8,["as","as-child"]))}}),nie=tie,rie=le({__name:"PaginationFirst",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const t=e,n=pf();Fe();const r=H(()=>n.page.value===1||n.disabled.value);return(o,s)=>(A(),B(y(Le),oe(t,{"aria-label":"First Page",type:o.as==="button"?"button":void 0,disabled:r.value,onClick:s[0]||(s[0]=a=>!r.value&&y(n).onPageChange(1))}),{default:S(()=>[U(o.$slots,"default",{},()=>[s[1]||(s[1]=J("First page"))])]),_:3},16,["type","disabled"]))}}),oie=rie,sie=le({__name:"PaginationLast",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const t=e,n=pf();Fe();const r=H(()=>n.page.value===n.pageCount.value||n.disabled.value);return(o,s)=>(A(),B(y(Le),oe(t,{"aria-label":"Last Page",type:o.as==="button"?"button":void 0,disabled:r.value,onClick:s[0]||(s[0]=a=>!r.value&&y(n).onPageChange(y(n).pageCount.value))}),{default:S(()=>[U(o.$slots,"default",{},()=>[s[1]||(s[1]=J("Last page"))])]),_:3},16,["type","disabled"]))}}),aie=sie;function kl(e,t){const n=t-e+1;return Array.from({length:n},(r,o)=>o+e)}function iie(e){return e.map(t=>typeof t=="number"?{type:"page",value:t}:{type:"ellipsis"})}const Gg="ellipsis";function lie(e,t,n,r){const s=t,a=Math.max(e-n,1),i=Math.min(e+n,s);if(r){const c=Math.min(2*n+5,t)-2,u=a>3&&Math.abs(s-c-1+1)>2&&Math.abs(a-1)>2,d=i<s-2&&Math.abs(s-c)>2&&Math.abs(s-i)>2;if(!u&&d)return[...kl(1,c),Gg,s];if(u&&!d){const p=kl(s-c+1,s);return[1,Gg,...p]}if(u&&d){const p=kl(a,i);return[1,Gg,...p,Gg,s]}return kl(1,s)}else{const l=n*2+1;return t<l?kl(1,s):e<=n+1?kl(1,l):t-e<=n?kl(t-l+1,s):kl(a,i)}}var uie=le({__name:"PaginationList",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e;Fe();const n=pf(),r=H(()=>iie(lie(n.page.value,n.pageCount.value,n.siblingCount.value,n.showEdges.value)));return(o,s)=>(A(),B(y(Le),rt(ct(t)),{default:S(()=>[U(o.$slots,"default",{items:r.value})]),_:3},16))}}),cie=uie,die=le({__name:"PaginationListItem",props:{value:{type:Number,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const t=e;Fe();const n=pf(),r=H(()=>n.page.value===t.value),o=H(()=>n.disabled.value);return(s,a)=>(A(),B(y(Le),oe(t,{"data-type":"page","aria-label":`Page ${s.value}`,"aria-current":r.value?"page":void 0,"data-selected":r.value?"true":void 0,disabled:o.value,type:s.as==="button"?"button":void 0,onClick:a[0]||(a[0]=i=>!o.value&&y(n).onPageChange(s.value))}),{default:S(()=>[U(s.$slots,"default",{},()=>[J(q(s.value),1)])]),_:3},16,["aria-label","aria-current","data-selected","disabled","type"]))}}),fie=die,pie=le({__name:"PaginationNext",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const t=e;Fe();const n=pf(),r=H(()=>n.page.value===n.pageCount.value||n.disabled.value);return(o,s)=>(A(),B(y(Le),oe(t,{"aria-label":"Next Page",type:o.as==="button"?"button":void 0,disabled:r.value,onClick:s[0]||(s[0]=a=>!r.value&&y(n).onPageChange(y(n).page.value+1))}),{default:S(()=>[U(o.$slots,"default",{},()=>[s[1]||(s[1]=J("Next page"))])]),_:3},16,["type","disabled"]))}}),mie=pie,hie=le({__name:"PaginationPrev",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const t=e;Fe();const n=pf(),r=H(()=>n.page.value===1||n.disabled.value);return(o,s)=>(A(),B(y(Le),oe(t,{"aria-label":"Previous Page",type:o.as==="button"?"button":void 0,disabled:r.value,onClick:s[0]||(s[0]=a=>!r.value&&y(n).onPageChange(y(n).page.value-1))}),{default:S(()=>[U(o.$slots,"default",{},()=>[s[1]||(s[1]=J("Prev page"))])]),_:3},16,["type","disabled"]))}}),gie=hie;const em=100,[vie,yie]=Ft("ProgressRoot"),ab=e=>typeof e=="number";function bie(e,t){return bc(e)||ab(e)&&!Number.isNaN(e)&&e<=t&&e>=0?e:(console.error(`Invalid prop \`value\` of value \`${e}\` supplied to \`ProgressRoot\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${em} if no \`max\` prop is set)
  - \`null\`  or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`),null)}function xie(e){return ab(e)&&!Number.isNaN(e)&&e>0?e:(console.error(`Invalid prop \`max\` of value \`${e}\` supplied to \`ProgressRoot\`. Only numbers greater than 0 are valid max values. Defaulting to \`${em}\`.`),em)}var wie=le({__name:"ProgressRoot",props:{modelValue:{type:[Number,null],required:!1},max:{type:Number,required:!1,default:em},getValueLabel:{type:Function,required:!1,default:(e,t)=>ab(e)?`${Math.round(e/t*em)}%`:void 0},getValueText:{type:Function,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["update:modelValue","update:max"],setup(e,{emit:t}){const n=e,r=t;Fe();const o=bn(n,"modelValue",r,{passive:n.modelValue===void 0}),s=bn(n,"max",r,{passive:n.max===void 0});He(()=>o.value,async i=>{const l=bie(i,n.max);l!==i&&(await St(),o.value=l)},{immediate:!0}),He(()=>n.max,i=>{const l=xie(n.max);l!==i&&(s.value=l)},{immediate:!0});const a=H(()=>bc(o.value)?"indeterminate":o.value===s.value?"complete":"loading");return yie({modelValue:o,max:s,progressState:a}),(i,l)=>(A(),B(y(Le),{"as-child":i.asChild,as:i.as,"aria-valuemax":y(s),"aria-valuemin":0,"aria-valuenow":ab(y(o))?y(o):void 0,"aria-valuetext":i.getValueText?.(y(o),y(s)),"aria-label":i.getValueLabel(y(o),y(s)),role:"progressbar","data-state":a.value,"data-value":y(o)??void 0,"data-max":y(s)},{default:S(()=>[U(i.$slots,"default",{modelValue:y(o)})]),_:3},8,["as-child","as","aria-valuemax","aria-valuenow","aria-valuetext","aria-label","data-state","data-value","data-max"]))}}),kie=wie,_ie=le({__name:"ProgressIndicator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e,n=vie();return Fe(),(r,o)=>(A(),B(y(Le),oe(t,{"data-state":y(n).progressState.value,"data-value":y(n).modelValue?.value??void 0,"data-max":y(n).max.value}),{default:S(()=>[U(r.$slots,"default")]),_:3},16,["data-state","data-value","data-max"]))}}),Sie=_ie;const $ie="radio.select";function Cie(e,t,n){ch($ie,n,{originalEvent:e,value:t})}var Mie=le({__name:"Radio",props:{id:{type:String,required:!1},value:{type:null,required:!1},disabled:{type:Boolean,required:!1,default:!1},checked:{type:Boolean,required:!1,default:void 0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:checked","select"],setup(e,{emit:t}){const n=e,r=t,o=bn(n,"checked",r,{passive:n.checked===void 0}),{value:s}=an(n),{forwardRef:a,currentElement:i}=Fe(),l=uf(i),c=H(()=>n.id&&i.value?document.querySelector(`[for="${n.id}"]`)?.innerText??n.value:void 0);function u(d){n.disabled||Cie(d,n.value,f=>{r("select",f),!f?.defaultPrevented&&(o.value=!0,l.value&&f.stopPropagation())})}return(d,f)=>(A(),B(y(Le),oe(d.$attrs,{id:d.id,ref:y(a),role:"radio",type:d.as==="button"?"button":void 0,as:d.as,"aria-checked":y(o),"aria-label":c.value,"as-child":d.asChild,disabled:d.disabled?"":void 0,"data-state":y(o)?"checked":"unchecked","data-disabled":d.disabled?"":void 0,value:y(s),required:d.required,name:d.name,onClick:lt(u,["stop"])}),{default:S(()=>[U(d.$slots,"default",{checked:y(o)}),y(l)&&d.name?(A(),B(y(vh),{key:0,type:"radio",tabindex:"-1",value:y(s),checked:!!y(o),name:d.name,disabled:d.disabled,required:d.required},null,8,["value","checked","name","disabled","required"])):X("v-if",!0)]),_:3},16,["id","type","as","aria-checked","aria-label","as-child","disabled","data-state","data-disabled","value","required","name"]))}}),Aie=Mie;const[Tie,Eie]=Ft("RadioGroupRoot");var Iie=le({__name:"RadioGroupRoot",props:{modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},disabled:{type:Boolean,required:!1,default:!1},orientation:{type:String,required:!1,default:void 0},dir:{type:String,required:!1},loop:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,r=t,{forwardRef:o,currentElement:s}=Fe(),a=bn(n,"modelValue",r,{defaultValue:n.defaultValue,passive:n.modelValue===void 0}),{disabled:i,loop:l,orientation:c,name:u,required:d,dir:f}=an(n),p=Ca(f),m=uf(s);return Eie({modelValue:a,changeModelValue:h=>{a.value=h},disabled:i,loop:l,orientation:c,name:u?.value,required:d}),(h,g)=>(A(),B(y(MC),{"as-child":"",orientation:y(c),dir:y(p),loop:y(l)},{default:S(()=>[_(y(Le),{ref:y(o),role:"radiogroup","data-disabled":y(i)?"":void 0,"as-child":h.asChild,as:h.as,"aria-orientation":y(c),"aria-required":y(d),dir:y(p)},{default:S(()=>[U(h.$slots,"default",{modelValue:y(a)}),y(m)&&y(u)?(A(),B(y(vh),{key:0,required:y(d),disabled:y(i),value:y(a),name:y(u)},null,8,["required","disabled","value","name"])):X("v-if",!0)]),_:3},8,["data-disabled","as-child","as","aria-orientation","aria-required","dir"])]),_:3},8,["orientation","dir","loop"]))}}),Pie=Iie;const[Oie,Rie]=Ft("RadioGroupItem");var Bie=le({inheritAttrs:!1,__name:"RadioGroupItem",props:{id:{type:String,required:!1},value:{type:null,required:!1},disabled:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["select"],setup(e,{emit:t}){const n=e,r=t,{forwardRef:o,currentElement:s}=Fe(),a=Tie(),i=H(()=>a.disabled.value||n.disabled),l=H(()=>a.required.value||n.required),c=H(()=>_a(a.modelValue?.value,n.value));Rie({disabled:i,checked:c});const u=K(!1),d=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"];Xi("keydown",p=>{d.includes(p.key)&&(u.value=!0)}),Xi("keyup",()=>{u.value=!1});function f(){setTimeout(()=>{u.value&&s.value?.click()},0)}return(p,m)=>(A(),B(y(AC),{checked:c.value,disabled:i.value,"as-child":"",focusable:!i.value,active:c.value},{default:S(()=>[_(Aie,oe({...p.$attrs,...n},{ref:y(o),checked:c.value,required:l.value,disabled:i.value,"onUpdate:checked":m[0]||(m[0]=h=>y(a).changeModelValue(p.value)),onSelect:m[1]||(m[1]=h=>r("select",h)),onKeydown:m[2]||(m[2]=no(lt(()=>{},["prevent"]),["enter"])),onFocus:f}),{default:S(()=>[U(p.$slots,"default",{checked:c.value,required:l.value,disabled:i.value})]),_:3},16,["checked","required","disabled"])]),_:3},8,["checked","disabled","focusable","active"]))}}),Nie=Bie,Die=le({__name:"RadioGroupIndicator",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){const{forwardRef:t}=Fe(),n=Oie();return(r,o)=>(A(),B(y(Dr),{present:r.forceMount||y(n).checked.value},{default:S(()=>[_(y(Le),oe({ref:y(t),"data-state":y(n).checked.value?"checked":"unchecked","data-disabled":y(n).disabled.value?"":void 0,"as-child":r.asChild,as:r.as},r.$attrs),{default:S(()=>[U(r.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),Fie=Die;const qie=[" ","Enter","ArrowUp","ArrowDown"],zie=[" ","Enter"],Na=10;function ib(e,t,n){return e===void 0?!1:Array.isArray(e)?e.some(r=>TS(r,t,n)):TS(e,t,n)}function TS(e,t,n){return e===void 0||t===void 0?!1:typeof e=="string"?e===t:typeof n=="function"?n(e,t):typeof n=="string"?e?.[n]===t?.[n]:_a(e,t)}function Lie(e){return e==null||e===""||Array.isArray(e)&&e.length===0}const jie={key:0,value:""},[ru,s3]=Ft("SelectRoot");var Vie=le({inheritAttrs:!1,__name:"SelectRoot",props:{open:{type:Boolean,required:!1,default:void 0},defaultOpen:{type:Boolean,required:!1},defaultValue:{type:null,required:!1},modelValue:{type:null,required:!1,default:void 0},by:{type:[String,Function],required:!1},dir:{type:String,required:!1},multiple:{type:Boolean,required:!1},autocomplete:{type:String,required:!1},disabled:{type:Boolean,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","update:open"],setup(e,{emit:t}){const n=e,r=t,{required:o,disabled:s,multiple:a,dir:i}=an(n),l=bn(n,"modelValue",r,{defaultValue:n.defaultValue??(a.value?[]:void 0),passive:n.modelValue===void 0,deep:!0}),c=bn(n,"open",r,{defaultValue:n.defaultOpen,passive:n.open===void 0}),u=K(),d=K(),f=K({x:0,y:0}),p=H(()=>a.value&&Array.isArray(l.value)?l.value?.length===0:bc(l.value));br({isProvider:!0});const m=Ca(i),h=uf(u),g=K(new Set),v=H(()=>Array.from(g.value).map(C=>C.value).join(";"));function x(C){if(a.value){const M=Array.isArray(l.value)?[...l.value]:[],I=M.findIndex(E=>TS(E,C,n.by));I===-1?M.push(C):M.splice(I,1),l.value=[...M]}else l.value=C}function $(C){return Array.from(g.value).find(M=>ib(C,M.value,n.by))}return s3({triggerElement:u,onTriggerChange:C=>{u.value=C},valueElement:d,onValueElementChange:C=>{d.value=C},contentId:"",modelValue:l,onValueChange:x,by:n.by,open:c,multiple:a,required:o,onOpenChange:C=>{c.value=C},dir:m,triggerPointerDownPosRef:f,disabled:s,isEmptyModelValue:p,optionsSet:g,onOptionAdd:C=>{const M=$(C.value);M&&g.value.delete(M),g.value.add(C)},onOptionRemove:C=>{const M=$(C.value);M&&g.value.delete(M)}}),(C,M)=>(A(),B(y(Oc),null,{default:S(()=>[U(C.$slots,"default",{modelValue:y(l),open:y(c)}),y(h)?(A(),B(Hie,{key:v.value,"aria-hidden":"true",tabindex:"-1",multiple:y(a),required:y(o),name:C.name,autocomplete:C.autocomplete,disabled:y(s),value:y(l)},{default:S(()=>[y(bc)(y(l))?(A(),W("option",jie)):X("v-if",!0),(A(!0),W(Ee,null,Ve(Array.from(g.value),I=>(A(),W("option",oe({key:I.value??""},{ref_for:!0},I),null,16))),128))]),_:1},8,["multiple","required","name","autocomplete","disabled","value"])):X("v-if",!0)]),_:3}))}}),Uie=Vie,Kie=le({__name:"BubbleSelect",props:{autocomplete:{type:String,required:!1},autofocus:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},form:{type:String,required:!1},multiple:{type:Boolean,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1},size:{type:Number,required:!1},value:{type:null,required:!1}},setup(e){const t=e,n=K(),r=ru();He(()=>t.value,(s,a)=>{const i=window.HTMLSelectElement.prototype,c=Object.getOwnPropertyDescriptor(i,"value").set;if(s!==a&&c&&n.value){const u=new Event("change",{bubbles:!0});c.call(n.value,s),n.value.dispatchEvent(u)}});function o(s){r.onValueChange(s.target.value)}return(s,a)=>(A(),B(y(al),{"as-child":""},{default:S(()=>[k("select",oe({ref_key:"selectElement",ref:n},t,{onInput:o}),[U(s.$slots,"default")],16)]),_:3}))}}),Hie=Kie,Wie=le({__name:"SelectPopperPosition",props:{side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1,default:"start"},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1,default:Na},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const n=jn(e);return(r,o)=>(A(),B(y(df),oe(y(n),{style:{boxSizing:"border-box","--reka-select-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-select-content-available-width":"var(--reka-popper-available-width)","--reka-select-content-available-height":"var(--reka-popper-available-height)","--reka-select-trigger-width":"var(--reka-popper-anchor-width)","--reka-select-trigger-height":"var(--reka-popper-anchor-height)"}}),{default:S(()=>[U(r.$slots,"default")]),_:3},16))}}),Gie=Wie;const a3={onViewportChange:()=>{},itemTextRefCallback:()=>{},itemRefCallback:()=>{}},[vx,i3]=Ft("SelectContent");var Jie=le({__name:"SelectContentImpl",props:{position:{type:String,required:!1,default:"item-aligned"},bodyLock:{type:Boolean,required:!1,default:!0},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1,default:"start"},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["closeAutoFocus","escapeKeyDown","pointerDownOutside"],setup(e,{emit:t}){const n=e,r=t,o=ru();yC(),mh(n.bodyLock);const{CollectionSlot:s,getItems:a}=br(),i=K();hh(i);const{search:l,handleTypeaheadSearch:c}=dx(),u=K(),d=K(),f=K(),p=K(!1),m=K(!1),h=K(!1);function g(){d.value&&i.value&&wS([d.value,i.value])}He(p,()=>{g()});const{onOpenChange:v,triggerPointerDownPosRef:x}=o;Cn(I=>{if(!i.value)return;let E={x:0,y:0};const P=D=>{E={x:Math.abs(Math.round(D.pageX)-(x.value?.x??0)),y:Math.abs(Math.round(D.pageY)-(x.value?.y??0))}},O=D=>{D.pointerType!=="touch"&&(E.x<=10&&E.y<=10?D.preventDefault():i.value?.contains(D.target)||v(!1),document.removeEventListener("pointermove",P),x.value=null)};x.value!==null&&(document.addEventListener("pointermove",P),document.addEventListener("pointerup",O,{capture:!0,once:!0})),I(()=>{document.removeEventListener("pointermove",P),document.removeEventListener("pointerup",O,{capture:!0})})});function $(I){const E=I.ctrlKey||I.altKey||I.metaKey;if(I.key==="Tab"&&I.preventDefault(),!E&&I.key.length===1&&c(I.key,a()),["ArrowUp","ArrowDown","Home","End"].includes(I.key)){let O=[...a().map(D=>D.ref)];if(["ArrowUp","End"].includes(I.key)&&(O=O.slice().reverse()),["ArrowUp","ArrowDown"].includes(I.key)){const D=I.target,L=O.indexOf(D);O=O.slice(L+1)}setTimeout(()=>wS(O)),I.preventDefault()}}const C=H(()=>n.position==="popper"?n:{}),M=jn(C.value);return i3({content:i,viewport:u,onViewportChange:I=>{u.value=I},itemRefCallback:(I,E,P)=>{const O=!m.value&&!P,D=ib(o.modelValue.value,E,o.by);if(o.multiple.value){if(h.value)return;(D||O)&&(d.value=I,D&&(h.value=!0))}else(D||O)&&(d.value=I);O&&(m.value=!0)},selectedItem:d,selectedItemText:f,onItemLeave:()=>{i.value?.focus()},itemTextRefCallback:(I,E,P)=>{const O=!m.value&&!P;(ib(o.modelValue.value,E,o.by)||O)&&(f.value=I)},focusSelectedItem:g,position:n.position,isPositioned:p,searchRef:l}),(I,E)=>(A(),B(y(s),null,{default:S(()=>[_(y(gh),{"as-child":"",onMountAutoFocus:E[6]||(E[6]=lt(()=>{},["prevent"])),onUnmountAutoFocus:E[7]||(E[7]=P=>{r("closeAutoFocus",P),!P.defaultPrevented&&(y(o).triggerElement.value?.focus({preventScroll:!0}),P.preventDefault())})},{default:S(()=>[_(y(tu),{"as-child":"","disable-outside-pointer-events":"",onFocusOutside:E[2]||(E[2]=lt(()=>{},["prevent"])),onDismiss:E[3]||(E[3]=P=>y(o).onOpenChange(!1)),onEscapeKeyDown:E[4]||(E[4]=P=>r("escapeKeyDown",P)),onPointerDownOutside:E[5]||(E[5]=P=>r("pointerDownOutside",P))},{default:S(()=>[(A(),B(Kn(I.position==="popper"?Gie:Zie),oe({...I.$attrs,...y(M)},{id:y(o).contentId,ref:P=>{const O=y(xs)(P);O?.hasAttribute("data-reka-popper-content-wrapper")?i.value=O.firstElementChild:i.value=O},role:"listbox","data-state":y(o).open.value?"open":"closed",dir:y(o).dir.value,style:{display:"flex",flexDirection:"column",outline:"none"},onContextmenu:E[0]||(E[0]=lt(()=>{},["prevent"])),onPlaced:E[1]||(E[1]=P=>p.value=!0),onKeydown:$}),{default:S(()=>[U(I.$slots,"default")]),_:3},16,["id","data-state","dir","onKeydown"]))]),_:3})]),_:3})]),_:3}))}}),Yie=Jie;const[ext,Qie]=Ft("SelectItemAlignedPosition");var Xie=le({inheritAttrs:!1,__name:"SelectItemAlignedPosition",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["placed"],setup(e,{emit:t}){const n=e,r=t,{getItems:o}=br(),s=ru(),a=vx(),i=K(!1),l=K(!0),c=K(),{forwardRef:u,currentElement:d}=Fe(),{viewport:f,selectedItem:p,selectedItemText:m,focusSelectedItem:h}=a;function g(){if(s.triggerElement.value&&s.valueElement.value&&c.value&&d.value&&f?.value&&p?.value&&m?.value){const $=s.triggerElement.value.getBoundingClientRect(),C=d.value.getBoundingClientRect(),M=s.valueElement.value.getBoundingClientRect(),I=m.value.getBoundingClientRect();if(s.dir.value!=="rtl"){const ce=I.left-C.left,ve=M.left-ce,Ae=$.left-ve,pe=$.width+Ae,et=Math.max(pe,C.width),kt=window.innerWidth-Na,te=JP(ve,Na,Math.max(Na,kt-et));c.value.style.minWidth=`${pe}px`,c.value.style.left=`${te}px`}else{const ce=C.right-I.right,ve=window.innerWidth-M.right-ce,Ae=window.innerWidth-$.right-ve,pe=$.width+Ae,et=Math.max(pe,C.width),kt=window.innerWidth-Na,te=JP(ve,Na,Math.max(Na,kt-et));c.value.style.minWidth=`${pe}px`,c.value.style.right=`${te}px`}const E=o().map(ce=>ce.ref),P=window.innerHeight-Na*2,O=f.value.scrollHeight,D=window.getComputedStyle(d.value),L=Number.parseInt(D.borderTopWidth,10),V=Number.parseInt(D.paddingTop,10),F=Number.parseInt(D.borderBottomWidth,10),z=Number.parseInt(D.paddingBottom,10),N=L+V+O+z+F,ee=Math.min(p.value.offsetHeight*5,N),ne=window.getComputedStyle(f.value),Y=Number.parseInt(ne.paddingTop,10),Re=Number.parseInt(ne.paddingBottom,10),fe=$.top+$.height/2-Na,we=P-fe,ue=p.value.offsetHeight/2,Ne=p.value.offsetTop+ue,Xe=L+V+Ne,st=N-Xe;if(Xe<=fe){const ce=p.value===E[E.length-1];c.value.style.bottom="0px";const ve=d.value.clientHeight-f.value.offsetTop-f.value.offsetHeight,Ae=Math.max(we,ue+(ce?Re:0)+ve+F),pe=Xe+Ae;c.value.style.height=`${pe}px`}else{const ce=p.value===E[0];c.value.style.top="0px";const Ae=Math.max(fe,L+f.value.offsetTop+(ce?Y:0)+ue)+st;c.value.style.height=`${Ae}px`,f.value.scrollTop=Xe-fe+f.value.offsetTop}c.value.style.margin=`${Na}px 0`,c.value.style.minHeight=`${ee}px`,c.value.style.maxHeight=`${P}px`,r("placed"),requestAnimationFrame(()=>i.value=!0)}}const v=K("");wt(async()=>{await St(),g(),d.value&&(v.value=window.getComputedStyle(d.value).zIndex)});function x($){$&&l.value===!0&&(g(),h?.(),l.value=!1)}return qd(s.triggerElement,()=>{g()}),Qie({contentWrapper:c,shouldExpandOnScrollRef:i,onScrollButtonChange:x}),($,C)=>(A(),W("div",{ref_key:"contentWrapperElement",ref:c,style:Un({display:"flex",flexDirection:"column",position:"fixed",zIndex:v.value})},[_(y(Le),oe({ref:y(u),style:{boxSizing:"border-box",maxHeight:"100%"}},{...$.$attrs,...n}),{default:S(()=>[U($.$slots,"default")]),_:3},16)],4))}}),Zie=Xie,ele=le({__name:"SelectArrow",props:{width:{type:Number,required:!1,default:10},height:{type:Number,required:!1,default:5},rounded:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"svg"}},setup(e){const t=e,n=ru(),r=vx(a3);return(o,s)=>y(n).open.value&&y(r).position==="popper"?(A(),B(y(ff),rt(oe({key:0},t)),{default:S(()=>[U(o.$slots,"default")]),_:3},16)):X("v-if",!0)}}),tle=ele,nle=le({inheritAttrs:!1,__name:"SelectProvider",props:{context:{type:Object,required:!0}},setup(e){return s3(e.context),i3(a3),(n,r)=>U(n.$slots,"default")}}),rle=nle;const ole={key:1};var sle=le({inheritAttrs:!1,__name:"SelectContent",props:{forceMount:{type:Boolean,required:!1},position:{type:String,required:!1},bodyLock:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["closeAutoFocus","escapeKeyDown","pointerDownOutside"],setup(e,{emit:t}){const n=e,o=fn(n,t),s=ru(),a=K();wt(()=>{a.value=new DocumentFragment});const i=K(),l=H(()=>n.forceMount||s.open.value),c=K(l.value);return He(l,()=>{setTimeout(()=>c.value=l.value)}),(u,d)=>l.value||c.value||i.value?.present?(A(),B(y(Dr),{key:0,ref_key:"presenceRef",ref:i,present:l.value},{default:S(()=>[_(Yie,rt(ct({...y(o),...u.$attrs})),{default:S(()=>[U(u.$slots,"default")]),_:3},16)]),_:3},8,["present"])):a.value?(A(),W("div",ole,[(A(),B(ih,{to:a.value},[_(rle,{context:y(s)},{default:S(()=>[U(u.$slots,"default")]),_:3},8,["context"])],8,["to"]))])):X("v-if",!0)}}),ale=sle;const[ile,lle]=Ft("SelectGroup");var ule=le({__name:"SelectGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e,n=In(void 0,"reka-select-group");return lle({id:n}),(r,o)=>(A(),B(y(Le),oe({role:"group"},t,{"aria-labelledby":y(n)}),{default:S(()=>[U(r.$slots,"default")]),_:3},16,["aria-labelledby"]))}}),cle=ule;const[l3,dle]=Ft("SelectItem");var fle=le({__name:"SelectItem",props:{value:{type:null,required:!0},disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select"],setup(e,{emit:t}){const n=e,r=t,{disabled:o}=an(n),s=ru(),a=vx(),{forwardRef:i,currentElement:l}=Fe(),{CollectionItem:c}=br(),u=H(()=>ib(s.modelValue?.value,n.value,s.by)),d=K(!1),f=K(n.textValue??""),p=In(void 0,"reka-select-item-text"),m="select.select";async function h(C){if(C.defaultPrevented)return;const M={originalEvent:C,value:n.value};ch(m,g,M)}async function g(C){await St(),r("select",C),!C.defaultPrevented&&(o.value||(s.onValueChange(n.value),s.multiple.value||s.onOpenChange(!1)))}async function v(C){await St(),!C.defaultPrevented&&(o.value?a.onItemLeave?.():C.currentTarget?.focus({preventScroll:!0}))}async function x(C){await St(),!C.defaultPrevented&&C.currentTarget===Dn()&&a.onItemLeave?.()}async function $(C){await St(),!(C.defaultPrevented||a.searchRef?.value!==""&&C.key===" ")&&(zie.includes(C.key)&&h(C),C.key===" "&&C.preventDefault())}if(n.value==="")throw new Error("A <SelectItem /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return wt(()=>{l.value&&a.itemRefCallback(l.value,n.value,n.disabled)}),dle({value:n.value,disabled:o,textId:p,isSelected:u,onItemTextChange:C=>{f.value=((f.value||C?.textContent)??"").trim()}}),(C,M)=>(A(),B(y(c),{value:{textValue:f.value}},{default:S(()=>[_(y(Le),{ref:y(i),role:"option","aria-labelledby":y(p),"data-highlighted":d.value?"":void 0,"aria-selected":u.value,"data-state":u.value?"checked":"unchecked","aria-disabled":y(o)||void 0,"data-disabled":y(o)?"":void 0,tabindex:y(o)?void 0:-1,as:C.as,"as-child":C.asChild,onFocus:M[0]||(M[0]=I=>d.value=!0),onBlur:M[1]||(M[1]=I=>d.value=!1),onPointerup:h,onPointerdown:M[2]||(M[2]=I=>{I.currentTarget.focus({preventScroll:!0})}),onTouchend:M[3]||(M[3]=lt(()=>{},["prevent","stop"])),onPointermove:v,onPointerleave:x,onKeydown:$},{default:S(()=>[U(C.$slots,"default")]),_:3},8,["aria-labelledby","data-highlighted","aria-selected","data-state","aria-disabled","data-disabled","tabindex","as","as-child"])]),_:3},8,["value"]))}}),ple=fle,mle=le({__name:"SelectItemIndicator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){const t=e,n=l3();return(r,o)=>y(n).isSelected.value?(A(),B(y(Le),oe({key:0,"aria-hidden":"true"},t),{default:S(()=>[U(r.$slots,"default")]),_:3},16)):X("v-if",!0)}}),hle=mle,gle=le({inheritAttrs:!1,__name:"SelectItemText",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){const t=e,n=ru(),r=vx(),o=l3(),{forwardRef:s,currentElement:a}=Fe(),i=H(()=>({value:o.value,disabled:o.disabled.value,textContent:a.value?.textContent??o.value?.toString()??""}));return wt(()=>{a.value&&(o.onItemTextChange(a.value),r.itemTextRefCallback(a.value,o.value,o.disabled.value),n.onOptionAdd(i.value))}),ar(()=>{n.onOptionRemove(i.value)}),(l,c)=>(A(),B(y(Le),oe({id:y(o).textId,ref:y(s)},{...t,...l.$attrs}),{default:S(()=>[U(l.$slots,"default")]),_:3},16,["id"]))}}),vle=gle,yle=le({__name:"SelectLabel",props:{for:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(e){const t=e,n=ile({id:""});return(r,o)=>(A(),B(y(Le),oe(t,{id:y(n).id}),{default:S(()=>[U(r.$slots,"default")]),_:3},16,["id"]))}}),ble=yle,xle=le({__name:"SelectPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const t=e;return(n,r)=>(A(),B(y(nu),rt(ct(t)),{default:S(()=>[U(n.$slots,"default")]),_:3},16))}}),wle=xle,kle=le({__name:"SelectSeparator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e;return(n,r)=>(A(),B(y(Le),oe({"aria-hidden":"true"},t),{default:S(()=>[U(n.$slots,"default")]),_:3},16))}}),_le=kle,Sle=le({__name:"SelectTrigger",props:{disabled:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const t=e,n=ru(),{forwardRef:r,currentElement:o}=Fe(),s=H(()=>n.disabled?.value||t.disabled);n.contentId||=In(void 0,"reka-select-content"),wt(()=>{n.onTriggerChange(o.value)});const{getItems:a}=br(),{search:i,handleTypeaheadSearch:l,resetTypeahead:c}=dx();function u(){s.value||(n.onOpenChange(!0),c())}function d(f){u(),n.triggerPointerDownPosRef.value={x:Math.round(f.pageX),y:Math.round(f.pageY)}}return(f,p)=>(A(),B(y(Rc),{"as-child":"",reference:f.reference},{default:S(()=>[_(y(Le),{ref:y(r),role:"combobox",type:f.as==="button"?"button":void 0,"aria-controls":y(n).contentId,"aria-expanded":y(n).open.value||!1,"aria-required":y(n).required?.value,"aria-autocomplete":"none",disabled:s.value,dir:y(n)?.dir.value,"data-state":y(n)?.open.value?"open":"closed","data-disabled":s.value?"":void 0,"data-placeholder":y(Lie)(y(n).modelValue?.value)?"":void 0,"as-child":f.asChild,as:f.as,onClick:p[0]||(p[0]=m=>{m?.currentTarget?.focus()}),onPointerdown:p[1]||(p[1]=m=>{if(m.pointerType==="touch")return m.preventDefault();const h=m.target;h.hasPointerCapture(m.pointerId)&&h.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&(d(m),m.preventDefault())}),onPointerup:p[2]||(p[2]=lt(m=>{m.pointerType==="touch"&&d(m)},["prevent"])),onKeydown:p[3]||(p[3]=m=>{const h=y(i)!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h&&m.key===" "||(y(l)(m.key,y(a)()),y(qie).includes(m.key)&&(u(),m.preventDefault()))})},{default:S(()=>[U(f.$slots,"default")]),_:3},8,["type","aria-controls","aria-expanded","aria-required","disabled","dir","data-state","data-disabled","data-placeholder","as-child","as"])]),_:3},8,["reference"]))}}),$le=Sle,Cle=le({__name:"BaseSeparator",props:{orientation:{type:String,required:!1,default:"horizontal"},decorative:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e,n=["horizontal","vertical"];function r(i){return n.includes(i)}const o=H(()=>r(t.orientation)?t.orientation:"horizontal"),s=H(()=>o.value==="vertical"?t.orientation:void 0),a=H(()=>t.decorative?{role:"none"}:{"aria-orientation":s.value,role:"separator"});return(i,l)=>(A(),B(y(Le),oe({as:i.as,"as-child":i.asChild,"data-orientation":o.value},a.value),{default:S(()=>[U(i.$slots,"default")]),_:3},16,["as","as-child","data-orientation"]))}}),Mle=Cle,Ale=le({__name:"Separator",props:{orientation:{type:String,required:!1,default:"horizontal"},decorative:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e;return(n,r)=>(A(),B(Mle,rt(ct(t)),{default:S(()=>[U(n.$slots,"default")]),_:3},16))}}),u3=Ale;const Tle={"aria-live":"polite","aria-atomic":"true",role:"status",style:{transform:"translateX(-100%)",position:"absolute",pointerEvents:"none",opacity:0,margin:0}},[jC,Ele]=Ft("StepperRoot");var Ile=le({__name:"StepperRoot",props:{defaultValue:{type:Number,required:!1,default:1},orientation:{type:String,required:!1,default:"horizontal"},dir:{type:String,required:!1},modelValue:{type:Number,required:!1},linear:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["update:modelValue"],setup(e,{expose:t,emit:n}){const r=e,o=n,{dir:s,orientation:a,linear:i}=an(r),l=Ca(s),c=K(new Set),u=bn(r,"modelValue",o,{defaultValue:r.defaultValue,passive:r.modelValue===void 0}),d=H(()=>Array.from(c.value)),f=H(()=>u.value===1),p=H(()=>u.value===d.value.length),m=H(()=>c.value.size);function h(P){P>m.value||P<1||c.value.size&&d.value[P]&&d.value[P].getAttribute("disabled")||i.value&&P>(u.value??1)+1||(u.value=P)}function g(){h((u.value??1)+1)}function v(){h((u.value??1)-1)}function x(){return(u.value??1)<m.value}function $(){return(u.value??1)>1}const C=K(null),M=K(null),I=H(()=>C.value?C.value.getAttribute("disabled")==="":!0),E=H(()=>M.value?M.value.getAttribute("disabled")==="":!0);return He(u,async()=>{await St(()=>{C.value=d.value.length&&u.value<d.value.length?d.value[u.value]:null,M.value=d.value.length&&u.value>1?d.value[u.value-2]:null})}),He(d,async()=>{await St(()=>{C.value=d.value.length&&u.value<d.value.length?d.value[u.value]:null,M.value=d.value.length&&u.value>1?d.value[u.value-2]:null})}),Ele({modelValue:u,changeModelValue:P=>{u.value=P},orientation:a,dir:l,linear:i,totalStepperItems:c}),t({goToStep:h,nextStep:g,prevStep:v,modelValue:u,totalSteps:m,isNextDisabled:I,isPrevDisabled:E,isFirstStep:f,isLastStep:p,hasNext:x,hasPrev:$}),Fe(),(P,O)=>(A(),B(y(Le),{role:"group","aria-label":"progress",as:P.as,"as-child":P.asChild,"data-linear":y(i)?"":void 0,"data-orientation":P.orientation},{default:S(()=>[U(P.$slots,"default",{modelValue:y(u),totalSteps:c.value.size,isNextDisabled:I.value,isPrevDisabled:E.value,isFirstStep:f.value,isLastStep:p.value,goToStep:h,nextStep:g,prevStep:v,hasNext:x,hasPrev:$}),k("div",Tle," Step "+q(y(u))+" of "+q(c.value.size),1)]),_:3},8,["as","as-child","data-linear","data-orientation"]))}}),Ple=Ile;const[wh,Ole]=Ft("StepperItem");var Rle=le({__name:"StepperItem",props:{step:{type:Number,required:!0},disabled:{type:Boolean,required:!1,default:!1},completed:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e,{disabled:n,step:r,completed:o}=an(t),{forwardRef:s}=Fe(),a=jC(),i=In(void 0,"reka-stepper-item-title"),l=In(void 0,"reka-stepper-item-description"),c=H(()=>o.value?"completed":a.modelValue.value===r.value?"active":a.modelValue.value>r.value?"completed":"inactive"),u=H(()=>n.value?!1:a.linear.value?r.value<=a.modelValue.value||r.value===a.modelValue.value+1:!0);return Ole({titleId:i,descriptionId:l,state:c,disabled:n,step:r,isFocusable:u}),(d,f)=>(A(),B(y(Le),{ref:y(s),as:d.as,"as-child":d.asChild,"aria-current":c.value==="active"?"true":void 0,"data-state":c.value,disabled:y(n)||!u.value?"":void 0,"data-disabled":y(n)||!u.value?"":void 0,"data-orientation":y(a).orientation.value},{default:S(()=>[U(d.$slots,"default",{state:c.value})]),_:3},8,["as","as-child","aria-current","data-state","disabled","data-disabled","data-orientation"]))}}),Ble=Rle,Nle=le({__name:"StepperDescription",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"p"}},setup(e){const t=e;Fe();const n=wh();return(r,o)=>(A(),B(y(Le),oe(t,{id:y(n).descriptionId}),{default:S(()=>[U(r.$slots,"default")]),_:3},16,["id"]))}}),Dle=Nle,Fle=le({__name:"StepperIndicator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e,n=wh();return Fe(),(r,o)=>(A(),B(y(Le),rt(ct(t)),{default:S(()=>[U(r.$slots,"default",{step:y(n).step.value},()=>[J(" Step "+q(y(n).step.value),1)])]),_:3},16))}}),qle=Fle,zle=le({__name:"StepperSeparator",props:{orientation:{type:String,required:!1},decorative:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e,n=jC(),r=wh();return Fe(),(o,s)=>(A(),B(y(u3),oe(t,{decorative:"",orientation:y(n).orientation.value,"data-state":y(r).state.value}),{default:S(()=>[U(o.$slots,"default")]),_:3},16,["orientation","data-state"]))}}),Lle=zle,jle=le({__name:"StepperTitle",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"h4"}},setup(e){const t=e,n=wh();return Fe(),(r,o)=>(A(),B(y(Le),oe(t,{id:y(n).titleId}),{default:S(()=>[U(r.$slots,"default")]),_:3},16,["id"]))}}),Vle=jle,Ule=le({__name:"StepperTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const t=jC(),n=wh(),r=dz(),o=H(()=>Array.from(t.totalStepperItems.value));function s(c){if(!n.disabled.value){if(t.linear.value){if((n.step.value<=t.modelValue.value||n.step.value===t.modelValue.value+1)&&c.ctrlKey===!1){t.changeModelValue(n.step.value);return}}else if(c.ctrlKey===!1){t.changeModelValue(n.step.value);return}c.preventDefault()}}function a(c){c.preventDefault(),!n.disabled.value&&((c.key===r.ENTER||c.key===r.SPACE)&&!c.ctrlKey&&!c.shiftKey&&t.changeModelValue(n.step.value),[r.ARROW_LEFT,r.ARROW_RIGHT,r.ARROW_UP,r.ARROW_DOWN].includes(c.key)&&dh(c,Dn(),void 0,{itemsArray:o.value,focus:!0,loop:!1,arrowKeyOptions:t.orientation.value,dir:t.dir.value}))}const{forwardRef:i,currentElement:l}=Fe();return wt(()=>{t.totalStepperItems.value.add(l.value)}),ar(()=>{t.totalStepperItems.value.delete(l.value)}),(c,u)=>(A(),B(y(Le),{ref:y(i),type:c.as==="button"?"button":void 0,as:c.as,"as-child":c.asChild,"data-state":y(n).state.value,disabled:y(n).disabled.value||!y(n).isFocusable.value?"":void 0,"data-disabled":y(n).disabled.value||!y(n).isFocusable.value?"":void 0,"data-orientation":y(t).orientation.value,tabindex:y(n).isFocusable.value?0:-1,"aria-describedby":y(n).descriptionId,"aria-labelledby":y(n).titleId,onMousedown:lt(s,["left"]),onKeydown:no(a,["enter","space","left","right","up","down"])},{default:S(()=>[U(c.$slots,"default")]),_:3},8,["type","as","as-child","data-state","disabled","data-disabled","data-orientation","tabindex","aria-describedby","aria-labelledby"]))}}),Kle=Ule;const[Hle,Wle]=Ft("SwitchRoot");var Gle=le({__name:"SwitchRoot",props:{defaultValue:{type:Boolean,required:!1},modelValue:{type:[Boolean,null],required:!1,default:void 0},disabled:{type:Boolean,required:!1},id:{type:String,required:!1},value:{type:String,required:!1,default:"on"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,r=t,{disabled:o}=an(n),s=bn(n,"modelValue",r,{defaultValue:n.defaultValue,passive:n.modelValue===void 0});function a(){o.value||(s.value=!s.value)}const{forwardRef:i,currentElement:l}=Fe(),c=uf(l),u=H(()=>n.id&&l.value?document.querySelector(`[for="${n.id}"]`)?.innerText:void 0);return Wle({modelValue:s,toggleCheck:a,disabled:o}),(d,f)=>(A(),B(y(Le),oe(d.$attrs,{id:d.id,ref:y(i),role:"switch",type:d.as==="button"?"button":void 0,value:d.value,"aria-label":d.$attrs["aria-label"]||u.value,"aria-checked":y(s),"aria-required":d.required,"data-state":y(s)?"checked":"unchecked","data-disabled":y(o)?"":void 0,"as-child":d.asChild,as:d.as,disabled:y(o),onClick:a,onKeydown:no(lt(a,["prevent"]),["enter"])}),{default:S(()=>[U(d.$slots,"default",{modelValue:y(s)}),y(c)&&d.name?(A(),B(y(vh),{key:0,type:"checkbox",name:d.name,disabled:y(o),required:d.required,value:d.value,checked:!!y(s)},null,8,["name","disabled","required","value","checked"])):X("v-if",!0)]),_:3},16,["id","type","value","aria-label","aria-checked","aria-required","data-state","data-disabled","as-child","as","disabled","onKeydown"]))}}),Jle=Gle,Yle=le({__name:"SwitchThumb",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){const t=Hle();return Fe(),(n,r)=>(A(),B(y(Le),{"data-state":y(t).modelValue?.value?"checked":"unchecked","data-disabled":y(t).disabled.value?"":void 0,"as-child":n.asChild,as:n.as},{default:S(()=>[U(n.$slots,"default")]),_:3},8,["data-state","data-disabled","as-child","as"]))}}),Qle=Yle;const[yx,Xle]=Ft("TabsRoot");var Zle=le({__name:"TabsRoot",props:{defaultValue:{type:null,required:!1},orientation:{type:String,required:!1,default:"horizontal"},dir:{type:String,required:!1},activationMode:{type:String,required:!1,default:"automatic"},modelValue:{type:null,required:!1},unmountOnHide:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,r=t,{orientation:o,unmountOnHide:s,dir:a}=an(n),i=Ca(a);Fe();const l=bn(n,"modelValue",r,{defaultValue:n.defaultValue,passive:n.modelValue===void 0}),c=K();return Xle({modelValue:l,changeModelValue:u=>{l.value=u},orientation:o,dir:i,unmountOnHide:s,activationMode:n.activationMode,baseId:In(void 0,"reka-tabs"),tabsList:c}),(u,d)=>(A(),B(y(Le),{dir:y(i),"data-orientation":y(o),"as-child":u.asChild,as:u.as},{default:S(()=>[U(u.$slots,"default",{modelValue:y(l)})]),_:3},8,["dir","data-orientation","as-child","as"]))}}),eue=Zle;function c3(e,t){return`${e}-trigger-${t}`}function d3(e,t){return`${e}-content-${t}`}var tue=le({__name:"TabsContent",props:{value:{type:[String,Number],required:!0},forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e,{forwardRef:n}=Fe(),r=yx(),o=H(()=>c3(r.baseId,t.value)),s=H(()=>d3(r.baseId,t.value)),a=H(()=>t.value===r.modelValue.value),i=K(a.value);return wt(()=>{requestAnimationFrame(()=>{i.value=!1})}),(l,c)=>(A(),B(y(Dr),{present:l.forceMount||a.value,"force-mount":""},{default:S(({present:u})=>[_(y(Le),{id:s.value,ref:y(n),"as-child":l.asChild,as:l.as,role:"tabpanel","data-state":a.value?"active":"inactive","data-orientation":y(r).orientation.value,"aria-labelledby":o.value,hidden:!u,tabindex:"0",style:Un({animationDuration:i.value?"0s":void 0})},{default:S(()=>[!y(r).unmountOnHide.value||u?U(l.$slots,"default",{key:0}):X("v-if",!0)]),_:2},1032,["id","as-child","as","data-state","data-orientation","aria-labelledby","hidden","style"])]),_:3},8,["present"]))}}),nue=tue,rue=le({__name:"TabsIndicator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e,n=yx();Fe();const r=K(),o=K({size:null,position:null});He(()=>[n.modelValue.value,n?.dir.value],async()=>{await St(),s()},{immediate:!0}),qd([n.tabsList,r],s);function s(){r.value=n.tabsList.value?.querySelector('[role="tab"][data-state="active"]'),r.value&&(n.orientation.value==="horizontal"?o.value={size:r.value.offsetWidth,position:r.value.offsetLeft}:o.value={size:r.value.offsetHeight,position:r.value.offsetTop})}return(a,i)=>typeof o.value.size=="number"?(A(),B(y(Le),oe({key:0},t,{style:{"--reka-tabs-indicator-size":`${o.value.size}px`,"--reka-tabs-indicator-position":`${o.value.position}px`}}),{default:S(()=>[U(a.$slots,"default")]),_:3},16,["style"])):X("v-if",!0)}}),oue=rue,sue=le({__name:"TabsList",props:{loop:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e,{loop:n}=an(t),{forwardRef:r,currentElement:o}=Fe(),s=yx();return s.tabsList=o,(a,i)=>(A(),B(y(MC),{"as-child":"",orientation:y(s).orientation.value,dir:y(s).dir.value,loop:y(n)},{default:S(()=>[_(y(Le),{ref:y(r),role:"tablist","as-child":a.asChild,as:a.as,"aria-orientation":y(s).orientation.value},{default:S(()=>[U(a.$slots,"default")]),_:3},8,["as-child","as","aria-orientation"])]),_:3},8,["orientation","dir","loop"]))}}),aue=sue,iue=le({__name:"TabsTrigger",props:{value:{type:[String,Number],required:!0},disabled:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const t=e,{forwardRef:n}=Fe(),r=yx(),o=H(()=>c3(r.baseId,t.value)),s=H(()=>d3(r.baseId,t.value)),a=H(()=>t.value===r.modelValue.value);return(i,l)=>(A(),B(y(AC),{"as-child":"",focusable:!i.disabled,active:a.value},{default:S(()=>[_(y(Le),{id:o.value,ref:y(n),role:"tab",type:i.as==="button"?"button":void 0,as:i.as,"as-child":i.asChild,"aria-selected":a.value?"true":"false","aria-controls":s.value,"data-state":a.value?"active":"inactive",disabled:i.disabled,"data-disabled":i.disabled?"":void 0,"data-orientation":y(r).orientation.value,onMousedown:l[0]||(l[0]=lt(c=>{!i.disabled&&c.ctrlKey===!1?y(r).changeModelValue(i.value):c.preventDefault()},["left"])),onKeydown:l[1]||(l[1]=no(c=>y(r).changeModelValue(i.value),["enter","space"])),onFocus:l[2]||(l[2]=()=>{const c=y(r).activationMode!=="manual";!a.value&&!i.disabled&&c&&y(r).changeModelValue(i.value)})},{default:S(()=>[U(i.$slots,"default")]),_:3},8,["id","type","as","as-child","aria-selected","aria-controls","data-state","disabled","data-disabled","data-orientation"])]),_:3},8,["focusable","active"]))}}),lue=iue,uue=le({__name:"ToastAnnounceExclude",props:{altText:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){return(t,n)=>(A(),B(y(Le),{as:t.as,"as-child":t.asChild,"data-reka-toast-announce-exclude":"","data-reka-toast-announce-alt":t.altText||void 0},{default:S(()=>[U(t.$slots,"default")]),_:3},8,["as","as-child","data-reka-toast-announce-alt"]))}}),f3=uue;const[bx,cue]=Ft("ToastProvider");var due=le({inheritAttrs:!1,__name:"ToastProvider",props:{label:{type:String,required:!1,default:"Notification"},duration:{type:Number,required:!1,default:5e3},disableSwipe:{type:Boolean,required:!1},swipeDirection:{type:String,required:!1,default:"right"},swipeThreshold:{type:Number,required:!1,default:50}},setup(e){const t=e,{label:n,duration:r,disableSwipe:o,swipeDirection:s,swipeThreshold:a}=an(t);br({isProvider:!0});const i=K(),l=K(0),c=K(!1),u=K(!1);if(t.label&&typeof t.label=="string"&&!t.label.trim()){const d="Invalid prop `label` supplied to `ToastProvider`. Expected non-empty `string`.";throw new Error(d)}return cue({label:n,duration:r,disableSwipe:o,swipeDirection:s,swipeThreshold:a,toastCount:l,viewport:i,onViewportChange(d){i.value=d},onToastAdd(){l.value++},onToastRemove(){l.value--},isFocusedToastEscapeKeyDownRef:c,isClosePausedRef:u}),(d,f)=>U(d.$slots,"default")}}),fue=due,pue=le({__name:"ToastAnnounce",setup(e){const t=bx(),n=vee(1e3),r=K(!1);return az(()=>{r.value=!0}),(o,s)=>y(n)||r.value?(A(),B(y(al),{key:0},{default:S(()=>[J(q(y(t).label.value)+" ",1),U(o.$slots,"default")]),_:3})):X("v-if",!0)}}),mue=pue;const hue="toast.swipeStart",gue="toast.swipeMove",vue="toast.swipeCancel",yue="toast.swipeEnd",ES="toast.viewportPause",IS="toast.viewportResume";function Jg(e,t,n){const r=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&r.addEventListener(e,t,{once:!0}),r.dispatchEvent(o)}function _2(e,t,n=0){const r=Math.abs(e.x),o=Math.abs(e.y),s=r>o;return t==="left"||t==="right"?s&&r>n:!s&&o>n}function bue(e){return e.nodeType===e.ELEMENT_NODE}function p3(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),bue(r)){const o=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.rekaToastAnnounceExclude==="";if(!o)if(s){const a=r.dataset.rekaToastAnnounceAlt;a&&t.push(a)}else t.push(...p3(r))}}),t}const[xue,wue]=Ft("ToastRoot");var kue=le({inheritAttrs:!1,__name:"ToastRootImpl",props:{type:{type:String,required:!1},open:{type:Boolean,required:!1,default:!1},duration:{type:Number,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"li"}},emits:["close","escapeKeyDown","pause","resume","swipeStart","swipeMove","swipeCancel","swipeEnd"],setup(e,{emit:t}){const n=e,r=t,{forwardRef:o,currentElement:s}=Fe(),{CollectionItem:a}=br(),i=bx(),l=K(null),c=K(null),u=H(()=>typeof n.duration=="number"?n.duration:i.duration.value),d=K(0),f=K(u.value),p=K(0),m=K(u.value),h=az(()=>{const $=new Date().getTime()-d.value;m.value=Math.max(f.value-$,0)},{fpsLimit:60});function g($){$<=0||$===Number.POSITIVE_INFINITY||oa&&(window.clearTimeout(p.value),d.value=new Date().getTime(),p.value=window.setTimeout(v,$))}function v($){const C=$?.pointerType==="";s.value?.contains(Dn())&&C&&i.viewport.value?.focus(),C&&(i.isClosePausedRef.value=!1),r("close")}const x=H(()=>s.value?p3(s.value):null);if(n.type&&!["foreground","background"].includes(n.type)){const $="Invalid prop `type` supplied to `Toast`. Expected `foreground | background`.";throw new Error($)}return Cn($=>{const C=i.viewport.value;if(C){const M=()=>{g(f.value),h.resume(),r("resume")},I=()=>{const E=new Date().getTime()-d.value;f.value=f.value-E,window.clearTimeout(p.value),h.pause(),r("pause")};return C.addEventListener(ES,I),C.addEventListener(IS,M),()=>{C.removeEventListener(ES,I),C.removeEventListener(IS,M)}}}),He(()=>[n.open,u.value],()=>{f.value=u.value,n.open&&!i.isClosePausedRef.value&&g(u.value)},{immediate:!0}),vC("Escape",$=>{r("escapeKeyDown",$),$.defaultPrevented||(i.isFocusedToastEscapeKeyDownRef.value=!0,v())}),wt(()=>{i.onToastAdd()}),ar(()=>{i.onToastRemove()}),wue({onClose:v}),($,C)=>(A(),W(Ee,null,[x.value?(A(),B(mue,{key:0,role:"alert","aria-live":$.type==="foreground"?"assertive":"polite","aria-atomic":"true"},{default:S(()=>[J(q(x.value),1)]),_:1},8,["aria-live"])):X("v-if",!0),y(i).viewport.value?(A(),B(ih,{key:1,to:y(i).viewport.value},[_(y(a),null,{default:S(()=>[_(y(Le),oe({ref:y(o),role:"alert","aria-live":"off","aria-atomic":"true",tabindex:"0"},$.$attrs,{as:$.as,"as-child":$.asChild,"data-state":$.open?"open":"closed","data-swipe-direction":y(i).swipeDirection.value,style:y(i).disableSwipe.value?void 0:{userSelect:"none",touchAction:"none"},onPointerdown:C[0]||(C[0]=lt(M=>{y(i).disableSwipe.value||(l.value={x:M.clientX,y:M.clientY})},["left"])),onPointermove:C[1]||(C[1]=M=>{if(y(i).disableSwipe.value||!l.value)return;const I=M.clientX-l.value.x,E=M.clientY-l.value.y,P=!!c.value,O=["left","right"].includes(y(i).swipeDirection.value),D=["left","up"].includes(y(i).swipeDirection.value)?Math.min:Math.max,L=O?D(0,I):0,V=O?0:D(0,E),F=M.pointerType==="touch"?10:2,z={x:L,y:V},N={originalEvent:M,delta:z};P?(c.value=z,y(Jg)(y(gue),ee=>r("swipeMove",ee),N)):y(_2)(z,y(i).swipeDirection.value,F)?(c.value=z,y(Jg)(y(hue),ee=>r("swipeStart",ee),N),M.target.setPointerCapture(M.pointerId)):(Math.abs(I)>F||Math.abs(E)>F)&&(l.value=null)}),onPointerup:C[2]||(C[2]=M=>{if(y(i).disableSwipe.value)return;const I=c.value,E=M.target;if(E.hasPointerCapture(M.pointerId)&&E.releasePointerCapture(M.pointerId),c.value=null,l.value=null,I){const P=M.currentTarget,O={originalEvent:M,delta:I};y(_2)(I,y(i).swipeDirection.value,y(i).swipeThreshold.value)?y(Jg)(y(yue),D=>r("swipeEnd",D),O):y(Jg)(y(vue),D=>r("swipeCancel",D),O),P?.addEventListener("click",D=>D.preventDefault(),{once:!0})}})}),{default:S(()=>[U($.$slots,"default",{remaining:m.value,duration:u.value})]),_:3},16,["as","as-child","data-state","data-swipe-direction","style"])]),_:3})],8,["to"])):X("v-if",!0)],64))}}),_ue=kue,Sue=le({__name:"ToastClose",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const t=e,n=xue(),{forwardRef:r}=Fe();return(o,s)=>(A(),B(f3,{"as-child":""},{default:S(()=>[_(y(Le),oe(t,{ref:y(r),type:o.as==="button"?"button":void 0,onClick:y(n).onClose}),{default:S(()=>[U(o.$slots,"default")]),_:3},16,["type","onClick"])]),_:3}))}}),m3=Sue,$ue=le({__name:"ToastAction",props:{altText:{type:String,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){if(!e.altText)throw new Error("Missing prop `altText` expected on `ToastAction`");const{forwardRef:n}=Fe();return(r,o)=>r.altText?(A(),B(f3,{key:0,"alt-text":r.altText,"as-child":""},{default:S(()=>[_(m3,{ref:y(n),as:r.as,"as-child":r.asChild},{default:S(()=>[U(r.$slots,"default")]),_:3},8,["as","as-child"])]),_:3},8,["alt-text"])):X("v-if",!0)}}),S2=$ue,Cue=le({__name:"ToastDescription",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e;return Fe(),(n,r)=>(A(),B(y(Le),rt(ct(t)),{default:S(()=>[U(n.$slots,"default")]),_:3},16))}}),Mue=Cue,Aue=le({__name:"ToastPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const t=e;return(n,r)=>(A(),B(y(nu),rt(ct(t)),{default:S(()=>[U(n.$slots,"default")]),_:3},16))}}),Tue=Aue,Eue=le({__name:"ToastRoot",props:{defaultOpen:{type:Boolean,required:!1,default:!0},forceMount:{type:Boolean,required:!1},type:{type:String,required:!1,default:"foreground"},open:{type:Boolean,required:!1,default:void 0},duration:{type:Number,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"li"}},emits:["escapeKeyDown","pause","resume","swipeStart","swipeMove","swipeCancel","swipeEnd","update:open"],setup(e,{emit:t}){const n=e,r=t,{forwardRef:o}=Fe(),s=bn(n,"open",r,{defaultValue:n.defaultOpen,passive:n.open===void 0});return(a,i)=>(A(),B(y(Dr),{present:a.forceMount||y(s)},{default:S(()=>[_(_ue,oe({ref:y(o),open:y(s),type:a.type,as:a.as,"as-child":a.asChild,duration:a.duration},a.$attrs,{onClose:i[0]||(i[0]=l=>s.value=!1),onPause:i[1]||(i[1]=l=>r("pause")),onResume:i[2]||(i[2]=l=>r("resume")),onEscapeKeyDown:i[3]||(i[3]=l=>r("escapeKeyDown",l)),onSwipeStart:i[4]||(i[4]=l=>{r("swipeStart",l),l.defaultPrevented||l.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:i[5]||(i[5]=l=>{if(r("swipeMove",l),!l.defaultPrevented){const{x:c,y:u}=l.detail.delta,d=l.currentTarget;d.setAttribute("data-swipe","move"),d.style.setProperty("--reka-toast-swipe-move-x",`${c}px`),d.style.setProperty("--reka-toast-swipe-move-y",`${u}px`)}}),onSwipeCancel:i[6]||(i[6]=l=>{if(r("swipeCancel",l),!l.defaultPrevented){const c=l.currentTarget;c.setAttribute("data-swipe","cancel"),c.style.removeProperty("--reka-toast-swipe-move-x"),c.style.removeProperty("--reka-toast-swipe-move-y"),c.style.removeProperty("--reka-toast-swipe-end-x"),c.style.removeProperty("--reka-toast-swipe-end-y")}}),onSwipeEnd:i[7]||(i[7]=l=>{if(r("swipeEnd",l),!l.defaultPrevented){const{x:c,y:u}=l.detail.delta,d=l.currentTarget;d.setAttribute("data-swipe","end"),d.style.removeProperty("--reka-toast-swipe-move-x"),d.style.removeProperty("--reka-toast-swipe-move-y"),d.style.setProperty("--reka-toast-swipe-end-x",`${c}px`),d.style.setProperty("--reka-toast-swipe-end-y",`${u}px`),s.value=!1}})}),{default:S(({remaining:l,duration:c})=>[U(a.$slots,"default",{remaining:l,duration:c,open:y(s)})]),_:3},16,["open","type","as","as-child","duration"])]),_:3},8,["present"]))}}),Iue=Eue,Pue=le({__name:"ToastTitle",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e;return Fe(),(n,r)=>(A(),B(y(Le),rt(ct(t)),{default:S(()=>[U(n.$slots,"default")]),_:3},16))}}),Oue=Pue,Rue=le({__name:"FocusProxy",emits:["focusFromOutsideViewport"],setup(e,{emit:t}){const n=t,r=bx();return(o,s)=>(A(),B(y(al),{"aria-hidden":"true",tabindex:"0",style:{position:"fixed"},onFocus:s[0]||(s[0]=a=>{const i=a.relatedTarget;!y(r).viewport.value?.contains(i)&&n("focusFromOutsideViewport")})},{default:S(()=>[U(o.$slots,"default")]),_:3}))}}),$2=Rue,Bue=le({inheritAttrs:!1,__name:"ToastViewport",props:{hotkey:{type:Array,required:!1,default:()=>["F8"]},label:{type:[String,Function],required:!1,default:"Notifications ({hotkey})"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"ol"}},setup(e){const t=e,{hotkey:n,label:r}=an(t),{forwardRef:o,currentElement:s}=Fe(),{CollectionSlot:a,getItems:i}=br(),l=bx(),c=H(()=>l.toastCount.value>0),u=K(),d=K(),f=H(()=>n.value.join("+").replace(/Key/g,"").replace(/Digit/g,""));vC(n.value,()=>{s.value.focus()}),wt(()=>{l.onViewportChange(s.value)}),Cn(m=>{const h=s.value;if(c.value&&h){const g=()=>{if(!l.isClosePausedRef.value){const M=new CustomEvent(ES);h.dispatchEvent(M),l.isClosePausedRef.value=!0}},v=()=>{if(l.isClosePausedRef.value){const M=new CustomEvent(IS);h.dispatchEvent(M),l.isClosePausedRef.value=!1}},x=M=>{!h.contains(M.relatedTarget)&&v()},$=()=>{h.contains(Dn())||v()},C=M=>{const I=M.altKey||M.ctrlKey||M.metaKey;if(M.key==="Tab"&&!I){const P=Dn(),O=M.shiftKey;if(M.target===h&&O){u.value?.focus();return}const V=p({tabbingDirection:O?"backwards":"forwards"}),F=V.findIndex(z=>z===P);dy(V.slice(F+1))?M.preventDefault():O?u.value?.focus():d.value?.focus()}};h.addEventListener("focusin",g),h.addEventListener("focusout",x),h.addEventListener("pointermove",g),h.addEventListener("pointerleave",$),h.addEventListener("keydown",C),window.addEventListener("blur",g),window.addEventListener("focus",v),m(()=>{h.removeEventListener("focusin",g),h.removeEventListener("focusout",x),h.removeEventListener("pointermove",g),h.removeEventListener("pointerleave",$),h.removeEventListener("keydown",C),window.removeEventListener("blur",g),window.removeEventListener("focus",v)})}});function p({tabbingDirection:m}){const g=i().map(v=>v.ref).map(v=>{const x=[v,...wC(v)];return m==="forwards"?x:x.reverse()});return(m==="forwards"?g.reverse():g).flat()}return(m,h)=>(A(),B(y(gte),{role:"region","aria-label":typeof y(r)=="string"?y(r).replace("{hotkey}",f.value):y(r)(f.value),tabindex:"-1",style:Un({pointerEvents:c.value?void 0:"none"})},{default:S(()=>[c.value?(A(),B($2,{key:0,ref:g=>{u.value=y(xs)(g)},onFocusFromOutsideViewport:h[0]||(h[0]=()=>{const g=p({tabbingDirection:"forwards"});y(dy)(g)})},null,512)):X("v-if",!0),_(y(a),null,{default:S(()=>[_(y(Le),oe({ref:y(o),tabindex:"-1",as:m.as,"as-child":m.asChild},m.$attrs),{default:S(()=>[U(m.$slots,"default")]),_:3},16,["as","as-child"])]),_:3}),c.value?(A(),B($2,{key:1,ref:g=>{d.value=y(xs)(g)},onFocusFromOutsideViewport:h[1]||(h[1]=()=>{const g=p({tabbingDirection:"backwards"});y(dy)(g)})},null,512)):X("v-if",!0)]),_:3},8,["aria-label","style"]))}}),Nue=Bue,Due=le({__name:"TooltipArrow",props:{width:{type:Number,required:!1,default:10},height:{type:Number,required:!1,default:5},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"svg"}},setup(e){const t=e;return Fe(),(n,r)=>(A(),B(y(ff),rt(ct(t)),{default:S(()=>[U(n.$slots,"default")]),_:3},16))}}),Fue=Due;const[VC,que]=Ft("TooltipProvider");var zue=le({inheritAttrs:!1,__name:"TooltipProvider",props:{delayDuration:{type:Number,required:!1,default:700},skipDelayDuration:{type:Number,required:!1,default:300},disableHoverableContent:{type:Boolean,required:!1,default:!1},disableClosingTrigger:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},ignoreNonKeyboardFocus:{type:Boolean,required:!1,default:!1}},setup(e){const t=e,{delayDuration:n,skipDelayDuration:r,disableHoverableContent:o,disableClosingTrigger:s,ignoreNonKeyboardFocus:a,disabled:i}=an(t);Fe();const l=K(!0),c=K(!1),{start:u,stop:d}=gC(()=>{l.value=!0},r,{immediate:!1});return que({isOpenDelayed:l,delayDuration:n,onOpen(){d(),l.value=!1},onClose(){u()},isPointerInTransitRef:c,disableHoverableContent:o,disableClosingTrigger:s,disabled:i,ignoreNonKeyboardFocus:a}),(f,p)=>U(f.$slots,"default")}}),Lue=zue;const h3="tooltip.open",[xx,jue]=Ft("TooltipRoot");var Vue=le({__name:"TooltipRoot",props:{defaultOpen:{type:Boolean,required:!1,default:!1},open:{type:Boolean,required:!1,default:void 0},delayDuration:{type:Number,required:!1,default:void 0},disableHoverableContent:{type:Boolean,required:!1,default:void 0},disableClosingTrigger:{type:Boolean,required:!1,default:void 0},disabled:{type:Boolean,required:!1,default:void 0},ignoreNonKeyboardFocus:{type:Boolean,required:!1,default:void 0}},emits:["update:open"],setup(e,{emit:t}){const n=e,r=t;Fe();const o=VC(),s=H(()=>n.disableHoverableContent??o.disableHoverableContent.value),a=H(()=>n.disableClosingTrigger??o.disableClosingTrigger.value),i=H(()=>n.disabled??o.disabled.value),l=H(()=>n.delayDuration??o.delayDuration.value),c=H(()=>n.ignoreNonKeyboardFocus??o.ignoreNonKeyboardFocus.value),u=bn(n,"open",r,{defaultValue:n.defaultOpen,passive:n.open===void 0});He(u,$=>{o.onClose&&($?(o.onOpen(),document.dispatchEvent(new CustomEvent(h3))):o.onClose())});const d=K(!1),f=K(),p=H(()=>u.value?d.value?"delayed-open":"instant-open":"closed"),{start:m,stop:h}=gC(()=>{d.value=!0,u.value=!0},l,{immediate:!1});function g(){h(),d.value=!1,u.value=!0}function v(){h(),u.value=!1}function x(){m()}return jue({contentId:"",open:u,stateAttribute:p,trigger:f,onTriggerChange($){f.value=$},onTriggerEnter(){o.isOpenDelayed.value?x():g()},onTriggerLeave(){s.value?v():h()},onOpen:g,onClose:v,disableHoverableContent:s,disableClosingTrigger:a,disabled:i,ignoreNonKeyboardFocus:c}),($,C)=>(A(),B(y(Oc),null,{default:S(()=>[U($.$slots,"default",{open:y(u)})]),_:3}))}}),Uue=Vue,Kue=le({__name:"TooltipContentImpl",props:{ariaLabel:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},side:{type:null,required:!1,default:"top"},sideOffset:{type:Number,required:!1,default:0},align:{type:null,required:!1,default:"center"},alignOffset:{type:Number,required:!1},avoidCollisions:{type:Boolean,required:!1,default:!0},collisionBoundary:{type:null,required:!1,default:()=>[]},collisionPadding:{type:[Number,Object],required:!1,default:0},arrowPadding:{type:Number,required:!1,default:0},sticky:{type:String,required:!1,default:"partial"},hideWhenDetached:{type:Boolean,required:!1,default:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1}},emits:["escapeKeyDown","pointerDownOutside"],setup(e,{emit:t}){const n=e,r=t,o=xx(),{forwardRef:s}=Fe(),a=rn(),i=H(()=>a.default?.({})),l=H(()=>{if(n.ariaLabel)return n.ariaLabel;let u="";function d(f){typeof f.children=="string"&&f.type!==ra?u+=f.children:Array.isArray(f.children)&&f.children.forEach(p=>d(p))}return i.value?.forEach(f=>d(f)),u}),c=H(()=>{const{ariaLabel:u,...d}=n;return d});return wt(()=>{Xi(window,"scroll",u=>{u.target?.contains(o.trigger.value)&&o.onClose()}),Xi(window,h3,o.onClose)}),(u,d)=>(A(),B(y(tu),{"as-child":"","disable-outside-pointer-events":!1,onEscapeKeyDown:d[0]||(d[0]=f=>r("escapeKeyDown",f)),onPointerDownOutside:d[1]||(d[1]=f=>{y(o).disableClosingTrigger.value&&y(o).trigger.value?.contains(f.target)&&f.preventDefault(),r("pointerDownOutside",f)}),onFocusOutside:d[2]||(d[2]=lt(()=>{},["prevent"])),onDismiss:d[3]||(d[3]=f=>y(o).onClose())},{default:S(()=>[_(y(df),oe({ref:y(s),"data-state":y(o).stateAttribute.value},{...u.$attrs,...c.value},{style:{"--reka-tooltip-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-tooltip-content-available-width":"var(--reka-popper-available-width)","--reka-tooltip-content-available-height":"var(--reka-popper-available-height)","--reka-tooltip-trigger-width":"var(--reka-popper-anchor-width)","--reka-tooltip-trigger-height":"var(--reka-popper-anchor-height)"}}),{default:S(()=>[U(u.$slots,"default"),_(y(al),{id:y(o).contentId,role:"tooltip"},{default:S(()=>[J(q(l.value),1)]),_:1},8,["id"])]),_:3},16,["data-state"])]),_:3}))}}),g3=Kue,Hue=le({__name:"TooltipContentHoverable",props:{ariaLabel:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1}},setup(e){const n=jn(e),{forwardRef:r,currentElement:o}=Fe(),{trigger:s,onClose:a}=xx(),i=VC(),{isPointerInTransit:l,onPointerExit:c}=uz(s,o);return i.isPointerInTransitRef=l,c(()=>{a()}),(u,d)=>(A(),B(g3,oe({ref:y(r)},y(n)),{default:S(()=>[U(u.$slots,"default")]),_:3},16))}}),Wue=Hue,Gue=le({__name:"TooltipContent",props:{forceMount:{type:Boolean,required:!1},ariaLabel:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},side:{type:null,required:!1,default:"top"},sideOffset:{type:Number,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1}},emits:["escapeKeyDown","pointerDownOutside"],setup(e,{emit:t}){const n=e,r=t,o=xx(),s=fn(n,r),{forwardRef:a}=Fe();return(i,l)=>(A(),B(y(Dr),{present:i.forceMount||y(o).open.value},{default:S(()=>[(A(),B(Kn(y(o).disableHoverableContent.value?g3:Wue),oe({ref:y(a)},y(s)),{default:S(()=>[U(i.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),Jue=Gue,Yue=le({__name:"TooltipPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const t=e;return(n,r)=>(A(),B(y(nu),rt(ct(t)),{default:S(()=>[U(n.$slots,"default")]),_:3},16))}}),Que=Yue,Xue=le({__name:"TooltipTrigger",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const t=e,n=xx(),r=VC();n.contentId||=In(void 0,"reka-tooltip-content");const{forwardRef:o,currentElement:s}=Fe(),a=K(!1),i=K(!1),l=H(()=>n.disabled.value?{}:{click:h,focus:p,pointermove:d,pointerleave:f,pointerdown:u,blur:m});wt(()=>{n.onTriggerChange(s.value)});function c(){setTimeout(()=>{a.value=!1},1)}function u(){n.open&&!n.disableClosingTrigger.value&&n.onClose(),a.value=!0,document.addEventListener("pointerup",c,{once:!0})}function d(g){g.pointerType!=="touch"&&!i.value&&!r.isPointerInTransitRef.value&&(n.onTriggerEnter(),i.value=!0)}function f(){n.onTriggerLeave(),i.value=!1}function p(g){a.value||n.ignoreNonKeyboardFocus.value&&!g.target.matches?.(":focus-visible")||n.onOpen()}function m(){n.onClose()}function h(){n.disableClosingTrigger.value||n.onClose()}return(g,v)=>(A(),B(y(Rc),{"as-child":"",reference:g.reference},{default:S(()=>[_(y(Le),oe({ref:y(o),"aria-describedby":y(n).open.value?y(n).contentId:void 0,"data-state":y(n).stateAttribute.value,as:g.as,"as-child":t.asChild,"data-grace-area-trigger":""},lh(l.value)),{default:S(()=>[U(g.$slots,"default")]),_:3},16,["aria-describedby","data-state","as","as-child"])]),_:3},8,["reference"]))}}),Zue=Xue;function UC(e,t){return sf()?(oh(e,t),!0):!1}const Bk=new WeakMap,ece=(...e)=>{var t;const n=e[0],r=(t=ir())===null||t===void 0?void 0:t.proxy,o=r??sf();if(o==null&&!uC())throw new Error("injectLocal must be called in setup");return o&&Bk.has(o)&&n in Bk.get(o)?Bk.get(o)[n]:or(...e)},v3=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const tce=e=>typeof e<"u",nce=e=>e!=null,rce=Object.prototype.toString,oce=e=>rce.call(e)==="[object Object]",Ud=()=>{};function KC(...e){if(e.length!==1)return Nt(...e);const t=e[0];return typeof t=="function"?ms(af(()=>({get:t,set:Ud}))):K(t)}function HC(e,t){function n(...r){return new Promise((o,s)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(o).catch(s)})}return n}const y3=e=>e();function sce(e,t={}){let n,r,o=Ud;const s=l=>{clearTimeout(l),o(),o=Ud};let a;return l=>{const c=Ot(e),u=Ot(t.maxWait);return n&&s(n),c<=0||u!==void 0&&u<=0?(r&&(s(r),r=void 0),Promise.resolve(l())):new Promise((d,f)=>{o=t.rejectOnCancel?f:d,a=l,u&&!r&&(r=setTimeout(()=>{n&&s(n),r=void 0,d(a())},u)),n=setTimeout(()=>{r&&s(r),r=void 0,d(l())},c)})}}function ace(...e){let t=0,n,r=!0,o=Ud,s,a,i,l,c;!Zt(e[0])&&typeof e[0]=="object"?{delay:a,trailing:i=!0,leading:l=!0,rejectOnCancel:c=!1}=e[0]:[a,i=!0,l=!0,c=!1]=e;const u=()=>{n&&(clearTimeout(n),n=void 0,o(),o=Ud)};return f=>{const p=Ot(a),m=Date.now()-t,h=()=>s=f();return u(),p<=0?(t=Date.now(),h()):(m>p?(t=Date.now(),(l||!r)&&h()):i&&(s=new Promise((g,v)=>{o=c?v:g,n=setTimeout(()=>{t=Date.now(),r=!0,g(h()),u()},Math.max(0,p-m))})),!l&&!n&&(n=setTimeout(()=>r=!0,p)),r=!1,s)}}function ice(e=y3,t={}){const{initialState:n="active"}=t,r=KC(n==="active");function o(){r.value=!1}function s(){r.value=!0}const a=(...i)=>{r.value&&e(...i)};return{isActive:ms(r),pause:o,resume:s,eventFilter:a}}function C2(e){return e.endsWith("rem")?Number.parseFloat(e)*16:Number.parseFloat(e)}function py(e){return Array.isArray(e)?e:[e]}function lce(e){const t=Object.create(null);return(n=>t[n]||(t[n]=e(n)))}const uce=/-(\w)/g,cce=lce(e=>e.replace(uce,(t,n)=>n?n.toUpperCase():""));function dce(e){return ir()}function WC(e){if(!v3)return e;let t=0,n,r;const o=()=>{t-=1,r&&t<=0&&(r.stop(),n=void 0,r=void 0)};return((...s)=>(t+=1,r||(r=oC(!0),n=r.run(()=>e(...s))),UC(o),n))}function fce(e,t){if(typeof Symbol<"u"){const n={...e};return Object.defineProperty(n,Symbol.iterator,{enumerable:!1,value(){let r=0;return{next:()=>({value:t[r++],done:r>t.length})}}}),n}else return Object.assign([...t],e)}function pce(e){return Zt(e)?Pr(new Proxy({},{get(t,n,r){return y(Reflect.get(e.value,n,r))},set(t,n,r){return Zt(e.value[n])&&!Zt(r)?e.value[n].value=r:e.value[n]=r,!0},deleteProperty(t,n){return Reflect.deleteProperty(e.value,n)},has(t,n){return Reflect.has(e.value,n)},ownKeys(){return Object.keys(e.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}})):Pr(e)}function b3(e){return pce(H(e))}function kh(e,...t){const n=t.flat(),r=n[0];return b3(()=>Object.fromEntries(typeof r=="function"?Object.entries(an(e)).filter(([o,s])=>!r(Ot(s),o)):Object.entries(an(e)).filter(o=>!n.includes(o[0]))))}function Pn(e,...t){const n=t.flat(),r=n[0];return b3(()=>Object.fromEntries(typeof r=="function"?Object.entries(an(e)).filter(([o,s])=>r(Ot(s),o)):n.map(o=>[o,KC(e,o)])))}function _h(e,t=200,n={}){return HC(sce(t,n),e)}function mce(e,t=200,n=!1,r=!0,o=!1){return HC(ace(t,n,r,o),e)}function hce(e,t=200,n=!0,r=!0){if(t<=0)return e;const o=K(Ot(e)),s=mce(()=>{o.value=e.value},t,n,r);return He(e,()=>s()),o}function gce(e,t,n={}){const{eventFilter:r=y3,...o}=n;return He(e,HC(r,t),o)}function vce(e,t,n={}){const{eventFilter:r,initialState:o="active",...s}=n,{eventFilter:a,pause:i,resume:l,isActive:c}=ice(r,{initialState:o});return{stop:gce(e,t,{...s,eventFilter:a}),pause:i,resume:l,isActive:c}}const yce=vce;function x3(e,t=!0,n){dce()?wt(e,n):t?e():St(e)}function bce(e,t,n){return He(e,t,{...n,immediate:!0})}function Rs(e={}){const{inheritAttrs:t=!0}=e,n=yr(),r=le({setup(s,{slots:a}){return()=>{n.value=a.default}}}),o=le({inheritAttrs:t,props:e.props,setup(s,{attrs:a,slots:i}){return()=>{var l;if(!n.value)throw new Error("[VueUse] Failed to find the definition of reusable template");const c=(l=n.value)===null||l===void 0?void 0:l.call(n,{...e.props==null?xce(a):s,$slots:i});return t&&c?.length===1?c[0]:c}}});return fce({define:r,reuse:o},[r,o])}function xce(e){const t={};for(const n in e)t[cce(n)]=e[n];return t}const Wa=v3?window:void 0;function wx(e){var t;const n=Ot(e);return(t=n?.$el)!==null&&t!==void 0?t:n}function Kd(...e){const t=(r,o,s,a)=>(r.addEventListener(o,s,a),()=>r.removeEventListener(o,s,a)),n=H(()=>{const r=py(Ot(e[0])).filter(o=>o!=null);return r.every(o=>typeof o!="string")?r:void 0});return bce(()=>{var r,o;return[(r=(o=n.value)===null||o===void 0?void 0:o.map(s=>wx(s)))!==null&&r!==void 0?r:[Wa].filter(s=>s!=null),py(Ot(n.value?e[1]:e[0])),py(y(n.value?e[2]:e[1])),Ot(n.value?e[3]:e[2])]},([r,o,s,a],i,l)=>{if(!r?.length||!o?.length||!s?.length)return;const c=oce(a)?{...a}:a,u=r.flatMap(d=>o.flatMap(f=>s.map(p=>t(d,f,p,c))));l(()=>{u.forEach(d=>d())})},{flush:"post"})}function wce(){const e=yr(!1),t=ir();return t&&wt(()=>{e.value=!0},t),e}function w3(e){const t=wce();return H(()=>(t.value,!!e()))}function kce(e,t,n={}){const{window:r=Wa,...o}=n;let s;const a=w3(()=>r&&"MutationObserver"in r),i=()=>{s&&(s.disconnect(),s=void 0)},l=He(H(()=>{const d=py(Ot(e)).map(wx).filter(nce);return new Set(d)}),d=>{i(),a.value&&d.size&&(s=new MutationObserver(t),d.forEach(f=>s.observe(f,o)))},{immediate:!0,flush:"post"}),c=()=>s?.takeRecords(),u=()=>{l(),i()};return UC(u),{isSupported:a,stop:u,takeRecords:c}}function _ce(e,t,n={}){const{window:r=Wa,document:o=r?.document,flush:s="sync"}=n;if(!r||!o)return Ud;let a;const i=u=>{a?.(),a=u},l=Cn(()=>{const u=wx(e);if(u){const{stop:d}=kce(o,f=>{f.map(p=>[...p.removedNodes]).flat().some(p=>p===u||p.contains(u))&&t(f)},{window:r,childList:!0,subtree:!0});i(d)}},{flush:s}),c=()=>{l(),i()};return UC(c),c}function Sce(e={}){var t;const{window:n=Wa,deep:r=!0,triggerOnRemoval:o=!1}=e,s=(t=e.document)!==null&&t!==void 0?t:n?.document,a=()=>{let c=s?.activeElement;if(r)for(var u;c?.shadowRoot;)c=c==null||(u=c.shadowRoot)===null||u===void 0?void 0:u.activeElement;return c},i=yr(),l=()=>{i.value=a()};if(n){const c={capture:!0,passive:!0};Kd(n,"blur",u=>{u.relatedTarget===null&&l()},c),Kd(n,"focus",l,c)}return o&&_ce(i,l,{document:s}),l(),i}const $ce=Symbol("vueuse-ssr-width");function Cce(){const e=uC()?ece($ce,null):null;return typeof e=="number"?e:void 0}function Mce(e,t={}){const{window:n=Wa,ssrWidth:r=Cce()}=t,o=w3(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function"),s=yr(typeof r=="number"),a=yr(),i=yr(!1),l=c=>{i.value=c.matches};return Cn(()=>{if(s.value){s.value=!o.value,i.value=Ot(e).split(",").some(c=>{const u=c.includes("not all"),d=c.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),f=c.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let p=!!(d||f);return d&&p&&(p=r>=C2(d[1])),f&&p&&(p=r<=C2(f[1])),u?!p:p});return}o.value&&(a.value=n.matchMedia(Ot(e)),i.value=a.value.matches)}),Kd(a,"change",l,{passive:!0}),H(()=>i.value)}function Ace(e){return JSON.parse(JSON.stringify(e))}const Yg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Qg="__vueuse_ssr_handlers__",Tce=Ece();function Ece(){return Qg in Yg||(Yg[Qg]=Yg[Qg]||{}),Yg[Qg]}function k3(e,t){return Tce[e]||t}function Ice(e){return Mce("(prefers-color-scheme: dark)",e)}function Pce(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const Oce={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},M2="vueuse-storage";function _3(e,t,n,r={}){var o;const{flush:s="pre",deep:a=!0,listenToStorageChanges:i=!0,writeDefaults:l=!0,mergeDefaults:c=!1,shallow:u,window:d=Wa,eventFilter:f,onError:p=z=>{console.error(z)},initOnMounted:m}=r,h=(u?yr:K)(typeof t=="function"?t():t),g=H(()=>Ot(e));if(!n)try{n=k3("getDefaultStorage",()=>Wa?.localStorage)()}catch(z){p(z)}if(!n)return h;const v=Ot(t),x=Pce(v),$=(o=r.serializer)!==null&&o!==void 0?o:Oce[x],{pause:C,resume:M}=yce(h,z=>D(z),{flush:s,deep:a,eventFilter:f});He(g,()=>V(),{flush:s});let I=!1;const E=z=>{m&&!I||V(z)},P=z=>{m&&!I||F(z)};d&&i&&(n instanceof Storage?Kd(d,"storage",E,{passive:!0}):Kd(d,M2,P)),m?x3(()=>{I=!0,V()}):V();function O(z,N){if(d){const ee={key:g.value,oldValue:z,newValue:N,storageArea:n};d.dispatchEvent(n instanceof Storage?new StorageEvent("storage",ee):new CustomEvent(M2,{detail:ee}))}}function D(z){try{const N=n.getItem(g.value);if(z==null)O(N,null),n.removeItem(g.value);else{const ee=$.write(z);N!==ee&&(n.setItem(g.value,ee),O(N,ee))}}catch(N){p(N)}}function L(z){const N=z?z.newValue:n.getItem(g.value);if(N==null)return l&&v!=null&&n.setItem(g.value,$.write(v)),v;if(!z&&c){const ee=$.read(N);return typeof c=="function"?c(ee,v):x==="object"&&!Array.isArray(ee)?{...v,...ee}:ee}else return typeof N!="string"?N:$.read(N)}function V(z){if(!(z&&z.storageArea!==n)){if(z&&z.key==null){h.value=v;return}if(!(z&&z.key!==g.value)){C();try{const N=$.write(h.value);(z===void 0||z?.newValue!==N)&&(h.value=L(z))}catch(N){p(N)}finally{z?St(M):M()}}}}function F(z){V(z.detail)}return h}const Rce="*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function kx(e={}){const{selector:t="html",attribute:n="class",initialValue:r="auto",window:o=Wa,storage:s,storageKey:a="vueuse-color-scheme",listenToStorageChanges:i=!0,storageRef:l,emitAuto:c,disableTransition:u=!0}=e,d={auto:"",light:"light",dark:"dark",...e.modes||{}},f=Ice({window:o}),p=H(()=>f.value?"dark":"light"),m=l||(a==null?KC(r):_3(a,r,s,{window:o,listenToStorageChanges:i})),h=H(()=>m.value==="auto"?p.value:m.value),g=k3("updateHTMLAttrs",(C,M,I)=>{const E=typeof C=="string"?o?.document.querySelector(C):wx(C);if(!E)return;const P=new Set,O=new Set;let D=null;if(M==="class"){const V=I.split(/\s/g);Object.values(d).flatMap(F=>(F||"").split(/\s/g)).filter(Boolean).forEach(F=>{V.includes(F)?P.add(F):O.add(F)})}else D={key:M,value:I};if(P.size===0&&O.size===0&&D===null)return;let L;u&&(L=o.document.createElement("style"),L.appendChild(document.createTextNode(Rce)),o.document.head.appendChild(L));for(const V of P)E.classList.add(V);for(const V of O)E.classList.remove(V);D&&E.setAttribute(D.key,D.value),u&&(o.getComputedStyle(L).opacity,document.head.removeChild(L))});function v(C){var M;g(t,n,(M=d[C])!==null&&M!==void 0?M:C)}function x(C){e.onChanged?e.onChanged(C,v):v(C)}He(h,x,{flush:"post",immediate:!0}),x3(()=>x(h.value));const $=H({get(){return c?m.value:h.value},set(C){m.value=C}});return Object.assign($,{store:m,system:p,state:h})}function Bce(e={}){const{valueDark:t="dark",valueLight:n=""}=e,r=kx({...e,onChanged:(s,a)=>{var i;e.onChanged?(i=e.onChanged)===null||i===void 0||i.call(e,s==="dark",a,s):a(s)},modes:{dark:t,light:n}}),o=H(()=>r.system.value);return H({get(){return r.value==="dark"},set(s){const a=s?"dark":"light";o.value===a?r.value="auto":r.value=a}})}const Jf=new Map;function Nce(e){const t=sf();function n(i){var l;const c=Jf.get(e)||new Set;c.add(i),Jf.set(e,c);const u=()=>o(i);return t==null||(l=t.cleanups)===null||l===void 0||l.push(u),u}function r(i){function l(...c){o(l),i(...c)}return n(l)}function o(i){const l=Jf.get(e);l&&(l.delete(i),l.size||s())}function s(){Jf.delete(e)}function a(i,l){var c;(c=Jf.get(e))===null||c===void 0||c.forEach(u=>u(i,l))}return{on:n,once:r,off:o,emit:a,reset:s}}function S3(e,t,n,r={}){var o,s;const{clone:a=!1,passive:i=!1,eventName:l,deep:c=!1,defaultValue:u,shouldEmit:d}=r,f=ir(),p=n||f?.emit||(f==null||(o=f.$emit)===null||o===void 0?void 0:o.bind(f))||(f==null||(s=f.proxy)===null||s===void 0||(s=s.$emit)===null||s===void 0?void 0:s.bind(f?.proxy));let m=l;m=m||`update:${t.toString()}`;const h=x=>a?typeof a=="function"?a(x):Ace(x):x,g=()=>tce(e[t])?h(e[t]):u,v=x=>{d?d(x)&&p(m,x):p(m,x)};if(i){const x=K(g());let $=!1;return He(()=>e[t],C=>{$||($=!0,x.value=h(C),St(()=>$=!1))}),He(x,C=>{!$&&(C!==e[t]||c)&&v(C)},{deep:c}),x}else return H({get(){return g()},set(x){v(x)}})}function Ql(e,t){const n={...e};for(const r of t)delete n[r];return n}function Pt(e,t,n){typeof t=="string"&&(t=t.split(".").map(o=>{const s=Number(o);return Number.isNaN(s)?o:s}));let r=e;for(const o of t){if(r==null)return n;r=r[o]}return r!==void 0?r:n}function _x(e){const t=Number.parseFloat(e);return Number.isNaN(t)?e:t}function $3(e,t,n){return e===void 0||t===void 0?!1:typeof e=="string"?e===t:typeof n=="function"?n(e,t):typeof n=="string"?Pt(e,n)===Pt(t,n):_a(e,t)}function A2(e){if(e==null)return!0;if(typeof e=="boolean"||typeof e=="number")return!1;if(typeof e=="string")return e.trim().length===0;if(Array.isArray(e))return e.length===0;if(e instanceof Map||e instanceof Set)return e.size===0;if(e instanceof Date||e instanceof RegExp||typeof e=="function")return!1;if(typeof e=="object"){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}return!1}function lb(e,t,n={}){const{valueKey:r,labelKey:o}=n,s=e.find(i=>{const l=typeof i=="object"&&i!==null&&r?Pt(i,r):i;return $3(l,t)});if(A2(t)&&s)return o?Pt(s,o):void 0;if(A2(t))return;const a=s??t;if(a!=null)return typeof a=="object"?o?Pt(a,o):void 0:String(a)}function Sx(e){return Array.isArray(e[0])}function ub(e,t){return!e&&!t?"":[...Array.isArray(e)?e:[e],t].filter(Boolean)}function C3(e,t){return Object.entries(e).reduce((n,[r,o])=>(n[r]=typeof o=="function"?o({class:t?.[r]}):o,n),t||{})}function Dce(e){return(t,n)=>Fce(t,n,y(e))}function Fce(e,t,n){return Pt(n,`messages.${e}`,e).replace(/\{(\w+)\}/g,(o,s)=>`${t?.[s]??`{${s}}`}`)}function qce(e){const t=H(()=>y(e).name),n=H(()=>y(e).code),r=H(()=>y(e).dir),o=Zt(e)?e:K(e);return{lang:t,code:n,dir:r,locale:o,t:Dce(e)}}function zce(e){return sr(e,{dir:"ltr"})}const T2=zce({name:"English",code:"en",messages:{alert:{close:"Close"},authForm:{hidePassword:"Hide password",showPassword:"Show password",submit:"Continue"},banner:{close:"Close"},calendar:{nextMonth:"Next month",nextYear:"Next year",prevMonth:"Previous month",prevYear:"Previous year"},carousel:{dots:"Choose slide to display",goto:"Go to slide {slide}",next:"Next",prev:"Prev"},chatPrompt:{placeholder:"Type your message here"},chatPromptSubmit:{label:"Send prompt"},colorMode:{dark:"Dark",light:"Light",switchToDark:"Switch to dark mode",switchToLight:"Switch to light mode",system:"System"},commandPalette:{back:"Back",close:"Close",noData:"No data",noMatch:"No matching data",placeholder:"Type a command or search"},contentSearch:{links:"Links",theme:"Theme"},contentSearchButton:{label:"Search"},contentToc:{title:"On this page"},dashboardSearch:{theme:"Theme"},dashboardSearchButton:{label:"Search"},dashboardSidebarCollapse:{collapse:"Collapse sidebar",expand:"Expand sidebar"},dashboardSidebarToggle:{close:"Close sidebar",open:"Open sidebar"},error:{clear:"Back to home"},fileUpload:{removeFile:"Remove {filename}"},header:{close:"Close menu",open:"Open menu"},inputMenu:{create:'Create "{label}"',noData:"No data",noMatch:"No matching data"},inputNumber:{decrement:"Decrement",increment:"Increment"},modal:{close:"Close"},pricingTable:{caption:"Pricing plan comparison"},prose:{codeCollapse:{closeText:"Collapse",name:"code",openText:"Expand"},collapsible:{closeText:"Hide",name:"properties",openText:"Show"},pre:{copy:"Copy code to clipboard"}},selectMenu:{create:'Create "{label}"',noData:"No data",noMatch:"No matching data",search:"Search"},slideover:{close:"Close"},table:{noData:"No data"},toast:{close:"Close"}}}),M3=Symbol.for("nuxt-ui.locale-context"),Lce=e=>{const t=e||Nt(or(M3,T2));return qce(H(()=>t.value||T2))},oo=WC(Lce),A3=Symbol("nuxt-ui.portal-target");function ll(e){const t=or(A3,void 0),n=H(()=>e.value===!0?t?.value:e.value),r=H(()=>typeof n.value=="boolean"?!n.value:!1),o=H(()=>typeof n.value=="boolean"?"body":n.value);return H(()=>({to:o.value,disabled:r.value}))}var T3=typeof global=="object"&&global&&global.Object===Object&&global,jce=typeof self=="object"&&self&&self.Object===Object&&self,Ma=T3||jce||Function("return this")(),sa=Ma.Symbol,E3=Object.prototype,Vce=E3.hasOwnProperty,Uce=E3.toString,Yf=sa?sa.toStringTag:void 0;function Kce(e){var t=Vce.call(e,Yf),n=e[Yf];try{e[Yf]=void 0;var r=!0}catch{}var o=Uce.call(e);return r&&(t?e[Yf]=n:delete e[Yf]),o}var Hce=Object.prototype,Wce=Hce.toString;function Gce(e){return Wce.call(e)}var Jce="[object Null]",Yce="[object Undefined]",E2=sa?sa.toStringTag:void 0;function qc(e){return e==null?e===void 0?Yce:Jce:E2&&E2 in Object(e)?Kce(e):Gce(e)}function ti(e){return e!=null&&typeof e=="object"}var Qce="[object Symbol]";function $x(e){return typeof e=="symbol"||ti(e)&&qc(e)==Qce}function I3(e,t){for(var n=-1,r=e==null?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}var aa=Array.isArray,I2=sa?sa.prototype:void 0,P2=I2?I2.toString:void 0;function P3(e){if(typeof e=="string")return e;if(aa(e))return I3(e,P3)+"";if($x(e))return P2?P2.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Xce=/\s/;function Zce(e){for(var t=e.length;t--&&Xce.test(e.charAt(t)););return t}var ede=/^\s+/;function tde(e){return e&&e.slice(0,Zce(e)+1).replace(ede,"")}function Bs(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var O2=NaN,nde=/^[-+]0x[0-9a-f]+$/i,rde=/^0b[01]+$/i,ode=/^0o[0-7]+$/i,sde=parseInt;function R2(e){if(typeof e=="number")return e;if($x(e))return O2;if(Bs(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Bs(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=tde(e);var n=rde.test(e);return n||ode.test(e)?sde(e.slice(2),n?2:8):nde.test(e)?O2:+e}function O3(e){return e}var ade="[object AsyncFunction]",ide="[object Function]",lde="[object GeneratorFunction]",ude="[object Proxy]";function GC(e){if(!Bs(e))return!1;var t=qc(e);return t==ide||t==lde||t==ade||t==ude}var Nk=Ma["__core-js_shared__"],B2=(function(){var e=/[^.]+$/.exec(Nk&&Nk.keys&&Nk.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})();function cde(e){return!!B2&&B2 in e}var dde=Function.prototype,fde=dde.toString;function zc(e){if(e!=null){try{return fde.call(e)}catch{}try{return e+""}catch{}}return""}var pde=/[\\^$.*+?()[\]{}|]/g,mde=/^\[object .+?Constructor\]$/,hde=Function.prototype,gde=Object.prototype,vde=hde.toString,yde=gde.hasOwnProperty,bde=RegExp("^"+vde.call(yde).replace(pde,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function xde(e){if(!Bs(e)||cde(e))return!1;var t=GC(e)?bde:mde;return t.test(zc(e))}function wde(e,t){return e?.[t]}function Lc(e,t){var n=wde(e,t);return xde(n)?n:void 0}var PS=Lc(Ma,"WeakMap"),N2=Object.create,kde=(function(){function e(){}return function(t){if(!Bs(t))return{};if(N2)return N2(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}})();function _de(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function R3(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var Sde=800,$de=16,Cde=Date.now;function Mde(e){var t=0,n=0;return function(){var r=Cde(),o=$de-(r-n);if(n=r,o>0){if(++t>=Sde)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function Ade(e){return function(){return e}}var cb=(function(){try{var e=Lc(Object,"defineProperty");return e({},"",{}),e}catch{}})(),Tde=cb?function(e,t){return cb(e,"toString",{configurable:!0,enumerable:!1,value:Ade(t),writable:!0})}:O3,B3=Mde(Tde);function Ede(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var Ide=9007199254740991,Pde=/^(?:0|[1-9]\d*)$/;function Cx(e,t){var n=typeof e;return t=t??Ide,!!t&&(n=="number"||n!="symbol"&&Pde.test(e))&&e>-1&&e%1==0&&e<t}function JC(e,t,n){t=="__proto__"&&cb?cb(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Sh(e,t){return e===t||e!==e&&t!==t}var Ode=Object.prototype,Rde=Ode.hasOwnProperty;function YC(e,t,n){var r=e[t];(!(Rde.call(e,t)&&Sh(r,n))||n===void 0&&!(t in e))&&JC(e,t,n)}function mf(e,t,n,r){var o=!n;n||(n={});for(var s=-1,a=t.length;++s<a;){var i=t[s],l=void 0;l===void 0&&(l=e[i]),o?JC(n,i,l):YC(n,i,l)}return n}var D2=Math.max;function N3(e,t,n){return t=D2(t===void 0?e.length-1:t,0),function(){for(var r=arguments,o=-1,s=D2(r.length-t,0),a=Array(s);++o<s;)a[o]=r[t+o];o=-1;for(var i=Array(t+1);++o<t;)i[o]=r[o];return i[t]=n(a),_de(e,this,i)}}function Bde(e,t){return B3(N3(e,t,O3),e+"")}var Nde=9007199254740991;function QC(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Nde}function Mx(e){return e!=null&&QC(e.length)&&!GC(e)}function Dde(e,t,n){if(!Bs(n))return!1;var r=typeof t;return(r=="number"?Mx(n)&&Cx(t,n.length):r=="string"&&t in n)?Sh(n[t],e):!1}function Fde(e){return Bde(function(t,n){var r=-1,o=n.length,s=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(s=e.length>3&&typeof s=="function"?(o--,s):void 0,a&&Dde(n[0],n[1],a)&&(s=o<3?void 0:s,o=1),t=Object(t);++r<o;){var i=n[r];i&&e(t,i,r,s)}return t})}var qde=Object.prototype;function XC(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||qde;return e===n}function zde(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Lde="[object Arguments]";function F2(e){return ti(e)&&qc(e)==Lde}var D3=Object.prototype,jde=D3.hasOwnProperty,Vde=D3.propertyIsEnumerable,tm=F2((function(){return arguments})())?F2:function(e){return ti(e)&&jde.call(e,"callee")&&!Vde.call(e,"callee")};function Ude(){return!1}var F3=typeof exports=="object"&&exports&&!exports.nodeType&&exports,q2=F3&&typeof module=="object"&&module&&!module.nodeType&&module,Kde=q2&&q2.exports===F3,z2=Kde?Ma.Buffer:void 0,Hde=z2?z2.isBuffer:void 0,nm=Hde||Ude,Wde="[object Arguments]",Gde="[object Array]",Jde="[object Boolean]",Yde="[object Date]",Qde="[object Error]",Xde="[object Function]",Zde="[object Map]",efe="[object Number]",tfe="[object Object]",nfe="[object RegExp]",rfe="[object Set]",ofe="[object String]",sfe="[object WeakMap]",afe="[object ArrayBuffer]",ife="[object DataView]",lfe="[object Float32Array]",ufe="[object Float64Array]",cfe="[object Int8Array]",dfe="[object Int16Array]",ffe="[object Int32Array]",pfe="[object Uint8Array]",mfe="[object Uint8ClampedArray]",hfe="[object Uint16Array]",gfe="[object Uint32Array]",zn={};zn[lfe]=zn[ufe]=zn[cfe]=zn[dfe]=zn[ffe]=zn[pfe]=zn[mfe]=zn[hfe]=zn[gfe]=!0;zn[Wde]=zn[Gde]=zn[afe]=zn[Jde]=zn[ife]=zn[Yde]=zn[Qde]=zn[Xde]=zn[Zde]=zn[efe]=zn[tfe]=zn[nfe]=zn[rfe]=zn[ofe]=zn[sfe]=!1;function vfe(e){return ti(e)&&QC(e.length)&&!!zn[qc(e)]}function ZC(e){return function(t){return e(t)}}var q3=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ap=q3&&typeof module=="object"&&module&&!module.nodeType&&module,yfe=Ap&&Ap.exports===q3,Dk=yfe&&T3.process,Hd=(function(){try{var e=Ap&&Ap.require&&Ap.require("util").types;return e||Dk&&Dk.binding&&Dk.binding("util")}catch{}})(),L2=Hd&&Hd.isTypedArray,eM=L2?ZC(L2):vfe,bfe=Object.prototype,xfe=bfe.hasOwnProperty;function z3(e,t){var n=aa(e),r=!n&&tm(e),o=!n&&!r&&nm(e),s=!n&&!r&&!o&&eM(e),a=n||r||o||s,i=a?zde(e.length,String):[],l=i.length;for(var c in e)(t||xfe.call(e,c))&&!(a&&(c=="length"||o&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Cx(c,l)))&&i.push(c);return i}function L3(e,t){return function(n){return e(t(n))}}var wfe=L3(Object.keys,Object),kfe=Object.prototype,_fe=kfe.hasOwnProperty;function Sfe(e){if(!XC(e))return wfe(e);var t=[];for(var n in Object(e))_fe.call(e,n)&&n!="constructor"&&t.push(n);return t}function tM(e){return Mx(e)?z3(e):Sfe(e)}function $fe(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var Cfe=Object.prototype,Mfe=Cfe.hasOwnProperty;function Afe(e){if(!Bs(e))return $fe(e);var t=XC(e),n=[];for(var r in e)r=="constructor"&&(t||!Mfe.call(e,r))||n.push(r);return n}function $h(e){return Mx(e)?z3(e,!0):Afe(e)}var Tfe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Efe=/^\w*$/;function Ife(e,t){if(aa(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||$x(e)?!0:Efe.test(e)||!Tfe.test(e)||t!=null&&e in Object(t)}var rm=Lc(Object,"create");function Pfe(){this.__data__=rm?rm(null):{},this.size=0}function Ofe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Rfe="__lodash_hash_undefined__",Bfe=Object.prototype,Nfe=Bfe.hasOwnProperty;function Dfe(e){var t=this.__data__;if(rm){var n=t[e];return n===Rfe?void 0:n}return Nfe.call(t,e)?t[e]:void 0}var Ffe=Object.prototype,qfe=Ffe.hasOwnProperty;function zfe(e){var t=this.__data__;return rm?t[e]!==void 0:qfe.call(t,e)}var Lfe="__lodash_hash_undefined__";function jfe(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=rm&&t===void 0?Lfe:t,this}function wc(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}wc.prototype.clear=Pfe;wc.prototype.delete=Ofe;wc.prototype.get=Dfe;wc.prototype.has=zfe;wc.prototype.set=jfe;function Vfe(){this.__data__=[],this.size=0}function Ax(e,t){for(var n=e.length;n--;)if(Sh(e[n][0],t))return n;return-1}var Ufe=Array.prototype,Kfe=Ufe.splice;function Hfe(e){var t=this.__data__,n=Ax(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Kfe.call(t,n,1),--this.size,!0}function Wfe(e){var t=this.__data__,n=Ax(t,e);return n<0?void 0:t[n][1]}function Gfe(e){return Ax(this.__data__,e)>-1}function Jfe(e,t){var n=this.__data__,r=Ax(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function ul(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ul.prototype.clear=Vfe;ul.prototype.delete=Hfe;ul.prototype.get=Wfe;ul.prototype.has=Gfe;ul.prototype.set=Jfe;var om=Lc(Ma,"Map");function Yfe(){this.size=0,this.__data__={hash:new wc,map:new(om||ul),string:new wc}}function Qfe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Tx(e,t){var n=e.__data__;return Qfe(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Xfe(e){var t=Tx(this,e).delete(e);return this.size-=t?1:0,t}function Zfe(e){return Tx(this,e).get(e)}function epe(e){return Tx(this,e).has(e)}function tpe(e,t){var n=Tx(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function cl(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}cl.prototype.clear=Yfe;cl.prototype.delete=Xfe;cl.prototype.get=Zfe;cl.prototype.has=epe;cl.prototype.set=tpe;var npe="Expected a function";function nM(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(npe);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],s=n.cache;if(s.has(o))return s.get(o);var a=e.apply(this,r);return n.cache=s.set(o,a)||s,a};return n.cache=new(nM.Cache||cl),n}nM.Cache=cl;var rpe=500;function ope(e){var t=nM(e,function(r){return n.size===rpe&&n.clear(),r}),n=t.cache;return t}var spe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ape=/\\(\\)?/g,ipe=ope(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(spe,function(n,r,o,s){t.push(o?s.replace(ape,"$1"):r||n)}),t});function lpe(e){return e==null?"":P3(e)}function Ch(e,t){return aa(e)?e:Ife(e,t)?[e]:ipe(lpe(e))}function Ex(e){if(typeof e=="string"||$x(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function j3(e,t){t=Ch(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Ex(t[n++])];return n&&n==r?e:void 0}function ya(e,t,n){var r=e==null?void 0:j3(e,t);return r===void 0?n:r}function rM(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}var j2=sa?sa.isConcatSpreadable:void 0;function upe(e){return aa(e)||tm(e)||!!(j2&&e&&e[j2])}function cpe(e,t,n,r,o){var s=-1,a=e.length;for(n||(n=upe),o||(o=[]);++s<a;){var i=e[s];n(i)?rM(o,i):o[o.length]=i}return o}function dpe(e){var t=e==null?0:e.length;return t?cpe(e):[]}function fpe(e){return B3(N3(e,void 0,dpe),e+"")}var oM=L3(Object.getPrototypeOf,Object),ppe="[object Object]",mpe=Function.prototype,hpe=Object.prototype,V3=mpe.toString,gpe=hpe.hasOwnProperty,vpe=V3.call(Object);function U3(e){if(!ti(e)||qc(e)!=ppe)return!1;var t=oM(e);if(t===null)return!0;var n=gpe.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&V3.call(n)==vpe}function ype(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),n=n>o?o:n,n<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(o);++r<o;)s[r]=e[r+t];return s}function bpe(){this.__data__=new ul,this.size=0}function xpe(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function wpe(e){return this.__data__.get(e)}function kpe(e){return this.__data__.has(e)}var _pe=200;function Spe(e,t){var n=this.__data__;if(n instanceof ul){var r=n.__data__;if(!om||r.length<_pe-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new cl(r)}return n.set(e,t),this.size=n.size,this}function Xa(e){var t=this.__data__=new ul(e);this.size=t.size}Xa.prototype.clear=bpe;Xa.prototype.delete=xpe;Xa.prototype.get=wpe;Xa.prototype.has=kpe;Xa.prototype.set=Spe;function $pe(e,t){return e&&mf(t,tM(t),e)}function Cpe(e,t){return e&&mf(t,$h(t),e)}var K3=typeof exports=="object"&&exports&&!exports.nodeType&&exports,V2=K3&&typeof module=="object"&&module&&!module.nodeType&&module,Mpe=V2&&V2.exports===K3,U2=Mpe?Ma.Buffer:void 0,K2=U2?U2.allocUnsafe:void 0;function H3(e,t){if(t)return e.slice();var n=e.length,r=K2?K2(n):new e.constructor(n);return e.copy(r),r}function Ape(e,t){for(var n=-1,r=e==null?0:e.length,o=0,s=[];++n<r;){var a=e[n];t(a,n,e)&&(s[o++]=a)}return s}function W3(){return[]}var Tpe=Object.prototype,Epe=Tpe.propertyIsEnumerable,H2=Object.getOwnPropertySymbols,sM=H2?function(e){return e==null?[]:(e=Object(e),Ape(H2(e),function(t){return Epe.call(e,t)}))}:W3;function Ipe(e,t){return mf(e,sM(e),t)}var Ppe=Object.getOwnPropertySymbols,G3=Ppe?function(e){for(var t=[];e;)rM(t,sM(e)),e=oM(e);return t}:W3;function Ope(e,t){return mf(e,G3(e),t)}function J3(e,t,n){var r=t(e);return aa(e)?r:rM(r,n(e))}function OS(e){return J3(e,tM,sM)}function Y3(e){return J3(e,$h,G3)}var RS=Lc(Ma,"DataView"),BS=Lc(Ma,"Promise"),NS=Lc(Ma,"Set"),W2="[object Map]",Rpe="[object Object]",G2="[object Promise]",J2="[object Set]",Y2="[object WeakMap]",Q2="[object DataView]",Bpe=zc(RS),Npe=zc(om),Dpe=zc(BS),Fpe=zc(NS),qpe=zc(PS),ga=qc;(RS&&ga(new RS(new ArrayBuffer(1)))!=Q2||om&&ga(new om)!=W2||BS&&ga(BS.resolve())!=G2||NS&&ga(new NS)!=J2||PS&&ga(new PS)!=Y2)&&(ga=function(e){var t=qc(e),n=t==Rpe?e.constructor:void 0,r=n?zc(n):"";if(r)switch(r){case Bpe:return Q2;case Npe:return W2;case Dpe:return G2;case Fpe:return J2;case qpe:return Y2}return t});var zpe=Object.prototype,Lpe=zpe.hasOwnProperty;function jpe(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&Lpe.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var db=Ma.Uint8Array;function aM(e){var t=new e.constructor(e.byteLength);return new db(t).set(new db(e)),t}function Vpe(e,t){var n=t?aM(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var Upe=/\w*$/;function Kpe(e){var t=new e.constructor(e.source,Upe.exec(e));return t.lastIndex=e.lastIndex,t}var X2=sa?sa.prototype:void 0,Z2=X2?X2.valueOf:void 0;function Hpe(e){return Z2?Object(Z2.call(e)):{}}function Q3(e,t){var n=t?aM(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var Wpe="[object Boolean]",Gpe="[object Date]",Jpe="[object Map]",Ype="[object Number]",Qpe="[object RegExp]",Xpe="[object Set]",Zpe="[object String]",eme="[object Symbol]",tme="[object ArrayBuffer]",nme="[object DataView]",rme="[object Float32Array]",ome="[object Float64Array]",sme="[object Int8Array]",ame="[object Int16Array]",ime="[object Int32Array]",lme="[object Uint8Array]",ume="[object Uint8ClampedArray]",cme="[object Uint16Array]",dme="[object Uint32Array]";function fme(e,t,n){var r=e.constructor;switch(t){case tme:return aM(e);case Wpe:case Gpe:return new r(+e);case nme:return Vpe(e,n);case rme:case ome:case sme:case ame:case ime:case lme:case ume:case cme:case dme:return Q3(e,n);case Jpe:return new r;case Ype:case Zpe:return new r(e);case Qpe:return Kpe(e);case Xpe:return new r;case eme:return Hpe(e)}}function X3(e){return typeof e.constructor=="function"&&!XC(e)?kde(oM(e)):{}}var pme="[object Map]";function mme(e){return ti(e)&&ga(e)==pme}var eO=Hd&&Hd.isMap,hme=eO?ZC(eO):mme,gme="[object Set]";function vme(e){return ti(e)&&ga(e)==gme}var tO=Hd&&Hd.isSet,yme=tO?ZC(tO):vme,bme=1,xme=2,wme=4,Z3="[object Arguments]",kme="[object Array]",_me="[object Boolean]",Sme="[object Date]",$me="[object Error]",eL="[object Function]",Cme="[object GeneratorFunction]",Mme="[object Map]",Ame="[object Number]",tL="[object Object]",Tme="[object RegExp]",Eme="[object Set]",Ime="[object String]",Pme="[object Symbol]",Ome="[object WeakMap]",Rme="[object ArrayBuffer]",Bme="[object DataView]",Nme="[object Float32Array]",Dme="[object Float64Array]",Fme="[object Int8Array]",qme="[object Int16Array]",zme="[object Int32Array]",Lme="[object Uint8Array]",jme="[object Uint8ClampedArray]",Vme="[object Uint16Array]",Ume="[object Uint32Array]",Bn={};Bn[Z3]=Bn[kme]=Bn[Rme]=Bn[Bme]=Bn[_me]=Bn[Sme]=Bn[Nme]=Bn[Dme]=Bn[Fme]=Bn[qme]=Bn[zme]=Bn[Mme]=Bn[Ame]=Bn[tL]=Bn[Tme]=Bn[Eme]=Bn[Ime]=Bn[Pme]=Bn[Lme]=Bn[jme]=Bn[Vme]=Bn[Ume]=!0;Bn[$me]=Bn[eL]=Bn[Ome]=!1;function Tp(e,t,n,r,o,s){var a,i=t&bme,l=t&xme,c=t&wme;if(n&&(a=o?n(e,r,o,s):n(e)),a!==void 0)return a;if(!Bs(e))return e;var u=aa(e);if(u){if(a=jpe(e),!i)return R3(e,a)}else{var d=ga(e),f=d==eL||d==Cme;if(nm(e))return H3(e,i);if(d==tL||d==Z3||f&&!o){if(a=l||f?{}:X3(e),!i)return l?Ope(e,Cpe(a,e)):Ipe(e,$pe(a,e))}else{if(!Bn[d])return o?e:{};a=fme(e,d,i)}}s||(s=new Xa);var p=s.get(e);if(p)return p;s.set(e,a),yme(e)?e.forEach(function(g){a.add(Tp(g,t,n,g,e,s))}):hme(e)&&e.forEach(function(g,v){a.set(v,Tp(g,t,n,v,e,s))});var m=c?l?Y3:OS:l?$h:tM,h=u?void 0:m(e);return Ede(h||e,function(g,v){h&&(v=g,g=e[v]),YC(a,v,Tp(g,t,n,v,e,s))}),a}var Kme=1,Hme=4;function Ar(e){return Tp(e,Kme|Hme)}var Wme="__lodash_hash_undefined__";function Gme(e){return this.__data__.set(e,Wme),this}function Jme(e){return this.__data__.has(e)}function fb(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new cl;++t<n;)this.add(e[t])}fb.prototype.add=fb.prototype.push=Gme;fb.prototype.has=Jme;function Yme(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function Qme(e,t){return e.has(t)}var Xme=1,Zme=2;function nL(e,t,n,r,o,s){var a=n&Xme,i=e.length,l=t.length;if(i!=l&&!(a&&l>i))return!1;var c=s.get(e),u=s.get(t);if(c&&u)return c==t&&u==e;var d=-1,f=!0,p=n&Zme?new fb:void 0;for(s.set(e,t),s.set(t,e);++d<i;){var m=e[d],h=t[d];if(r)var g=a?r(h,m,d,t,e,s):r(m,h,d,e,t,s);if(g!==void 0){if(g)continue;f=!1;break}if(p){if(!Yme(t,function(v,x){if(!Qme(p,x)&&(m===v||o(m,v,n,r,s)))return p.push(x)})){f=!1;break}}else if(!(m===h||o(m,h,n,r,s))){f=!1;break}}return s.delete(e),s.delete(t),f}function ehe(e){var t=-1,n=Array(e.size);return e.forEach(function(r,o){n[++t]=[o,r]}),n}function the(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var nhe=1,rhe=2,ohe="[object Boolean]",she="[object Date]",ahe="[object Error]",ihe="[object Map]",lhe="[object Number]",uhe="[object RegExp]",che="[object Set]",dhe="[object String]",fhe="[object Symbol]",phe="[object ArrayBuffer]",mhe="[object DataView]",nO=sa?sa.prototype:void 0,Fk=nO?nO.valueOf:void 0;function hhe(e,t,n,r,o,s,a){switch(n){case mhe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case phe:return!(e.byteLength!=t.byteLength||!s(new db(e),new db(t)));case ohe:case she:case lhe:return Sh(+e,+t);case ahe:return e.name==t.name&&e.message==t.message;case uhe:case dhe:return e==t+"";case ihe:var i=ehe;case che:var l=r&nhe;if(i||(i=the),e.size!=t.size&&!l)return!1;var c=a.get(e);if(c)return c==t;r|=rhe,a.set(e,t);var u=nL(i(e),i(t),r,o,s,a);return a.delete(e),u;case fhe:if(Fk)return Fk.call(e)==Fk.call(t)}return!1}var ghe=1,vhe=Object.prototype,yhe=vhe.hasOwnProperty;function bhe(e,t,n,r,o,s){var a=n&ghe,i=OS(e),l=i.length,c=OS(t),u=c.length;if(l!=u&&!a)return!1;for(var d=l;d--;){var f=i[d];if(!(a?f in t:yhe.call(t,f)))return!1}var p=s.get(e),m=s.get(t);if(p&&m)return p==t&&m==e;var h=!0;s.set(e,t),s.set(t,e);for(var g=a;++d<l;){f=i[d];var v=e[f],x=t[f];if(r)var $=a?r(x,v,f,t,e,s):r(v,x,f,e,t,s);if(!($===void 0?v===x||o(v,x,n,r,s):$)){h=!1;break}g||(g=f=="constructor")}if(h&&!g){var C=e.constructor,M=t.constructor;C!=M&&"constructor"in e&&"constructor"in t&&!(typeof C=="function"&&C instanceof C&&typeof M=="function"&&M instanceof M)&&(h=!1)}return s.delete(e),s.delete(t),h}var xhe=1,rO="[object Arguments]",oO="[object Array]",Xg="[object Object]",whe=Object.prototype,sO=whe.hasOwnProperty;function khe(e,t,n,r,o,s){var a=aa(e),i=aa(t),l=a?oO:ga(e),c=i?oO:ga(t);l=l==rO?Xg:l,c=c==rO?Xg:c;var u=l==Xg,d=c==Xg,f=l==c;if(f&&nm(e)){if(!nm(t))return!1;a=!0,u=!1}if(f&&!u)return s||(s=new Xa),a||eM(e)?nL(e,t,n,r,o,s):hhe(e,t,l,n,r,o,s);if(!(n&xhe)){var p=u&&sO.call(e,"__wrapped__"),m=d&&sO.call(t,"__wrapped__");if(p||m){var h=p?e.value():e,g=m?t.value():t;return s||(s=new Xa),o(h,g,n,r,s)}}return f?(s||(s=new Xa),bhe(e,t,n,r,o,s)):!1}function rL(e,t,n,r,o){return e===t?!0:e==null||t==null||!ti(e)&&!ti(t)?e!==e&&t!==t:khe(e,t,n,r,rL,o)}function _he(e,t,n){t=Ch(t,e);for(var r=-1,o=t.length,s=!1;++r<o;){var a=Ex(t[r]);if(!(s=e!=null&&n(e,a)))break;e=e[a]}return s||++r!=o?s:(o=e==null?0:e.length,!!o&&QC(o)&&Cx(a,o)&&(aa(e)||tm(e)))}function She(e){return function(t,n,r){for(var o=-1,s=Object(t),a=r(t),i=a.length;i--;){var l=a[++o];if(n(s[l],l,s)===!1)break}return t}}var $he=She(),qk=function(){return Ma.Date.now()},Che="Expected a function",Mhe=Math.max,Ahe=Math.min;function The(e,t,n){var r,o,s,a,i,l,c=0,u=!1,d=!1,f=!0;if(typeof e!="function")throw new TypeError(Che);t=R2(t)||0,Bs(n)&&(u=!0,d="maxWait"in n,s=d?Mhe(R2(n.maxWait)||0,t):s,f="trailing"in n?!0:f);function p(I){var E=r,P=o;return r=o=void 0,c=I,a=e.apply(P,E),a}function m(I){return c=I,i=setTimeout(v,t),u?p(I):a}function h(I){var E=I-l,P=I-c,O=t-E;return d?Ahe(O,s-P):O}function g(I){var E=I-l,P=I-c;return l===void 0||E>=t||E<0||d&&P>=s}function v(){var I=qk();if(g(I))return x(I);i=setTimeout(v,h(I))}function x(I){return i=void 0,f&&r?p(I):(r=o=void 0,a)}function $(){i!==void 0&&clearTimeout(i),c=0,r=l=o=i=void 0}function C(){return i===void 0?a:x(qk())}function M(){var I=qk(),E=g(I);if(r=arguments,o=this,l=I,E){if(i===void 0)return m(l);if(d)return clearTimeout(i),i=setTimeout(v,t),p(l)}return i===void 0&&(i=setTimeout(v,t)),a}return M.cancel=$,M.flush=C,M}function DS(e,t,n){(n!==void 0&&!Sh(e[t],n)||n===void 0&&!(t in e))&&JC(e,t,n)}function Ehe(e){return ti(e)&&Mx(e)}function FS(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function Ihe(e){return mf(e,$h(e))}function Phe(e,t,n,r,o,s,a){var i=FS(e,n),l=FS(t,n),c=a.get(l);if(c){DS(e,n,c);return}var u=s?s(i,l,n+"",e,t,a):void 0,d=u===void 0;if(d){var f=aa(l),p=!f&&nm(l),m=!f&&!p&&eM(l);u=l,f||p||m?aa(i)?u=i:Ehe(i)?u=R3(i):p?(d=!1,u=H3(l,!0)):m?(d=!1,u=Q3(l,!0)):u=[]:U3(l)||tm(l)?(u=i,tm(i)?u=Ihe(i):(!Bs(i)||GC(i))&&(u=X3(l))):d=!1}d&&(a.set(l,u),o(u,l,r,s,a),a.delete(l)),DS(e,n,u)}function oL(e,t,n,r,o){e!==t&&$he(t,function(s,a){if(o||(o=new Xa),Bs(s))Phe(e,t,a,n,oL,r,o);else{var i=r?r(FS(e,a),s,a+"",e,t,o):void 0;i===void 0&&(i=s),DS(e,a,i)}},$h)}function Ohe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Rhe=Object.prototype,Bhe=Rhe.hasOwnProperty;function Nhe(e,t){return e!=null&&Bhe.call(e,t)}function sL(e,t){return e!=null&&_he(e,t,Nhe)}function Dhe(e,t){return t.length<2?e:j3(e,ype(t,0,-1))}function Wd(e,t){return rL(e,t)}var qS=Fde(function(e,t,n){oL(e,t,n)}),Fhe=Object.prototype,qhe=Fhe.hasOwnProperty;function zhe(e,t){t=Ch(t,e);var n=-1,r=t.length;if(!r)return!0;for(var o=e==null||typeof e!="object"&&typeof e!="function";++n<r;){var s=t[n];if(typeof s=="string"){if(s==="__proto__"&&!qhe.call(e,"__proto__"))return!1;if(s==="constructor"&&n+1<r&&typeof t[n+1]=="string"&&t[n+1]==="prototype"){if(o&&n===0)continue;return!1}}}var a=Dhe(e,t);return a==null||delete a[Ex(Ohe(t))]}function Lhe(e){return U3(e)?void 0:e}var jhe=1,Vhe=2,Uhe=4,aO=fpe(function(e,t){var n={};if(e==null)return n;var r=!1;t=I3(t,function(s){return s=Ch(s,e),r||(r=s.length>1),s}),mf(e,Y3(e),n),r&&(n=Tp(n,jhe|Vhe|Uhe,Lhe));for(var o=t.length;o--;)zhe(n,t[o]);return n});function Khe(e,t,n,r){if(!Bs(e))return e;t=Ch(t,e);for(var o=-1,s=t.length,a=s-1,i=e;i!=null&&++o<s;){var l=Ex(t[o]),c=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return e;if(o!=a){var u=i[l];c=void 0,c===void 0&&(c=Bs(u)?u:Cx(t[o+1])?[]:{})}YC(i,l,c),i=i[l]}return e}function Ga(e,t,n){return e==null?e:Khe(e,t,n)}var _d=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hhe(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var o=!1;try{o=this instanceof r}catch{}return o?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var zk,iO;function hf(){return iO||(iO=1,zk=TypeError),zk}const Whe={},Ghe=Object.freeze(Object.defineProperty({__proto__:null,default:Whe},Symbol.toStringTag,{value:"Module"})),Jhe=Hhe(Ghe);var Lk,lO;function Ix(){if(lO)return Lk;lO=1;var e=typeof Map=="function"&&Map.prototype,t=Object.getOwnPropertyDescriptor&&e?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,n=e&&t&&typeof t.get=="function"?t.get:null,r=e&&Map.prototype.forEach,o=typeof Set=="function"&&Set.prototype,s=Object.getOwnPropertyDescriptor&&o?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,a=o&&s&&typeof s.get=="function"?s.get:null,i=o&&Set.prototype.forEach,l=typeof WeakMap=="function"&&WeakMap.prototype,c=l?WeakMap.prototype.has:null,u=typeof WeakSet=="function"&&WeakSet.prototype,d=u?WeakSet.prototype.has:null,f=typeof WeakRef=="function"&&WeakRef.prototype,p=f?WeakRef.prototype.deref:null,m=Boolean.prototype.valueOf,h=Object.prototype.toString,g=Function.prototype.toString,v=String.prototype.match,x=String.prototype.slice,$=String.prototype.replace,C=String.prototype.toUpperCase,M=String.prototype.toLowerCase,I=RegExp.prototype.test,E=Array.prototype.concat,P=Array.prototype.join,O=Array.prototype.slice,D=Math.floor,L=typeof BigInt=="function"?BigInt.prototype.valueOf:null,V=Object.getOwnPropertySymbols,F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,z=typeof Symbol=="function"&&typeof Symbol.iterator=="object",N=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===z||!0)?Symbol.toStringTag:null,ee=Object.prototype.propertyIsEnumerable,ne=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(xe){return xe.__proto__}:null);function Y(xe,ke){if(xe===1/0||xe===-1/0||xe!==xe||xe&&xe>-1e3&&xe<1e3||I.call(/e/,ke))return ke;var en=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof xe=="number"){var vn=xe<0?-D(-xe):D(xe);if(vn!==xe){var Mn=String(vn),Vt=x.call(ke,Mn.length+1);return $.call(Mn,en,"$&_")+"."+$.call($.call(Vt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return $.call(ke,en,"$&_")}var Re=Jhe,fe=Re.custom,we=se(fe)?fe:null,ue={__proto__:null,double:'"',single:"'"},Ne={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};Lk=function xe(ke,en,vn,Mn){var Vt=en||{};if(be(Vt,"quoteStyle")&&!be(ue,Vt.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(be(Vt,"maxStringLength")&&(typeof Vt.maxStringLength=="number"?Vt.maxStringLength<0&&Vt.maxStringLength!==1/0:Vt.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var la=be(Vt,"customInspect")?Vt.customInspect:!0;if(typeof la!="boolean"&&la!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(be(Vt,"indent")&&Vt.indent!==null&&Vt.indent!=="	"&&!(parseInt(Vt.indent,10)===Vt.indent&&Vt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(be(Vt,"numericSeparator")&&typeof Vt.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var _i=Vt.numericSeparator;if(typeof ke>"u")return"undefined";if(ke===null)return"null";if(typeof ke=="boolean")return ke?"true":"false";if(typeof ke=="string")return Et(ke,Vt);if(typeof ke=="number"){if(ke===0)return 1/0/ke>0?"0":"-0";var Ho=String(ke);return _i?Y(ke,Ho):Ho}if(typeof ke=="bigint"){var Ea=String(ke)+"n";return _i?Y(ke,Ea):Ea}var $f=typeof Vt.depth>"u"?5:Vt.depth;if(typeof vn>"u"&&(vn=0),vn>=$f&&$f>0&&typeof ke=="object")return ce(ke)?"[Array]":"[Object]";var Si=ur(Vt,vn);if(typeof Mn>"u")Mn=[];else if(Be(Mn,ke)>=0)return"[Circular]";function ws(fl,Wc,sw){if(Wc&&(Mn=O.call(Mn),Mn.push(Wc)),sw){var Gh={depth:Vt.depth};return be(Vt,"quoteStyle")&&(Gh.quoteStyle=Vt.quoteStyle),xe(fl,Gh,vn+1,Mn)}return xe(fl,Vt,vn+1,Mn)}if(typeof ke=="function"&&!Ae(ke)){var Vh=he(ke),Uh=xo(ke,ws);return"[Function"+(Vh?": "+Vh:" (anonymous)")+"]"+(Uh.length>0?" { "+P.call(Uh,", ")+" }":"")}if(se(ke)){var Kc=z?$.call(String(ke),/^(Symbol\(.*\))_[^)]*$/,"$1"):F.call(ke);return typeof ke=="object"&&!z?Lt(Kc):Kc}if(yt(ke)){for(var ku="<"+M.call(String(ke.nodeName)),_u=ke.attributes||[],Hc=0;Hc<_u.length;Hc++)ku+=" "+_u[Hc].name+"="+Xe(st(_u[Hc].value),"double",Vt);return ku+=">",ke.childNodes&&ke.childNodes.length&&(ku+="..."),ku+="</"+M.call(String(ke.nodeName))+">",ku}if(ce(ke)){if(ke.length===0)return"[]";var Cf=xo(ke,ws);return Si&&!pr(Cf)?"["+cr(Cf,Si)+"]":"[ "+P.call(Cf,", ")+" ]"}if(pe(ke)){var Mf=xo(ke,ws);return!("cause"in Error.prototype)&&"cause"in ke&&!ee.call(ke,"cause")?"{ ["+String(ke)+"] "+P.call(E.call("[cause]: "+ws(ke.cause),Mf),", ")+" }":Mf.length===0?"["+String(ke)+"]":"{ ["+String(ke)+"] "+P.call(Mf,", ")+" }"}if(typeof ke=="object"&&la){if(we&&typeof ke[we]=="function"&&Re)return Re(ke,{depth:$f-vn});if(la!=="symbol"&&typeof ke.inspect=="function")return ke.inspect()}if(_e(ke)){var Kh=[];return r&&r.call(ke,function(fl,Wc){Kh.push(ws(Wc,ke,!0)+" => "+ws(fl,ke))}),gn("Map",n.call(ke),Kh,Si)}if(Ue(ke)){var Hh=[];return i&&i.call(ke,function(fl){Hh.push(ws(fl,ke))}),gn("Set",a.call(ke),Hh,Si)}if(Oe(ke))return Fn("WeakMap");if(at(ke))return Fn("WeakSet");if(Ze(ke))return Fn("WeakRef");if(kt(ke))return Lt(ws(Number(ke)));if($e(ke))return Lt(ws(L.call(ke)));if(te(ke))return Lt(m.call(ke));if(et(ke))return Lt(ws(String(ke)));if(typeof window<"u"&&ke===window)return"{ [object Window] }";if(typeof globalThis<"u"&&ke===globalThis||typeof _d<"u"&&ke===_d)return"{ [object globalThis] }";if(!ve(ke)&&!Ae(ke)){var Af=xo(ke,ws),Wh=ne?ne(ke)===Object.prototype:ke instanceof Object||ke.constructor===Object,Tf=ke instanceof Object?"":"null prototype",Ef=!Wh&&N&&Object(ke)===ke&&N in ke?x.call(me(ke),8,-1):Tf?"Object":"",ow=Wh||typeof ke.constructor!="function"?"":ke.constructor.name?ke.constructor.name+" ":"",If=ow+(Ef||Tf?"["+P.call(E.call([],Ef||[],Tf||[]),": ")+"] ":"");return Af.length===0?If+"{}":Si?If+"{"+cr(Af,Si)+"}":If+"{ "+P.call(Af,", ")+" }"}return String(ke)};function Xe(xe,ke,en){var vn=en.quoteStyle||ke,Mn=ue[vn];return Mn+xe+Mn}function st(xe){return $.call(String(xe),/"/g,"&quot;")}function it(xe){return!N||!(typeof xe=="object"&&(N in xe||typeof xe[N]<"u"))}function ce(xe){return me(xe)==="[object Array]"&&it(xe)}function ve(xe){return me(xe)==="[object Date]"&&it(xe)}function Ae(xe){return me(xe)==="[object RegExp]"&&it(xe)}function pe(xe){return me(xe)==="[object Error]"&&it(xe)}function et(xe){return me(xe)==="[object String]"&&it(xe)}function kt(xe){return me(xe)==="[object Number]"&&it(xe)}function te(xe){return me(xe)==="[object Boolean]"&&it(xe)}function se(xe){if(z)return xe&&typeof xe=="object"&&xe instanceof Symbol;if(typeof xe=="symbol")return!0;if(!xe||typeof xe!="object"||!F)return!1;try{return F.call(xe),!0}catch{}return!1}function $e(xe){if(!xe||typeof xe!="object"||!L)return!1;try{return L.call(xe),!0}catch{}return!1}var Ie=Object.prototype.hasOwnProperty||function(xe){return xe in this};function be(xe,ke){return Ie.call(xe,ke)}function me(xe){return h.call(xe)}function he(xe){if(xe.name)return xe.name;var ke=v.call(g.call(xe),/^function\s*([\w$]+)/);return ke?ke[1]:null}function Be(xe,ke){if(xe.indexOf)return xe.indexOf(ke);for(var en=0,vn=xe.length;en<vn;en++)if(xe[en]===ke)return en;return-1}function _e(xe){if(!n||!xe||typeof xe!="object")return!1;try{n.call(xe);try{a.call(xe)}catch{return!0}return xe instanceof Map}catch{}return!1}function Oe(xe){if(!c||!xe||typeof xe!="object")return!1;try{c.call(xe,c);try{d.call(xe,d)}catch{return!0}return xe instanceof WeakMap}catch{}return!1}function Ze(xe){if(!p||!xe||typeof xe!="object")return!1;try{return p.call(xe),!0}catch{}return!1}function Ue(xe){if(!a||!xe||typeof xe!="object")return!1;try{a.call(xe);try{n.call(xe)}catch{return!0}return xe instanceof Set}catch{}return!1}function at(xe){if(!d||!xe||typeof xe!="object")return!1;try{d.call(xe,d);try{c.call(xe,c)}catch{return!0}return xe instanceof WeakSet}catch{}return!1}function yt(xe){return!xe||typeof xe!="object"?!1:typeof HTMLElement<"u"&&xe instanceof HTMLElement?!0:typeof xe.nodeName=="string"&&typeof xe.getAttribute=="function"}function Et(xe,ke){if(xe.length>ke.maxStringLength){var en=xe.length-ke.maxStringLength,vn="... "+en+" more character"+(en>1?"s":"");return Et(x.call(xe,0,ke.maxStringLength),ke)+vn}var Mn=Ne[ke.quoteStyle||"single"];Mn.lastIndex=0;var Vt=$.call($.call(xe,Mn,"\\$1"),/[\x00-\x1f]/g,Qt);return Xe(Vt,"single",ke)}function Qt(xe){var ke=xe.charCodeAt(0),en={8:"b",9:"t",10:"n",12:"f",13:"r"}[ke];return en?"\\"+en:"\\x"+(ke<16?"0":"")+C.call(ke.toString(16))}function Lt(xe){return"Object("+xe+")"}function Fn(xe){return xe+" { ? }"}function gn(xe,ke,en,vn){var Mn=vn?cr(en,vn):P.call(en,", ");return xe+" ("+ke+") {"+Mn+"}"}function pr(xe){for(var ke=0;ke<xe.length;ke++)if(Be(xe[ke],`
`)>=0)return!1;return!0}function ur(xe,ke){var en;if(xe.indent==="	")en="	";else if(typeof xe.indent=="number"&&xe.indent>0)en=P.call(Array(xe.indent+1)," ");else return null;return{base:en,prev:P.call(Array(ke+1),en)}}function cr(xe,ke){if(xe.length===0)return"";var en=`
`+ke.prev+ke.base;return en+P.call(xe,","+en)+`
`+ke.prev}function xo(xe,ke){var en=ce(xe),vn=[];if(en){vn.length=xe.length;for(var Mn=0;Mn<xe.length;Mn++)vn[Mn]=be(xe,Mn)?ke(xe[Mn],xe):""}var Vt=typeof V=="function"?V(xe):[],la;if(z){la={};for(var _i=0;_i<Vt.length;_i++)la["$"+Vt[_i]]=Vt[_i]}for(var Ho in xe)be(xe,Ho)&&(en&&String(Number(Ho))===Ho&&Ho<xe.length||z&&la["$"+Ho]instanceof Symbol||(I.call(/[^\w$]/,Ho)?vn.push(ke(Ho,xe)+": "+ke(xe[Ho],xe)):vn.push(Ho+": "+ke(xe[Ho],xe))));if(typeof V=="function")for(var Ea=0;Ea<Vt.length;Ea++)ee.call(xe,Vt[Ea])&&vn.push("["+ke(Vt[Ea])+"]: "+ke(xe[Vt[Ea]],xe));return vn}return Lk}var jk,uO;function Yhe(){if(uO)return jk;uO=1;var e=Ix(),t=hf(),n=function(i,l,c){for(var u=i,d;(d=u.next)!=null;u=d)if(d.key===l)return u.next=d.next,c||(d.next=i.next,i.next=d),d},r=function(i,l){if(i){var c=n(i,l);return c&&c.value}},o=function(i,l,c){var u=n(i,l);u?u.value=c:i.next={key:l,next:i.next,value:c}},s=function(i,l){return i?!!n(i,l):!1},a=function(i,l){if(i)return n(i,l,!0)};return jk=function(){var l,c={assert:function(u){if(!c.has(u))throw new t("Side channel does not contain "+e(u))},delete:function(u){var d=l&&l.next,f=a(l,u);return f&&d&&d===f&&(l=void 0),!!f},get:function(u){return r(l,u)},has:function(u){return s(l,u)},set:function(u,d){l||(l={next:void 0}),o(l,u,d)}};return c},jk}var Vk,cO;function aL(){return cO||(cO=1,Vk=Object),Vk}var Uk,dO;function Qhe(){return dO||(dO=1,Uk=Error),Uk}var Kk,fO;function Xhe(){return fO||(fO=1,Kk=EvalError),Kk}var Hk,pO;function Zhe(){return pO||(pO=1,Hk=RangeError),Hk}var Wk,mO;function ege(){return mO||(mO=1,Wk=ReferenceError),Wk}var Gk,hO;function tge(){return hO||(hO=1,Gk=SyntaxError),Gk}var Jk,gO;function nge(){return gO||(gO=1,Jk=URIError),Jk}var Yk,vO;function rge(){return vO||(vO=1,Yk=Math.abs),Yk}var Qk,yO;function oge(){return yO||(yO=1,Qk=Math.floor),Qk}var Xk,bO;function sge(){return bO||(bO=1,Xk=Math.max),Xk}var Zk,xO;function age(){return xO||(xO=1,Zk=Math.min),Zk}var e1,wO;function ige(){return wO||(wO=1,e1=Math.pow),e1}var t1,kO;function lge(){return kO||(kO=1,t1=Math.round),t1}var n1,_O;function uge(){return _O||(_O=1,n1=Number.isNaN||function(t){return t!==t}),n1}var r1,SO;function cge(){if(SO)return r1;SO=1;var e=uge();return r1=function(n){return e(n)||n===0?n:n<0?-1:1},r1}var o1,$O;function dge(){return $O||($O=1,o1=Object.getOwnPropertyDescriptor),o1}var s1,CO;function iL(){if(CO)return s1;CO=1;var e=dge();if(e)try{e([],"length")}catch{e=null}return s1=e,s1}var a1,MO;function fge(){if(MO)return a1;MO=1;var e=Object.defineProperty||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return a1=e,a1}var i1,AO;function pge(){return AO||(AO=1,i1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var o=42;t[n]=o;for(var s in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var a=Object.getOwnPropertySymbols(t);if(a.length!==1||a[0]!==n||!Object.prototype.propertyIsEnumerable.call(t,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var i=Object.getOwnPropertyDescriptor(t,n);if(i.value!==o||i.enumerable!==!0)return!1}return!0}),i1}var l1,TO;function mge(){if(TO)return l1;TO=1;var e=typeof Symbol<"u"&&Symbol,t=pge();return l1=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},l1}var u1,EO;function lL(){return EO||(EO=1,u1=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),u1}var c1,IO;function uL(){if(IO)return c1;IO=1;var e=aL();return c1=e.getPrototypeOf||null,c1}var d1,PO;function hge(){if(PO)return d1;PO=1;var e="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,n=Math.max,r="[object Function]",o=function(l,c){for(var u=[],d=0;d<l.length;d+=1)u[d]=l[d];for(var f=0;f<c.length;f+=1)u[f+l.length]=c[f];return u},s=function(l,c){for(var u=[],d=c,f=0;d<l.length;d+=1,f+=1)u[f]=l[d];return u},a=function(i,l){for(var c="",u=0;u<i.length;u+=1)c+=i[u],u+1<i.length&&(c+=l);return c};return d1=function(l){var c=this;if(typeof c!="function"||t.apply(c)!==r)throw new TypeError(e+c);for(var u=s(arguments,1),d,f=function(){if(this instanceof d){var v=c.apply(this,o(u,arguments));return Object(v)===v?v:this}return c.apply(l,o(u,arguments))},p=n(0,c.length-u.length),m=[],h=0;h<p;h++)m[h]="$"+h;if(d=Function("binder","return function ("+a(m,",")+"){ return binder.apply(this,arguments); }")(f),c.prototype){var g=function(){};g.prototype=c.prototype,d.prototype=new g,g.prototype=null}return d},d1}var f1,OO;function Px(){if(OO)return f1;OO=1;var e=hge();return f1=Function.prototype.bind||e,f1}var p1,RO;function iM(){return RO||(RO=1,p1=Function.prototype.call),p1}var m1,BO;function cL(){return BO||(BO=1,m1=Function.prototype.apply),m1}var h1,NO;function gge(){return NO||(NO=1,h1=typeof Reflect<"u"&&Reflect&&Reflect.apply),h1}var g1,DO;function vge(){if(DO)return g1;DO=1;var e=Px(),t=cL(),n=iM(),r=gge();return g1=r||e.call(n,t),g1}var v1,FO;function dL(){if(FO)return v1;FO=1;var e=Px(),t=hf(),n=iM(),r=vge();return v1=function(s){if(s.length<1||typeof s[0]!="function")throw new t("a function is required");return r(e,n,s)},v1}var y1,qO;function yge(){if(qO)return y1;qO=1;var e=dL(),t=iL(),n;try{n=[].__proto__===Array.prototype}catch(a){if(!a||typeof a!="object"||!("code"in a)||a.code!=="ERR_PROTO_ACCESS")throw a}var r=!!n&&t&&t(Object.prototype,"__proto__"),o=Object,s=o.getPrototypeOf;return y1=r&&typeof r.get=="function"?e([r.get]):typeof s=="function"?function(i){return s(i==null?i:o(i))}:!1,y1}var b1,zO;function bge(){if(zO)return b1;zO=1;var e=lL(),t=uL(),n=yge();return b1=e?function(o){return e(o)}:t?function(o){if(!o||typeof o!="object"&&typeof o!="function")throw new TypeError("getProto: not an object");return t(o)}:n?function(o){return n(o)}:null,b1}var x1,LO;function xge(){if(LO)return x1;LO=1;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,n=Px();return x1=n.call(e,t),x1}var w1,jO;function lM(){if(jO)return w1;jO=1;var e,t=aL(),n=Qhe(),r=Xhe(),o=Zhe(),s=ege(),a=tge(),i=hf(),l=nge(),c=rge(),u=oge(),d=sge(),f=age(),p=ige(),m=lge(),h=cge(),g=Function,v=function(Ae){try{return g('"use strict"; return ('+Ae+").constructor;")()}catch{}},x=iL(),$=fge(),C=function(){throw new i},M=x?(function(){try{return arguments.callee,C}catch{try{return x(arguments,"callee").get}catch{return C}}})():C,I=mge()(),E=bge(),P=uL(),O=lL(),D=cL(),L=iM(),V={},F=typeof Uint8Array>"u"||!E?e:E(Uint8Array),z={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":I&&E?E([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":V,"%AsyncGenerator%":V,"%AsyncGeneratorFunction%":V,"%AsyncIteratorPrototype%":V,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":n,"%eval%":eval,"%EvalError%":r,"%Float16Array%":typeof Float16Array>"u"?e:Float16Array,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":g,"%GeneratorFunction%":V,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":I&&E?E(E([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!I||!E?e:E(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":t,"%Object.getOwnPropertyDescriptor%":x,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":o,"%ReferenceError%":s,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!I||!E?e:E(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":I&&E?E(""[Symbol.iterator]()):e,"%Symbol%":I?Symbol:e,"%SyntaxError%":a,"%ThrowTypeError%":M,"%TypedArray%":F,"%TypeError%":i,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":l,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet,"%Function.prototype.call%":L,"%Function.prototype.apply%":D,"%Object.defineProperty%":$,"%Object.getPrototypeOf%":P,"%Math.abs%":c,"%Math.floor%":u,"%Math.max%":d,"%Math.min%":f,"%Math.pow%":p,"%Math.round%":m,"%Math.sign%":h,"%Reflect.getPrototypeOf%":O};if(E)try{null.error}catch(Ae){var N=E(E(Ae));z["%Error.prototype%"]=N}var ee=function Ae(pe){var et;if(pe==="%AsyncFunction%")et=v("async function () {}");else if(pe==="%GeneratorFunction%")et=v("function* () {}");else if(pe==="%AsyncGeneratorFunction%")et=v("async function* () {}");else if(pe==="%AsyncGenerator%"){var kt=Ae("%AsyncGeneratorFunction%");kt&&(et=kt.prototype)}else if(pe==="%AsyncIteratorPrototype%"){var te=Ae("%AsyncGenerator%");te&&E&&(et=E(te.prototype))}return z[pe]=et,et},ne={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Y=Px(),Re=xge(),fe=Y.call(L,Array.prototype.concat),we=Y.call(D,Array.prototype.splice),ue=Y.call(L,String.prototype.replace),Ne=Y.call(L,String.prototype.slice),Xe=Y.call(L,RegExp.prototype.exec),st=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,it=/\\(\\)?/g,ce=function(pe){var et=Ne(pe,0,1),kt=Ne(pe,-1);if(et==="%"&&kt!=="%")throw new a("invalid intrinsic syntax, expected closing `%`");if(kt==="%"&&et!=="%")throw new a("invalid intrinsic syntax, expected opening `%`");var te=[];return ue(pe,st,function(se,$e,Ie,be){te[te.length]=Ie?ue(be,it,"$1"):$e||se}),te},ve=function(pe,et){var kt=pe,te;if(Re(ne,kt)&&(te=ne[kt],kt="%"+te[0]+"%"),Re(z,kt)){var se=z[kt];if(se===V&&(se=ee(kt)),typeof se>"u"&&!et)throw new i("intrinsic "+pe+" exists, but is not available. Please file an issue!");return{alias:te,name:kt,value:se}}throw new a("intrinsic "+pe+" does not exist!")};return w1=function(pe,et){if(typeof pe!="string"||pe.length===0)throw new i("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof et!="boolean")throw new i('"allowMissing" argument must be a boolean');if(Xe(/^%?[^%]*%?$/,pe)===null)throw new a("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var kt=ce(pe),te=kt.length>0?kt[0]:"",se=ve("%"+te+"%",et),$e=se.name,Ie=se.value,be=!1,me=se.alias;me&&(te=me[0],we(kt,fe([0,1],me)));for(var he=1,Be=!0;he<kt.length;he+=1){var _e=kt[he],Oe=Ne(_e,0,1),Ze=Ne(_e,-1);if((Oe==='"'||Oe==="'"||Oe==="`"||Ze==='"'||Ze==="'"||Ze==="`")&&Oe!==Ze)throw new a("property names with quotes must have matching quotes");if((_e==="constructor"||!Be)&&(be=!0),te+="."+_e,$e="%"+te+"%",Re(z,$e))Ie=z[$e];else if(Ie!=null){if(!(_e in Ie)){if(!et)throw new i("base intrinsic for "+pe+" exists, but the property is not available.");return}if(x&&he+1>=kt.length){var Ue=x(Ie,_e);Be=!!Ue,Be&&"get"in Ue&&!("originalValue"in Ue.get)?Ie=Ue.get:Ie=Ie[_e]}else Be=Re(Ie,_e),Ie=Ie[_e];Be&&!be&&(z[$e]=Ie)}}return Ie},w1}var k1,VO;function fL(){if(VO)return k1;VO=1;var e=lM(),t=dL(),n=t([e("%String.prototype.indexOf%")]);return k1=function(o,s){var a=e(o,!!s);return typeof a=="function"&&n(o,".prototype.")>-1?t([a]):a},k1}var _1,UO;function pL(){if(UO)return _1;UO=1;var e=lM(),t=fL(),n=Ix(),r=hf(),o=e("%Map%",!0),s=t("Map.prototype.get",!0),a=t("Map.prototype.set",!0),i=t("Map.prototype.has",!0),l=t("Map.prototype.delete",!0),c=t("Map.prototype.size",!0);return _1=!!o&&function(){var d,f={assert:function(p){if(!f.has(p))throw new r("Side channel does not contain "+n(p))},delete:function(p){if(d){var m=l(d,p);return c(d)===0&&(d=void 0),m}return!1},get:function(p){if(d)return s(d,p)},has:function(p){return d?i(d,p):!1},set:function(p,m){d||(d=new o),a(d,p,m)}};return f},_1}var S1,KO;function wge(){if(KO)return S1;KO=1;var e=lM(),t=fL(),n=Ix(),r=pL(),o=hf(),s=e("%WeakMap%",!0),a=t("WeakMap.prototype.get",!0),i=t("WeakMap.prototype.set",!0),l=t("WeakMap.prototype.has",!0),c=t("WeakMap.prototype.delete",!0);return S1=s?function(){var d,f,p={assert:function(m){if(!p.has(m))throw new o("Side channel does not contain "+n(m))},delete:function(m){if(s&&m&&(typeof m=="object"||typeof m=="function")){if(d)return c(d,m)}else if(r&&f)return f.delete(m);return!1},get:function(m){return s&&m&&(typeof m=="object"||typeof m=="function")&&d?a(d,m):f&&f.get(m)},has:function(m){return s&&m&&(typeof m=="object"||typeof m=="function")&&d?l(d,m):!!f&&f.has(m)},set:function(m,h){s&&m&&(typeof m=="object"||typeof m=="function")?(d||(d=new s),i(d,m,h)):r&&(f||(f=r()),f.set(m,h))}};return p}:r,S1}var $1,HO;function kge(){if(HO)return $1;HO=1;var e=hf(),t=Ix(),n=Yhe(),r=pL(),o=wge(),s=o||r||n;return $1=function(){var i,l={assert:function(c){if(!l.has(c))throw new e("Side channel does not contain "+t(c))},delete:function(c){return!!i&&i.delete(c)},get:function(c){return i&&i.get(c)},has:function(c){return!!i&&i.has(c)},set:function(c,u){i||(i=s()),i.set(c,u)}};return l},$1}var C1,WO;function uM(){if(WO)return C1;WO=1;var e=String.prototype.replace,t=/%20/g,n={RFC1738:"RFC1738",RFC3986:"RFC3986"};return C1={default:n.RFC3986,formatters:{RFC1738:function(r){return e.call(r,t,"+")},RFC3986:function(r){return String(r)}},RFC1738:n.RFC1738,RFC3986:n.RFC3986},C1}var M1,GO;function mL(){if(GO)return M1;GO=1;var e=uM(),t=Object.prototype.hasOwnProperty,n=Array.isArray,r=(function(){for(var g=[],v=0;v<256;++v)g.push("%"+((v<16?"0":"")+v.toString(16)).toUpperCase());return g})(),o=function(v){for(;v.length>1;){var x=v.pop(),$=x.obj[x.prop];if(n($)){for(var C=[],M=0;M<$.length;++M)typeof $[M]<"u"&&C.push($[M]);x.obj[x.prop]=C}}},s=function(v,x){for(var $=x&&x.plainObjects?{__proto__:null}:{},C=0;C<v.length;++C)typeof v[C]<"u"&&($[C]=v[C]);return $},a=function g(v,x,$){if(!x)return v;if(typeof x!="object"&&typeof x!="function"){if(n(v))v.push(x);else if(v&&typeof v=="object")($&&($.plainObjects||$.allowPrototypes)||!t.call(Object.prototype,x))&&(v[x]=!0);else return[v,x];return v}if(!v||typeof v!="object")return[v].concat(x);var C=v;return n(v)&&!n(x)&&(C=s(v,$)),n(v)&&n(x)?(x.forEach(function(M,I){if(t.call(v,I)){var E=v[I];E&&typeof E=="object"&&M&&typeof M=="object"?v[I]=g(E,M,$):v.push(M)}else v[I]=M}),v):Object.keys(x).reduce(function(M,I){var E=x[I];return t.call(M,I)?M[I]=g(M[I],E,$):M[I]=E,M},C)},i=function(v,x){return Object.keys(x).reduce(function($,C){return $[C]=x[C],$},v)},l=function(g,v,x){var $=g.replace(/\+/g," ");if(x==="iso-8859-1")return $.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent($)}catch{return $}},c=1024,u=function(v,x,$,C,M){if(v.length===0)return v;var I=v;if(typeof v=="symbol"?I=Symbol.prototype.toString.call(v):typeof v!="string"&&(I=String(v)),$==="iso-8859-1")return escape(I).replace(/%u[0-9a-f]{4}/gi,function(F){return"%26%23"+parseInt(F.slice(2),16)+"%3B"});for(var E="",P=0;P<I.length;P+=c){for(var O=I.length>=c?I.slice(P,P+c):I,D=[],L=0;L<O.length;++L){var V=O.charCodeAt(L);if(V===45||V===46||V===95||V===126||V>=48&&V<=57||V>=65&&V<=90||V>=97&&V<=122||M===e.RFC1738&&(V===40||V===41)){D[D.length]=O.charAt(L);continue}if(V<128){D[D.length]=r[V];continue}if(V<2048){D[D.length]=r[192|V>>6]+r[128|V&63];continue}if(V<55296||V>=57344){D[D.length]=r[224|V>>12]+r[128|V>>6&63]+r[128|V&63];continue}L+=1,V=65536+((V&1023)<<10|O.charCodeAt(L)&1023),D[D.length]=r[240|V>>18]+r[128|V>>12&63]+r[128|V>>6&63]+r[128|V&63]}E+=D.join("")}return E},d=function(v){for(var x=[{obj:{o:v},prop:"o"}],$=[],C=0;C<x.length;++C)for(var M=x[C],I=M.obj[M.prop],E=Object.keys(I),P=0;P<E.length;++P){var O=E[P],D=I[O];typeof D=="object"&&D!==null&&$.indexOf(D)===-1&&(x.push({obj:I,prop:O}),$.push(D))}return o(x),v},f=function(v){return Object.prototype.toString.call(v)==="[object RegExp]"},p=function(v){return!v||typeof v!="object"?!1:!!(v.constructor&&v.constructor.isBuffer&&v.constructor.isBuffer(v))},m=function(v,x){return[].concat(v,x)},h=function(v,x){if(n(v)){for(var $=[],C=0;C<v.length;C+=1)$.push(x(v[C]));return $}return x(v)};return M1={arrayToObject:s,assign:i,combine:m,compact:d,decode:l,encode:u,isBuffer:p,isRegExp:f,maybeMap:h,merge:a},M1}var A1,JO;function _ge(){if(JO)return A1;JO=1;var e=kge(),t=mL(),n=uM(),r=Object.prototype.hasOwnProperty,o={brackets:function(g){return g+"[]"},comma:"comma",indices:function(g,v){return g+"["+v+"]"},repeat:function(g){return g}},s=Array.isArray,a=Array.prototype.push,i=function(h,g){a.apply(h,s(g)?g:[g])},l=Date.prototype.toISOString,c=n.default,u={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:t.encode,encodeValuesOnly:!1,filter:void 0,format:c,formatter:n.formatters[c],indices:!1,serializeDate:function(g){return l.call(g)},skipNulls:!1,strictNullHandling:!1},d=function(g){return typeof g=="string"||typeof g=="number"||typeof g=="boolean"||typeof g=="symbol"||typeof g=="bigint"},f={},p=function h(g,v,x,$,C,M,I,E,P,O,D,L,V,F,z,N,ee,ne){for(var Y=g,Re=ne,fe=0,we=!1;(Re=Re.get(f))!==void 0&&!we;){var ue=Re.get(g);if(fe+=1,typeof ue<"u"){if(ue===fe)throw new RangeError("Cyclic object value");we=!0}typeof Re.get(f)>"u"&&(fe=0)}if(typeof O=="function"?Y=O(v,Y):Y instanceof Date?Y=V(Y):x==="comma"&&s(Y)&&(Y=t.maybeMap(Y,function($e){return $e instanceof Date?V($e):$e})),Y===null){if(M)return P&&!N?P(v,u.encoder,ee,"key",F):v;Y=""}if(d(Y)||t.isBuffer(Y)){if(P){var Ne=N?v:P(v,u.encoder,ee,"key",F);return[z(Ne)+"="+z(P(Y,u.encoder,ee,"value",F))]}return[z(v)+"="+z(String(Y))]}var Xe=[];if(typeof Y>"u")return Xe;var st;if(x==="comma"&&s(Y))N&&P&&(Y=t.maybeMap(Y,P)),st=[{value:Y.length>0?Y.join(",")||null:void 0}];else if(s(O))st=O;else{var it=Object.keys(Y);st=D?it.sort(D):it}var ce=E?String(v).replace(/\./g,"%2E"):String(v),ve=$&&s(Y)&&Y.length===1?ce+"[]":ce;if(C&&s(Y)&&Y.length===0)return ve+"[]";for(var Ae=0;Ae<st.length;++Ae){var pe=st[Ae],et=typeof pe=="object"&&pe&&typeof pe.value<"u"?pe.value:Y[pe];if(!(I&&et===null)){var kt=L&&E?String(pe).replace(/\./g,"%2E"):String(pe),te=s(Y)?typeof x=="function"?x(ve,kt):ve:ve+(L?"."+kt:"["+kt+"]");ne.set(g,fe);var se=e();se.set(f,ne),i(Xe,h(et,te,x,$,C,M,I,E,x==="comma"&&N&&s(Y)?null:P,O,D,L,V,F,z,N,ee,se))}}return Xe},m=function(g){if(!g)return u;if(typeof g.allowEmptyArrays<"u"&&typeof g.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof g.encodeDotInKeys<"u"&&typeof g.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(g.encoder!==null&&typeof g.encoder<"u"&&typeof g.encoder!="function")throw new TypeError("Encoder has to be a function.");var v=g.charset||u.charset;if(typeof g.charset<"u"&&g.charset!=="utf-8"&&g.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var x=n.default;if(typeof g.format<"u"){if(!r.call(n.formatters,g.format))throw new TypeError("Unknown format option provided.");x=g.format}var $=n.formatters[x],C=u.filter;(typeof g.filter=="function"||s(g.filter))&&(C=g.filter);var M;if(g.arrayFormat in o?M=g.arrayFormat:"indices"in g?M=g.indices?"indices":"repeat":M=u.arrayFormat,"commaRoundTrip"in g&&typeof g.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var I=typeof g.allowDots>"u"?g.encodeDotInKeys===!0?!0:u.allowDots:!!g.allowDots;return{addQueryPrefix:typeof g.addQueryPrefix=="boolean"?g.addQueryPrefix:u.addQueryPrefix,allowDots:I,allowEmptyArrays:typeof g.allowEmptyArrays=="boolean"?!!g.allowEmptyArrays:u.allowEmptyArrays,arrayFormat:M,charset:v,charsetSentinel:typeof g.charsetSentinel=="boolean"?g.charsetSentinel:u.charsetSentinel,commaRoundTrip:!!g.commaRoundTrip,delimiter:typeof g.delimiter>"u"?u.delimiter:g.delimiter,encode:typeof g.encode=="boolean"?g.encode:u.encode,encodeDotInKeys:typeof g.encodeDotInKeys=="boolean"?g.encodeDotInKeys:u.encodeDotInKeys,encoder:typeof g.encoder=="function"?g.encoder:u.encoder,encodeValuesOnly:typeof g.encodeValuesOnly=="boolean"?g.encodeValuesOnly:u.encodeValuesOnly,filter:C,format:x,formatter:$,serializeDate:typeof g.serializeDate=="function"?g.serializeDate:u.serializeDate,skipNulls:typeof g.skipNulls=="boolean"?g.skipNulls:u.skipNulls,sort:typeof g.sort=="function"?g.sort:null,strictNullHandling:typeof g.strictNullHandling=="boolean"?g.strictNullHandling:u.strictNullHandling}};return A1=function(h,g){var v=h,x=m(g),$,C;typeof x.filter=="function"?(C=x.filter,v=C("",v)):s(x.filter)&&(C=x.filter,$=C);var M=[];if(typeof v!="object"||v===null)return"";var I=o[x.arrayFormat],E=I==="comma"&&x.commaRoundTrip;$||($=Object.keys(v)),x.sort&&$.sort(x.sort);for(var P=e(),O=0;O<$.length;++O){var D=$[O],L=v[D];x.skipNulls&&L===null||i(M,p(L,D,I,E,x.allowEmptyArrays,x.strictNullHandling,x.skipNulls,x.encodeDotInKeys,x.encode?x.encoder:null,x.filter,x.sort,x.allowDots,x.serializeDate,x.format,x.formatter,x.encodeValuesOnly,x.charset,P))}var V=M.join(x.delimiter),F=x.addQueryPrefix===!0?"?":"";return x.charsetSentinel&&(x.charset==="iso-8859-1"?F+="utf8=%26%2310003%3B&":F+="utf8=%E2%9C%93&"),V.length>0?F+V:""},A1}var T1,YO;function Sge(){if(YO)return T1;YO=1;var e=mL(),t=Object.prototype.hasOwnProperty,n=Array.isArray,r={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:e.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},o=function(f){return f.replace(/&#(\d+);/g,function(p,m){return String.fromCharCode(parseInt(m,10))})},s=function(f,p,m){if(f&&typeof f=="string"&&p.comma&&f.indexOf(",")>-1)return f.split(",");if(p.throwOnLimitExceeded&&m>=p.arrayLimit)throw new RangeError("Array limit exceeded. Only "+p.arrayLimit+" element"+(p.arrayLimit===1?"":"s")+" allowed in an array.");return f},a="utf8=%26%2310003%3B",i="utf8=%E2%9C%93",l=function(p,m){var h={__proto__:null},g=m.ignoreQueryPrefix?p.replace(/^\?/,""):p;g=g.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var v=m.parameterLimit===1/0?void 0:m.parameterLimit,x=g.split(m.delimiter,m.throwOnLimitExceeded?v+1:v);if(m.throwOnLimitExceeded&&x.length>v)throw new RangeError("Parameter limit exceeded. Only "+v+" parameter"+(v===1?"":"s")+" allowed.");var $=-1,C,M=m.charset;if(m.charsetSentinel)for(C=0;C<x.length;++C)x[C].indexOf("utf8=")===0&&(x[C]===i?M="utf-8":x[C]===a&&(M="iso-8859-1"),$=C,C=x.length);for(C=0;C<x.length;++C)if(C!==$){var I=x[C],E=I.indexOf("]="),P=E===-1?I.indexOf("="):E+1,O,D;P===-1?(O=m.decoder(I,r.decoder,M,"key"),D=m.strictNullHandling?null:""):(O=m.decoder(I.slice(0,P),r.decoder,M,"key"),D=e.maybeMap(s(I.slice(P+1),m,n(h[O])?h[O].length:0),function(V){return m.decoder(V,r.decoder,M,"value")})),D&&m.interpretNumericEntities&&M==="iso-8859-1"&&(D=o(String(D))),I.indexOf("[]=")>-1&&(D=n(D)?[D]:D);var L=t.call(h,O);L&&m.duplicates==="combine"?h[O]=e.combine(h[O],D):(!L||m.duplicates==="last")&&(h[O]=D)}return h},c=function(f,p,m,h){var g=0;if(f.length>0&&f[f.length-1]==="[]"){var v=f.slice(0,-1).join("");g=Array.isArray(p)&&p[v]?p[v].length:0}for(var x=h?p:s(p,m,g),$=f.length-1;$>=0;--$){var C,M=f[$];if(M==="[]"&&m.parseArrays)C=m.allowEmptyArrays&&(x===""||m.strictNullHandling&&x===null)?[]:e.combine([],x);else{C=m.plainObjects?{__proto__:null}:{};var I=M.charAt(0)==="["&&M.charAt(M.length-1)==="]"?M.slice(1,-1):M,E=m.decodeDotInKeys?I.replace(/%2E/g,"."):I,P=parseInt(E,10);!m.parseArrays&&E===""?C={0:x}:!isNaN(P)&&M!==E&&String(P)===E&&P>=0&&m.parseArrays&&P<=m.arrayLimit?(C=[],C[P]=x):E!=="__proto__"&&(C[E]=x)}x=C}return x},u=function(p,m,h,g){if(p){var v=h.allowDots?p.replace(/\.([^.[]+)/g,"[$1]"):p,x=/(\[[^[\]]*])/,$=/(\[[^[\]]*])/g,C=h.depth>0&&x.exec(v),M=C?v.slice(0,C.index):v,I=[];if(M){if(!h.plainObjects&&t.call(Object.prototype,M)&&!h.allowPrototypes)return;I.push(M)}for(var E=0;h.depth>0&&(C=$.exec(v))!==null&&E<h.depth;){if(E+=1,!h.plainObjects&&t.call(Object.prototype,C[1].slice(1,-1))&&!h.allowPrototypes)return;I.push(C[1])}if(C){if(h.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+h.depth+" and strictDepth is true");I.push("["+v.slice(C.index)+"]")}return c(I,m,h,g)}},d=function(p){if(!p)return r;if(typeof p.allowEmptyArrays<"u"&&typeof p.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof p.decodeDotInKeys<"u"&&typeof p.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(p.decoder!==null&&typeof p.decoder<"u"&&typeof p.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof p.charset<"u"&&p.charset!=="utf-8"&&p.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof p.throwOnLimitExceeded<"u"&&typeof p.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var m=typeof p.charset>"u"?r.charset:p.charset,h=typeof p.duplicates>"u"?r.duplicates:p.duplicates;if(h!=="combine"&&h!=="first"&&h!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var g=typeof p.allowDots>"u"?p.decodeDotInKeys===!0?!0:r.allowDots:!!p.allowDots;return{allowDots:g,allowEmptyArrays:typeof p.allowEmptyArrays=="boolean"?!!p.allowEmptyArrays:r.allowEmptyArrays,allowPrototypes:typeof p.allowPrototypes=="boolean"?p.allowPrototypes:r.allowPrototypes,allowSparse:typeof p.allowSparse=="boolean"?p.allowSparse:r.allowSparse,arrayLimit:typeof p.arrayLimit=="number"?p.arrayLimit:r.arrayLimit,charset:m,charsetSentinel:typeof p.charsetSentinel=="boolean"?p.charsetSentinel:r.charsetSentinel,comma:typeof p.comma=="boolean"?p.comma:r.comma,decodeDotInKeys:typeof p.decodeDotInKeys=="boolean"?p.decodeDotInKeys:r.decodeDotInKeys,decoder:typeof p.decoder=="function"?p.decoder:r.decoder,delimiter:typeof p.delimiter=="string"||e.isRegExp(p.delimiter)?p.delimiter:r.delimiter,depth:typeof p.depth=="number"||p.depth===!1?+p.depth:r.depth,duplicates:h,ignoreQueryPrefix:p.ignoreQueryPrefix===!0,interpretNumericEntities:typeof p.interpretNumericEntities=="boolean"?p.interpretNumericEntities:r.interpretNumericEntities,parameterLimit:typeof p.parameterLimit=="number"?p.parameterLimit:r.parameterLimit,parseArrays:p.parseArrays!==!1,plainObjects:typeof p.plainObjects=="boolean"?p.plainObjects:r.plainObjects,strictDepth:typeof p.strictDepth=="boolean"?!!p.strictDepth:r.strictDepth,strictNullHandling:typeof p.strictNullHandling=="boolean"?p.strictNullHandling:r.strictNullHandling,throwOnLimitExceeded:typeof p.throwOnLimitExceeded=="boolean"?p.throwOnLimitExceeded:!1}};return T1=function(f,p){var m=d(p);if(f===""||f===null||typeof f>"u")return m.plainObjects?{__proto__:null}:{};for(var h=typeof f=="string"?l(f,m):f,g=m.plainObjects?{__proto__:null}:{},v=Object.keys(h),x=0;x<v.length;++x){var $=v[x],C=u($,h[$],m,typeof f=="string");g=e.merge(g,C,m)}return m.allowSparse===!0?g:e.compact(g)},T1}var E1,QO;function $ge(){if(QO)return E1;QO=1;var e=_ge(),t=Sge(),n=uM();return E1={formats:n,parse:t,stringify:e},E1}var XO=$ge();function hL(e,t){return function(){return e.apply(t,arguments)}}const{toString:Cge}=Object.prototype,{getPrototypeOf:cM}=Object,{iterator:Ox,toStringTag:gL}=Symbol,Rx=(e=>t=>{const n=Cge.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Aa=e=>(e=e.toLowerCase(),t=>Rx(t)===e),Bx=e=>t=>typeof t===e,{isArray:gf}=Array,Gd=Bx("undefined");function Mh(e){return e!==null&&!Gd(e)&&e.constructor!==null&&!Gd(e.constructor)&&gs(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const vL=Aa("ArrayBuffer");function Mge(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&vL(e.buffer),t}const Age=Bx("string"),gs=Bx("function"),yL=Bx("number"),Ah=e=>e!==null&&typeof e=="object",Tge=e=>e===!0||e===!1,my=e=>{if(Rx(e)!=="object")return!1;const t=cM(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(gL in e)&&!(Ox in e)},Ege=e=>{if(!Ah(e)||Mh(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Ige=Aa("Date"),Pge=Aa("File"),Oge=Aa("Blob"),Rge=Aa("FileList"),Bge=e=>Ah(e)&&gs(e.pipe),Nge=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||gs(e.append)&&((t=Rx(e))==="formdata"||t==="object"&&gs(e.toString)&&e.toString()==="[object FormData]"))},Dge=Aa("URLSearchParams"),[Fge,qge,zge,Lge]=["ReadableStream","Request","Response","Headers"].map(Aa),jge=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Th(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,o;if(typeof e!="object"&&(e=[e]),gf(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{if(Mh(e))return;const s=n?Object.getOwnPropertyNames(e):Object.keys(e),a=s.length;let i;for(r=0;r<a;r++)i=s[r],t.call(null,e[i],i,e)}}function bL(e,t){if(Mh(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,o;for(;r-- >0;)if(o=n[r],t===o.toLowerCase())return o;return null}const zu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,xL=e=>!Gd(e)&&e!==zu;function zS(){const{caseless:e,skipUndefined:t}=xL(this)&&this||{},n={},r=(o,s)=>{const a=e&&bL(n,s)||s;my(n[a])&&my(o)?n[a]=zS(n[a],o):my(o)?n[a]=zS({},o):gf(o)?n[a]=o.slice():(!t||!Gd(o))&&(n[a]=o)};for(let o=0,s=arguments.length;o<s;o++)arguments[o]&&Th(arguments[o],r);return n}const Vge=(e,t,n,{allOwnKeys:r}={})=>(Th(t,(o,s)=>{n&&gs(o)?e[s]=hL(o,n):e[s]=o},{allOwnKeys:r}),e),Uge=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Kge=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Hge=(e,t,n,r)=>{let o,s,a;const i={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),s=o.length;s-- >0;)a=o[s],(!r||r(a,e,t))&&!i[a]&&(t[a]=e[a],i[a]=!0);e=n!==!1&&cM(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Wge=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},Gge=e=>{if(!e)return null;if(gf(e))return e;let t=e.length;if(!yL(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Jge=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&cM(Uint8Array)),Yge=(e,t)=>{const r=(e&&e[Ox]).call(e);let o;for(;(o=r.next())&&!o.done;){const s=o.value;t.call(e,s[0],s[1])}},Qge=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},Xge=Aa("HTMLFormElement"),Zge=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,o){return r.toUpperCase()+o}),ZO=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),eve=Aa("RegExp"),wL=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Th(n,(o,s)=>{let a;(a=t(o,s,e))!==!1&&(r[s]=a||o)}),Object.defineProperties(e,r)},tve=e=>{wL(e,(t,n)=>{if(gs(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(gs(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},nve=(e,t)=>{const n={},r=o=>{o.forEach(s=>{n[s]=!0})};return gf(e)?r(e):r(String(e).split(t)),n},rve=()=>{},ove=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function sve(e){return!!(e&&gs(e.append)&&e[gL]==="FormData"&&e[Ox])}const ave=e=>{const t=new Array(10),n=(r,o)=>{if(Ah(r)){if(t.indexOf(r)>=0)return;if(Mh(r))return r;if(!("toJSON"in r)){t[o]=r;const s=gf(r)?[]:{};return Th(r,(a,i)=>{const l=n(a,o+1);!Gd(l)&&(s[i]=l)}),t[o]=void 0,s}}return r};return n(e,0)},ive=Aa("AsyncFunction"),lve=e=>e&&(Ah(e)||gs(e))&&gs(e.then)&&gs(e.catch),kL=((e,t)=>e?setImmediate:t?((n,r)=>(zu.addEventListener("message",({source:o,data:s})=>{o===zu&&s===n&&r.length&&r.shift()()},!1),o=>{r.push(o),zu.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",gs(zu.postMessage)),uve=typeof queueMicrotask<"u"?queueMicrotask.bind(zu):typeof process<"u"&&process.nextTick||kL,cve=e=>e!=null&&gs(e[Ox]),Me={isArray:gf,isArrayBuffer:vL,isBuffer:Mh,isFormData:Nge,isArrayBufferView:Mge,isString:Age,isNumber:yL,isBoolean:Tge,isObject:Ah,isPlainObject:my,isEmptyObject:Ege,isReadableStream:Fge,isRequest:qge,isResponse:zge,isHeaders:Lge,isUndefined:Gd,isDate:Ige,isFile:Pge,isBlob:Oge,isRegExp:eve,isFunction:gs,isStream:Bge,isURLSearchParams:Dge,isTypedArray:Jge,isFileList:Rge,forEach:Th,merge:zS,extend:Vge,trim:jge,stripBOM:Uge,inherits:Kge,toFlatObject:Hge,kindOf:Rx,kindOfTest:Aa,endsWith:Wge,toArray:Gge,forEachEntry:Yge,matchAll:Qge,isHTMLForm:Xge,hasOwnProperty:ZO,hasOwnProp:ZO,reduceDescriptors:wL,freezeMethods:tve,toObjectSet:nve,toCamelCase:Zge,noop:rve,toFiniteNumber:ove,findKey:bL,global:zu,isContextDefined:xL,isSpecCompliantForm:sve,toJSONObject:ave,isAsyncFn:ive,isThenable:lve,setImmediate:kL,asap:uve,isIterable:cve};function Ut(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}Me.inherits(Ut,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Me.toJSONObject(this.config),code:this.code,status:this.status}}});const _L=Ut.prototype,SL={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{SL[e]={value:e}});Object.defineProperties(Ut,SL);Object.defineProperty(_L,"isAxiosError",{value:!0});Ut.from=(e,t,n,r,o,s)=>{const a=Object.create(_L);Me.toFlatObject(e,a,function(u){return u!==Error.prototype},c=>c!=="isAxiosError");const i=e&&e.message?e.message:"Error",l=t==null&&e?e.code:t;return Ut.call(a,i,l,n,r,o),e&&a.cause==null&&Object.defineProperty(a,"cause",{value:e,configurable:!0}),a.name=e&&e.name||"Error",s&&Object.assign(a,s),a};const dve=null;function LS(e){return Me.isPlainObject(e)||Me.isArray(e)}function $L(e){return Me.endsWith(e,"[]")?e.slice(0,-2):e}function eR(e,t,n){return e?e.concat(t).map(function(o,s){return o=$L(o),!n&&s?"["+o+"]":o}).join(n?".":""):t}function fve(e){return Me.isArray(e)&&!e.some(LS)}const pve=Me.toFlatObject(Me,{},null,function(t){return/^is[A-Z]/.test(t)});function Nx(e,t,n){if(!Me.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=Me.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(h,g){return!Me.isUndefined(g[h])});const r=n.metaTokens,o=n.visitor||u,s=n.dots,a=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&Me.isSpecCompliantForm(t);if(!Me.isFunction(o))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(Me.isDate(m))return m.toISOString();if(Me.isBoolean(m))return m.toString();if(!l&&Me.isBlob(m))throw new Ut("Blob is not supported. Use a Buffer instead.");return Me.isArrayBuffer(m)||Me.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,h,g){let v=m;if(m&&!g&&typeof m=="object"){if(Me.endsWith(h,"{}"))h=r?h:h.slice(0,-2),m=JSON.stringify(m);else if(Me.isArray(m)&&fve(m)||(Me.isFileList(m)||Me.endsWith(h,"[]"))&&(v=Me.toArray(m)))return h=$L(h),v.forEach(function($,C){!(Me.isUndefined($)||$===null)&&t.append(a===!0?eR([h],C,s):a===null?h:h+"[]",c($))}),!1}return LS(m)?!0:(t.append(eR(g,h,s),c(m)),!1)}const d=[],f=Object.assign(pve,{defaultVisitor:u,convertValue:c,isVisitable:LS});function p(m,h){if(!Me.isUndefined(m)){if(d.indexOf(m)!==-1)throw Error("Circular reference detected in "+h.join("."));d.push(m),Me.forEach(m,function(v,x){(!(Me.isUndefined(v)||v===null)&&o.call(t,v,Me.isString(x)?x.trim():x,h,f))===!0&&p(v,h?h.concat(x):[x])}),d.pop()}}if(!Me.isObject(e))throw new TypeError("data must be an object");return p(e),t}function tR(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function dM(e,t){this._pairs=[],e&&Nx(e,this,t)}const CL=dM.prototype;CL.append=function(t,n){this._pairs.push([t,n])};CL.toString=function(t){const n=t?function(r){return t.call(this,r,tR)}:tR;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function mve(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function ML(e,t,n){if(!t)return e;const r=n&&n.encode||mve;Me.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let s;if(o?s=o(t,n):s=Me.isURLSearchParams(t)?t.toString():new dM(t,n).toString(r),s){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class nR{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Me.forEach(this.handlers,function(r){r!==null&&t(r)})}}const AL={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},hve=typeof URLSearchParams<"u"?URLSearchParams:dM,gve=typeof FormData<"u"?FormData:null,vve=typeof Blob<"u"?Blob:null,yve={isBrowser:!0,classes:{URLSearchParams:hve,FormData:gve,Blob:vve},protocols:["http","https","file","blob","url","data"]},fM=typeof window<"u"&&typeof document<"u",jS=typeof navigator=="object"&&navigator||void 0,bve=fM&&(!jS||["ReactNative","NativeScript","NS"].indexOf(jS.product)<0),xve=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",wve=fM&&window.location.href||"http://localhost",kve=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:fM,hasStandardBrowserEnv:bve,hasStandardBrowserWebWorkerEnv:xve,navigator:jS,origin:wve},Symbol.toStringTag,{value:"Module"})),To={...kve,...yve};function _ve(e,t){return Nx(e,new To.classes.URLSearchParams,{visitor:function(n,r,o,s){return To.isNode&&Me.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...t})}function Sve(e){return Me.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function $ve(e){const t={},n=Object.keys(e);let r;const o=n.length;let s;for(r=0;r<o;r++)s=n[r],t[s]=e[s];return t}function TL(e){function t(n,r,o,s){let a=n[s++];if(a==="__proto__")return!0;const i=Number.isFinite(+a),l=s>=n.length;return a=!a&&Me.isArray(o)?o.length:a,l?(Me.hasOwnProp(o,a)?o[a]=[o[a],r]:o[a]=r,!i):((!o[a]||!Me.isObject(o[a]))&&(o[a]=[]),t(n,r,o[a],s)&&Me.isArray(o[a])&&(o[a]=$ve(o[a])),!i)}if(Me.isFormData(e)&&Me.isFunction(e.entries)){const n={};return Me.forEachEntry(e,(r,o)=>{t(Sve(r),o,n,0)}),n}return null}function Cve(e,t,n){if(Me.isString(e))try{return(t||JSON.parse)(e),Me.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Eh={transitional:AL,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",o=r.indexOf("application/json")>-1,s=Me.isObject(t);if(s&&Me.isHTMLForm(t)&&(t=new FormData(t)),Me.isFormData(t))return o?JSON.stringify(TL(t)):t;if(Me.isArrayBuffer(t)||Me.isBuffer(t)||Me.isStream(t)||Me.isFile(t)||Me.isBlob(t)||Me.isReadableStream(t))return t;if(Me.isArrayBufferView(t))return t.buffer;if(Me.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let i;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return _ve(t,this.formSerializer).toString();if((i=Me.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Nx(i?{"files[]":t}:t,l&&new l,this.formSerializer)}}return s||o?(n.setContentType("application/json",!1),Cve(t)):t}],transformResponse:[function(t){const n=this.transitional||Eh.transitional,r=n&&n.forcedJSONParsing,o=this.responseType==="json";if(Me.isResponse(t)||Me.isReadableStream(t))return t;if(t&&Me.isString(t)&&(r&&!this.responseType||o)){const a=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(t,this.parseReviver)}catch(i){if(a)throw i.name==="SyntaxError"?Ut.from(i,Ut.ERR_BAD_RESPONSE,this,null,this.response):i}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:To.classes.FormData,Blob:To.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Me.forEach(["delete","get","head","post","put","patch"],e=>{Eh.headers[e]={}});const Mve=Me.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ave=e=>{const t={};let n,r,o;return e&&e.split(`
`).forEach(function(a){o=a.indexOf(":"),n=a.substring(0,o).trim().toLowerCase(),r=a.substring(o+1).trim(),!(!n||t[n]&&Mve[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},rR=Symbol("internals");function Qf(e){return e&&String(e).trim().toLowerCase()}function hy(e){return e===!1||e==null?e:Me.isArray(e)?e.map(hy):String(e)}function Tve(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const Eve=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function I1(e,t,n,r,o){if(Me.isFunction(r))return r.call(this,t,n);if(o&&(t=n),!!Me.isString(t)){if(Me.isString(r))return t.indexOf(r)!==-1;if(Me.isRegExp(r))return r.test(t)}}function Ive(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function Pve(e,t){const n=Me.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(o,s,a){return this[r].call(this,t,o,s,a)},configurable:!0})})}let vs=class{constructor(t){t&&this.set(t)}set(t,n,r){const o=this;function s(i,l,c){const u=Qf(l);if(!u)throw new Error("header name must be a non-empty string");const d=Me.findKey(o,u);(!d||o[d]===void 0||c===!0||c===void 0&&o[d]!==!1)&&(o[d||l]=hy(i))}const a=(i,l)=>Me.forEach(i,(c,u)=>s(c,u,l));if(Me.isPlainObject(t)||t instanceof this.constructor)a(t,n);else if(Me.isString(t)&&(t=t.trim())&&!Eve(t))a(Ave(t),n);else if(Me.isObject(t)&&Me.isIterable(t)){let i={},l,c;for(const u of t){if(!Me.isArray(u))throw TypeError("Object iterator must return a key-value pair");i[c=u[0]]=(l=i[c])?Me.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}a(i,n)}else t!=null&&s(n,t,r);return this}get(t,n){if(t=Qf(t),t){const r=Me.findKey(this,t);if(r){const o=this[r];if(!n)return o;if(n===!0)return Tve(o);if(Me.isFunction(n))return n.call(this,o,r);if(Me.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Qf(t),t){const r=Me.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||I1(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let o=!1;function s(a){if(a=Qf(a),a){const i=Me.findKey(r,a);i&&(!n||I1(r,r[i],i,n))&&(delete r[i],o=!0)}}return Me.isArray(t)?t.forEach(s):s(t),o}clear(t){const n=Object.keys(this);let r=n.length,o=!1;for(;r--;){const s=n[r];(!t||I1(this,this[s],s,t,!0))&&(delete this[s],o=!0)}return o}normalize(t){const n=this,r={};return Me.forEach(this,(o,s)=>{const a=Me.findKey(r,s);if(a){n[a]=hy(o),delete n[s];return}const i=t?Ive(s):String(s).trim();i!==s&&delete n[s],n[i]=hy(o),r[i]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return Me.forEach(this,(r,o)=>{r!=null&&r!==!1&&(n[o]=t&&Me.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(o=>r.set(o)),r}static accessor(t){const r=(this[rR]=this[rR]={accessors:{}}).accessors,o=this.prototype;function s(a){const i=Qf(a);r[i]||(Pve(o,a),r[i]=!0)}return Me.isArray(t)?t.forEach(s):s(t),this}};vs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Me.reduceDescriptors(vs.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});Me.freezeMethods(vs);function P1(e,t){const n=this||Eh,r=t||n,o=vs.from(r.headers);let s=r.data;return Me.forEach(e,function(i){s=i.call(n,s,o.normalize(),t?t.status:void 0)}),o.normalize(),s}function EL(e){return!!(e&&e.__CANCEL__)}function vf(e,t,n){Ut.call(this,e??"canceled",Ut.ERR_CANCELED,t,n),this.name="CanceledError"}Me.inherits(vf,Ut,{__CANCEL__:!0});function IL(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Ut("Request failed with status code "+n.status,[Ut.ERR_BAD_REQUEST,Ut.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Ove(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Rve(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o=0,s=0,a;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),u=r[s];a||(a=c),n[o]=l,r[o]=c;let d=s,f=0;for(;d!==o;)f+=n[d++],d=d%e;if(o=(o+1)%e,o===s&&(s=(s+1)%e),c-a<t)return;const p=u&&c-u;return p?Math.round(f*1e3/p):void 0}}function Bve(e,t){let n=0,r=1e3/t,o,s;const a=(c,u=Date.now())=>{n=u,o=null,s&&(clearTimeout(s),s=null),e(...c)};return[(...c)=>{const u=Date.now(),d=u-n;d>=r?a(c,u):(o=c,s||(s=setTimeout(()=>{s=null,a(o)},r-d)))},()=>o&&a(o)]}const pb=(e,t,n=3)=>{let r=0;const o=Rve(50,250);return Bve(s=>{const a=s.loaded,i=s.lengthComputable?s.total:void 0,l=a-r,c=o(l),u=a<=i;r=a;const d={loaded:a,total:i,progress:i?a/i:void 0,bytes:l,rate:c||void 0,estimated:c&&i&&u?(i-a)/c:void 0,event:s,lengthComputable:i!=null,[t?"download":"upload"]:!0};e(d)},n)},oR=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},sR=e=>(...t)=>Me.asap(()=>e(...t)),Nve=To.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,To.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(To.origin),To.navigator&&/(msie|trident)/i.test(To.navigator.userAgent)):()=>!0,Dve=To.hasStandardBrowserEnv?{write(e,t,n,r,o,s,a){if(typeof document>"u")return;const i=[`${e}=${encodeURIComponent(t)}`];Me.isNumber(n)&&i.push(`expires=${new Date(n).toUTCString()}`),Me.isString(r)&&i.push(`path=${r}`),Me.isString(o)&&i.push(`domain=${o}`),s===!0&&i.push("secure"),Me.isString(a)&&i.push(`SameSite=${a}`),document.cookie=i.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Fve(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function qve(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function PL(e,t,n){let r=!Fve(t);return e&&(r||n==!1)?qve(e,t):t}const aR=e=>e instanceof vs?{...e}:e;function kc(e,t){t=t||{};const n={};function r(c,u,d,f){return Me.isPlainObject(c)&&Me.isPlainObject(u)?Me.merge.call({caseless:f},c,u):Me.isPlainObject(u)?Me.merge({},u):Me.isArray(u)?u.slice():u}function o(c,u,d,f){if(Me.isUndefined(u)){if(!Me.isUndefined(c))return r(void 0,c,d,f)}else return r(c,u,d,f)}function s(c,u){if(!Me.isUndefined(u))return r(void 0,u)}function a(c,u){if(Me.isUndefined(u)){if(!Me.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function i(c,u,d){if(d in t)return r(c,u);if(d in e)return r(void 0,c)}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:i,headers:(c,u,d)=>o(aR(c),aR(u),d,!0)};return Me.forEach(Object.keys({...e,...t}),function(u){const d=l[u]||o,f=d(e[u],t[u],u);Me.isUndefined(f)&&d!==i||(n[u]=f)}),n}const OL=e=>{const t=kc({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:s,headers:a,auth:i}=t;if(t.headers=a=vs.from(a),t.url=ML(PL(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),i&&a.set("Authorization","Basic "+btoa((i.username||"")+":"+(i.password?unescape(encodeURIComponent(i.password)):""))),Me.isFormData(n)){if(To.hasStandardBrowserEnv||To.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(Me.isFunction(n.getHeaders)){const l=n.getHeaders(),c=["content-type","content-length"];Object.entries(l).forEach(([u,d])=>{c.includes(u.toLowerCase())&&a.set(u,d)})}}if(To.hasStandardBrowserEnv&&(r&&Me.isFunction(r)&&(r=r(t)),r||r!==!1&&Nve(t.url))){const l=o&&s&&Dve.read(s);l&&a.set(o,l)}return t},zve=typeof XMLHttpRequest<"u",Lve=zve&&function(e){return new Promise(function(n,r){const o=OL(e);let s=o.data;const a=vs.from(o.headers).normalize();let{responseType:i,onUploadProgress:l,onDownloadProgress:c}=o,u,d,f,p,m;function h(){p&&p(),m&&m(),o.cancelToken&&o.cancelToken.unsubscribe(u),o.signal&&o.signal.removeEventListener("abort",u)}let g=new XMLHttpRequest;g.open(o.method.toUpperCase(),o.url,!0),g.timeout=o.timeout;function v(){if(!g)return;const $=vs.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),M={data:!i||i==="text"||i==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:$,config:e,request:g};IL(function(E){n(E),h()},function(E){r(E),h()},M),g=null}"onloadend"in g?g.onloadend=v:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(v)},g.onabort=function(){g&&(r(new Ut("Request aborted",Ut.ECONNABORTED,e,g)),g=null)},g.onerror=function(C){const M=C&&C.message?C.message:"Network Error",I=new Ut(M,Ut.ERR_NETWORK,e,g);I.event=C||null,r(I),g=null},g.ontimeout=function(){let C=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const M=o.transitional||AL;o.timeoutErrorMessage&&(C=o.timeoutErrorMessage),r(new Ut(C,M.clarifyTimeoutError?Ut.ETIMEDOUT:Ut.ECONNABORTED,e,g)),g=null},s===void 0&&a.setContentType(null),"setRequestHeader"in g&&Me.forEach(a.toJSON(),function(C,M){g.setRequestHeader(M,C)}),Me.isUndefined(o.withCredentials)||(g.withCredentials=!!o.withCredentials),i&&i!=="json"&&(g.responseType=o.responseType),c&&([f,m]=pb(c,!0),g.addEventListener("progress",f)),l&&g.upload&&([d,p]=pb(l),g.upload.addEventListener("progress",d),g.upload.addEventListener("loadend",p)),(o.cancelToken||o.signal)&&(u=$=>{g&&(r(!$||$.type?new vf(null,e,g):$),g.abort(),g=null)},o.cancelToken&&o.cancelToken.subscribe(u),o.signal&&(o.signal.aborted?u():o.signal.addEventListener("abort",u)));const x=Ove(o.url);if(x&&To.protocols.indexOf(x)===-1){r(new Ut("Unsupported protocol "+x+":",Ut.ERR_BAD_REQUEST,e));return}g.send(s||null)})},jve=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,o;const s=function(c){if(!o){o=!0,i();const u=c instanceof Error?c:this.reason;r.abort(u instanceof Ut?u:new vf(u instanceof Error?u.message:u))}};let a=t&&setTimeout(()=>{a=null,s(new Ut(`timeout ${t} of ms exceeded`,Ut.ETIMEDOUT))},t);const i=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),e=null)};e.forEach(c=>c.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>Me.asap(i),l}},Vve=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,o;for(;r<n;)o=r+t,yield e.slice(r,o),r=o},Uve=async function*(e,t){for await(const n of Kve(e))yield*Vve(n,t)},Kve=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},iR=(e,t,n,r)=>{const o=Uve(e,t);let s=0,a,i=l=>{a||(a=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await o.next();if(c){i(),l.close();return}let d=u.byteLength;if(n){let f=s+=d;n(f)}l.enqueue(new Uint8Array(u))}catch(c){throw i(c),c}},cancel(l){return i(l),o.return()}},{highWaterMark:2})},lR=64*1024,{isFunction:Zg}=Me,Hve=(({Request:e,Response:t})=>({Request:e,Response:t}))(Me.global),{ReadableStream:uR,TextEncoder:cR}=Me.global,dR=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Wve=e=>{e=Me.merge.call({skipUndefined:!0},Hve,e);const{fetch:t,Request:n,Response:r}=e,o=t?Zg(t):typeof fetch=="function",s=Zg(n),a=Zg(r);if(!o)return!1;const i=o&&Zg(uR),l=o&&(typeof cR=="function"?(m=>h=>m.encode(h))(new cR):async m=>new Uint8Array(await new n(m).arrayBuffer())),c=s&&i&&dR(()=>{let m=!1;const h=new n(To.origin,{body:new uR,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!h}),u=a&&i&&dR(()=>Me.isReadableStream(new r("").body)),d={stream:u&&(m=>m.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!d[m]&&(d[m]=(h,g)=>{let v=h&&h[m];if(v)return v.call(h);throw new Ut(`Response type '${m}' is not supported`,Ut.ERR_NOT_SUPPORT,g)})});const f=async m=>{if(m==null)return 0;if(Me.isBlob(m))return m.size;if(Me.isSpecCompliantForm(m))return(await new n(To.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(Me.isArrayBufferView(m)||Me.isArrayBuffer(m))return m.byteLength;if(Me.isURLSearchParams(m)&&(m=m+""),Me.isString(m))return(await l(m)).byteLength},p=async(m,h)=>{const g=Me.toFiniteNumber(m.getContentLength());return g??f(h)};return async m=>{let{url:h,method:g,data:v,signal:x,cancelToken:$,timeout:C,onDownloadProgress:M,onUploadProgress:I,responseType:E,headers:P,withCredentials:O="same-origin",fetchOptions:D}=OL(m),L=t||fetch;E=E?(E+"").toLowerCase():"text";let V=jve([x,$&&$.toAbortSignal()],C),F=null;const z=V&&V.unsubscribe&&(()=>{V.unsubscribe()});let N;try{if(I&&c&&g!=="get"&&g!=="head"&&(N=await p(P,v))!==0){let we=new n(h,{method:"POST",body:v,duplex:"half"}),ue;if(Me.isFormData(v)&&(ue=we.headers.get("content-type"))&&P.setContentType(ue),we.body){const[Ne,Xe]=oR(N,pb(sR(I)));v=iR(we.body,lR,Ne,Xe)}}Me.isString(O)||(O=O?"include":"omit");const ee=s&&"credentials"in n.prototype,ne={...D,signal:V,method:g.toUpperCase(),headers:P.normalize().toJSON(),body:v,duplex:"half",credentials:ee?O:void 0};F=s&&new n(h,ne);let Y=await(s?L(F,D):L(h,ne));const Re=u&&(E==="stream"||E==="response");if(u&&(M||Re&&z)){const we={};["status","statusText","headers"].forEach(st=>{we[st]=Y[st]});const ue=Me.toFiniteNumber(Y.headers.get("content-length")),[Ne,Xe]=M&&oR(ue,pb(sR(M),!0))||[];Y=new r(iR(Y.body,lR,Ne,()=>{Xe&&Xe(),z&&z()}),we)}E=E||"text";let fe=await d[Me.findKey(d,E)||"text"](Y,m);return!Re&&z&&z(),await new Promise((we,ue)=>{IL(we,ue,{data:fe,headers:vs.from(Y.headers),status:Y.status,statusText:Y.statusText,config:m,request:F})})}catch(ee){throw z&&z(),ee&&ee.name==="TypeError"&&/Load failed|fetch/i.test(ee.message)?Object.assign(new Ut("Network Error",Ut.ERR_NETWORK,m,F),{cause:ee.cause||ee}):Ut.from(ee,ee&&ee.code,m,F)}}},Gve=new Map,RL=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:o}=t,s=[r,o,n];let a=s.length,i=a,l,c,u=Gve;for(;i--;)l=s[i],c=u.get(l),c===void 0&&u.set(l,c=i?new Map:Wve(t)),u=c;return c};RL();const pM={http:dve,xhr:Lve,fetch:{get:RL}};Me.forEach(pM,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const fR=e=>`- ${e}`,Jve=e=>Me.isFunction(e)||e===null||e===!1;function Yve(e,t){e=Me.isArray(e)?e:[e];const{length:n}=e;let r,o;const s={};for(let a=0;a<n;a++){r=e[a];let i;if(o=r,!Jve(r)&&(o=pM[(i=String(r)).toLowerCase()],o===void 0))throw new Ut(`Unknown adapter '${i}'`);if(o&&(Me.isFunction(o)||(o=o.get(t))))break;s[i||"#"+a]=o}if(!o){const a=Object.entries(s).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let i=n?a.length>1?`since :
`+a.map(fR).join(`
`):" "+fR(a[0]):"as no adapter specified";throw new Ut("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return o}const BL={getAdapter:Yve,adapters:pM};function O1(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new vf(null,e)}function pR(e){return O1(e),e.headers=vs.from(e.headers),e.data=P1.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),BL.getAdapter(e.adapter||Eh.adapter,e)(e).then(function(r){return O1(e),r.data=P1.call(e,e.transformResponse,r),r.headers=vs.from(r.headers),r},function(r){return EL(r)||(O1(e),r&&r.response&&(r.response.data=P1.call(e,e.transformResponse,r.response),r.response.headers=vs.from(r.response.headers))),Promise.reject(r)})}const NL="1.13.2",Dx={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Dx[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const mR={};Dx.transitional=function(t,n,r){function o(s,a){return"[Axios v"+NL+"] Transitional option '"+s+"'"+a+(r?". "+r:"")}return(s,a,i)=>{if(t===!1)throw new Ut(o(a," has been removed"+(n?" in "+n:"")),Ut.ERR_DEPRECATED);return n&&!mR[a]&&(mR[a]=!0,console.warn(o(a," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(s,a,i):!0}};Dx.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function Qve(e,t,n){if(typeof e!="object")throw new Ut("options must be an object",Ut.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const s=r[o],a=t[s];if(a){const i=e[s],l=i===void 0||a(i,s,e);if(l!==!0)throw new Ut("option "+s+" must be "+l,Ut.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ut("Unknown option "+s,Ut.ERR_BAD_OPTION)}}const gy={assertOptions:Qve,validators:Dx},Ra=gy.validators;let fc=class{constructor(t){this.defaults=t||{},this.interceptors={request:new nR,response:new nR}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const s=o.stack?o.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=kc(this.defaults,n);const{transitional:r,paramsSerializer:o,headers:s}=n;r!==void 0&&gy.assertOptions(r,{silentJSONParsing:Ra.transitional(Ra.boolean),forcedJSONParsing:Ra.transitional(Ra.boolean),clarifyTimeoutError:Ra.transitional(Ra.boolean)},!1),o!=null&&(Me.isFunction(o)?n.paramsSerializer={serialize:o}:gy.assertOptions(o,{encode:Ra.function,serialize:Ra.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),gy.assertOptions(n,{baseUrl:Ra.spelling("baseURL"),withXsrfToken:Ra.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=s&&Me.merge(s.common,s[n.method]);s&&Me.forEach(["delete","get","head","post","put","patch","common"],m=>{delete s[m]}),n.headers=vs.concat(a,s);const i=[];let l=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(n)===!1||(l=l&&h.synchronous,i.unshift(h.fulfilled,h.rejected))});const c=[];this.interceptors.response.forEach(function(h){c.push(h.fulfilled,h.rejected)});let u,d=0,f;if(!l){const m=[pR.bind(this),void 0];for(m.unshift(...i),m.push(...c),f=m.length,u=Promise.resolve(n);d<f;)u=u.then(m[d++],m[d++]);return u}f=i.length;let p=n;for(;d<f;){const m=i[d++],h=i[d++];try{p=m(p)}catch(g){h.call(this,g);break}}try{u=pR.call(this,p)}catch(m){return Promise.reject(m)}for(d=0,f=c.length;d<f;)u=u.then(c[d++],c[d++]);return u}getUri(t){t=kc(this.defaults,t);const n=PL(t.baseURL,t.url,t.allowAbsoluteUrls);return ML(n,t.params,t.paramsSerializer)}};Me.forEach(["delete","get","head","options"],function(t){fc.prototype[t]=function(n,r){return this.request(kc(r||{},{method:t,url:n,data:(r||{}).data}))}});Me.forEach(["post","put","patch"],function(t){function n(r){return function(s,a,i){return this.request(kc(i||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}fc.prototype[t]=n(),fc.prototype[t+"Form"]=n(!0)});let Xve=class DL{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(o=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](o);r._listeners=null}),this.promise.then=o=>{let s;const a=new Promise(i=>{r.subscribe(i),s=i}).then(o);return a.cancel=function(){r.unsubscribe(s)},a},t(function(s,a,i){r.reason||(r.reason=new vf(s,a,i),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new DL(function(o){t=o}),cancel:t}}};function Zve(e){return function(n){return e.apply(null,n)}}function eye(e){return Me.isObject(e)&&e.isAxiosError===!0}const VS={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(VS).forEach(([e,t])=>{VS[t]=e});function FL(e){const t=new fc(e),n=hL(fc.prototype.request,t);return Me.extend(n,fc.prototype,t,{allOwnKeys:!0}),Me.extend(n,t,null,{allOwnKeys:!0}),n.create=function(o){return FL(kc(e,o))},n}const nn=FL(Eh);nn.Axios=fc;nn.CanceledError=vf;nn.CancelToken=Xve;nn.isCancel=EL;nn.VERSION=NL;nn.toFormData=Nx;nn.AxiosError=Ut;nn.Cancel=nn.CanceledError;nn.all=function(t){return Promise.all(t)};nn.spread=Zve;nn.isAxiosError=eye;nn.mergeConfig=kc;nn.AxiosHeaders=vs;nn.formToJSON=e=>TL(Me.isHTMLForm(e)?new FormData(e):e);nn.getAdapter=BL.getAdapter;nn.HttpStatusCode=VS;nn.default=nn;const{Axios:rxt,AxiosError:oxt,CanceledError:sxt,isCancel:qL,CancelToken:axt,VERSION:ixt,all:lxt,Cancel:uxt,isAxiosError:zL,spread:cxt,toFormData:dxt,AxiosHeaders:fxt,HttpStatusCode:pxt,formToJSON:mxt,getAdapter:hxt,mergeConfig:tye}=nn;var nye=class{constructor(t){this.config={},this.defaults=t}extend(t){return t&&(this.defaults={...this.defaults,...t}),this}replace(t){this.config=t}get(t){return sL(this.config,t)?ya(this.config,t):ya(this.defaults,t)}set(t,n){typeof t=="string"?Ga(this.config,t,n):Object.entries(t).forEach(([r,o])=>{Ga(this.config,r,o)})}},_c=new nye({form:{recentlySuccessfulDuration:2e3,forceIndicesArrayFormatInFormData:!0},future:{preserveEqualProps:!1,useDataInertiaHeadAttribute:!1,useDialogForErrorModal:!1,useScriptElementForInitialPage:!1},prefetch:{cacheFor:3e4,hoverDelay:75}});function US(e,t){let n;return function(...r){clearTimeout(n),n=setTimeout(()=>e.apply(this,r),t)}}function Fs(e,t){return document.dispatchEvent(new CustomEvent(`inertia:${e}`,t))}var hR=e=>Fs("before",{cancelable:!0,detail:{visit:e}}),rye=e=>Fs("error",{detail:{errors:e}}),oye=e=>Fs("exception",{cancelable:!0,detail:{exception:e}}),sye=e=>Fs("finish",{detail:{visit:e}}),aye=e=>Fs("invalid",{cancelable:!0,detail:{response:e}}),iye=e=>Fs("beforeUpdate",{detail:{page:e}}),Ep=e=>Fs("navigate",{detail:{page:e}}),lye=e=>Fs("progress",{detail:{progress:e}}),uye=e=>Fs("start",{detail:{visit:e}}),cye=e=>Fs("success",{detail:{page:e}}),dye=(e,t)=>Fs("prefetched",{detail:{fetchedAt:Date.now(),response:e.data,visit:t}}),fye=e=>Fs("prefetching",{detail:{visit:e}}),mb=e=>Fs("flash",{detail:{flash:e}}),es=class{static set(e,t){typeof window<"u"&&window.sessionStorage.setItem(e,JSON.stringify(t))}static get(e){if(typeof window<"u")return JSON.parse(window.sessionStorage.getItem(e)||"null")}static merge(e,t){const n=this.get(e);n===null?this.set(e,t):this.set(e,{...n,...t})}static remove(e){typeof window<"u"&&window.sessionStorage.removeItem(e)}static removeNested(e,t){const n=this.get(e);n!==null&&(delete n[t],this.set(e,n))}static exists(e){try{return this.get(e)!==null}catch{return!1}}static clear(){typeof window<"u"&&window.sessionStorage.clear()}};es.locationVisitKey="inertiaLocationVisit";var pye=async e=>{if(typeof window>"u")throw new Error("Unable to encrypt history");const t=LL(),n=await jL(),r=await bye(n);if(!r)throw new Error("Unable to encrypt history");return await hye(t,r,e)},Jd={key:"historyKey",iv:"historyIv"},mye=async e=>{const t=LL(),n=await jL();if(!n)throw new Error("Unable to decrypt history");return await gye(t,n,e)},hye=async(e,t,n)=>{if(typeof window>"u")throw new Error("Unable to encrypt history");if(typeof window.crypto.subtle>"u")return console.warn("Encryption is not supported in this environment. SSL is required."),Promise.resolve(n);const r=new TextEncoder,o=JSON.stringify(n),s=new Uint8Array(o.length*3),a=r.encodeInto(o,s);return window.crypto.subtle.encrypt({name:"AES-GCM",iv:e},t,s.subarray(0,a.written))},gye=async(e,t,n)=>{if(typeof window.crypto.subtle>"u")return console.warn("Decryption is not supported in this environment. SSL is required."),Promise.resolve(n);const r=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:e},t,n);return JSON.parse(new TextDecoder().decode(r))},LL=()=>{const e=es.get(Jd.iv);if(e)return new Uint8Array(e);const t=window.crypto.getRandomValues(new Uint8Array(12));return es.set(Jd.iv,Array.from(t)),t},vye=async()=>typeof window.crypto.subtle>"u"?(console.warn("Encryption is not supported in this environment. SSL is required."),Promise.resolve(null)):window.crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt","decrypt"]),yye=async e=>{if(typeof window.crypto.subtle>"u")return console.warn("Encryption is not supported in this environment. SSL is required."),Promise.resolve();const t=await window.crypto.subtle.exportKey("raw",e);es.set(Jd.key,Array.from(new Uint8Array(t)))},bye=async e=>{if(e)return e;const t=await vye();return t?(await yye(t),t):null},jL=async()=>{const e=es.get(Jd.key);return e?await window.crypto.subtle.importKey("raw",new Uint8Array(e),{name:"AES-GCM",length:256},!0,["encrypt","decrypt"]):null},VL=(e,t,n)=>{if(e===t)return!0;for(const r in e)if(!n.includes(r)&&e[r]!==t[r]&&!xye(e[r],t[r]))return!1;for(const r in t)if(!n.includes(r)&&!(r in e))return!1;return!0},xye=(e,t)=>{switch(typeof e){case"object":return VL(e,t,[]);case"function":return e.toString()===t.toString();default:return e===t}},wye={ms:1,s:1e3,m:1e3*60,h:1e3*60*60,d:1e3*60*60*24},gR=e=>{if(typeof e=="number")return e;for(const[t,n]of Object.entries(wye))if(e.endsWith(t))return parseFloat(e)*n;return parseInt(e)},kye=class{constructor(){this.cached=[],this.inFlightRequests=[],this.removalTimers=[],this.currentUseId=null}add(e,t,{cacheFor:n,cacheTags:r}){if(this.findInFlight(e))return Promise.resolve();const s=this.findCached(e);if(!e.fresh&&s&&s.staleTimestamp>Date.now())return Promise.resolve();const[a,i]=this.extractStaleValues(n),l=new Promise((c,u)=>{t({...e,onCancel:()=>{this.remove(e),e.onCancel(),u()},onError:d=>{this.remove(e),e.onError(d),u()},onPrefetching(d){e.onPrefetching(d)},onPrefetched(d,f){e.onPrefetched(d,f)},onPrefetchResponse(d){c(d)},onPrefetchError(d){Fa.removeFromInFlight(e),u(d)}})}).then(c=>{this.remove(e);const u=c.getPageResponse();pt.mergeOncePropsIntoResponse(u),this.cached.push({params:{...e},staleTimestamp:Date.now()+a,expiresAt:Date.now()+i,response:l,singleUse:i===0,timestamp:Date.now(),inFlight:!1,tags:Array.isArray(r)?r:[r]});const d=this.getShortestOncePropTtl(u);return this.scheduleForRemoval(e,d?Math.min(i,d):i),this.removeFromInFlight(e),c.handlePrefetch(),c});return this.inFlightRequests.push({params:{...e},response:l,staleTimestamp:null,inFlight:!0}),l}removeAll(){this.cached=[],this.removalTimers.forEach(e=>{clearTimeout(e.timer)}),this.removalTimers=[]}removeByTags(e){this.cached=this.cached.filter(t=>!t.tags.some(n=>e.includes(n)))}remove(e){this.cached=this.cached.filter(t=>!this.paramsAreEqual(t.params,e)),this.clearTimer(e)}removeFromInFlight(e){this.inFlightRequests=this.inFlightRequests.filter(t=>!this.paramsAreEqual(t.params,e))}extractStaleValues(e){const[t,n]=this.cacheForToStaleAndExpires(e);return[gR(t),gR(n)]}cacheForToStaleAndExpires(e){if(!Array.isArray(e))return[e,e];switch(e.length){case 0:return[0,0];case 1:return[e[0],e[0]];default:return[e[0],e[1]]}}clearTimer(e){const t=this.removalTimers.find(n=>this.paramsAreEqual(n.params,e));t&&(clearTimeout(t.timer),this.removalTimers=this.removalTimers.filter(n=>n!==t))}scheduleForRemoval(e,t){if(!(typeof window>"u")&&(this.clearTimer(e),t>0)){const n=window.setTimeout(()=>this.remove(e),t);this.removalTimers.push({params:e,timer:n})}}get(e){return this.findCached(e)||this.findInFlight(e)}use(e,t){const n=`${t.url.pathname}-${Date.now()}-${Math.random().toString(36).substring(7)}`;return this.currentUseId=n,e.response.then(r=>{if(this.currentUseId===n)return r.mergeParams({...t,onPrefetched:()=>{}}),this.removeSingleUseItems(t),r.handle()})}removeSingleUseItems(e){this.cached=this.cached.filter(t=>this.paramsAreEqual(t.params,e)?!t.singleUse:!0)}findCached(e){return this.cached.find(t=>this.paramsAreEqual(t.params,e))||null}findInFlight(e){return this.inFlightRequests.find(t=>this.paramsAreEqual(t.params,e))||null}withoutPurposePrefetchHeader(e){const t=Ar(e);return t.headers.Purpose==="prefetch"&&delete t.headers.Purpose,t}paramsAreEqual(e,t){return VL(this.withoutPurposePrefetchHeader(e),this.withoutPurposePrefetchHeader(t),["showProgress","replace","prefetch","preserveScroll","preserveState","onBefore","onBeforeUpdate","onStart","onProgress","onFinish","onCancel","onSuccess","onError","onFlash","onPrefetched","onCancelToken","onPrefetching","async","viewTransition"])}updateCachedOncePropsFromCurrentPage(){this.cached.forEach(e=>{e.response.then(t=>{const n=t.getPageResponse();pt.mergeOncePropsIntoResponse(n,{force:!0});for(const[a,i]of Object.entries(n.deferredProps??{})){const l=i.filter(c=>n.props[c]===void 0);l.length>0?n.deferredProps[a]=l:delete n.deferredProps[a]}const r=this.getShortestOncePropTtl(n);if(r===null)return;const o=e.expiresAt-Date.now(),s=Math.min(o,r);s>0?this.scheduleForRemoval(e.params,s):this.remove(e.params)})})}getShortestOncePropTtl(e){const t=Object.values(e.onceProps??{}).map(n=>n.expiresAt).filter(n=>!!n);return t.length===0?null:Math.min(...t)-Date.now()}},Fa=new kye,fs=class{static save(){dn.saveScrollPositions(this.getScrollRegions())}static getScrollRegions(){return Array.from(this.regions()).map(e=>({top:e.scrollTop,left:e.scrollLeft}))}static regions(){return document.querySelectorAll("[scroll-region]")}static reset(){typeof window<"u"&&window.location.hash||window.scrollTo(0,0),this.regions().forEach(t=>{typeof t.scrollTo=="function"?t.scrollTo(0,0):(t.scrollTop=0,t.scrollLeft=0)}),this.save(),this.scrollToAnchor()}static scrollToAnchor(){const e=typeof window<"u"?window.location.hash:null;e&&setTimeout(()=>{const t=document.getElementById(e.slice(1));t?t.scrollIntoView():window.scrollTo(0,0)})}static restore(e){typeof window>"u"||window.requestAnimationFrame(()=>{this.restoreDocument(),this.restoreScrollRegions(e)})}static restoreScrollRegions(e){typeof window>"u"||this.regions().forEach((t,n)=>{const r=e[n];r&&(typeof t.scrollTo=="function"?t.scrollTo(r.left,r.top):(t.scrollTop=r.top,t.scrollLeft=r.left))})}static restoreDocument(){const e=dn.getDocumentScrollPosition();window.scrollTo(e.left,e.top)}static onScroll(e){const t=e.target;typeof t.hasAttribute=="function"&&t.hasAttribute("scroll-region")&&this.save()}static onWindowScroll(){dn.saveDocumentScrollPosition({top:window.scrollY,left:window.scrollX})}},_ye=e=>typeof File<"u"&&e instanceof File||e instanceof Blob||typeof FileList<"u"&&e instanceof FileList&&e.length>0;function KS(e){return _ye(e)||e instanceof FormData&&Array.from(e.values()).some(t=>KS(t))||typeof e=="object"&&e!==null&&Object.values(e).some(t=>KS(t))}var HS=e=>e instanceof FormData;function UL(e,t=new FormData,n=null,r="brackets"){e=e||{};for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&HL(t,KL(n,o,"indices"),e[o],r);return t}function KL(e,t,n){return e?n==="brackets"?`${e}[]`:`${e}[${t}]`:t}function HL(e,t,n,r){if(Array.isArray(n))return Array.from(n.keys()).forEach(o=>HL(e,KL(t,o.toString(),r),n[o],r));if(n instanceof Date)return e.append(t,n.toISOString());if(n instanceof File)return e.append(t,n,n.name);if(n instanceof Blob)return e.append(t,n);if(typeof n=="boolean")return e.append(t,n?"1":"0");if(typeof n=="string")return e.append(t,n);if(typeof n=="number")return e.append(t,`${n}`);if(n==null)return e.append(t,"");UL(n,e,t,r)}function Dl(e){return new URL(e.toString(),typeof window>"u"?void 0:window.location.toString())}var Sye=(e,t,n,r,o)=>{let s=typeof e=="string"?Dl(e):e;if((KS(t)||r)&&!HS(t)&&(_c.get("form.forceIndicesArrayFormatInFormData")&&(o="indices"),t=UL(t,new FormData,null,o)),HS(t))return[s,t];const[a,i]=WL(n,s,t,o);return[Dl(a),i]};function WL(e,t,n,r="brackets"){const o=e==="get"&&!HS(n)&&Object.keys(n).length>0,s=$ye(t.toString()),a=s||t.toString().startsWith("/")||t.toString()==="",i=!a&&!t.toString().startsWith("#")&&!t.toString().startsWith("?"),l=/^[.]{1,2}([/]|$)/.test(t.toString()),c=t.toString().includes("?")||o,u=t.toString().includes("#"),d=new URL(t.toString(),typeof window>"u"?"http://localhost":window.location.toString());if(o){const f={ignoreQueryPrefix:!0,arrayLimit:-1};d.search=XO.stringify({...XO.parse(d.search,f),...n},{encodeValuesOnly:!0,arrayFormat:r})}return[[s?`${d.protocol}//${d.host}`:"",a?d.pathname:"",i?d.pathname.substring(l?0:1):"",c?d.search:"",u?d.hash:""].join(""),o?{}:n]}function hb(e){return e=new URL(e.href),e.hash="",e}var vR=(e,t)=>{e.hash&&!t.hash&&hb(e).href===t.href&&(t.hash=e.hash)},WS=(e,t)=>hb(e).href===hb(t).href;function Yd(e){return e!==null&&typeof e=="object"&&e!==void 0&&"url"in e&&"method"in e}function $ye(e){return/^([a-z][a-z0-9+.-]*:)?\/\/[^/]/i.test(e)}var Cye=class{constructor(){this.componentId={},this.listeners=[],this.isFirstPageLoad=!0,this.cleared=!1,this.pendingDeferredProps=null}init({initialPage:e,swapComponent:t,resolveComponent:n,onFlash:r}){return this.page={...e,flash:e.flash??{}},this.swapComponent=t,this.resolveComponent=n,this.onFlashCallback=r,this}set(e,{replace:t=!1,preserveScroll:n=!1,preserveState:r=!1,viewTransition:o=!1}={}){Object.keys(e.deferredProps||{}).length&&(this.pendingDeferredProps={deferredProps:e.deferredProps,component:e.component,url:e.url}),this.componentId={};const s=this.componentId;return e.clearHistory&&dn.clear(),this.resolve(e.component).then(a=>{if(s!==this.componentId)return;e.rememberedState??(e.rememberedState={});const i=typeof window>"u",l=i?new URL(e.url):window.location,c=!i&&n?fs.getScrollRegions():[];t=t||WS(Dl(e.url),l);const u={...e,flash:{}};return new Promise(d=>t?dn.replaceState(u,d):dn.pushState(u,d)).then(()=>{const d=!this.isTheSame(e);return!d&&Object.keys(e.props.errors||{}).length>0&&(o=!1),this.page=e,this.cleared=!1,this.hasOnceProps()&&Fa.updateCachedOncePropsFromCurrentPage(),d&&this.fireEventsFor("newComponent"),this.isFirstPageLoad&&this.fireEventsFor("firstLoad"),this.isFirstPageLoad=!1,this.swap({component:a,page:e,preserveState:r,viewTransition:o}).then(()=>{n?window.requestAnimationFrame(()=>fs.restoreScrollRegions(c)):fs.reset(),this.pendingDeferredProps&&this.pendingDeferredProps.component===e.component&&this.pendingDeferredProps.url===e.url&&Lu.fireInternalEvent("loadDeferredProps",this.pendingDeferredProps.deferredProps),this.pendingDeferredProps=null,t||Ep(e)})})})}setQuietly(e,{preserveState:t=!1}={}){return this.resolve(e.component).then(n=>(this.page=e,this.cleared=!1,dn.setCurrent(e),this.swap({component:n,page:e,preserveState:t,viewTransition:!1})))}clear(){this.cleared=!0}isCleared(){return this.cleared}get(){return this.page}getWithoutFlashData(){return{...this.page,flash:{}}}hasOnceProps(){return Object.keys(this.page.onceProps??{}).length>0}merge(e){this.page={...this.page,...e}}setFlash(e){this.page={...this.page,flash:e},this.onFlashCallback?.(e)}setUrlHash(e){this.page.url.includes(e)||(this.page.url+=e)}remember(e){this.page.rememberedState=e}swap({component:e,page:t,preserveState:n,viewTransition:r}){const o=()=>this.swapComponent({component:e,page:t,preserveState:n});if(!r||!document?.startViewTransition)return o();const s=typeof r=="boolean"?()=>null:r;return new Promise(a=>{const i=document.startViewTransition(()=>o().then(a));s(i)})}resolve(e){return Promise.resolve(this.resolveComponent(e))}isTheSame(e){return this.page.component===e.component}on(e,t){return this.listeners.push({event:e,callback:t}),()=>{this.listeners=this.listeners.filter(n=>n.event!==e&&n.callback!==t)}}fireEventsFor(e){this.listeners.filter(t=>t.event===e).forEach(t=>t.callback())}mergeOncePropsIntoResponse(e,{force:t=!1}={}){Object.entries(e.onceProps??{}).forEach(([n,r])=>{const o=this.page.onceProps?.[n];o!==void 0&&(t||e.props[r.prop]===void 0)&&(e.props[r.prop]=this.page.props[o.prop],e.onceProps[n].expiresAt=o.expiresAt)})}},pt=new Cye,mM=class{constructor(){this.items=[],this.processingPromise=null}add(e){return this.items.push(e),this.process()}process(){return this.processingPromise??(this.processingPromise=this.processNext().finally(()=>{this.processingPromise=null})),this.processingPromise}processNext(){const e=this.items.shift();return e?Promise.resolve(e()).then(()=>this.processNext()):Promise.resolve()}},dp=typeof window>"u",Xf=new mM,yR=!dp&&/CriOS/.test(window.navigator.userAgent),Mye=class{constructor(){this.rememberedState="rememberedState",this.scrollRegions="scrollRegions",this.preserveUrl=!1,this.current={},this.initialState=null}remember(e,t){this.replaceState({...pt.getWithoutFlashData(),rememberedState:{...pt.get()?.rememberedState??{},[t]:e}})}restore(e){if(!dp)return this.current[this.rememberedState]?.[e]!==void 0?this.current[this.rememberedState]?.[e]:this.initialState?.[this.rememberedState]?.[e]}pushState(e,t=null){if(!dp){if(this.preserveUrl){t&&t();return}this.current=e,Xf.add(()=>this.getPageData(e).then(n=>{const r=()=>this.doPushState({page:n},e.url).then(()=>t?.());return yR?new Promise(o=>{setTimeout(()=>r().then(o))}):r()}))}}clonePageProps(e){try{return structuredClone(e.props),e}catch{return{...e,props:Ar(e.props)}}}getPageData(e){const t=this.clonePageProps(e);return new Promise(n=>e.encryptHistory?pye(t).then(n):n(t))}processQueue(){return Xf.process()}decrypt(e=null){if(dp)return Promise.resolve(e??pt.get());const t=e??window.history.state?.page;return this.decryptPageData(t).then(n=>{if(!n)throw new Error("Unable to decrypt history");return this.initialState===null?this.initialState=n??void 0:this.current=n??{},n})}decryptPageData(e){return e instanceof ArrayBuffer?mye(e):Promise.resolve(e)}saveScrollPositions(e){Xf.add(()=>Promise.resolve().then(()=>{if(window.history.state?.page&&!Wd(this.getScrollRegions(),e))return this.doReplaceState({page:window.history.state.page,scrollRegions:e})}))}saveDocumentScrollPosition(e){Xf.add(()=>Promise.resolve().then(()=>{if(window.history.state?.page&&!Wd(this.getDocumentScrollPosition(),e))return this.doReplaceState({page:window.history.state.page,documentScrollPosition:e})}))}getScrollRegions(){return window.history.state?.scrollRegions||[]}getDocumentScrollPosition(){return window.history.state?.documentScrollPosition||{top:0,left:0}}replaceState(e,t=null){if(pt.merge(e),!dp){if(this.preserveUrl){t&&t();return}this.current=e,Xf.add(()=>this.getPageData(e).then(n=>{const r=()=>this.doReplaceState({page:n},e.url).then(()=>t?.());return yR?new Promise(o=>{setTimeout(()=>r().then(o))}):r()}))}}doReplaceState(e,t){return Promise.resolve().then(()=>window.history.replaceState({...e,scrollRegions:e.scrollRegions??window.history.state?.scrollRegions,documentScrollPosition:e.documentScrollPosition??window.history.state?.documentScrollPosition},"",t))}doPushState(e,t){return Promise.resolve().then(()=>window.history.pushState(e,"",t))}getState(e,t){return this.current?.[e]??t}deleteState(e){this.current[e]!==void 0&&(delete this.current[e],this.replaceState(this.current))}clearInitialState(e){this.initialState&&this.initialState[e]!==void 0&&delete this.initialState[e]}hasAnyState(){return!!this.getAllState()}clear(){es.remove(Jd.key),es.remove(Jd.iv)}setCurrent(e){this.current=e}isValidState(e){return!!e.page}getAllState(){return this.current}};typeof window<"u"&&window.history.scrollRestoration&&(window.history.scrollRestoration="manual");var dn=new Mye,Aye=class{constructor(){this.internalListeners=[]}init(){typeof window<"u"&&(window.addEventListener("popstate",this.handlePopstateEvent.bind(this)),window.addEventListener("scroll",US(fs.onWindowScroll.bind(fs),100),!0)),typeof document<"u"&&document.addEventListener("scroll",US(fs.onScroll.bind(fs),100),!0)}onGlobalEvent(e,t){const n=(r=>{const o=t(r);r.cancelable&&!r.defaultPrevented&&o===!1&&r.preventDefault()});return this.registerListener(`inertia:${e}`,n)}on(e,t){return this.internalListeners.push({event:e,listener:t}),()=>{this.internalListeners=this.internalListeners.filter(n=>n.listener!==t)}}onMissingHistoryItem(){pt.clear(),this.fireInternalEvent("missingHistoryItem")}fireInternalEvent(e,...t){this.internalListeners.filter(n=>n.event===e).forEach(n=>n.listener(...t))}registerListener(e,t){return document.addEventListener(e,t),()=>document.removeEventListener(e,t)}handlePopstateEvent(e){const t=e.state||null;if(t===null){const n=Dl(pt.get().url);n.hash=window.location.hash,dn.replaceState({...pt.getWithoutFlashData(),url:n.href}),fs.reset();return}if(!dn.isValidState(t))return this.onMissingHistoryItem();dn.decrypt(t.page).then(n=>{if(pt.get().version!==n.version){this.onMissingHistoryItem();return}Qe.cancelAll(),pt.setQuietly(n,{preserveState:!1}).then(()=>{fs.restore(dn.getScrollRegions()),Ep(pt.get())})}).catch(()=>{this.onMissingHistoryItem()})}},Lu=new Aye,Tye=class{constructor(){this.type=this.resolveType()}resolveType(){return typeof window>"u"?"navigate":window.performance&&window.performance.getEntriesByType&&window.performance.getEntriesByType("navigation").length>0?window.performance.getEntriesByType("navigation")[0].type:"navigate"}get(){return this.type}isBackForward(){return this.type==="back_forward"}isReload(){return this.type==="reload"}},R1=new Tye,Eye=class{static handle(){this.clearRememberedStateOnReload(),[this.handleBackForward,this.handleLocation,this.handleDefault].find(t=>t.bind(this)())}static clearRememberedStateOnReload(){R1.isReload()&&(dn.deleteState(dn.rememberedState),dn.clearInitialState(dn.rememberedState))}static handleBackForward(){if(!R1.isBackForward()||!dn.hasAnyState())return!1;const e=dn.getScrollRegions();return dn.decrypt().then(t=>{pt.set(t,{preserveScroll:!0,preserveState:!0}).then(()=>{fs.restore(e),Ep(pt.get())})}).catch(()=>{Lu.onMissingHistoryItem()}),!0}static handleLocation(){if(!es.exists(es.locationVisitKey))return!1;const e=es.get(es.locationVisitKey)||{};return es.remove(es.locationVisitKey),typeof window<"u"&&pt.setUrlHash(window.location.hash),dn.decrypt(pt.get()).then(()=>{const t=dn.getState(dn.rememberedState,{}),n=dn.getScrollRegions();pt.remember(t),pt.set(pt.get(),{preserveScroll:e.preserveScroll,preserveState:!0}).then(()=>{e.preserveScroll&&fs.restore(n),Ep(pt.get())})}).catch(()=>{Lu.onMissingHistoryItem()}),!0}static handleDefault(){typeof window<"u"&&pt.setUrlHash(window.location.hash),pt.set(pt.get(),{preserveScroll:!0,preserveState:!0}).then(()=>{R1.isReload()?fs.restore(dn.getScrollRegions()):fs.scrollToAnchor();const e=pt.get();Ep(e);const t=e.flash;Object.keys(t).length>0&&mb(t)})}},Iye=class{constructor(e,t,n){this.id=null,this.throttle=!1,this.keepAlive=!1,this.cbCount=0,this.keepAlive=n.keepAlive??!1,this.cb=t,this.interval=e,(n.autoStart??!0)&&this.start()}stop(){this.id&&clearInterval(this.id)}start(){typeof window>"u"||(this.stop(),this.id=window.setInterval(()=>{(!this.throttle||this.cbCount%10===0)&&this.cb(),this.throttle&&this.cbCount++},this.interval))}isInBackground(e){this.throttle=this.keepAlive?!1:e,this.throttle&&(this.cbCount=0)}},Pye=class{constructor(){this.polls=[],this.setupVisibilityListener()}add(e,t,n){const r=new Iye(e,t,n);return this.polls.push(r),{stop:()=>r.stop(),start:()=>r.start()}}clear(){this.polls.forEach(e=>e.stop()),this.polls=[]}setupVisibilityListener(){typeof document>"u"||document.addEventListener("visibilitychange",()=>{this.polls.forEach(e=>e.isInBackground(document.hidden))},!1)}},Oye=new Pye,GS=class vy{constructor(t){if(this.callbacks=[],!t.prefetch)this.params=t;else{const n={onBefore:this.wrapCallback(t,"onBefore"),onBeforeUpdate:this.wrapCallback(t,"onBeforeUpdate"),onStart:this.wrapCallback(t,"onStart"),onProgress:this.wrapCallback(t,"onProgress"),onFinish:this.wrapCallback(t,"onFinish"),onCancel:this.wrapCallback(t,"onCancel"),onSuccess:this.wrapCallback(t,"onSuccess"),onError:this.wrapCallback(t,"onError"),onFlash:this.wrapCallback(t,"onFlash"),onCancelToken:this.wrapCallback(t,"onCancelToken"),onPrefetched:this.wrapCallback(t,"onPrefetched"),onPrefetching:this.wrapCallback(t,"onPrefetching")};this.params={...t,...n,onPrefetchResponse:t.onPrefetchResponse||(()=>{}),onPrefetchError:t.onPrefetchError||(()=>{})}}}static create(t){return new vy(t)}data(){return this.params.method==="get"?null:this.params.data}queryParams(){return this.params.method==="get"?this.params.data:{}}isPartial(){return this.params.only.length>0||this.params.except.length>0||this.params.reset.length>0}isDeferredPropsRequest(){return this.params.deferredProps===!0}onCancelToken(t){this.params.onCancelToken({cancel:t})}markAsFinished(){this.params.completed=!0,this.params.cancelled=!1,this.params.interrupted=!1}markAsCancelled({cancelled:t=!0,interrupted:n=!1}){this.params.onCancel(),this.params.completed=!1,this.params.cancelled=t,this.params.interrupted=n}wasCancelledAtAll(){return this.params.cancelled||this.params.interrupted}onFinish(){this.params.onFinish(this.params)}onStart(){this.params.onStart(this.params)}onPrefetching(){this.params.onPrefetching(this.params)}onPrefetchResponse(t){this.params.onPrefetchResponse&&this.params.onPrefetchResponse(t)}onPrefetchError(t){this.params.onPrefetchError&&this.params.onPrefetchError(t)}all(){return this.params}headers(){const t={...this.params.headers};this.isPartial()&&(t["X-Inertia-Partial-Component"]=pt.get().component);const n=this.params.only.concat(this.params.reset);return n.length>0&&(t["X-Inertia-Partial-Data"]=n.join(",")),this.params.except.length>0&&(t["X-Inertia-Partial-Except"]=this.params.except.join(",")),this.params.reset.length>0&&(t["X-Inertia-Reset"]=this.params.reset.join(",")),this.params.errorBag&&this.params.errorBag.length>0&&(t["X-Inertia-Error-Bag"]=this.params.errorBag),t}setPreserveOptions(t){this.params.preserveScroll=vy.resolvePreserveOption(this.params.preserveScroll,t),this.params.preserveState=vy.resolvePreserveOption(this.params.preserveState,t)}runCallbacks(){this.callbacks.forEach(({name:t,args:n})=>{this.params[t](...n)})}merge(t){this.params={...this.params,...t}}wrapCallback(t,n){return(...r)=>{this.recordCallback(n,r),t[n](...r)}}recordCallback(t,n){this.callbacks.push({name:t,args:n})}static resolvePreserveOption(t,n){return typeof t=="function"?t(n):t==="errors"?Object.keys(n.props.errors||{}).length>0:t}},GL={modal:null,listener:null,createIframeAndPage(e){typeof e=="object"&&(e=`All Inertia requests must receive a valid Inertia response, however a plain JSON response was received.<hr>${JSON.stringify(e)}`);const t=document.createElement("html");t.innerHTML=e,t.querySelectorAll("a").forEach(r=>r.setAttribute("target","_top"));const n=document.createElement("iframe");return n.style.backgroundColor="white",n.style.borderRadius="5px",n.style.width="100%",n.style.height="100%",{iframe:n,page:t}},show(e){const{iframe:t,page:n}=this.createIframeAndPage(e);if(this.modal=document.createElement("div"),this.modal.style.position="fixed",this.modal.style.width="100vw",this.modal.style.height="100vh",this.modal.style.padding="50px",this.modal.style.boxSizing="border-box",this.modal.style.backgroundColor="rgba(0, 0, 0, .6)",this.modal.style.zIndex=2e5,this.modal.addEventListener("click",()=>this.hide()),this.modal.appendChild(t),document.body.prepend(this.modal),document.body.style.overflow="hidden",!t.contentWindow)throw new Error("iframe not yet ready.");t.contentWindow.document.open(),t.contentWindow.document.write(n.outerHTML),t.contentWindow.document.close(),this.listener=this.hideOnEscape.bind(this),document.addEventListener("keydown",this.listener)},hide(){this.modal.outerHTML="",this.modal=null,document.body.style.overflow="visible",document.removeEventListener("keydown",this.listener)},hideOnEscape(e){e.keyCode===27&&this.hide()}},Rye={show(e){const{iframe:t,page:n}=GL.createIframeAndPage(e);t.style.boxSizing="border-box",t.style.display="block";const r=document.createElement("dialog");r.id="inertia-error-dialog",Object.assign(r.style,{width:"calc(100vw - 100px)",height:"calc(100vh - 100px)",padding:"0",margin:"auto",border:"none",backgroundColor:"transparent"});const o=document.createElement("style");if(o.textContent=`
      dialog#inertia-error-dialog::backdrop {
        background-color: rgba(0, 0, 0, 0.6);
      }

      dialog#inertia-error-dialog:focus {
        outline: none;
      }
    `,document.head.appendChild(o),r.addEventListener("click",s=>{s.target===r&&r.close()}),r.addEventListener("close",()=>{o.remove(),r.remove()}),r.appendChild(t),document.body.prepend(r),r.showModal(),r.focus(),!t.contentWindow)throw new Error("iframe not yet ready.");t.contentWindow.document.open(),t.contentWindow.document.write(n.outerHTML),t.contentWindow.document.close()}},Bye=new mM,bR=class JL{constructor(t,n,r){this.requestParams=t,this.response=n,this.originatingPage=r,this.wasPrefetched=!1}static create(t,n,r){return new JL(t,n,r)}async handlePrefetch(){WS(this.requestParams.all().url,window.location)&&this.handle()}async handle(){return Bye.add(()=>this.process())}async process(){if(this.requestParams.all().prefetch)return this.wasPrefetched=!0,this.requestParams.all().prefetch=!1,this.requestParams.all().onPrefetched(this.response,this.requestParams.all()),dye(this.response,this.requestParams.all()),Promise.resolve();if(this.requestParams.runCallbacks(),!this.isInertiaResponse())return this.handleNonInertiaResponse();await dn.processQueue(),dn.preserveUrl=this.requestParams.all().preserveUrl;const t=pt.get().flash;await this.setPage();const n=pt.get().props.errors||{};if(Object.keys(n).length>0){const o=this.getScopedErrors(n);return rye(o),this.requestParams.all().onError(o)}Qe.flushByCacheTags(this.requestParams.all().invalidateCacheTags||[]),this.wasPrefetched||Qe.flush(pt.get().url);const{flash:r}=pt.get();Object.keys(r).length>0&&(!this.requestParams.isPartial()||!Wd(r,t))&&(mb(r),this.requestParams.all().onFlash(r)),cye(pt.get()),await this.requestParams.all().onSuccess(pt.get()),dn.preserveUrl=!1}mergeParams(t){this.requestParams.merge(t)}getPageResponse(){const t=this.getDataFromResponse(this.response.data);return this.response.data={...t,flash:t.flash??{}}}async handleNonInertiaResponse(){if(this.isLocationVisit()){const n=Dl(this.getHeader("x-inertia-location"));return vR(this.requestParams.all().url,n),this.locationVisit(n)}const t={...this.response,data:this.getDataFromResponse(this.response.data)};if(aye(t))return _c.get("future.useDialogForErrorModal")?Rye.show(t.data):GL.show(t.data)}isInertiaResponse(){return this.hasHeader("x-inertia")}hasStatus(t){return this.response.status===t}getHeader(t){return this.response.headers[t]}hasHeader(t){return this.getHeader(t)!==void 0}isLocationVisit(){return this.hasStatus(409)&&this.hasHeader("x-inertia-location")}locationVisit(t){try{if(es.set(es.locationVisitKey,{preserveScroll:this.requestParams.all().preserveScroll===!0}),typeof window>"u")return;WS(window.location,t)?window.location.reload():window.location.href=t.href}catch{return!1}}async setPage(){const t=this.getPageResponse();return this.shouldSetPage(t)?(this.mergeProps(t),pt.mergeOncePropsIntoResponse(t),this.preserveEqualProps(t),await this.setRememberedState(t),this.requestParams.setPreserveOptions(t),t.url=dn.preserveUrl?pt.get().url:this.pageUrl(t),this.requestParams.all().onBeforeUpdate(t),iye(t),pt.set(t,{replace:this.requestParams.all().replace,preserveScroll:this.requestParams.all().preserveScroll,preserveState:this.requestParams.all().preserveState,viewTransition:this.requestParams.all().viewTransition})):Promise.resolve()}getDataFromResponse(t){if(typeof t!="string")return t;try{return JSON.parse(t)}catch{return t}}shouldSetPage(t){if(!this.requestParams.all().async||this.originatingPage.component!==t.component)return!0;if(this.originatingPage.component!==pt.get().component)return!1;const n=Dl(this.originatingPage.url),r=Dl(pt.get().url);return n.origin===r.origin&&n.pathname===r.pathname}pageUrl(t){const n=Dl(t.url);return vR(this.requestParams.all().url,n),n.pathname+n.search+n.hash}preserveEqualProps(t){if(t.component!==pt.get().component||_c.get("future.preserveEqualProps")!==!0)return;const n=pt.get().props;Object.entries(t.props).forEach(([r,o])=>{Wd(o,n[r])&&(t.props[r]=n[r])})}mergeProps(t){if(!this.requestParams.isPartial()||t.component!==pt.get().component)return;const n=t.mergeProps||[],r=t.prependProps||[],o=t.deepMergeProps||[],s=t.matchPropsOn||[],a=(i,l)=>{const c=ya(pt.get().props,i),u=ya(t.props,i);if(Array.isArray(u)){const d=this.mergeOrMatchItems(c||[],u,i,s,l);Ga(t.props,i,d)}else if(typeof u=="object"&&u!==null){const d={...c||{},...u};Ga(t.props,i,d)}};if(n.forEach(i=>a(i,!0)),r.forEach(i=>a(i,!1)),o.forEach(i=>{const l=pt.get().props[i],c=t.props[i],u=(d,f,p)=>Array.isArray(f)?this.mergeOrMatchItems(d,f,p,s):typeof f=="object"&&f!==null?Object.keys(f).reduce((m,h)=>(m[h]=u(d?d[h]:void 0,f[h],`${p}.${h}`),m),{...d}):f;t.props[i]=u(l,c,i)}),t.props={...pt.get().props,...t.props},this.requestParams.isDeferredPropsRequest()){const i=pt.get().props.errors;i&&Object.keys(i).length>0&&(t.props.errors=i)}pt.get().scrollProps&&(t.scrollProps={...pt.get().scrollProps||{},...t.scrollProps||{}}),pt.hasOnceProps()&&(t.onceProps={...pt.get().onceProps||{},...t.onceProps||{}}),t.flash={...pt.get().flash,...this.requestParams.isDeferredPropsRequest()?{}:t.flash}}mergeOrMatchItems(t,n,r,o,s=!0){const a=Array.isArray(t)?t:[],i=o.find(u=>u.split(".").slice(0,-1).join(".")===r);if(!i)return s?[...a,...n]:[...n,...a];const l=i.split(".").pop()||"",c=new Map;return n.forEach(u=>{this.hasUniqueProperty(u,l)&&c.set(u[l],u)}),s?this.appendWithMatching(a,n,c,l):this.prependWithMatching(a,n,c,l)}appendWithMatching(t,n,r,o){const s=t.map(i=>this.hasUniqueProperty(i,o)&&r.has(i[o])?r.get(i[o]):i),a=n.filter(i=>this.hasUniqueProperty(i,o)?!t.some(l=>this.hasUniqueProperty(l,o)&&l[o]===i[o]):!0);return[...s,...a]}prependWithMatching(t,n,r,o){const s=t.filter(a=>this.hasUniqueProperty(a,o)?!r.has(a[o]):!0);return[...n,...s]}hasUniqueProperty(t,n){return t&&typeof t=="object"&&n in t}async setRememberedState(t){const n=await dn.getState(dn.rememberedState,{});this.requestParams.all().preserveState&&n&&t.component===pt.get().component&&(t.rememberedState=n)}getScopedErrors(t){return this.requestParams.all().errorBag?t[this.requestParams.all().errorBag||""]||{}:t}},xR=class YL{constructor(t,n){this.page=n,this.requestHasFinished=!1,this.requestParams=GS.create(t),this.cancelToken=new AbortController}static create(t,n){return new YL(t,n)}async send(){this.requestParams.onCancelToken(()=>this.cancel({cancelled:!0})),uye(this.requestParams.all()),this.requestParams.onStart(),this.requestParams.all().prefetch&&(this.requestParams.onPrefetching(),fye(this.requestParams.all()));const t=this.requestParams.all().prefetch;return nn({method:this.requestParams.all().method,url:hb(this.requestParams.all().url).href,data:this.requestParams.data(),params:this.requestParams.queryParams(),signal:this.cancelToken.signal,headers:this.getHeaders(),onUploadProgress:this.onProgress.bind(this),responseType:"text"}).then(n=>(this.response=bR.create(this.requestParams,n,this.page),this.response.handle())).catch(n=>n?.response?(this.response=bR.create(this.requestParams,n.response,this.page),this.response.handle()):Promise.reject(n)).catch(n=>{if(!nn.isCancel(n)&&oye(n))return t&&this.requestParams.onPrefetchError(n),Promise.reject(n)}).finally(()=>{this.finish(),t&&this.response&&this.requestParams.onPrefetchResponse(this.response)})}finish(){this.requestParams.wasCancelledAtAll()||(this.requestParams.markAsFinished(),this.fireFinishEvents())}fireFinishEvents(){this.requestHasFinished||(this.requestHasFinished=!0,sye(this.requestParams.all()),this.requestParams.onFinish())}cancel({cancelled:t=!1,interrupted:n=!1}){this.requestHasFinished||(this.cancelToken.abort(),this.requestParams.markAsCancelled({cancelled:t,interrupted:n}),this.fireFinishEvents())}onProgress(t){this.requestParams.data()instanceof FormData&&(t.percentage=t.progress?Math.round(t.progress*100):0,lye(t),this.requestParams.all().onProgress(t))}getHeaders(){const t={...this.requestParams.headers(),Accept:"text/html, application/xhtml+xml","X-Requested-With":"XMLHttpRequest","X-Inertia":!0},n=pt.get();n.version&&(t["X-Inertia-Version"]=n.version);const r=Object.entries(n.onceProps||{}).filter(([,o])=>n.props[o.prop]===void 0?!1:!o.expiresAt||o.expiresAt>Date.now()).map(([o])=>o);return r.length>0&&(t["X-Inertia-Except-Once-Props"]=r.join(",")),t}},wR=class{constructor({maxConcurrent:e,interruptible:t}){this.requests=[],this.maxConcurrent=e,this.interruptible=t}send(e){this.requests.push(e),e.send().then(()=>{this.requests=this.requests.filter(t=>t!==e)})}interruptInFlight(){this.cancel({interrupted:!0},!1)}cancelInFlight(){this.cancel({cancelled:!0},!0)}cancel({cancelled:e=!1,interrupted:t=!1}={},n){if(!this.shouldCancel(n))return;this.requests.shift()?.cancel({interrupted:t,cancelled:e})}shouldCancel(e){return e?!0:this.interruptible&&this.requests.length>=this.maxConcurrent}},Nye=class{constructor(){this.syncRequestStream=new wR({maxConcurrent:1,interruptible:!0}),this.asyncRequestStream=new wR({maxConcurrent:1/0,interruptible:!1}),this.clientVisitQueue=new mM}init({initialPage:e,resolveComponent:t,swapComponent:n,onFlash:r}){pt.init({initialPage:e,resolveComponent:t,swapComponent:n,onFlash:r}),Eye.handle(),Lu.init(),Lu.on("missingHistoryItem",()=>{typeof window<"u"&&this.visit(window.location.href,{preserveState:!0,preserveScroll:!0,replace:!0})}),Lu.on("loadDeferredProps",o=>{this.loadDeferredProps(o)})}get(e,t={},n={}){return this.visit(e,{...n,method:"get",data:t})}post(e,t={},n={}){return this.visit(e,{preserveState:!0,...n,method:"post",data:t})}put(e,t={},n={}){return this.visit(e,{preserveState:!0,...n,method:"put",data:t})}patch(e,t={},n={}){return this.visit(e,{preserveState:!0,...n,method:"patch",data:t})}delete(e,t={}){return this.visit(e,{preserveState:!0,...t,method:"delete"})}reload(e={}){return this.doReload(e)}doReload(e={}){if(!(typeof window>"u"))return this.visit(window.location.href,{...e,preserveScroll:!0,preserveState:!0,async:!0,headers:{...e.headers||{},"Cache-Control":"no-cache"}})}remember(e,t="default"){dn.remember(e,t)}restore(e="default"){return dn.restore(e)}on(e,t){return typeof window>"u"?()=>{}:Lu.onGlobalEvent(e,t)}cancel(){this.syncRequestStream.cancelInFlight()}cancelAll(){this.asyncRequestStream.cancelInFlight(),this.syncRequestStream.cancelInFlight()}poll(e,t={},n={}){return Oye.add(e,()=>this.reload(t),{autoStart:n.autoStart??!0,keepAlive:n.keepAlive??!1})}visit(e,t={}){const n=this.getPendingVisit(e,{...t,showProgress:t.showProgress??!t.async}),r=this.getVisitEvents(t);if(r.onBefore(n)===!1||!hR(n))return;const o=n.async?this.asyncRequestStream:this.syncRequestStream;o.interruptInFlight(),!pt.isCleared()&&!n.preserveUrl&&fs.save();const s={...n,...r},a=Fa.get(s);a?(hs.reveal(a.inFlight),Fa.use(a,s)):(hs.reveal(!0),o.send(xR.create(s,pt.get())))}getCached(e,t={}){return Fa.findCached(this.getPrefetchParams(e,t))}flush(e,t={}){Fa.remove(this.getPrefetchParams(e,t))}flushAll(){Fa.removeAll()}flushByCacheTags(e){Fa.removeByTags(Array.isArray(e)?e:[e])}getPrefetching(e,t={}){return Fa.findInFlight(this.getPrefetchParams(e,t))}prefetch(e,t={},n={}){if((t.method??(Yd(e)?e.method:"get"))!=="get")throw new Error("Prefetch requests must use the GET method");const o=this.getPendingVisit(e,{...t,async:!0,showProgress:!1,prefetch:!0,viewTransition:!1}),s=o.url.origin+o.url.pathname+o.url.search,a=window.location.origin+window.location.pathname+window.location.search;if(s===a)return;const i=this.getVisitEvents(t);if(i.onBefore(o)===!1||!hR(o))return;hs.hide(),this.asyncRequestStream.interruptInFlight();const l={...o,...i};new Promise(u=>{const d=()=>{pt.get()?u():setTimeout(d,50)};d()}).then(()=>{Fa.add(l,u=>{this.asyncRequestStream.send(xR.create(u,pt.get()))},{cacheFor:_c.get("prefetch.cacheFor"),cacheTags:[],...n})})}clearHistory(){dn.clear()}decryptHistory(){return dn.decrypt()}resolveComponent(e){return pt.resolve(e)}replace(e){this.clientVisit(e,{replace:!0})}replaceProp(e,t,n){this.replace({preserveScroll:!0,preserveState:!0,props(r){const o=typeof t=="function"?t(ya(r,e),r):t;return Ga(Ar(r),e,o)},...n||{}})}appendToProp(e,t,n){this.replaceProp(e,(r,o)=>{const s=typeof t=="function"?t(r,o):t;return Array.isArray(r)||(r=r!==void 0?[r]:[]),[...r,s]},n)}prependToProp(e,t,n){this.replaceProp(e,(r,o)=>{const s=typeof t=="function"?t(r,o):t;return Array.isArray(r)||(r=r!==void 0?[r]:[]),[s,...r]},n)}push(e){this.clientVisit(e)}flash(e,t){const n=pt.get().flash;let r;if(typeof e=="function")r=e(n);else if(typeof e=="string")r={...n,[e]:t};else if(e&&Object.keys(e).length)r={...n,...e};else return;pt.setFlash(r),Object.keys(r).length&&mb(r)}clientVisit(e,{replace:t=!1}={}){this.clientVisitQueue.add(()=>this.performClientVisit(e,{replace:t}))}performClientVisit(e,{replace:t=!1}={}){const n=pt.get(),r=typeof e.props=="function"?e.props(n.props):e.props??n.props,o=typeof e.flash=="function"?e.flash(n.flash):e.flash,{viewTransition:s,onError:a,onFinish:i,onFlash:l,onSuccess:c,...u}=e,d={...n,...u,flash:o??{},props:r},f=GS.resolvePreserveOption(e.preserveScroll??!1,d),p=GS.resolvePreserveOption(e.preserveState??!1,d);return pt.set(d,{replace:t,preserveScroll:f,preserveState:p,viewTransition:s}).then(()=>{const m=pt.get().flash;Object.keys(m).length>0&&(mb(m),l?.(m));const h=pt.get().props.errors||{};if(Object.keys(h).length===0){c?.(pt.get());return}const g=e.errorBag?h[e.errorBag||""]||{}:h;a?.(g)}).finally(()=>i?.(e))}getPrefetchParams(e,t){return{...this.getPendingVisit(e,{...t,async:!0,showProgress:!1,prefetch:!0,viewTransition:!1}),...this.getVisitEvents(t)}}getPendingVisit(e,t,n={}){if(Yd(e)){const c=e;e=c.url,t.method=t.method??c.method}const r=_c.get("visitOptions"),o=r?r(e.toString(),Ar(t))||{}:{},s={method:"get",data:{},replace:!1,preserveScroll:!1,preserveState:!1,only:[],except:[],headers:{},errorBag:"",forceFormData:!1,queryStringArrayFormat:"brackets",async:!1,showProgress:!0,fresh:!1,reset:[],preserveUrl:!1,prefetch:!1,invalidateCacheTags:[],viewTransition:!1,...t,...o},[a,i]=Sye(e,s.data,s.method,s.forceFormData,s.queryStringArrayFormat),l={cancelled:!1,completed:!1,interrupted:!1,...s,...n,url:a,data:i};return l.prefetch&&(l.headers.Purpose="prefetch"),l}getVisitEvents(e){return{onCancelToken:e.onCancelToken||(()=>{}),onBefore:e.onBefore||(()=>{}),onBeforeUpdate:e.onBeforeUpdate||(()=>{}),onStart:e.onStart||(()=>{}),onProgress:e.onProgress||(()=>{}),onFinish:e.onFinish||(()=>{}),onCancel:e.onCancel||(()=>{}),onSuccess:e.onSuccess||(()=>{}),onError:e.onError||(()=>{}),onFlash:e.onFlash||(()=>{}),onPrefetched:e.onPrefetched||(()=>{}),onPrefetching:e.onPrefetching||(()=>{})}}loadDeferredProps(e){e&&Object.entries(e).forEach(([t,n])=>{this.doReload({only:n,deferredProps:!0})})}},B1=class{static createWayfinderCallback(...e){return()=>e.length===1?Yd(e[0])?e[0]:e[0]():{method:typeof e[0]=="function"?e[0]():e[0],url:typeof e[1]=="function"?e[1]():e[1]}}static parseUseFormArguments(...e){return e.length===1?{rememberKey:null,data:e[0],precognitionEndpoint:null}:e.length===2?typeof e[0]=="string"?{rememberKey:e[0],data:e[1],precognitionEndpoint:null}:{rememberKey:null,data:e[1],precognitionEndpoint:this.createWayfinderCallback(e[0])}:{rememberKey:null,data:e[2],precognitionEndpoint:this.createWayfinderCallback(e[0],e[1])}}static parseSubmitArguments(e,t){return e.length===3||e.length===2&&typeof e[0]=="string"?{method:e[0],url:e[1],options:e[2]??{}}:Yd(e[0])?{...e[0],options:e[1]??{}}:{...t(),options:e[0]??{}}}static mergeHeadersForValidation(e,t,n){const r=o=>(o.headers={...n??{},...o.headers??{}},o);return e&&typeof e=="object"&&!("target"in e)?e=r(e):t&&typeof t=="object"?t=r(t):typeof e=="string"?t=r(t??{}):e=r(e??{}),[e,t]}},Dye=(e,t=!1)=>{if(typeof window>"u")return null;if(!t){const r=document.getElementById(e);if(r?.dataset.page)return JSON.parse(r.dataset.page)}const n=document.querySelector(`script[data-page="${e}"][type="application/json"]`);return n?.textContent?JSON.parse(n.textContent):null},N1={preferredAttribute(){return _c.get("future.useDataInertiaHeadAttribute")?"data-inertia":"inertia"},buildDOMElement(e){const t=document.createElement("template");t.innerHTML=e;const n=t.content.firstChild;if(!e.startsWith("<script "))return n;const r=document.createElement("script");return r.innerHTML=n.innerHTML,n.getAttributeNames().forEach(o=>{r.setAttribute(o,n.getAttribute(o)||"")}),r},isInertiaManagedElement(e){return e.nodeType===Node.ELEMENT_NODE&&e.getAttribute(this.preferredAttribute())!==null},findMatchingElementIndex(e,t){const n=this.preferredAttribute(),r=e.getAttribute(n);return r!==null?t.findIndex(o=>o.getAttribute(n)===r):-1},update:US(function(e){const t=e.map(r=>this.buildDOMElement(r));Array.from(document.head.childNodes).filter(r=>this.isInertiaManagedElement(r)).forEach(r=>{const o=this.findMatchingElementIndex(r,t);if(o===-1){r?.parentNode?.removeChild(r);return}const s=t.splice(o,1)[0];s&&!r.isEqualNode(s)&&r?.parentNode?.replaceChild(s,r)}),t.forEach(r=>document.head.appendChild(r))},1)};function Fye(e,t,n){const r={};let o=0;function s(){const d=o+=1;return r[d]=[],d.toString()}function a(d){d===null||Object.keys(r).indexOf(d)===-1||(delete r[d],u())}function i(d){Object.keys(r).indexOf(d)===-1&&(r[d]=[])}function l(d,f=[]){d!==null&&Object.keys(r).indexOf(d)>-1&&(r[d]=f),u()}function c(){const d=t(""),f=N1.preferredAttribute(),p={...d?{title:`<title ${f}="">${d}</title>`}:{}},m=Object.values(r).reduce((h,g)=>h.concat(g),[]).reduce((h,g)=>{if(g.indexOf("<")===-1)return h;if(g.indexOf("<title ")===0){const x=g.match(/(<title [^>]+>)(.*?)(<\/title>)/);return h.title=x?`${x[1]}${t(x[2])}${x[3]}`:g,h}const v=g.match(f==="inertia"?/ inertia="[^"]+"/:/ data-inertia="[^"]+"/);return v?h[v[0]]=g:h[Object.keys(h).length]=g,h},p);return Object.values(m)}function u(){e?n(c()):N1.update(c())}return u(),{forceUpdate:u,createProvider:function(){const d=s();return{preferredAttribute:N1.preferredAttribute,reconnect:()=>i(d),update:f=>l(d,f),disconnect:()=>a(d)}}}}function QL(e){return e.target instanceof HTMLElement&&e.target.isContentEditable||e.defaultPrevented}function ev(e){const t=e.currentTarget.tagName.toLowerCase()==="a";return!(QL(e)||t&&e.altKey||t&&e.ctrlKey||t&&e.metaKey||t&&e.shiftKey||t&&"button"in e&&e.button!==0)}function kR(e){const t=e.currentTarget.tagName.toLowerCase()==="button";return!QL(e)&&(e.key==="Enter"||t&&e.key===" ")}var Sr="nprogress",Zs,Er={minimum:.08,easing:"linear",positionUsing:"translate3d",speed:200,trickle:!0,trickleSpeed:200,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",color:"#29d",includeCSS:!0,template:['<div class="bar" role="bar">','<div class="peg"></div>',"</div>",'<div class="spinner" role="spinner">','<div class="spinner-icon"></div>',"</div>"].join("")},Xl=null,qye=e=>{Object.assign(Er,e),Er.includeCSS&&Kye(Er.color),Zs=document.createElement("div"),Zs.id=Sr,Zs.innerHTML=Er.template},Fx=e=>{const t=XL();e=rj(e,Er.minimum,1),Xl=e===1?null:e;const n=Lye(!t),r=n.querySelector(Er.barSelector),o=Er.speed,s=Er.easing;n.offsetWidth,Uye(a=>{const i=Er.positionUsing==="translate3d"?{transition:`all ${o}ms ${s}`,transform:`translate3d(${yy(e)}%,0,0)`}:Er.positionUsing==="translate"?{transition:`all ${o}ms ${s}`,transform:`translate(${yy(e)}%,0)`}:{marginLeft:`${yy(e)}%`};for(const l in i)r.style[l]=i[l];if(e!==1)return setTimeout(a,o);n.style.transition="none",n.style.opacity="1",n.offsetWidth,setTimeout(()=>{n.style.transition=`all ${o}ms linear`,n.style.opacity="0",setTimeout(()=>{nj(),n.style.transition="",n.style.opacity="",a()},o)},o)})},XL=()=>typeof Xl=="number",ZL=()=>{Xl||Fx(0);const e=function(){setTimeout(function(){Xl&&(ej(),e())},Er.trickleSpeed)};Er.trickle&&e()},zye=e=>{!e&&!Xl||(ej(.3+.5*Math.random()),Fx(1))},ej=e=>{const t=Xl;if(t===null)return ZL();if(!(t>1))return e=typeof e=="number"?e:(()=>{const n={.1:[0,.2],.04:[.2,.5],.02:[.5,.8],.005:[.8,.99]};for(const r in n)if(t>=n[r][0]&&t<n[r][1])return parseFloat(r);return 0})(),Fx(rj(t+e,0,.994))},Lye=e=>{if(jye())return document.getElementById(Sr);document.documentElement.classList.add(`${Sr}-busy`);const t=Zs.querySelector(Er.barSelector),n=e?"-100":yy(Xl||0),r=tj();return t.style.transition="all 0 linear",t.style.transform=`translate3d(${n}%,0,0)`,Er.showSpinner||Zs.querySelector(Er.spinnerSelector)?.remove(),r!==document.body&&r.classList.add(`${Sr}-custom-parent`),r.appendChild(Zs),Zs},tj=()=>Vye(Er.parent)?Er.parent:document.querySelector(Er.parent),nj=()=>{document.documentElement.classList.remove(`${Sr}-busy`),tj().classList.remove(`${Sr}-custom-parent`),Zs?.remove()},jye=()=>document.getElementById(Sr)!==null,Vye=e=>typeof HTMLElement=="object"?e instanceof HTMLElement:e&&typeof e=="object"&&e.nodeType===1&&typeof e.nodeName=="string";function rj(e,t,n){return e<t?t:e>n?n:e}var yy=e=>(-1+e)*100,Uye=(()=>{const e=[],t=()=>{const n=e.shift();n&&n(t)};return n=>{e.push(n),e.length===1&&t()}})(),Kye=e=>{const t=document.createElement("style");t.textContent=`
    #${Sr} {
      pointer-events: none;
    }

    #${Sr} .bar {
      background: ${e};

      position: fixed;
      z-index: 1031;
      top: 0;
      left: 0;

      width: 100%;
      height: 2px;
    }

    #${Sr} .peg {
      display: block;
      position: absolute;
      right: 0px;
      width: 100px;
      height: 100%;
      box-shadow: 0 0 10px ${e}, 0 0 5px ${e};
      opacity: 1.0;

      transform: rotate(3deg) translate(0px, -4px);
    }

    #${Sr} .spinner {
      display: block;
      position: fixed;
      z-index: 1031;
      top: 15px;
      right: 15px;
    }

    #${Sr} .spinner-icon {
      width: 18px;
      height: 18px;
      box-sizing: border-box;

      border: solid 2px transparent;
      border-top-color: ${e};
      border-left-color: ${e};
      border-radius: 50%;

      animation: ${Sr}-spinner 400ms linear infinite;
    }

    .${Sr}-custom-parent {
      overflow: hidden;
      position: relative;
    }

    .${Sr}-custom-parent #${Sr} .spinner,
    .${Sr}-custom-parent #${Sr} .bar {
      position: absolute;
    }

    @keyframes ${Sr}-spinner {
      0%   { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  `,document.head.appendChild(t)},Hye=()=>{Zs&&(Zs.style.display="")},Wye=()=>{Zs&&(Zs.style.display="none")},ma={configure:qye,isStarted:XL,done:zye,set:Fx,remove:nj,start:ZL,status:Xl,show:Hye,hide:Wye},Gye=class{constructor(){this.hideCount=0}start(){ma.start()}reveal(e=!1){this.hideCount=Math.max(0,this.hideCount-1),(e||this.hideCount===0)&&ma.show()}hide(){this.hideCount++,ma.hide()}set(e){ma.set(Math.max(0,Math.min(1,e)))}finish(){ma.done()}reset(){ma.set(0)}remove(){ma.done(),ma.remove()}isStarted(){return ma.isStarted()}getStatus(){return ma.status}},hs=new Gye;hs.reveal;hs.hide;function Jye(e){document.addEventListener("inertia:start",t=>Yye(t,e)),document.addEventListener("inertia:progress",Qye)}function Yye(e,t){e.detail.visit.showProgress||hs.hide();const n=setTimeout(()=>hs.start(),t);document.addEventListener("inertia:finish",r=>Xye(r,n),{once:!0})}function Qye(e){hs.isStarted()&&e.detail.progress?.percentage&&hs.set(Math.max(hs.getStatus(),e.detail.progress.percentage/100*.9))}function Xye(e,t){clearTimeout(t),hs.isStarted()&&(e.detail.visit.completed?hs.finish():e.detail.visit.interrupted?hs.reset():e.detail.visit.cancelled&&hs.remove())}function Zye({delay:e=250,color:t="#29d",includeCSS:n=!0,showSpinner:r=!1}={}){Jye(e),ma.configure({showSpinner:r,includeCSS:n,color:t})}var Qe=new Nye;let sm=nn.create(),oj=(e,t)=>`${e.method}:${e.baseURL??t.defaults.baseURL??""}${e.url}`,sj=e=>e.status===204&&e.headers["precognition-success"]==="true";const gb={},Rl={get:(e,t={},n={})=>ep(Zf("get",e,t,n)),post:(e,t={},n={})=>ep(Zf("post",e,t,n)),patch:(e,t={},n={})=>ep(Zf("patch",e,t,n)),put:(e,t={},n={})=>ep(Zf("put",e,t,n)),delete:(e,t={},n={})=>ep(Zf("delete",e,t,n)),use(e){return sm=e,Rl},axios(){return sm},fingerprintRequestsUsing(e){return oj=e===null?()=>null:e,Rl},determineSuccessUsing(e){return sj=e,Rl}},Zf=(e,t,n,r)=>({url:t,method:e,...r,...["get","delete"].includes(e)?{params:qS({},n,r?.params)}:{data:qS({},n,r?.data)}}),ep=(e={})=>{const t=[ebe,nbe,rbe].reduce((n,r)=>r(n),e);return(t.onBefore??(()=>!0))()===!1?Promise.resolve(null):((t.onStart??(()=>null))(),sm.request(t).then(async n=>{t.precognitive&&_R(n);const r=n.status;let o=n;return t.precognitive&&t.onPrecognitionSuccess&&sj(o)&&(o=await Promise.resolve(t.onPrecognitionSuccess(o)??o)),t.onSuccess&&tbe(r)&&(o=await Promise.resolve(t.onSuccess(o)??o)),(SR(t,r)??(a=>a))(o)??o},n=>obe(n)?Promise.reject(n):(t.precognitive&&_R(n.response),(SR(t,n.response.status)??((o,s)=>Promise.reject(s)))(n.response,n))).finally(t.onFinish??(()=>null)))},ebe=e=>{const t=e.only??e.validate;return{...e,timeout:e.timeout??sm.defaults.timeout??3e4,precognitive:e.precognitive!==!1,fingerprint:typeof e.fingerprint>"u"?oj(e,sm):e.fingerprint,headers:{...e.headers,"Content-Type":sbe(e),...e.precognitive!==!1?{Precognition:!0}:{},...t?{"Precognition-Validate-Only":Array.from(t).join()}:{}}}},tbe=e=>e>=200&&e<300,nbe=e=>(typeof e.fingerprint!="string"||(gb[e.fingerprint]?.abort(),delete gb[e.fingerprint]),e),rbe=e=>typeof e.fingerprint!="string"||e.signal||e.cancelToken||!e.precognitive?e:(gb[e.fingerprint]=new AbortController,{...e,signal:gb[e.fingerprint].signal}),_R=e=>{if(e.headers?.precognition!=="true")throw Error("Did not receive a Precognition response. Ensure you have the Precognition middleware in place for the route.")},obe=e=>!zL(e)||typeof e.response?.status!="number"||qL(e),SR=(e,t)=>({401:e.onUnauthorized,403:e.onForbidden,404:e.onNotFound,409:e.onConflict,422:e.onValidationError,423:e.onLocked})[t],sbe=e=>e.headers?.["Content-Type"]??e.headers?.["Content-type"]??e.headers?.["content-type"]??(aj(e.data)?"multipart/form-data":"application/json"),aj=e=>hM(e)||typeof e=="object"&&e!==null&&Object.values(e).some(t=>aj(t)),hM=e=>typeof File<"u"&&e instanceof File||e instanceof Blob||typeof FileList<"u"&&e instanceof FileList&&e.length>0,abe=(e,t={})=>{const n={errorsChanged:[],touchedChanged:[],validatingChanged:[],validatedChanged:[]};let r=!1,o=!1;const s=L=>L!==o?(o=L,n.validatingChanged):[];let a=[];const i=L=>{const V=[...new Set(L)];return a.length!==V.length||!V.every(F=>a.includes(F))?(a=V,n.validatedChanged):[]},l=()=>a.filter(L=>typeof d[L]>"u");let c=[];const u=L=>{const V=[...new Set(L)];return c.length!==V.length||!V.every(F=>c.includes(F))?(c=V,n.touchedChanged):[]};let d={};const f=L=>{const V=lbe(L);return Wd(d,V)?[]:(d=V,n.errorsChanged)},p=L=>{const V={...d};return delete V[Ip(L)],f(V)},m=()=>Object.keys(d).length>0;let h=1500;const g=L=>{h=L,I.cancel(),I=M()};let v=t,x=null,$=[],C=null;const M=()=>The(L=>{e({get:(V,F={},z={})=>Rl.get(V,O(F),E(z,L,F)),post:(V,F={},z={})=>Rl.post(V,O(F),E(z,L,F)),patch:(V,F={},z={})=>Rl.patch(V,O(F),E(z,L,F)),put:(V,F={},z={})=>Rl.put(V,O(F),E(z,L,F)),delete:(V,F={},z={})=>Rl.delete(V,O(F),E(z,L,F))}).catch(V=>qL(V)||zL(V)&&V.response?.status===422?null:Promise.reject(V))},h,{leading:!0,trailing:!0});let I=M();const E=(L,V,F={})=>{const z={...L,...V},N=Array.from(z.only??z.validate??c);return{...V,...tye(L,V),only:N,timeout:z.timeout??5e3,onValidationError:(ee,ne)=>([...i([...a,...N]),...f(qS(aO({...d},N),ee.data.errors))].forEach(Y=>Y()),z.onValidationError?z.onValidationError(ee,ne):Promise.reject(ne)),onSuccess:ee=>(i([...a,...N]).forEach(ne=>ne()),z.onSuccess?z.onSuccess(ee):ee),onPrecognitionSuccess:ee=>([...i([...a,...N]),...f(aO({...d},N))].forEach(ne=>ne()),z.onPrecognitionSuccess?z.onPrecognitionSuccess(ee):ee),onBefore:()=>z.onBeforeValidation&&z.onBeforeValidation({data:F,touched:c},{data:v,touched:$})===!1||(z.onBefore||(()=>!0))()===!1?!1:(C=c,x=F,!0),onStart:()=>{s(!0).forEach(ee=>ee()),(z.onStart??(()=>null))()},onFinish:()=>{s(!1).forEach(ee=>ee()),$=C,v=x,C=x=null,(z.onFinish??(()=>null))()}}},P=(L,V,F)=>{if(typeof L>"u"){const z=Array.from(F?.only??F?.validate??[]);u([...c,...z]).forEach(N=>N()),I(F??{});return}if(hM(V)&&!r){console.warn('Precognition file validation is not active. Call the "validateFiles" function on your form to enable it.');return}L=Ip(L),ya(v,L)!==V&&(u([L,...c]).forEach(z=>z()),I(F??{}))},O=L=>r===!1?JS(L):L,D={touched:()=>c,validate(L,V,F){return typeof L=="object"&&!("target"in L)&&(F=L,L=V=void 0),P(L,V,F),D},touch(L){const V=Array.isArray(L)?L:[Ip(L)];return u([...c,...V]).forEach(F=>F()),D},validating:()=>o,valid:l,errors:()=>d,hasErrors:m,setErrors(L){return f(L).forEach(V=>V()),D},forgetError(L){return p(L).forEach(V=>V()),D},defaults(L){return t=L,v=L,D},reset(...L){if(L.length===0)u([]).forEach(V=>V());else{const V=[...c];L.forEach(F=>{V.includes(F)&&V.splice(V.indexOf(F),1),Ga(v,F,ya(t,F))}),u(V).forEach(F=>F())}return D},setTimeout(L){return g(L),D},on(L,V){return n[L].push(V),D},validateFiles(){return r=!0,D},withoutFileValidation(){return r=!1,D}};return D},ibe=e=>Object.keys(e).reduce((t,n)=>({...t,[n]:Array.isArray(e[n])?e[n][0]:e[n]}),{}),lbe=e=>Object.keys(e).reduce((t,n)=>({...t,[n]:typeof e[n]=="string"?[e[n]]:e[n]}),{}),Ip=e=>typeof e!="string"?e.target.name:e,JS=e=>{const t={...e};return Object.keys(t).forEach(n=>{const r=t[n];if(r!==null){if(hM(r)){delete t[n];return}if(Array.isArray(r)){t[n]=Object.values(JS({...r}));return}if(typeof r=="object"){t[n]=JS(t[n]);return}}}),t};var ube={created(){if(!this.$options.remember)return;Array.isArray(this.$options.remember)&&(this.$options.remember={data:this.$options.remember}),typeof this.$options.remember=="string"&&(this.$options.remember={data:[this.$options.remember]}),typeof this.$options.remember.data=="string"&&(this.$options.remember={data:[this.$options.remember.data]});const e=this.$options.remember.key instanceof Function?this.$options.remember.key.call(this):this.$options.remember.key,t=Qe.restore(e),n=this.$options.remember.data.filter(o=>!(this[o]!==null&&typeof this[o]=="object"&&this[o].__rememberable===!1)),r=o=>this[o]!==null&&typeof this[o]=="object"&&typeof this[o].__remember=="function"&&typeof this[o].__restore=="function";n.forEach(o=>{this[o]!==void 0&&t!==void 0&&t[o]!==void 0&&(r(o)?this[o].__restore(t[o]):this[o]=t[o]),this.$watch(o,()=>{Qe.remember(n.reduce((s,a)=>({...s,[a]:Ar(r(a)?this[a].__remember():this[a])}),{}),e)},{immediate:!0,deep:!0})})}},cbe=ube;function Rt(...e){let{rememberKey:t,data:n,precognitionEndpoint:r}=B1.parseUseFormArguments(...e);const o=t?Qe.restore(t):null;let s=Ar(typeof n=="function"?n():n),a=null,i,l=p=>p,c=null,u=!1;const f=Pr({...o?o.data:Ar(s),isDirty:!1,errors:o?o.errors:{},hasErrors:!1,processing:!1,progress:null,wasSuccessful:!1,recentlySuccessful:!1,withPrecognition(...p){r=B1.createWayfinderCallback(...p);const m=this;let h=!1;const g=abe(x=>{const{method:$,url:C}=r(),M=Ar(l(this.data()));return x[$](C,M)},Ar(s));c=g,g.on("validatingChanged",()=>{m.validating=g.validating()}).on("validatedChanged",()=>{m.__valid=g.valid()}).on("touchedChanged",()=>{m.__touched=g.touched()}).on("errorsChanged",()=>{const x=h?g.errors():ibe(g.errors());this.errors={},this.setError(x),m.__valid=g.valid()});const v=(x,$)=>($(x),x);return Object.assign(m,{__touched:[],__valid:[],validating:!1,validator:()=>g,withAllErrors:()=>v(m,()=>h=!0),valid:x=>m.__valid.includes(x),invalid:x=>x in this.errors,setValidationTimeout:x=>v(m,()=>g.setTimeout(x)),validateFiles:()=>v(m,()=>g.validateFiles()),withoutFileValidation:()=>v(m,()=>g.withoutFileValidation()),touch:(x,...$)=>(Array.isArray(x)?g.touch(x):typeof x=="string"?g.touch([x,...$]):g.touch(x),m),touched:x=>typeof x=="string"?m.__touched.includes(x):m.__touched.length>0,validate:(x,$)=>{if(typeof x=="object"&&!("target"in x)&&($=x,x=void 0),x===void 0)g.validate($);else{const C=Ip(x),M=l(this.data());g.validate(C,ya(M,C),$)}return m},setErrors:x=>v(m,()=>this.setError(x)),forgetError:x=>v(m,()=>this.clearErrors(Ip(x)))}),m},data(){return Object.keys(s).reduce((p,m)=>Ga(p,m,ya(this,m)),{})},transform(p){return l=p,this},defaults(p,m){if(typeof n=="function")throw new Error("You cannot call `defaults()` when using a function to define your form data.");return u=!0,typeof p>"u"?(s=Ar(this.data()),this.isDirty=!1):s=typeof p=="string"?Ga(Ar(s),p,m):Object.assign({},Ar(s),p),c?.defaults(s),this},reset(...p){const m=Ar(typeof n=="function"?n():s),h=Ar(m);return p.length===0?(s=h,Object.assign(this,m)):p.filter(g=>sL(h,g)).forEach(g=>{Ga(s,g,ya(h,g)),Ga(this,g,ya(m,g))}),c?.reset(...p),this},setError(p,m){const h=typeof p=="string"?{[p]:m}:p;return Object.assign(this.errors,h),this.hasErrors=Object.keys(this.errors).length>0,c?.setErrors(h),this},clearErrors(...p){return this.errors=Object.keys(this.errors).reduce((m,h)=>({...m,...p.length>0&&!p.includes(h)?{[h]:this.errors[h]}:{}}),{}),this.hasErrors=Object.keys(this.errors).length>0,c&&(p.length===0?c.setErrors({}):p.forEach(c.forgetError)),this},resetAndClearErrors(...p){return this.reset(...p),this.clearErrors(...p),this},submit(...p){const{method:m,url:h,options:g}=B1.parseSubmitArguments(p,r);u=!1;const v={...g,onCancelToken:$=>{if(a=$,g.onCancelToken)return g.onCancelToken($)},onBefore:$=>{if(this.wasSuccessful=!1,this.recentlySuccessful=!1,clearTimeout(i),g.onBefore)return g.onBefore($)},onStart:$=>{if(this.processing=!0,g.onStart)return g.onStart($)},onProgress:$=>{if(this.progress=$??null,g.onProgress)return g.onProgress($)},onSuccess:async $=>{this.processing=!1,this.progress=null,this.clearErrors(),this.wasSuccessful=!0,this.recentlySuccessful=!0,i=setTimeout(()=>this.recentlySuccessful=!1,am.get("form.recentlySuccessfulDuration"));const C=g.onSuccess?await g.onSuccess($):null;return u||(s=Ar(this.data()),this.isDirty=!1),C},onError:$=>{if(this.processing=!1,this.progress=null,this.clearErrors().setError($),g.onError)return g.onError($)},onCancel:()=>{if(this.processing=!1,this.progress=null,g.onCancel)return g.onCancel()},onFinish:$=>{if(this.processing=!1,this.progress=null,a=null,g.onFinish)return g.onFinish($)}},x=l(this.data());m==="delete"?Qe.delete(h,{...v,data:x}):Qe[m](h,x,v)},get(p,m){this.submit("get",p,m)},post(p,m){this.submit("post",p,m)},put(p,m){this.submit("put",p,m)},patch(p,m){this.submit("patch",p,m)},delete(p,m){this.submit("delete",p,m)},cancel(){a&&a.cancel()},__rememberable:t===null,__remember(){return{data:this.data(),errors:this.errors}},__restore(p){Object.assign(this,p.data),this.setError(p.errors)}});return He(f,p=>{f.isDirty=!Wd(f.data(),s),t&&Qe.remember(Ar(p.__remember()),t)},{immediate:!0,deep:!0}),r?f.withPrecognition(r):f}var As=K(void 0),mr=K(),D1=yr(null),tv=K(void 0),YS,dbe=le({name:"Inertia",props:{initialPage:{type:Object,required:!0},initialComponent:{type:Object,required:!1},resolveComponent:{type:Function,required:!1},titleCallback:{type:Function,required:!1,default:e=>e},onHeadUpdate:{type:Function,required:!1,default:()=>()=>{}}},setup({initialPage:e,initialComponent:t,resolveComponent:n,titleCallback:r,onHeadUpdate:o}){As.value=t?Rd(t):void 0,mr.value={...e,flash:e.flash??{}},tv.value=void 0;const s=typeof window>"u";return YS=Fye(s,r||(a=>a),o||(()=>{})),s||(Qe.init({initialPage:e,resolveComponent:n,swapComponent:async a=>{As.value=Rd(a.component),mr.value=a.page,tv.value=a.preserveState?tv.value:Date.now()},onFlash:a=>{mr.value={...mr.value,flash:a}}}),Qe.on("navigate",()=>YS.forceUpdate())),()=>{if(As.value){As.value.inheritAttrs=!!As.value.inheritAttrs;const a=Or(As.value,{...mr.value.props,key:tv.value});return D1.value&&(As.value.layout=D1.value,D1.value=null),As.value.layout?typeof As.value.layout=="function"?As.value.layout(Or,a):(Array.isArray(As.value.layout)?As.value.layout:[As.value.layout]).concat(a).reverse().reduce((i,l)=>(l.inheritAttrs=!!l.inheritAttrs,Or(l,{...mr.value.props},()=>i))):a}}}}),$R=dbe,CR={install(e){Qe.form=Rt,Object.defineProperty(e.config.globalProperties,"$inertia",{get:()=>Qe}),Object.defineProperty(e.config.globalProperties,"$page",{get:()=>mr.value}),Object.defineProperty(e.config.globalProperties,"$headManager",{get:()=>YS}),e.mixin(cbe)}};function ai(){return Pr({props:H(()=>mr.value?.props),url:H(()=>mr.value?.url),component:H(()=>mr.value?.component),version:H(()=>mr.value?.version),clearHistory:H(()=>mr.value?.clearHistory),deferredProps:H(()=>mr.value?.deferredProps),mergeProps:H(()=>mr.value?.mergeProps),prependProps:H(()=>mr.value?.prependProps),deepMergeProps:H(()=>mr.value?.deepMergeProps),matchPropsOn:H(()=>mr.value?.matchPropsOn),rememberedState:H(()=>mr.value?.rememberedState),encryptHistory:H(()=>mr.value?.encryptHistory),flash:H(()=>mr.value?.flash)})}async function fbe({id:e="app",resolve:t,setup:n,title:r,progress:o={},page:s,render:a,defaults:i={}}){am.replace(i);const l=typeof window>"u",c=am.get("future.useScriptElementForInitialPage"),u=s||Dye(e,c),d=m=>Promise.resolve(t(m)).then(h=>h.default||h);let f=[];const p=await Promise.all([d(u.component),Qe.decryptHistory().catch(()=>{})]).then(([m])=>{const h={initialPage:u,initialComponent:m,resolveComponent:d,titleCallback:r};return n(l?{el:null,App:$R,props:{...h,onHeadUpdate:x=>f=x},plugin:CR}:{el:document.getElementById(e),App:$R,props:h,plugin:CR})});if(!l&&o&&Zye(o),l&&a){const m=()=>c?[Or("script",{"data-page":e,type:"application/json",innerHTML:JSON.stringify(u).replace(/\//g,"\\/")}),Or("div",{id:e,innerHTML:p?a(p):""})]:Or("div",{id:e,"data-page":JSON.stringify(u),innerHTML:p?a(p):""}),h=await a(GZ({render:()=>m()}));return{head:f,body:h}}}var Ba=()=>{},pbe=le({name:"Link",props:{as:{type:[String,Object],default:"a"},data:{type:Object,default:()=>({})},href:{type:[String,Object],default:""},method:{type:String,default:"get"},replace:{type:Boolean,default:!1},preserveScroll:{type:[Boolean,String,Function],default:!1},preserveState:{type:[Boolean,String,Function],default:null},preserveUrl:{type:Boolean,default:!1},only:{type:Array,default:()=>[]},except:{type:Array,default:()=>[]},headers:{type:Object,default:()=>({})},queryStringArrayFormat:{type:String,default:"brackets"},async:{type:Boolean,default:!1},prefetch:{type:[Boolean,String,Array],default:!1},cacheFor:{type:[Number,String,Array],default:0},onStart:{type:Function,default:Ba},onProgress:{type:Function,default:Ba},onFinish:{type:Function,default:Ba},onBefore:{type:Function,default:Ba},onCancel:{type:Function,default:Ba},onSuccess:{type:Function,default:Ba},onError:{type:Function,default:Ba},onCancelToken:{type:Function,default:Ba},onPrefetching:{type:Function,default:Ba},onPrefetched:{type:Function,default:Ba},cacheTags:{type:[String,Array],default:()=>[]},viewTransition:{type:[Boolean,Object],default:!1}},setup(e,{slots:t,attrs:n}){const r=K(0),o=K(),s=H(()=>e.prefetch===!0?["hover"]:e.prefetch===!1?[]:Array.isArray(e.prefetch)?e.prefetch:[e.prefetch]),a=H(()=>e.cacheFor!==0?e.cacheFor:s.value.length===1&&s.value[0]==="click"?0:am.get("prefetch.cacheFor"));wt(()=>{s.value.includes("mount")&&h()}),ar(()=>{clearTimeout(o.value)});const i=H(()=>Yd(e.href)?e.href.method:(e.method??"get").toLowerCase()),l=H(()=>typeof e.as!="string"||e.as.toLowerCase()!=="a"?e.as:i.value!=="get"?"button":e.as.toLowerCase()),c=H(()=>WL(i.value,Yd(e.href)?e.href.url:e.href,e.data||{},e.queryStringArrayFormat)),u=H(()=>c.value[0]),d=H(()=>c.value[1]),f=H(()=>l.value==="button"?{type:"button"}:l.value==="a"||typeof l.value!="string"?{href:u.value}:{}),p=H(()=>({data:d.value,method:i.value,replace:e.replace,preserveScroll:e.preserveScroll,preserveState:e.preserveState??i.value!=="get",preserveUrl:e.preserveUrl,only:e.only,except:e.except,headers:e.headers,async:e.async})),m=H(()=>({...p.value,viewTransition:e.viewTransition,onCancelToken:e.onCancelToken,onBefore:e.onBefore,onStart:$=>{r.value++,e.onStart?.($)},onProgress:e.onProgress,onFinish:$=>{r.value--,e.onFinish?.($)},onCancel:e.onCancel,onSuccess:e.onSuccess,onError:e.onError})),h=()=>{Qe.prefetch(u.value,{...p.value,onPrefetching:e.onPrefetching,onPrefetched:e.onPrefetched},{cacheFor:a.value,cacheTags:e.cacheTags})},g={onClick:$=>{ev($)&&($.preventDefault(),Qe.visit(u.value,m.value))}},v={onMouseenter:()=>{o.value=setTimeout(()=>{h()},am.get("prefetch.hoverDelay"))},onMouseleave:()=>{clearTimeout(o.value)},onClick:g.onClick},x={onMousedown:$=>{ev($)&&($.preventDefault(),h())},onKeydown:$=>{kR($)&&($.preventDefault(),h())},onMouseup:$=>{ev($)&&($.preventDefault(),Qe.visit(u.value,m.value))},onKeyup:$=>{kR($)&&($.preventDefault(),Qe.visit(u.value,m.value))},onClick:$=>{ev($)&&$.preventDefault()}};return()=>Or(l.value,{...n,...f.value,"data-loading":r.value>0?"":void 0,...s.value.includes("hover")?v:s.value.includes("click")?x:g},t)}}),mbe=pbe,am=_c.extend({});function QS(e,t={},n){for(const r in e){const o=e[r],s=n?`${n}:${r}`:r;typeof o=="object"&&o!==null?QS(o,t,s):typeof o=="function"&&(t[s]=o)}return t}const hbe={run:e=>e()},gbe=()=>hbe,ij=typeof console.createTask<"u"?console.createTask:gbe;function vbe(e,t){const n=t.shift(),r=ij(n);return e.reduce((o,s)=>o.then(()=>r.run(()=>s(...t))),Promise.resolve())}function ybe(e,t){const n=t.shift(),r=ij(n);return Promise.all(e.map(o=>r.run(()=>o(...t))))}function F1(e,t){for(const n of[...e])n(t)}class bbe{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(t,n,r={}){if(!t||typeof n!="function")return()=>{};const o=t;let s;for(;this._deprecatedHooks[t];)s=this._deprecatedHooks[t],t=s.to;if(s&&!r.allowDeprecated){let a=s.message;a||(a=`${o} hook has been deprecated`+(s.to?`, please use ${s.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(a)||(console.warn(a),this._deprecatedMessages.add(a))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+t.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[t]=this._hooks[t]||[],this._hooks[t].push(n),()=>{n&&(this.removeHook(t,n),n=void 0)}}hookOnce(t,n){let r,o=(...s)=>(typeof r=="function"&&r(),r=void 0,o=void 0,n(...s));return r=this.hook(t,o),r}removeHook(t,n){if(this._hooks[t]){const r=this._hooks[t].indexOf(n);r!==-1&&this._hooks[t].splice(r,1),this._hooks[t].length===0&&delete this._hooks[t]}}deprecateHook(t,n){this._deprecatedHooks[t]=typeof n=="string"?{to:n}:n;const r=this._hooks[t]||[];delete this._hooks[t];for(const o of r)this.hook(t,o)}deprecateHooks(t){Object.assign(this._deprecatedHooks,t);for(const n in t)this.deprecateHook(n,t[n])}addHooks(t){const n=QS(t),r=Object.keys(n).map(o=>this.hook(o,n[o]));return()=>{for(const o of r.splice(0,r.length))o()}}removeHooks(t){const n=QS(t);for(const r in n)this.removeHook(r,n[r])}removeAllHooks(){for(const t in this._hooks)delete this._hooks[t]}callHook(t,...n){return n.unshift(t),this.callHookWith(vbe,t,...n)}callHookParallel(t,...n){return n.unshift(t),this.callHookWith(ybe,t,...n)}callHookWith(t,n,...r){const o=this._before||this._after?{name:n,args:r,context:{}}:void 0;this._before&&F1(this._before,o);const s=t(n in this._hooks?[...this._hooks[n]]:[],r);return s instanceof Promise?s.finally(()=>{this._after&&o&&F1(this._after,o)}):(this._after&&o&&F1(this._after,o),s)}beforeEach(t){return this._before=this._before||[],this._before.push(t),()=>{if(this._before!==void 0){const n=this._before.indexOf(t);n!==-1&&this._before.splice(n,1)}}}afterEach(t){return this._after=this._after||[],this._after.push(t),()=>{if(this._after!==void 0){const n=this._after.indexOf(t);n!==-1&&this._after.splice(n,1)}}}}function lj(){return new bbe}const gM={ui:{colors:{primary:"green",secondary:"blue",success:"green",info:"blue",warning:"yellow",error:"red",neutral:"slate"},icons:{arrowDown:"i-lucide-arrow-down",arrowLeft:"i-lucide-arrow-left",arrowRight:"i-lucide-arrow-right",arrowUp:"i-lucide-arrow-up",caution:"i-lucide-circle-alert",check:"i-lucide-check",chevronDoubleLeft:"i-lucide-chevrons-left",chevronDoubleRight:"i-lucide-chevrons-right",chevronDown:"i-lucide-chevron-down",chevronLeft:"i-lucide-chevron-left",chevronRight:"i-lucide-chevron-right",chevronUp:"i-lucide-chevron-up",close:"i-lucide-x",copy:"i-lucide-copy",copyCheck:"i-lucide-copy-check",dark:"i-lucide-moon",drag:"i-lucide-grip-vertical",ellipsis:"i-lucide-ellipsis",error:"i-lucide-circle-x",external:"i-lucide-arrow-up-right",eye:"i-lucide-eye",eyeOff:"i-lucide-eye-off",file:"i-lucide-file",folder:"i-lucide-folder",folderOpen:"i-lucide-folder-open",hash:"i-lucide-hash",info:"i-lucide-info",light:"i-lucide-sun",loading:"i-lucide-loader-circle",menu:"i-lucide-menu",minus:"i-lucide-minus",panelClose:"i-lucide-panel-left-close",panelOpen:"i-lucide-panel-left-open",plus:"i-lucide-plus",reload:"i-lucide-rotate-ccw",search:"i-lucide-search",stop:"i-lucide-square",success:"i-lucide-circle-check",system:"i-lucide-monitor",tip:"i-lucide-lightbulb",upload:"i-lucide-upload",warning:"i-lucide-triangle-alert"},tv:{twMergeConfig:{}}},colorMode:!0},xbe=new Set(["link","style","script","noscript"]),wbe=new Set(["title","titleTemplate","script","style","noscript"]),MR=new Set(["base","meta","link","style","script","noscript"]),kbe=new Set(["title","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),_be=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),Sbe=new Set(["key","tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"]),$be=new Set(["templateParams","htmlAttrs","bodyAttrs"]),Cbe=new Set(["theme-color","google-site-verification","og","article","book","profile","twitter","author"]),Mbe=["name","property","http-equiv"],Abe=new Set(["viewport","description","keywords","robots"]);function uj(e){const t=e.split(":");return t.length?Cbe.has(t[1]):!1}function XS(e){const{props:t,tag:n}=e;if(_be.has(n))return n;if(n==="link"&&t.rel==="canonical")return"canonical";if(t.charset)return"charset";if(e.tag==="meta"){for(const r of Mbe)if(t[r]!==void 0){const o=t[r],s=o.includes(":"),a=Abe.has(o),l=!(s||a)&&e.key?`:key:${e.key}`:"";return`${n}:${o}${l}`}}if(e.key)return`${n}:key:${e.key}`;if(t.id)return`${n}:id:${t.id}`;if(wbe.has(n)){const r=e.textContent||e.innerHTML;if(r)return`${n}:content:${r}`}}function AR(e){const t=e._h||e._d;if(t)return t;const n=e.textContent||e.innerHTML;return n||`${e.tag}:${Object.entries(e.props).map(([r,o])=>`${r}:${String(o)}`).join(",")}`}function vb(e,t,n){typeof e==="function"&&(!n||n!=="titleTemplate"&&!(n[0]==="o"&&n[1]==="n"))&&(e=e());let o;if(t&&(o=t(n,e)),Array.isArray(o))return o.map(s=>vb(s,t));if(o?.constructor===Object){const s={};for(const a of Object.keys(o))s[a]=vb(o[a],t,a);return s}return o}function Tbe(e,t){const n=e==="style"?new Map:new Set;function r(o){const s=o.trim();if(s)if(e==="style"){const[a,...i]=s.split(":").map(l=>l.trim());a&&i.length&&n.set(a,i.join(":"))}else s.split(" ").filter(Boolean).forEach(a=>n.add(a))}return typeof t=="string"?e==="style"?t.split(";").forEach(r):r(t):Array.isArray(t)?t.forEach(o=>r(o)):t&&typeof t=="object"&&Object.entries(t).forEach(([o,s])=>{s&&s!=="false"&&(e==="style"?n.set(o.trim(),s):r(o))}),n}function cj(e,t){return e.props=e.props||{},t?e.tag==="templateParams"?(e.props=t,e):(Object.entries(t).forEach(([n,r])=>{if(r===null){e.props[n]=null;return}if(n==="class"||n==="style"){e.props[n]=Tbe(n,r);return}if(Sbe.has(n)){if(["textContent","innerHTML"].includes(n)&&typeof r=="object"){let a=t.type;if(t.type||(a="application/json"),!a?.endsWith("json")&&a!=="speculationrules")return;t.type=a,e.props.type=a,e[n]=JSON.stringify(r)}else e[n]=r;return}const o=String(r),s=n.startsWith("data-");o==="true"||o===""?e.props[n]=s?o:!0:!r&&s&&o==="false"?e.props[n]="false":r!==void 0&&(e.props[n]=r)}),e):e}function Ebe(e,t){const n=typeof t=="object"&&typeof t!="function"?t:{[e==="script"||e==="noscript"||e==="style"?"innerHTML":"textContent"]:t},r=cj({tag:e,props:{}},n);return r.key&&xbe.has(r.tag)&&(r.props["data-hid"]=r._h=r.key),r.tag==="script"&&typeof r.innerHTML=="object"&&(r.innerHTML=JSON.stringify(r.innerHTML),r.props.type=r.props.type||"application/json"),Array.isArray(r.props.content)?r.props.content.map(o=>({...r,props:{...r.props,content:o}})):r}function Ibe(e,t){if(!e)return[];typeof e=="function"&&(e=e());const n=(o,s)=>{for(let a=0;a<t.length;a++)s=t[a](o,s);return s};e=n(void 0,e);const r=[];return e=vb(e,n),Object.entries(e||{}).forEach(([o,s])=>{if(s!==void 0)for(const a of Array.isArray(s)?s:[s])r.push(Ebe(o,a))}),r.flat()}const TR=(e,t)=>e._w===t._w?e._p-t._p:e._w-t._w,ER={base:-10,title:10},Pbe={critical:-8,high:-1,low:2},IR={meta:{"content-security-policy":-30,charset:-20,viewport:-15},link:{preconnect:20,stylesheet:60,preload:70,modulepreload:70,prefetch:90,"dns-prefetch":90,prerender:90},script:{async:30,defer:80,sync:50},style:{imported:40,sync:60}},Obe=/@import/,tp=e=>e===""||e===!0;function Rbe(e,t){if(typeof t.tagPriority=="number")return t.tagPriority;let n=100;const r=Pbe[t.tagPriority]||0,o=e.resolvedOptions.disableCapoSorting?{link:{},script:{},style:{}}:IR;if(t.tag in ER)n=ER[t.tag];else if(t.tag==="meta"){const s=t.props["http-equiv"]==="content-security-policy"?"content-security-policy":t.props.charset?"charset":t.props.name==="viewport"?"viewport":null;s&&(n=IR.meta[s])}else t.tag==="link"&&t.props.rel?n=o.link[t.props.rel]:t.tag==="script"?tp(t.props.async)?n=o.script.async:t.props.src&&!tp(t.props.defer)&&!tp(t.props.async)&&t.props.type!=="module"&&!t.props.type?.endsWith("json")?n=o.script.sync:tp(t.props.defer)&&t.props.src&&!tp(t.props.async)&&(n=o.script.defer):t.tag==="style"&&(n=t.innerHTML&&Obe.test(t.innerHTML)?o.style.imported:o.style.sync);return(n||100)+r}function PR(e,t){const n=typeof t=="function"?t(e):t,r=n.key||String(e.plugins.size+1);e.plugins.get(r)||(e.plugins.set(r,n),e.hooks.addHooks(n.hooks||{}))}function Bbe(e={}){const t=lj();t.addHooks(e.hooks||{});const n=!e.document,r=new Map,o=new Map,s=new Set,a={_entryCount:1,plugins:o,dirty:!1,resolvedOptions:e,hooks:t,ssr:n,entries:r,headEntries(){return[...r.values()]},use:i=>PR(a,i),push(i,l){const c={...l||{}};delete c.head;const u=c._index??a._entryCount++,d={_i:u,input:i,options:c},f={_poll(p=!1){a.dirty=!0,!p&&s.add(u),t.callHook("entries:updated",a)},dispose(){r.delete(u)&&a.invalidate()},patch(p){(!c.mode||c.mode==="server"&&n||c.mode==="client"&&!n)&&(d.input=p,r.set(u,d),f._poll())}};return f.patch(i),f},async resolveTags(){const i={tagMap:new Map,tags:[],entries:[...a.entries.values()]};for(await t.callHook("entries:resolve",i);s.size;){const f=s.values().next().value;s.delete(f);const p=r.get(f);if(p){const m={tags:Ibe(p.input,e.propResolvers||[]).map(h=>Object.assign(h,p.options)),entry:p};await t.callHook("entries:normalize",m),p._tags=m.tags.map((h,g)=>(h._w=Rbe(a,h),h._p=(p._i<<10)+g,h._d=XS(h),h))}}let l=!1;i.entries.flatMap(f=>(f._tags||[]).map(p=>({...p,props:{...p.props}}))).sort(TR).reduce((f,p)=>{const m=String(p._d||p._p);if(!f.has(m))return f.set(m,p);const h=f.get(m);if((p?.tagDuplicateStrategy||($be.has(p.tag)?"merge":null)||(p.key&&p.key===h.key?"merge":null))==="merge"){const v={...h.props};Object.entries(p.props).forEach(([x,$])=>v[x]=x==="style"?new Map([...h.props.style||new Map,...$]):x==="class"?new Set([...h.props.class||new Set,...$]):$),f.set(m,{...p,props:v})}else p._p>>10===h._p>>10&&p.tag==="meta"&&uj(m)?(f.set(m,Object.assign([...Array.isArray(h)?h:[h],p],p)),l=!0):(p._w===h._w?p._p>h._p:p?._w<h?._w)&&f.set(m,p);return f},i.tagMap);const c=i.tagMap.get("title"),u=i.tagMap.get("titleTemplate");if(a._title=c?.textContent,u){const f=u?.textContent;if(a._titleTemplate=f,f){let p=typeof f=="function"?f(c?.textContent):f;typeof p=="string"&&!a.plugins.has("template-params")&&(p=p.replace("%s",c?.textContent||"")),c?p===null?i.tagMap.delete("title"):i.tagMap.set("title",{...c,textContent:p}):(u.tag="title",u.textContent=p)}}i.tags=Array.from(i.tagMap.values()),l&&(i.tags=i.tags.flat().sort(TR)),await t.callHook("tags:beforeResolve",i),await t.callHook("tags:resolve",i),await t.callHook("tags:afterResolve",i);const d=[];for(const f of i.tags){const{innerHTML:p,tag:m,props:h}=f;if(kbe.has(m)&&!(Object.keys(h).length===0&&!f.innerHTML&&!f.textContent)&&!(m==="meta"&&!h.content&&!h["http-equiv"]&&!h.charset)){if(m==="script"&&p){if(h.type?.endsWith("json")){const g=typeof p=="string"?p:JSON.stringify(p);f.innerHTML=g.replace(/</g,"\\u003C")}else typeof p=="string"&&(f.innerHTML=p.replace(new RegExp(`</${m}`,"g"),`<\\/${m}`));f._d=XS(f)}d.push(f)}}return d},invalidate(){for(const i of r.values())s.add(i._i);a.dirty=!0,t.callHook("entries:updated",a)}};return(e?.plugins||[]).forEach(i=>PR(a,i)),a.hooks.callHook("init",a),e.init?.forEach(i=>i&&a.push(i)),a}const Nbe=(e,t)=>Zt(t)?Ot(t):t,dj="usehead";function Dbe(e){return{install(n){n.config.globalProperties.$unhead=e,n.config.globalProperties.$head=e,n.provide(dj,e)}}.install}function Fbe(){if(uC()){const e=or(dj);if(!e)throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.");return e}throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.")}function qbe(e,t={}){const n=t.head||Fbe();return n.ssr?n.push(e||{},t):zbe(n,e,t)}function zbe(e,t,n={}){const r=K(!1);let o;return Cn(()=>{const a=r.value?{}:vb(t,Nbe);o?o.patch(a):o=e.push(a,n)}),ir()&&(Tc(()=>{o.dispose()}),mq(()=>{r.value=!0}),pq(()=>{r.value=!1})),o}const Lbe=Pr(gM),Bt=()=>Lbe,nv={meta:"",ctrl:"",alt:"",win:"",command:"",shift:"",control:"",option:"",enter:"",delete:"",backspace:"",escape:"Esc",tab:"",capslock:"",arrowup:"",arrowright:"",arrowdown:"",arrowleft:"",pageup:"",pagedown:"",home:"",end:""},jbe=()=>{const e=H(()=>navigator&&navigator.userAgent&&navigator.userAgent.match(/Macintosh;/)),t=Pr({meta:" ",alt:" ",ctrl:" "});wt(()=>{t.meta=e.value?nv.command:"Ctrl",t.ctrl=e.value?nv.control:"Ctrl",t.alt=e.value?nv.option:"Alt"});function n(r){if(r)return["meta","alt","ctrl"].includes(r)?t[r]:nv[r]||r}return{macOS:e,getKbdKey:n}},fj=WC(jbe),Vbe=/^[^-]+.*-.*[^-]+$/,Ube=/^[^_]+.*_.*[^_]+$/,OR=["arrowleft","arrowright","arrowup","arrowright","tab","escape","enter","backspace"];function q1(e){return/^[a-z]$/i.test(e)?`Key${e.toUpperCase()}`:/^\d$/.test(e)?`Digit${e}`:/^f\d+$/i.test(e)?e.toUpperCase():{space:"Space",enter:"Enter",escape:"Escape",tab:"Tab",backspace:"Backspace",delete:"Delete",arrowup:"ArrowUp",arrowdown:"ArrowDown",arrowleft:"ArrowLeft",arrowright:"ArrowRight"}[e.toLowerCase()]||e}function Kbe(e,t={}){const n=K([]),r=()=>{n.value.splice(0,n.value.length)},o=_h(r,t.chainDelay??800),{macOS:s}=fj(),a=Sce(),i=t.layoutIndependent??!1,l=OR.map(f=>q1(f)),c=f=>{if(!f.key)return;const p=i?/^Key[A-Z]$/i.test(f.code):/^[a-z]{1}$/i.test(f.key),m=i?l.includes(f.code):OR.includes(f.key.toLowerCase());let h;if(n.value.push(i?f.code:f.key),n.value.length>=2){h=n.value.slice(-2).join("-");for(const g of d.value.filter(v=>v.chained))if(g.key===h){g.enabled&&(f.preventDefault(),g.handler(f)),r();return}}for(const g of d.value.filter(v=>!v.chained)){if(i){if(f.code!==g.key)continue}else if(f.key.toLowerCase()!==g.key)continue;if(f.metaKey===g.metaKey&&f.ctrlKey===g.ctrlKey&&!((p||m)&&f.shiftKey!==g.shiftKey)){g.enabled&&(f.preventDefault(),g.handler(f)),r();return}}o()},u=H(()=>{const f=a.value?.tagName,p=a.value?.contentEditable;return f==="INPUT"||f==="TEXTAREA"||p==="true"||p==="plaintext-only"?a.value?.name||!0:!1}),d=H(()=>Object.entries(Ot(e)).map(([f,p])=>{if(!p)return null;let m;f.includes("-")&&f!=="-"&&!f.includes("_")&&!f.match(Vbe)?.length&&console.trace(`[Shortcut] Invalid key: "${f}"`),f.includes("_")&&f!=="_"&&!f.match(Ube)?.length&&console.trace(`[Shortcut] Invalid key: "${f}"`);const h=f.includes("-")&&f!=="-"&&!f.includes("_");if(h)i?m={key:f.split("-").map(x=>q1(x)).join("-"),metaKey:!1,ctrlKey:!1,shiftKey:!1,altKey:!1}:m={key:f.toLowerCase(),metaKey:!1,ctrlKey:!1,shiftKey:!1,altKey:!1};else{const v=f.toLowerCase().split("_").map($=>$);let x=v.filter($=>!["meta","command","ctrl","shift","alt","option"].includes($)).join("_");i&&(x=q1(x)),m={key:x,metaKey:v.includes("meta")||v.includes("command"),ctrlKey:v.includes("ctrl"),shiftKey:v.includes("shift"),altKey:v.includes("alt")||v.includes("option")}}if(m.chained=h,!s.value&&m.metaKey&&!m.ctrlKey&&(m.metaKey=!1,m.ctrlKey=!0),typeof p=="function"?m.handler=p:typeof p=="object"&&(m={...m,handler:p.handler}),!m.handler)return console.trace("[Shortcut] Invalid value"),null;let g=!0;return p.usingInput?typeof p.usingInput=="string"&&(g=u.value===p.usingInput):g=!u.value,m.enabled=g,m}).filter(Boolean));return Kd("keydown",c)}const Hbe=()=>{if(!gM.colorMode)return{forced:!0};const{store:e,system:t}=kx();return{get preference(){return e.value==="auto"?"system":e.value},set preference(n){e.value=n==="system"?"auto":n},get value(){return e.value==="auto"?t.value:e.value},forced:!1}},Wbe=(e,t={})=>{const n=K(t?.default?.()??null);return{value:n.value,get:()=>n.value,set:()=>{},update:()=>{},refresh:()=>Promise.resolve(n.value),remove:()=>{}}},z1={},Gbe=(e,t)=>{if(z1[e])return z1[e];const n=K(t());return z1[e]=n,n},RR=lj();function vM(){return{isHydrating:!0,payload:{serverRendered:!1},hooks:RR,hook:RR.hook}}function ZS(e,t){const r=vM().hook(e,t);oh(r)}function Jbe(e){return{install(t){t.runWithContext(()=>e({vueApp:t}))}}}const Ybe=()=>({fullPath:ai().url}),pj=Symbol("nuxt-ui.toast-max");function Ih(){const e=Gbe("toasts",()=>[]),t=or(pj,void 0),n=K(!1),r=[],o=()=>`${Date.now()}-${Math.random().toString(36).slice(2,9)}`;async function s(){if(!(n.value||r.length===0)){for(n.value=!0;r.length>0;){const u=r.shift();await St(),e.value=[...e.value,u].slice(-(t?.value??5))}n.value=!1}}function a(u){const d={id:o(),open:!0,...u};return r.push(d),s(),d}function i(u,d){const f=e.value.findIndex(p=>p.id===u);f!==-1&&(e.value[f]={...e.value[f],...d})}function l(u){const d=e.value.findIndex(f=>f.id===u);d!==-1&&(e.value[d]={...e.value[d],open:!1}),setTimeout(()=>{e.value=e.value.filter(f=>f.id!==u)},200)}function c(){e.value=[]}return{toasts:e,add:a,update:i,remove:l,clear:c}}var Qbe=/\s+/g,Xbe=e=>typeof e!="string"||!e?e:e.replace(Qbe," ").trim(),yb=(...e)=>{const t=[],n=r=>{if(!r&&r!==0&&r!==0n)return;if(Array.isArray(r)){for(let s=0,a=r.length;s<a;s++)n(r[s]);return}const o=typeof r;if(o==="string"||o==="number"||o==="bigint"){if(o==="number"&&r!==r)return;t.push(String(r))}else if(o==="object"){const s=Object.keys(r);for(let a=0,i=s.length;a<i;a++){const l=s[a];r[l]&&t.push(l)}}};for(let r=0,o=e.length;r<o;r++){const s=e[r];s!=null&&n(s)}return t.length>0?Xbe(t.join(" ")):void 0},BR=e=>e===!1?"false":e===!0?"true":e===0?"0":e,ds=e=>{if(!e||typeof e!="object")return!0;for(const t in e)return!1;return!0},Zbe=(e,t)=>{if(e===t)return!0;if(!e||!t)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++){const s=n[o];if(!r.includes(s)||e[s]!==t[s])return!1}return!0},e0e=(e,t)=>{for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];n in e?e[n]=yb(e[n],r):e[n]=r}return e},mj=(e,t)=>{for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)?mj(r,t):r&&t.push(r)}},hj=(...e)=>{const t=[];mj(e,t);const n=[];for(let r=0;r<t.length;r++)t[r]&&n.push(t[r]);return n},e$=(e,t)=>{const n={};for(const r in e){const o=e[r];if(r in t){const s=t[r];Array.isArray(o)||Array.isArray(s)?n[r]=hj(s,o):typeof o=="object"&&typeof s=="object"&&o&&s?n[r]=e$(o,s):n[r]=s+" "+o}else n[r]=o}for(const r in t)r in e||(n[r]=t[r]);return n},t0e={twMerge:!0,twMergeConfig:{}};function n0e(){let e=null,t={},n=!1;return{get cachedTwMerge(){return e},set cachedTwMerge(r){e=r},get cachedTwMergeConfig(){return t},set cachedTwMergeConfig(r){t=r},get didTwMergeConfigChange(){return n},set didTwMergeConfigChange(r){n=r},reset(){e=null,t={},n=!1}}}var Vi=n0e(),r0e=e=>{const t=(r,o)=>{const{extend:s=null,slots:a={},variants:i={},compoundVariants:l=[],compoundSlots:c=[],defaultVariants:u={}}=r,d={...t0e,...o},f=s?.base?yb(s.base,r?.base):r?.base,p=s?.variants&&!ds(s.variants)?e$(i,s.variants):i,m=s?.defaultVariants&&!ds(s.defaultVariants)?{...s.defaultVariants,...u}:u;!ds(d.twMergeConfig)&&!Zbe(d.twMergeConfig,Vi.cachedTwMergeConfig)&&(Vi.didTwMergeConfigChange=!0,Vi.cachedTwMergeConfig=d.twMergeConfig);const h=ds(s?.slots),g=ds(a)?{}:{base:yb(r?.base,h&&s?.base),...a},v=h?g:e0e({...s?.slots},ds(g)?{base:r?.base}:g),x=ds(s?.compoundVariants)?l:hj(s?.compoundVariants,l),$=M=>{if(ds(p)&&ds(a)&&h)return e(f,M?.class,M?.className)(d);if(x&&!Array.isArray(x))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof x}`);if(c&&!Array.isArray(c))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof c}`);const I=(z,N=p,ee=null,ne=null)=>{const Y=N[z];if(!Y||ds(Y))return null;const Re=ne?.[z]??M?.[z];if(Re===null)return null;const fe=BR(Re);if(typeof fe=="object")return null;const we=m?.[z],ue=fe??BR(we);return Y[ue||"false"]},E=()=>{if(!p)return null;const z=Object.keys(p),N=[];for(let ee=0;ee<z.length;ee++){const ne=I(z[ee],p);ne&&N.push(ne)}return N},P=(z,N)=>{if(!p||typeof p!="object")return null;const ee=[];for(const ne in p){const Y=I(ne,p,z,N),Re=z==="base"&&typeof Y=="string"?Y:Y&&Y[z];Re&&ee.push(Re)}return ee},O={};for(const z in M){const N=M[z];N!==void 0&&(O[z]=N)}const D=(z,N)=>{const ee=typeof M?.[z]=="object"?{[z]:M[z]?.initial}:{};return{...m,...O,...ee,...N}},L=(z=[],N)=>{const ee=[],ne=z.length;for(let Y=0;Y<ne;Y++){const{class:Re,className:fe,...we}=z[Y];let ue=!0;const Ne=D(null,N);for(const Xe in we){const st=we[Xe],it=Ne[Xe];if(Array.isArray(st)){if(!st.includes(it)){ue=!1;break}}else{if((st==null||st===!1)&&(it==null||it===!1))continue;if(it!==st){ue=!1;break}}}ue&&(Re&&ee.push(Re),fe&&ee.push(fe))}return ee},V=z=>{const N=L(x,z);if(!Array.isArray(N))return N;const ee={},ne=e;for(let Y=0;Y<N.length;Y++){const Re=N[Y];if(typeof Re=="string")ee.base=ne(ee.base,Re)(d);else if(typeof Re=="object")for(const fe in Re)ee[fe]=ne(ee[fe],Re[fe])(d)}return ee},F=z=>{if(c.length<1)return null;const N={},ee=D(null,z);for(let ne=0;ne<c.length;ne++){const{slots:Y=[],class:Re,className:fe,...we}=c[ne];if(!ds(we)){let ue=!0;for(const Ne in we){const Xe=ee[Ne],st=we[Ne];if(Xe===void 0||(Array.isArray(st)?!st.includes(Xe):st!==Xe)){ue=!1;break}}if(!ue)continue}for(let ue=0;ue<Y.length;ue++){const Ne=Y[ue];N[Ne]||(N[Ne]=[]),N[Ne].push([Re,fe])}}return N};if(!ds(a)||!h){const z={};if(typeof v=="object"&&!ds(v)){const N=e;for(const ee in v)z[ee]=ne=>{const Y=V(ne),Re=F(ne);return N(v[ee],P(ee,ne),Y?Y[ee]:void 0,Re?Re[ee]:void 0,ne?.class,ne?.className)(d)}}return z}return e(f,E(),L(x),M?.class,M?.className)(d)},C=()=>{if(!(!p||typeof p!="object"))return Object.keys(p)};return $.variantKeys=C(),$.extend=s,$.base=f,$.slots=v,$.variants=p,$.defaultVariants=m,$.compoundSlots=c,$.compoundVariants=x,$};return{tv:t,createTV:r=>(o,s)=>t(o,s?e$(r,s):r)}};const o0e=(e,t)=>{const n=new Array(e.length+t.length);for(let r=0;r<e.length;r++)n[r]=e[r];for(let r=0;r<t.length;r++)n[e.length+r]=t[r];return n},s0e=(e,t)=>({classGroupId:e,validator:t}),gj=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),bb="-",NR=[],a0e="arbitrary..",i0e=e=>{const t=u0e(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{if(a.startsWith("[")&&a.endsWith("]"))return l0e(a);const i=a.split(bb),l=i[0]===""&&i.length>1?1:0;return vj(i,l,t)},getConflictingClassGroupIds:(a,i)=>{if(i){const l=r[a],c=n[a];return l?c?o0e(c,l):l:c||NR}return n[a]||NR}}},vj=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const o=e[t],s=n.nextPart.get(o);if(s){const c=vj(e,t+1,s);if(c)return c}const a=n.validators;if(a===null)return;const i=t===0?e.join(bb):e.slice(t).join(bb),l=a.length;for(let c=0;c<l;c++){const u=a[c];if(u.validator(i))return u.classGroupId}},l0e=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),r=t.slice(0,n);return r?a0e+r:void 0})(),u0e=e=>{const{theme:t,classGroups:n}=e;return c0e(n,t)},c0e=(e,t)=>{const n=gj();for(const r in e){const o=e[r];yM(o,n,r,t)}return n},yM=(e,t,n,r)=>{const o=e.length;for(let s=0;s<o;s++){const a=e[s];d0e(a,t,n,r)}},d0e=(e,t,n,r)=>{if(typeof e=="string"){f0e(e,t,n);return}if(typeof e=="function"){p0e(e,t,n,r);return}m0e(e,t,n,r)},f0e=(e,t,n)=>{const r=e===""?t:yj(t,e);r.classGroupId=n},p0e=(e,t,n,r)=>{if(h0e(e)){yM(e(r),t,n,r);return}t.validators===null&&(t.validators=[]),t.validators.push(s0e(n,e))},m0e=(e,t,n,r)=>{const o=Object.entries(e),s=o.length;for(let a=0;a<s;a++){const[i,l]=o[a];yM(l,yj(t,i),n,r)}},yj=(e,t)=>{let n=e;const r=t.split(bb),o=r.length;for(let s=0;s<o;s++){const a=r[s];let i=n.nextPart.get(a);i||(i=gj(),n.nextPart.set(a,i)),n=i}return n},h0e=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,g0e=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),r=Object.create(null);const o=(s,a)=>{n[s]=a,t++,t>e&&(t=0,r=n,n=Object.create(null))};return{get(s){let a=n[s];if(a!==void 0)return a;if((a=r[s])!==void 0)return o(s,a),a},set(s,a){s in n?n[s]=a:o(s,a)}}},t$="!",DR=":",v0e=[],FR=(e,t,n,r,o)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:r,isExternal:o}),y0e=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=o=>{const s=[];let a=0,i=0,l=0,c;const u=o.length;for(let h=0;h<u;h++){const g=o[h];if(a===0&&i===0){if(g===DR){s.push(o.slice(l,h)),l=h+1;continue}if(g==="/"){c=h;continue}}g==="["?a++:g==="]"?a--:g==="("?i++:g===")"&&i--}const d=s.length===0?o:o.slice(l);let f=d,p=!1;d.endsWith(t$)?(f=d.slice(0,-1),p=!0):d.startsWith(t$)&&(f=d.slice(1),p=!0);const m=c&&c>l?c-l:void 0;return FR(s,p,f,m)};if(t){const o=t+DR,s=r;r=a=>a.startsWith(o)?s(a.slice(o.length)):FR(v0e,!1,a,void 0,!0)}if(n){const o=r;r=s=>n({className:s,parseClassName:o})}return r},b0e=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,r)=>{t.set(n,1e6+r)}),n=>{const r=[];let o=[];for(let s=0;s<n.length;s++){const a=n[s],i=a[0]==="[",l=t.has(a);i||l?(o.length>0&&(o.sort(),r.push(...o),o=[]),r.push(a)):o.push(a)}return o.length>0&&(o.sort(),r.push(...o)),r}},x0e=e=>({cache:g0e(e.cacheSize),parseClassName:y0e(e),sortModifiers:b0e(e),...i0e(e)}),w0e=/\s+/,k0e=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:s}=t,a=[],i=e.trim().split(w0e);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{isExternal:d,modifiers:f,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:h}=n(u);if(d){l=u+(l.length>0?" "+l:l);continue}let g=!!h,v=r(g?m.substring(0,h):m);if(!v){if(!g){l=u+(l.length>0?" "+l:l);continue}if(v=r(m),!v){l=u+(l.length>0?" "+l:l);continue}g=!1}const x=f.length===0?"":f.length===1?f[0]:s(f).join(":"),$=p?x+t$:x,C=$+v;if(a.indexOf(C)>-1)continue;a.push(C);const M=o(v,g);for(let I=0;I<M.length;++I){const E=M[I];a.push($+E)}l=u+(l.length>0?" "+l:l)}return l},_0e=(...e)=>{let t=0,n,r,o="";for(;t<e.length;)(n=e[t++])&&(r=bj(n))&&(o&&(o+=" "),o+=r);return o},bj=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=bj(e[r]))&&(n&&(n+=" "),n+=t);return n},n$=(e,...t)=>{let n,r,o,s;const a=l=>{const c=t.reduce((u,d)=>d(u),e());return n=x0e(c),r=n.cache.get,o=n.cache.set,s=i,i(l)},i=l=>{const c=r(l);if(c)return c;const u=k0e(l,n);return o(l,u),u};return s=a,(...l)=>s(_0e(...l))},S0e=[],_r=e=>{const t=n=>n[e]||S0e;return t.isThemeGetter=!0,t},xj=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,wj=/^\((?:(\w[\w-]*):)?(.+)\)$/i,$0e=/^\d+\/\d+$/,C0e=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,M0e=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,A0e=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,T0e=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,E0e=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,pd=e=>$0e.test(e),Yt=e=>!!e&&!Number.isNaN(Number(e)),_l=e=>!!e&&Number.isInteger(Number(e)),L1=e=>e.endsWith("%")&&Yt(e.slice(0,-1)),Bi=e=>C0e.test(e),I0e=()=>!0,P0e=e=>M0e.test(e)&&!A0e.test(e),kj=()=>!1,O0e=e=>T0e.test(e),R0e=e=>E0e.test(e),B0e=e=>!dt(e)&&!ft(e),N0e=e=>yf(e,$j,kj),dt=e=>xj.test(e),Ru=e=>yf(e,Cj,P0e),j1=e=>yf(e,L0e,Yt),qR=e=>yf(e,_j,kj),D0e=e=>yf(e,Sj,R0e),rv=e=>yf(e,Mj,O0e),ft=e=>wj.test(e),np=e=>bf(e,Cj),F0e=e=>bf(e,j0e),zR=e=>bf(e,_j),q0e=e=>bf(e,$j),z0e=e=>bf(e,Sj),ov=e=>bf(e,Mj,!0),yf=(e,t,n)=>{const r=xj.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},bf=(e,t,n=!1)=>{const r=wj.exec(e);return r?r[1]?t(r[1]):n:!1},_j=e=>e==="position"||e==="percentage",Sj=e=>e==="image"||e==="url",$j=e=>e==="length"||e==="size"||e==="bg-size",Cj=e=>e==="length",L0e=e=>e==="number",j0e=e=>e==="family-name",Mj=e=>e==="shadow",r$=()=>{const e=_r("color"),t=_r("font"),n=_r("text"),r=_r("font-weight"),o=_r("tracking"),s=_r("leading"),a=_r("breakpoint"),i=_r("container"),l=_r("spacing"),c=_r("radius"),u=_r("shadow"),d=_r("inset-shadow"),f=_r("text-shadow"),p=_r("drop-shadow"),m=_r("blur"),h=_r("perspective"),g=_r("aspect"),v=_r("ease"),x=_r("animate"),$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],C=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],M=()=>[...C(),ft,dt],I=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto","contain","none"],P=()=>[ft,dt,l],O=()=>[pd,"full","auto",...P()],D=()=>[_l,"none","subgrid",ft,dt],L=()=>["auto",{span:["full",_l,ft,dt]},_l,ft,dt],V=()=>[_l,"auto",ft,dt],F=()=>["auto","min","max","fr",ft,dt],z=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],N=()=>["start","end","center","stretch","center-safe","end-safe"],ee=()=>["auto",...P()],ne=()=>[pd,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...P()],Y=()=>[e,ft,dt],Re=()=>[...C(),zR,qR,{position:[ft,dt]}],fe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],we=()=>["auto","cover","contain",q0e,N0e,{size:[ft,dt]}],ue=()=>[L1,np,Ru],Ne=()=>["","none","full",c,ft,dt],Xe=()=>["",Yt,np,Ru],st=()=>["solid","dashed","dotted","double"],it=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ce=()=>[Yt,L1,zR,qR],ve=()=>["","none",m,ft,dt],Ae=()=>["none",Yt,ft,dt],pe=()=>["none",Yt,ft,dt],et=()=>[Yt,ft,dt],kt=()=>[pd,"full",...P()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Bi],breakpoint:[Bi],color:[I0e],container:[Bi],"drop-shadow":[Bi],ease:["in","out","in-out"],font:[B0e],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Bi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Bi],shadow:[Bi],spacing:["px",Yt],text:[Bi],"text-shadow":[Bi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",pd,dt,ft,g]}],container:["container"],columns:[{columns:[Yt,dt,ft,i]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:M()}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:O()}],"inset-x":[{"inset-x":O()}],"inset-y":[{"inset-y":O()}],start:[{start:O()}],end:[{end:O()}],top:[{top:O()}],right:[{right:O()}],bottom:[{bottom:O()}],left:[{left:O()}],visibility:["visible","invisible","collapse"],z:[{z:[_l,"auto",ft,dt]}],basis:[{basis:[pd,"full","auto",i,...P()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Yt,pd,"auto","initial","none",dt]}],grow:[{grow:["",Yt,ft,dt]}],shrink:[{shrink:["",Yt,ft,dt]}],order:[{order:[_l,"first","last","none",ft,dt]}],"grid-cols":[{"grid-cols":D()}],"col-start-end":[{col:L()}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":D()}],"row-start-end":[{row:L()}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":F()}],"auto-rows":[{"auto-rows":F()}],gap:[{gap:P()}],"gap-x":[{"gap-x":P()}],"gap-y":[{"gap-y":P()}],"justify-content":[{justify:[...z(),"normal"]}],"justify-items":[{"justify-items":[...N(),"normal"]}],"justify-self":[{"justify-self":["auto",...N()]}],"align-content":[{content:["normal",...z()]}],"align-items":[{items:[...N(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...N(),{baseline:["","last"]}]}],"place-content":[{"place-content":z()}],"place-items":[{"place-items":[...N(),"baseline"]}],"place-self":[{"place-self":["auto",...N()]}],p:[{p:P()}],px:[{px:P()}],py:[{py:P()}],ps:[{ps:P()}],pe:[{pe:P()}],pt:[{pt:P()}],pr:[{pr:P()}],pb:[{pb:P()}],pl:[{pl:P()}],m:[{m:ee()}],mx:[{mx:ee()}],my:[{my:ee()}],ms:[{ms:ee()}],me:[{me:ee()}],mt:[{mt:ee()}],mr:[{mr:ee()}],mb:[{mb:ee()}],ml:[{ml:ee()}],"space-x":[{"space-x":P()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":P()}],"space-y-reverse":["space-y-reverse"],size:[{size:ne()}],w:[{w:[i,"screen",...ne()]}],"min-w":[{"min-w":[i,"screen","none",...ne()]}],"max-w":[{"max-w":[i,"screen","none","prose",{screen:[a]},...ne()]}],h:[{h:["screen","lh",...ne()]}],"min-h":[{"min-h":["screen","lh","none",...ne()]}],"max-h":[{"max-h":["screen","lh",...ne()]}],"font-size":[{text:["base",n,np,Ru]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ft,j1]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",L1,dt]}],"font-family":[{font:[F0e,dt,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,ft,dt]}],"line-clamp":[{"line-clamp":[Yt,"none",ft,j1]}],leading:[{leading:[s,...P()]}],"list-image":[{"list-image":["none",ft,dt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ft,dt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Y()}],"text-color":[{text:Y()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...st(),"wavy"]}],"text-decoration-thickness":[{decoration:[Yt,"from-font","auto",ft,Ru]}],"text-decoration-color":[{decoration:Y()}],"underline-offset":[{"underline-offset":[Yt,"auto",ft,dt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ft,dt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ft,dt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Re()}],"bg-repeat":[{bg:fe()}],"bg-size":[{bg:we()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},_l,ft,dt],radial:["",ft,dt],conic:[_l,ft,dt]},z0e,D0e]}],"bg-color":[{bg:Y()}],"gradient-from-pos":[{from:ue()}],"gradient-via-pos":[{via:ue()}],"gradient-to-pos":[{to:ue()}],"gradient-from":[{from:Y()}],"gradient-via":[{via:Y()}],"gradient-to":[{to:Y()}],rounded:[{rounded:Ne()}],"rounded-s":[{"rounded-s":Ne()}],"rounded-e":[{"rounded-e":Ne()}],"rounded-t":[{"rounded-t":Ne()}],"rounded-r":[{"rounded-r":Ne()}],"rounded-b":[{"rounded-b":Ne()}],"rounded-l":[{"rounded-l":Ne()}],"rounded-ss":[{"rounded-ss":Ne()}],"rounded-se":[{"rounded-se":Ne()}],"rounded-ee":[{"rounded-ee":Ne()}],"rounded-es":[{"rounded-es":Ne()}],"rounded-tl":[{"rounded-tl":Ne()}],"rounded-tr":[{"rounded-tr":Ne()}],"rounded-br":[{"rounded-br":Ne()}],"rounded-bl":[{"rounded-bl":Ne()}],"border-w":[{border:Xe()}],"border-w-x":[{"border-x":Xe()}],"border-w-y":[{"border-y":Xe()}],"border-w-s":[{"border-s":Xe()}],"border-w-e":[{"border-e":Xe()}],"border-w-t":[{"border-t":Xe()}],"border-w-r":[{"border-r":Xe()}],"border-w-b":[{"border-b":Xe()}],"border-w-l":[{"border-l":Xe()}],"divide-x":[{"divide-x":Xe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Xe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...st(),"hidden","none"]}],"divide-style":[{divide:[...st(),"hidden","none"]}],"border-color":[{border:Y()}],"border-color-x":[{"border-x":Y()}],"border-color-y":[{"border-y":Y()}],"border-color-s":[{"border-s":Y()}],"border-color-e":[{"border-e":Y()}],"border-color-t":[{"border-t":Y()}],"border-color-r":[{"border-r":Y()}],"border-color-b":[{"border-b":Y()}],"border-color-l":[{"border-l":Y()}],"divide-color":[{divide:Y()}],"outline-style":[{outline:[...st(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Yt,ft,dt]}],"outline-w":[{outline:["",Yt,np,Ru]}],"outline-color":[{outline:Y()}],shadow:[{shadow:["","none",u,ov,rv]}],"shadow-color":[{shadow:Y()}],"inset-shadow":[{"inset-shadow":["none",d,ov,rv]}],"inset-shadow-color":[{"inset-shadow":Y()}],"ring-w":[{ring:Xe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Y()}],"ring-offset-w":[{"ring-offset":[Yt,Ru]}],"ring-offset-color":[{"ring-offset":Y()}],"inset-ring-w":[{"inset-ring":Xe()}],"inset-ring-color":[{"inset-ring":Y()}],"text-shadow":[{"text-shadow":["none",f,ov,rv]}],"text-shadow-color":[{"text-shadow":Y()}],opacity:[{opacity:[Yt,ft,dt]}],"mix-blend":[{"mix-blend":[...it(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":it()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Yt]}],"mask-image-linear-from-pos":[{"mask-linear-from":ce()}],"mask-image-linear-to-pos":[{"mask-linear-to":ce()}],"mask-image-linear-from-color":[{"mask-linear-from":Y()}],"mask-image-linear-to-color":[{"mask-linear-to":Y()}],"mask-image-t-from-pos":[{"mask-t-from":ce()}],"mask-image-t-to-pos":[{"mask-t-to":ce()}],"mask-image-t-from-color":[{"mask-t-from":Y()}],"mask-image-t-to-color":[{"mask-t-to":Y()}],"mask-image-r-from-pos":[{"mask-r-from":ce()}],"mask-image-r-to-pos":[{"mask-r-to":ce()}],"mask-image-r-from-color":[{"mask-r-from":Y()}],"mask-image-r-to-color":[{"mask-r-to":Y()}],"mask-image-b-from-pos":[{"mask-b-from":ce()}],"mask-image-b-to-pos":[{"mask-b-to":ce()}],"mask-image-b-from-color":[{"mask-b-from":Y()}],"mask-image-b-to-color":[{"mask-b-to":Y()}],"mask-image-l-from-pos":[{"mask-l-from":ce()}],"mask-image-l-to-pos":[{"mask-l-to":ce()}],"mask-image-l-from-color":[{"mask-l-from":Y()}],"mask-image-l-to-color":[{"mask-l-to":Y()}],"mask-image-x-from-pos":[{"mask-x-from":ce()}],"mask-image-x-to-pos":[{"mask-x-to":ce()}],"mask-image-x-from-color":[{"mask-x-from":Y()}],"mask-image-x-to-color":[{"mask-x-to":Y()}],"mask-image-y-from-pos":[{"mask-y-from":ce()}],"mask-image-y-to-pos":[{"mask-y-to":ce()}],"mask-image-y-from-color":[{"mask-y-from":Y()}],"mask-image-y-to-color":[{"mask-y-to":Y()}],"mask-image-radial":[{"mask-radial":[ft,dt]}],"mask-image-radial-from-pos":[{"mask-radial-from":ce()}],"mask-image-radial-to-pos":[{"mask-radial-to":ce()}],"mask-image-radial-from-color":[{"mask-radial-from":Y()}],"mask-image-radial-to-color":[{"mask-radial-to":Y()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":C()}],"mask-image-conic-pos":[{"mask-conic":[Yt]}],"mask-image-conic-from-pos":[{"mask-conic-from":ce()}],"mask-image-conic-to-pos":[{"mask-conic-to":ce()}],"mask-image-conic-from-color":[{"mask-conic-from":Y()}],"mask-image-conic-to-color":[{"mask-conic-to":Y()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Re()}],"mask-repeat":[{mask:fe()}],"mask-size":[{mask:we()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ft,dt]}],filter:[{filter:["","none",ft,dt]}],blur:[{blur:ve()}],brightness:[{brightness:[Yt,ft,dt]}],contrast:[{contrast:[Yt,ft,dt]}],"drop-shadow":[{"drop-shadow":["","none",p,ov,rv]}],"drop-shadow-color":[{"drop-shadow":Y()}],grayscale:[{grayscale:["",Yt,ft,dt]}],"hue-rotate":[{"hue-rotate":[Yt,ft,dt]}],invert:[{invert:["",Yt,ft,dt]}],saturate:[{saturate:[Yt,ft,dt]}],sepia:[{sepia:["",Yt,ft,dt]}],"backdrop-filter":[{"backdrop-filter":["","none",ft,dt]}],"backdrop-blur":[{"backdrop-blur":ve()}],"backdrop-brightness":[{"backdrop-brightness":[Yt,ft,dt]}],"backdrop-contrast":[{"backdrop-contrast":[Yt,ft,dt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Yt,ft,dt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Yt,ft,dt]}],"backdrop-invert":[{"backdrop-invert":["",Yt,ft,dt]}],"backdrop-opacity":[{"backdrop-opacity":[Yt,ft,dt]}],"backdrop-saturate":[{"backdrop-saturate":[Yt,ft,dt]}],"backdrop-sepia":[{"backdrop-sepia":["",Yt,ft,dt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":P()}],"border-spacing-x":[{"border-spacing-x":P()}],"border-spacing-y":[{"border-spacing-y":P()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ft,dt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Yt,"initial",ft,dt]}],ease:[{ease:["linear","initial",v,ft,dt]}],delay:[{delay:[Yt,ft,dt]}],animate:[{animate:["none",x,ft,dt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[h,ft,dt]}],"perspective-origin":[{"perspective-origin":M()}],rotate:[{rotate:Ae()}],"rotate-x":[{"rotate-x":Ae()}],"rotate-y":[{"rotate-y":Ae()}],"rotate-z":[{"rotate-z":Ae()}],scale:[{scale:pe()}],"scale-x":[{"scale-x":pe()}],"scale-y":[{"scale-y":pe()}],"scale-z":[{"scale-z":pe()}],"scale-3d":["scale-3d"],skew:[{skew:et()}],"skew-x":[{"skew-x":et()}],"skew-y":[{"skew-y":et()}],transform:[{transform:[ft,dt,"","none","gpu","cpu"]}],"transform-origin":[{origin:M()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:kt()}],"translate-x":[{"translate-x":kt()}],"translate-y":[{"translate-y":kt()}],"translate-z":[{"translate-z":kt()}],"translate-none":["translate-none"],accent:[{accent:Y()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Y()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ft,dt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ft,dt]}],fill:[{fill:["none",...Y()]}],"stroke-w":[{stroke:[Yt,np,Ru,j1]}],stroke:[{stroke:["none",...Y()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},V0e=(e,{cacheSize:t,prefix:n,experimentalParseClassName:r,extend:o={},override:s={}})=>(fp(e,"cacheSize",t),fp(e,"prefix",n),fp(e,"experimentalParseClassName",r),sv(e.theme,s.theme),sv(e.classGroups,s.classGroups),sv(e.conflictingClassGroups,s.conflictingClassGroups),sv(e.conflictingClassGroupModifiers,s.conflictingClassGroupModifiers),fp(e,"orderSensitiveModifiers",s.orderSensitiveModifiers),av(e.theme,o.theme),av(e.classGroups,o.classGroups),av(e.conflictingClassGroups,o.conflictingClassGroups),av(e.conflictingClassGroupModifiers,o.conflictingClassGroupModifiers),Aj(e,o,"orderSensitiveModifiers"),e),fp=(e,t,n)=>{n!==void 0&&(e[t]=n)},sv=(e,t)=>{if(t)for(const n in t)fp(e,n,t[n])},av=(e,t)=>{if(t)for(const n in t)Aj(e,t,n)},Aj=(e,t,n)=>{const r=t[n];r!==void 0&&(e[n]=e[n]?e[n].concat(r):r)},U0e=(e,...t)=>typeof e=="function"?n$(r$,e,...t):n$(()=>V0e(r$(),e),...t),K0e=n$(r$);var H0e=e=>ds(e)?K0e:U0e({...e,extend:{theme:e.theme,classGroups:e.classGroups,conflictingClassGroupModifiers:e.conflictingClassGroupModifiers,conflictingClassGroups:e.conflictingClassGroups,...e.extend}}),W0e=(e,t)=>{const n=yb(e);return!n||!(t?.twMerge??!0)?n:((!Vi.cachedTwMerge||Vi.didTwMergeConfigChange)&&(Vi.didTwMergeConfigChange=!1,Vi.cachedTwMerge=H0e(Vi.cachedTwMergeConfig)),Vi.cachedTwMerge(n)||void 0)},G0e=(...e)=>t=>W0e(e,t),{createTV:J0e}=r0e(G0e);const Y0e=gM,Ye=J0e(Y0e.ui?.tv),Tj=/^[a-z0-9]+(-[a-z0-9]+)*$/,qx=(e,t,n,r="")=>{const o=e.split(":");if(e.slice(0,1)==="@"){if(o.length<2||o.length>3)return null;r=o.shift().slice(1)}if(o.length>3||!o.length)return null;if(o.length>1){const i=o.pop(),l=o.pop(),c={provider:o.length>0?o[0]:r,prefix:l,name:i};return t&&!by(c)?null:c}const s=o[0],a=s.split("-");if(a.length>1){const i={provider:r,prefix:a.shift(),name:a.join("-")};return t&&!by(i)?null:i}if(n&&r===""){const i={provider:r,prefix:"",name:s};return t&&!by(i,n)?null:i}return null},by=(e,t)=>e?!!((t&&e.prefix===""||e.prefix)&&e.name):!1,Ej=Object.freeze({left:0,top:0,width:16,height:16}),xb=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),zx=Object.freeze({...Ej,...xb}),o$=Object.freeze({...zx,body:"",hidden:!1});function Q0e(e,t){const n={};!e.hFlip!=!t.hFlip&&(n.hFlip=!0),!e.vFlip!=!t.vFlip&&(n.vFlip=!0);const r=((e.rotate||0)+(t.rotate||0))%4;return r&&(n.rotate=r),n}function LR(e,t){const n=Q0e(e,t);for(const r in o$)r in xb?r in e&&!(r in n)&&(n[r]=xb[r]):r in t?n[r]=t[r]:r in e&&(n[r]=e[r]);return n}function X0e(e,t){const n=e.icons,r=e.aliases||Object.create(null),o=Object.create(null);function s(a){if(n[a])return o[a]=[];if(!(a in o)){o[a]=null;const i=r[a]&&r[a].parent,l=i&&s(i);l&&(o[a]=[i].concat(l))}return o[a]}return Object.keys(n).concat(Object.keys(r)).forEach(s),o}function Z0e(e,t,n){const r=e.icons,o=e.aliases||Object.create(null);let s={};function a(i){s=LR(r[i]||o[i],s)}return a(t),n.forEach(a),LR(e,s)}function Ij(e,t){const n=[];if(typeof e!="object"||typeof e.icons!="object")return n;e.not_found instanceof Array&&e.not_found.forEach(o=>{t(o,null),n.push(o)});const r=X0e(e);for(const o in r){const s=r[o];s&&(t(o,Z0e(e,o,s)),n.push(o))}return n}const exe={provider:"",aliases:{},not_found:{},...Ej};function V1(e,t){for(const n in t)if(n in e&&typeof e[n]!=typeof t[n])return!1;return!0}function Pj(e){if(typeof e!="object"||e===null)return null;const t=e;if(typeof t.prefix!="string"||!e.icons||typeof e.icons!="object"||!V1(e,exe))return null;const n=t.icons;for(const o in n){const s=n[o];if(!o||typeof s.body!="string"||!V1(s,o$))return null}const r=t.aliases||Object.create(null);for(const o in r){const s=r[o],a=s.parent;if(!o||typeof a!="string"||!n[a]&&!r[a]||!V1(s,o$))return null}return t}const jR=Object.create(null);function txe(e,t){return{provider:e,prefix:t,icons:Object.create(null),missing:new Set}}function Qd(e,t){const n=jR[e]||(jR[e]=Object.create(null));return n[t]||(n[t]=txe(e,t))}function Oj(e,t){return Pj(t)?Ij(t,(n,r)=>{r?e.icons[n]=r:e.missing.add(n)}):[]}function nxe(e,t,n){try{if(typeof n.body=="string")return e.icons[t]={...n},!0}catch{}return!1}let im=!1;function Rj(e){return typeof e=="boolean"&&(im=e),im}function rxe(e){const t=typeof e=="string"?qx(e,!0,im):e;if(t){const n=Qd(t.provider,t.prefix),r=t.name;return n.icons[r]||(n.missing.has(r)?null:void 0)}}function oxe(e,t){const n=qx(e,!0,im);if(!n)return!1;const r=Qd(n.provider,n.prefix);return t?nxe(r,n.name,t):(r.missing.add(n.name),!0)}function sxe(e,t){if(typeof e!="object")return!1;if(typeof t!="string"&&(t=e.provider||""),im&&!t&&!e.prefix){let o=!1;return Pj(e)&&(e.prefix="",Ij(e,(s,a)=>{oxe(s,a)&&(o=!0)})),o}const n=e.prefix;if(!by({prefix:n,name:"a"}))return!1;const r=Qd(t,n);return!!Oj(r,e)}const Bj=Object.freeze({width:null,height:null}),Nj=Object.freeze({...Bj,...xb}),axe=/(-?[0-9.]*[0-9]+[0-9.]*)/g,ixe=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function VR(e,t,n){if(t===1)return e;if(n=n||100,typeof e=="number")return Math.ceil(e*t*n)/n;if(typeof e!="string")return e;const r=e.split(axe);if(r===null||!r.length)return e;const o=[];let s=r.shift(),a=ixe.test(s);for(;;){if(a){const i=parseFloat(s);isNaN(i)?o.push(s):o.push(Math.ceil(i*t*n)/n)}else o.push(s);if(s=r.shift(),s===void 0)return o.join("");a=!a}}function lxe(e,t="defs"){let n="";const r=e.indexOf("<"+t);for(;r>=0;){const o=e.indexOf(">",r),s=e.indexOf("</"+t);if(o===-1||s===-1)break;const a=e.indexOf(">",s);if(a===-1)break;n+=e.slice(o+1,s).trim(),e=e.slice(0,r).trim()+e.slice(a+1)}return{defs:n,content:e}}function uxe(e,t){return e?"<defs>"+e+"</defs>"+t:t}function cxe(e,t,n){const r=lxe(e);return uxe(r.defs,t+r.content+n)}const dxe=e=>e==="unset"||e==="undefined"||e==="none";function fxe(e,t){const n={...zx,...e},r={...Nj,...t},o={left:n.left,top:n.top,width:n.width,height:n.height};let s=n.body;[n,r].forEach(h=>{const g=[],v=h.hFlip,x=h.vFlip;let $=h.rotate;v?x?$+=2:(g.push("translate("+(o.width+o.left).toString()+" "+(0-o.top).toString()+")"),g.push("scale(-1 1)"),o.top=o.left=0):x&&(g.push("translate("+(0-o.left).toString()+" "+(o.height+o.top).toString()+")"),g.push("scale(1 -1)"),o.top=o.left=0);let C;switch($<0&&($-=Math.floor($/4)*4),$=$%4,$){case 1:C=o.height/2+o.top,g.unshift("rotate(90 "+C.toString()+" "+C.toString()+")");break;case 2:g.unshift("rotate(180 "+(o.width/2+o.left).toString()+" "+(o.height/2+o.top).toString()+")");break;case 3:C=o.width/2+o.left,g.unshift("rotate(-90 "+C.toString()+" "+C.toString()+")");break}$%2===1&&(o.left!==o.top&&(C=o.left,o.left=o.top,o.top=C),o.width!==o.height&&(C=o.width,o.width=o.height,o.height=C)),g.length&&(s=cxe(s,'<g transform="'+g.join(" ")+'">',"</g>"))});const a=r.width,i=r.height,l=o.width,c=o.height;let u,d;a===null?(d=i===null?"1em":i==="auto"?c:i,u=VR(d,l/c)):(u=a==="auto"?l:a,d=i===null?VR(u,c/l):i==="auto"?c:i);const f={},p=(h,g)=>{dxe(g)||(f[h]=g.toString())};p("width",u),p("height",d);const m=[o.left,o.top,l,c];return f.viewBox=m.join(" "),{attributes:f,viewBox:m,body:s}}const pxe=/\sid="(\S+)"/g,mxe="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let hxe=0;function gxe(e,t=mxe){const n=[];let r;for(;r=pxe.exec(e);)n.push(r[1]);if(!n.length)return e;const o="suffix"+(Math.random()*16777216|Date.now()).toString(16);return n.forEach(s=>{const a=typeof t=="function"?t(s):t+(hxe++).toString(),i=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+i+')([")]|\\.[a-z])',"g"),"$1"+a+o+"$3")}),e=e.replace(new RegExp(o,"g"),""),e}const s$=Object.create(null);function vxe(e,t){s$[e]=t}function a$(e){return s$[e]||s$[""]}function bM(e){let t;if(typeof e.resources=="string")t=[e.resources];else if(t=e.resources,!(t instanceof Array)||!t.length)return null;return{resources:t,path:e.path||"/",maxURL:e.maxURL||500,rotate:e.rotate||750,timeout:e.timeout||5e3,random:e.random===!0,index:e.index||0,dataAfterTimeout:e.dataAfterTimeout!==!1}}const xM=Object.create(null),rp=["https://api.simplesvg.com","https://api.unisvg.com"],xy=[];for(;rp.length>0;)rp.length===1||Math.random()>.5?xy.push(rp.shift()):xy.push(rp.pop());xM[""]=bM({resources:["https://api.iconify.design"].concat(xy)});function yxe(e,t){const n=bM(t);return n===null?!1:(xM[e]=n,!0)}function wM(e){return xM[e]}const bxe=()=>{let e;try{if(e=fetch,typeof e=="function")return e}catch{}};let UR=bxe();function xxe(e,t){const n=wM(e);if(!n)return 0;let r;if(!n.maxURL)r=0;else{let o=0;n.resources.forEach(a=>{o=Math.max(o,a.length)});const s=t+".json?icons=";r=n.maxURL-o-n.path.length-s.length}return r}function wxe(e){return e===404}const kxe=(e,t,n)=>{const r=[],o=xxe(e,t),s="icons";let a={type:s,provider:e,prefix:t,icons:[]},i=0;return n.forEach((l,c)=>{i+=l.length+1,i>=o&&c>0&&(r.push(a),a={type:s,provider:e,prefix:t,icons:[]},i=l.length),a.icons.push(l)}),r.push(a),r};function _xe(e){if(typeof e=="string"){const t=wM(e);if(t)return t.path}return"/"}const Sxe=(e,t,n)=>{if(!UR){n("abort",424);return}let r=_xe(t.provider);switch(t.type){case"icons":{const s=t.prefix,i=t.icons.join(","),l=new URLSearchParams({icons:i});r+=s+".json?"+l.toString();break}case"custom":{const s=t.uri;r+=s.slice(0,1)==="/"?s.slice(1):s;break}default:n("abort",400);return}let o=503;UR(e+r).then(s=>{const a=s.status;if(a!==200){setTimeout(()=>{n(wxe(a)?"abort":"next",a)});return}return o=501,s.json()}).then(s=>{if(typeof s!="object"||s===null){setTimeout(()=>{s===404?n("abort",s):n("next",o)});return}setTimeout(()=>{n("success",s)})}).catch(()=>{n("next",o)})},$xe={prepare:kxe,send:Sxe};function Cxe(e){const t={loaded:[],missing:[],pending:[]},n=Object.create(null);e.sort((o,s)=>o.provider!==s.provider?o.provider.localeCompare(s.provider):o.prefix!==s.prefix?o.prefix.localeCompare(s.prefix):o.name.localeCompare(s.name));let r={provider:"",prefix:"",name:""};return e.forEach(o=>{if(r.name===o.name&&r.prefix===o.prefix&&r.provider===o.provider)return;r=o;const s=o.provider,a=o.prefix,i=o.name,l=n[s]||(n[s]=Object.create(null)),c=l[a]||(l[a]=Qd(s,a));let u;i in c.icons?u=t.loaded:a===""||c.missing.has(i)?u=t.missing:u=t.pending;const d={provider:s,prefix:a,name:i};u.push(d)}),t}function Dj(e,t){e.forEach(n=>{const r=n.loaderCallbacks;r&&(n.loaderCallbacks=r.filter(o=>o.id!==t))})}function Mxe(e){e.pendingCallbacksFlag||(e.pendingCallbacksFlag=!0,setTimeout(()=>{e.pendingCallbacksFlag=!1;const t=e.loaderCallbacks?e.loaderCallbacks.slice(0):[];if(!t.length)return;let n=!1;const r=e.provider,o=e.prefix;t.forEach(s=>{const a=s.icons,i=a.pending.length;a.pending=a.pending.filter(l=>{if(l.prefix!==o)return!0;const c=l.name;if(e.icons[c])a.loaded.push({provider:r,prefix:o,name:c});else if(e.missing.has(c))a.missing.push({provider:r,prefix:o,name:c});else return n=!0,!0;return!1}),a.pending.length!==i&&(n||Dj([e],s.id),s.callback(a.loaded.slice(0),a.missing.slice(0),a.pending.slice(0),s.abort))})}))}let Axe=0;function Txe(e,t,n){const r=Axe++,o=Dj.bind(null,n,r);if(!t.pending.length)return o;const s={id:r,icons:t,callback:e,abort:o};return n.forEach(a=>{(a.loaderCallbacks||(a.loaderCallbacks=[])).push(s)}),o}function Exe(e,t=!0,n=!1){const r=[];return e.forEach(o=>{const s=typeof o=="string"?qx(o,t,n):o;s&&r.push(s)}),r}var Ixe={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function Pxe(e,t,n,r){const o=e.resources.length,s=e.random?Math.floor(Math.random()*o):e.index;let a;if(e.random){let I=e.resources.slice(0);for(a=[];I.length>1;){const E=Math.floor(Math.random()*I.length);a.push(I[E]),I=I.slice(0,E).concat(I.slice(E+1))}a=a.concat(I)}else a=e.resources.slice(s).concat(e.resources.slice(0,s));const i=Date.now();let l="pending",c=0,u,d=null,f=[],p=[];typeof r=="function"&&p.push(r);function m(){d&&(clearTimeout(d),d=null)}function h(){l==="pending"&&(l="aborted"),m(),f.forEach(I=>{I.status==="pending"&&(I.status="aborted")}),f=[]}function g(I,E){E&&(p=[]),typeof I=="function"&&p.push(I)}function v(){return{startTime:i,payload:t,status:l,queriesSent:c,queriesPending:f.length,subscribe:g,abort:h}}function x(){l="failed",p.forEach(I=>{I(void 0,u)})}function $(){f.forEach(I=>{I.status==="pending"&&(I.status="aborted")}),f=[]}function C(I,E,P){const O=E!=="success";switch(f=f.filter(D=>D!==I),l){case"pending":break;case"failed":if(O||!e.dataAfterTimeout)return;break;default:return}if(E==="abort"){u=P,x();return}if(O){u=P,f.length||(a.length?M():x());return}if(m(),$(),!e.random){const D=e.resources.indexOf(I.resource);D!==-1&&D!==e.index&&(e.index=D)}l="completed",p.forEach(D=>{D(P)})}function M(){if(l!=="pending")return;m();const I=a.shift();if(I===void 0){if(f.length){d=setTimeout(()=>{m(),l==="pending"&&($(),x())},e.timeout);return}x();return}const E={status:"pending",resource:I,callback:(P,O)=>{C(E,P,O)}};f.push(E),c++,d=setTimeout(M,e.rotate),n(I,t,E.callback)}return setTimeout(M),v}function Fj(e){const t={...Ixe,...e};let n=[];function r(){n=n.filter(i=>i().status==="pending")}function o(i,l,c){const u=Pxe(t,i,l,(d,f)=>{r(),c&&c(d,f)});return n.push(u),u}function s(i){return n.find(l=>i(l))||null}return{query:o,find:s,setIndex:i=>{t.index=i},getIndex:()=>t.index,cleanup:r}}function KR(){}const U1=Object.create(null);function Oxe(e){if(!U1[e]){const t=wM(e);if(!t)return;const n=Fj(t),r={config:t,redundancy:n};U1[e]=r}return U1[e]}function Rxe(e,t,n){let r,o;if(typeof e=="string"){const s=a$(e);if(!s)return n(void 0,424),KR;o=s.send;const a=Oxe(e);a&&(r=a.redundancy)}else{const s=bM(e);if(s){r=Fj(s);const a=e.resources?e.resources[0]:"",i=a$(a);i&&(o=i.send)}}return!r||!o?(n(void 0,424),KR):r.query(t,o,n)().abort}function HR(){}function Bxe(e){e.iconsLoaderFlag||(e.iconsLoaderFlag=!0,setTimeout(()=>{e.iconsLoaderFlag=!1,Mxe(e)}))}function Nxe(e){const t=[],n=[];return e.forEach(r=>{(r.match(Tj)?t:n).push(r)}),{valid:t,invalid:n}}function op(e,t,n){function r(){const o=e.pendingIcons;t.forEach(s=>{o&&o.delete(s),e.icons[s]||e.missing.add(s)})}if(n&&typeof n=="object")try{if(!Oj(e,n).length){r();return}}catch(o){console.error(o)}r(),Bxe(e)}function WR(e,t){e instanceof Promise?e.then(n=>{t(n)}).catch(()=>{t(null)}):t(e)}function Dxe(e,t){e.iconsToLoad?e.iconsToLoad=e.iconsToLoad.concat(t).sort():e.iconsToLoad=t,e.iconsQueueFlag||(e.iconsQueueFlag=!0,setTimeout(()=>{e.iconsQueueFlag=!1;const{provider:n,prefix:r}=e,o=e.iconsToLoad;if(delete e.iconsToLoad,!o||!o.length)return;const s=e.loadIcon;if(e.loadIcons&&(o.length>1||!s)){WR(e.loadIcons(o,r,n),u=>{op(e,o,u)});return}if(s){o.forEach(u=>{const d=s(u,r,n);WR(d,f=>{const p=f?{prefix:r,icons:{[u]:f}}:null;op(e,[u],p)})});return}const{valid:a,invalid:i}=Nxe(o);if(i.length&&op(e,i,null),!a.length)return;const l=r.match(Tj)?a$(n):null;if(!l){op(e,a,null);return}l.prepare(n,r,a).forEach(u=>{Rxe(n,u,d=>{op(e,u.icons,d)})})}))}const Fxe=(e,t)=>{const n=Exe(e,!0,Rj()),r=Cxe(n);if(!r.pending.length){let l=!0;return t&&setTimeout(()=>{l&&t(r.loaded,r.missing,r.pending,HR)}),()=>{l=!1}}const o=Object.create(null),s=[];let a,i;return r.pending.forEach(l=>{const{provider:c,prefix:u}=l;if(u===i&&c===a)return;a=c,i=u,s.push(Qd(c,u));const d=o[c]||(o[c]=Object.create(null));d[u]||(d[u]=[])}),r.pending.forEach(l=>{const{provider:c,prefix:u,name:d}=l,f=Qd(c,u),p=f.pendingIcons||(f.pendingIcons=new Set);p.has(d)||(p.add(d),o[c][u].push(d))}),s.forEach(l=>{const c=o[l.provider][l.prefix];c.length&&Dxe(l,c)}),t?Txe(t,r,s):HR};function qxe(e,t){const n={...e};for(const r in t){const o=t[r],s=typeof o;r in Bj?(o===null||o&&(s==="string"||s==="number"))&&(n[r]=o):s===typeof n[r]&&(n[r]=r==="rotate"?o%4:o)}return n}const zxe=/[\s,]+/;function Lxe(e,t){t.split(zxe).forEach(n=>{switch(n.trim()){case"horizontal":e.hFlip=!0;break;case"vertical":e.vFlip=!0;break}})}function jxe(e,t=0){const n=e.replace(/^-?[0-9.]*/,"");function r(o){for(;o<0;)o+=4;return o%4}if(n===""){const o=parseInt(e);return isNaN(o)?0:r(o)}else if(n!==e){let o=0;switch(n){case"%":o=25;break;case"deg":o=90}if(o){let s=parseFloat(e.slice(0,e.length-n.length));return isNaN(s)?0:(s=s/o,s%1===0?r(s):0)}}return t}function Vxe(e,t){let n=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const r in t)n+=" "+r+'="'+t[r]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+e+"</svg>"}function Uxe(e){return e.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function Kxe(e){return"data:image/svg+xml,"+Uxe(e)}function Hxe(e){return'url("'+Kxe(e)+'")'}const GR={...Nj,inline:!1},Wxe={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},Gxe={display:"inline-block"},i$={backgroundColor:"currentColor"},qj={backgroundColor:"transparent"},JR={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},YR={webkitMask:i$,mask:i$,background:qj};for(const e in YR){const t=YR[e];for(const n in JR)t[e+n]=JR[n]}const wy={};["horizontal","vertical"].forEach(e=>{const t=e.slice(0,1)+"Flip";wy[e+"-flip"]=t,wy[e.slice(0,1)+"-flip"]=t,wy[e+"Flip"]=t});function QR(e){return e+(e.match(/^[-0-9.]+$/)?"px":"")}const XR=(e,t)=>{const n=qxe(GR,t),r={...Wxe},o=t.mode||"svg",s={},a=t.style,i=typeof a=="object"&&!(a instanceof Array)?a:{};for(let h in t){const g=t[h];if(g!==void 0)switch(h){case"icon":case"style":case"onLoad":case"mode":case"ssr":break;case"inline":case"hFlip":case"vFlip":n[h]=g===!0||g==="true"||g===1;break;case"flip":typeof g=="string"&&Lxe(n,g);break;case"color":s.color=g;break;case"rotate":typeof g=="string"?n[h]=jxe(g):typeof g=="number"&&(n[h]=g);break;case"ariaHidden":case"aria-hidden":g!==!0&&g!=="true"&&delete r["aria-hidden"];break;default:{const v=wy[h];v?(g===!0||g==="true"||g===1)&&(n[v]=!0):GR[h]===void 0&&(r[h]=g)}}}const l=fxe(e,n),c=l.attributes;if(n.inline&&(s.verticalAlign="-0.125em"),o==="svg"){r.style={...s,...i},Object.assign(r,c);let h=0,g=t.id;return typeof g=="string"&&(g=g.replace(/-/g,"_")),r.innerHTML=gxe(l.body,g?()=>g+"ID"+h++:"iconifyVue"),Or("svg",r)}const{body:u,width:d,height:f}=e,p=o==="mask"||(o==="bg"?!1:u.indexOf("currentColor")!==-1),m=Vxe(u,{...c,width:d+"",height:f+""});return r.style={...s,"--svg":Hxe(m),width:QR(c.width),height:QR(c.height),...Gxe,...p?i$:qj,...i},Or("span",r)};Rj(!0);vxe("",$xe);if(typeof document<"u"&&typeof window<"u"){const e=window;if(e.IconifyPreload!==void 0){const t=e.IconifyPreload,n="Invalid IconifyPreload syntax.";typeof t=="object"&&t!==null&&(t instanceof Array?t:[t]).forEach(r=>{try{(typeof r!="object"||r===null||r instanceof Array||typeof r.icons!="object"||typeof r.prefix!="string"||!sxe(r))&&console.error(n)}catch{console.error(n)}})}if(e.IconifyProviders!==void 0){const t=e.IconifyProviders;if(typeof t=="object"&&t!==null)for(let n in t){const r="IconifyProviders["+n+"] is invalid.";try{const o=t[n];if(typeof o!="object"||!o||o.resources===void 0)continue;yxe(n,o)||console.error(r)}catch{console.error(r)}}}}const Jxe={...zx,body:""},Yxe=le((e,{emit:t})=>{const n=K(null);function r(){n.value&&(n.value.abort?.(),n.value=null)}const o=K(!!e.ssr),s=K(""),a=yr(null);function i(){const c=e.icon;if(typeof c=="object"&&c!==null&&typeof c.body=="string")return s.value="",{data:c};let u;if(typeof c!="string"||(u=qx(c,!1,!0))===null)return null;let d=rxe(u);if(!d){const m=n.value;return(!m||m.name!==c)&&(d===null?n.value={name:c}:n.value={name:c,abort:Fxe([u],l)}),null}r(),s.value!==c&&(s.value=c,St(()=>{t("load",c)}));const f=e.customise;if(f){d=Object.assign({},d);const m=f(d.body,u.name,u.prefix,u.provider);typeof m=="string"&&(d.body=m)}const p=["iconify"];return u.prefix!==""&&p.push("iconify--"+u.prefix),u.provider!==""&&p.push("iconify--"+u.provider),{data:d,classes:p}}function l(){const c=i();c?c.data!==a.value?.data&&(a.value=c):a.value=null}return o.value?l():wt(()=>{o.value=!0,l()}),He(()=>e.icon,l),ar(r),()=>{const c=a.value;if(!c)return XR(Jxe,e);let u=e;return c.classes&&(u={...e,class:c.classes.join(" ")}),XR({...zx,...c.data},u)}},{props:["icon","mode","ssr","width","height","style","color","inline","rotate","hFlip","horizontalFlip","vFlip","verticalFlip","flip","id","ariaHidden","customise","title"],emits:["load"]}),tt={__name:"Icon",props:{name:{type:null,required:!0}},setup(e){return(t,n)=>typeof e.name=="string"?(A(),B(y(Yxe),{key:0,icon:e.name.replace(/^i-/,"")},null,8,["icon"])):(A(),B(Kn(e.name),{key:1}))}},Qxe="img",ZR=Symbol("nuxt-ui.avatar-group");function zj(e){const t=or(ZR,void 0),n=H(()=>e.size??t?.value.size);return Mo(ZR,H(()=>({size:n.value}))),{size:n}}const Xxe={slots:{root:"relative inline-flex items-center justify-center shrink-0",base:"rounded-full ring ring-bg flex items-center justify-center text-inverted font-medium whitespace-nowrap"},variants:{color:{primary:"bg-primary",secondary:"bg-secondary",success:"bg-success",info:"bg-info",warning:"bg-warning",error:"bg-error",neutral:"bg-inverted"},size:{"3xs":"h-[4px] min-w-[4px] text-[4px]","2xs":"h-[5px] min-w-[5px] text-[5px]",xs:"h-[6px] min-w-[6px] text-[6px]",sm:"h-[7px] min-w-[7px] text-[7px]",md:"h-[8px] min-w-[8px] text-[8px]",lg:"h-[9px] min-w-[9px] text-[9px]",xl:"h-[10px] min-w-[10px] text-[10px]","2xl":"h-[11px] min-w-[11px] text-[11px]","3xl":"h-[12px] min-w-[12px] text-[12px]"},position:{"top-right":"top-0 right-0","bottom-right":"bottom-0 right-0","top-left":"top-0 left-0","bottom-left":"bottom-0 left-0"},inset:{false:""},standalone:{false:"absolute"}},compoundVariants:[{position:"top-right",inset:!1,class:"-translate-y-1/2 translate-x-1/2 transform"},{position:"bottom-right",inset:!1,class:"translate-y-1/2 translate-x-1/2 transform"},{position:"top-left",inset:!1,class:"-translate-y-1/2 -translate-x-1/2 transform"},{position:"bottom-left",inset:!1,class:"translate-y-1/2 -translate-x-1/2 transform"}],defaultVariants:{size:"md",color:"primary",position:"top-right"}},Lx=Object.assign({inheritAttrs:!1},{__name:"Chip",props:bs({as:{type:null,required:!1},text:{type:[String,Number],required:!1},color:{type:null,required:!1},size:{type:null,required:!1},position:{type:null,required:!1},inset:{type:Boolean,required:!1,default:!1},standalone:{type:Boolean,required:!1,default:!1},class:{type:null,required:!1},ui:{type:null,required:!1}},{show:{type:Boolean,default:!0},showModifiers:{}}),emits:["update:show"],setup(e){const t=e,n=Yn(e,"show",{type:Boolean,default:!0}),{size:r}=zj(t),o=Bt(),s=H(()=>Ye({extend:Ye(Xxe),...o.ui?.chip||{}})({color:t.color,size:r.value,position:t.position,inset:t.inset,standalone:t.standalone}));return(a,i)=>(A(),B(y(Le),{as:e.as,"data-slot":"root",class:Z(s.value.root({class:[t.ui?.root,t.class]}))},{default:S(()=>[_(y(Yp),rt(ct(a.$attrs)),{default:S(()=>[U(a.$slots,"default")]),_:3},16),n.value?(A(),W("span",{key:0,"data-slot":"base",class:Z(s.value.base({class:t.ui?.base}))},[U(a.$slots,"content",{},()=>[J(q(e.text),1)])],2)):X("",!0)]),_:3},8,["as","class"]))}}),Zxe={slots:{root:"inline-flex items-center justify-center shrink-0 select-none rounded-full align-middle bg-elevated",image:"h-full w-full rounded-[inherit] object-cover",fallback:"font-medium leading-none text-muted truncate",icon:"text-muted shrink-0"},variants:{size:{"3xs":{root:"size-4 text-[8px]"},"2xs":{root:"size-5 text-[10px]"},xs:{root:"size-6 text-xs"},sm:{root:"size-7 text-sm"},md:{root:"size-8 text-base"},lg:{root:"size-9 text-lg"},xl:{root:"size-10 text-xl"},"2xl":{root:"size-11 text-[22px]"},"3xl":{root:"size-12 text-2xl"}}},defaultVariants:{size:"md"}},On=Object.assign({inheritAttrs:!1},{__name:"Avatar",props:{as:{type:null,required:!1},src:{type:String,required:!1},alt:{type:String,required:!1},icon:{type:null,required:!1},text:{type:String,required:!1},size:{type:null,required:!1},chip:{type:[Boolean,Object],required:!1},class:{type:null,required:!1},style:{type:null,required:!1},ui:{type:null,required:!1}},setup(e){const t=e,n=H(()=>typeof t.as=="string"||typeof t.as?.render=="function"?{root:t.as}:sr(t.as,{root:"span"})),r=H(()=>t.text||(t.alt||"").split(" ").map(u=>u.charAt(0)).join("").substring(0,2)),o=Bt(),{size:s}=zj(t),a=H(()=>Ye({extend:Ye(Zxe),...o.ui?.avatar||{}})({size:s.value})),i=H(()=>({"3xs":16,"2xs":20,xs:24,sm:28,md:32,lg:36,xl:40,"2xl":44,"3xl":48})[t.size||"md"]),l=K(!1);He(()=>t.src,()=>{l.value&&(l.value=!1)});function c(){l.value=!0}return(u,d)=>(A(),B(Kn(t.chip?Lx:y(Le)),oe({as:n.value.root},t.chip?typeof t.chip=="object"?{inset:!0,...t.chip}:{inset:!0}:{},{"data-slot":"root",class:a.value.root({class:[t.ui?.root,t.class]}),style:t.style}),{default:S(()=>[e.src&&!l.value?(A(),B(Kn(n.value.img||y(Qxe)),oe({key:0,src:e.src,alt:e.alt,width:i.value,height:i.value},u.$attrs,{"data-slot":"image",class:a.value.image({class:t.ui?.image}),onError:c}),null,16,["src","alt","width","height","class"])):(A(),B(y(Yp),rt(oe({key:1},u.$attrs)),{default:S(()=>[U(u.$slots,"default",{},()=>[e.icon?(A(),B(tt,{key:0,name:e.icon,"data-slot":"icon",class:Z(a.value.icon({class:t.ui?.icon}))},null,8,["name","class"])):(A(),W("span",{key:1,"data-slot":"fallback",class:Z(a.value.fallback({class:t.ui?.fallback}))},q(r.value||""),3))])]),_:3},16))]),_:3},16,["as","class","style"]))}});function xf(e){const t=Bt(),n=H(()=>Ot(e)),r=H(()=>n.value.icon&&n.value.leading||n.value.icon&&!n.value.trailing||n.value.loading&&!n.value.trailing||!!n.value.leadingIcon),o=H(()=>n.value.icon&&n.value.trailing||n.value.loading&&n.value.trailing||!!n.value.trailingIcon),s=H(()=>n.value.loading?n.value.loadingIcon||t.ui.icons.loading:n.value.leadingIcon||n.value.icon),a=H(()=>n.value.loading&&!r.value?n.value.loadingIcon||t.ui.icons.loading:n.value.trailingIcon||n.value.icon);return{isLeading:r,isTrailing:o,leadingIconName:s,trailingIconName:a}}const ewe=Symbol("nuxt-ui.field-group");function Ph(e){const t=or(ewe,void 0);return{orientation:H(()=>t?.value.orientation),size:H(()=>e?.size??t?.value.size)}}const Lj=Symbol("nuxt-ui.form-options"),l$=Symbol("nuxt-ui.form-events"),eB=Symbol("nuxt-ui.form-state"),u$=Symbol("nuxt-ui.form-field"),jj=Symbol("nuxt-ui.input-id"),Vj=Symbol("nuxt-ui.form-inputs"),Uj=Symbol("nuxt-ui.form-loading"),Kj=Symbol("nuxt-ui.form-errors");function jc(e,t){const n=or(Lj,void 0),r=or(l$,void 0),o=or(u$,void 0),s=or(jj,void 0);Mo(u$,void 0),o&&s&&(t?.bind===!1?s.value=void 0:e?.id&&(s.value=e?.id));function a(d,f,p){r&&o&&f&&r.emit({type:d,name:f,eager:p})}function i(){a("blur",o?.value.name)}function l(){a("focus",o?.value.name)}function c(){a("change",o?.value.name)}const u=_h(()=>{a("input",o?.value.name,!t?.deferInputValidation||o?.value.eagerValidation)},o?.value.validateOnInputDelay??n?.value.validateOnInputDelay??0);return{id:H(()=>e?.id??s?.value),name:H(()=>e?.name??o?.value.name),size:H(()=>e?.size??o?.value.size),color:H(()=>o?.value.error?"error":e?.color),highlight:H(()=>o?.value.error?!0:e?.highlight),disabled:H(()=>n?.value.disabled||e?.disabled),emitFormBlur:i,emitFormInput:u,emitFormChange:c,emitFormFocus:l,ariaAttrs:H(()=>{if(!o?.value)return;const d=["error","hint","description","help"].filter(p=>o?.value?.[p]).map(p=>`${o?.value.ariaId}-${p}`)||[],f={"aria-invalid":!!o?.value.error};return d.length>0&&(f["aria-describedby"]=d.join(" ")),f})}}const twe=["active","activeClass","ariaCurrentValue","as","disabled","download","exact","exactActiveClass","exactHash","exactQuery","external","form","formaction","formenctype","formmethod","formnovalidate","formtarget","href","hreflang","inactiveClass","media","noPrefetch","noRel","onClick","ping","prefetch","prefetchOn","prefetchedClass","referrerpolicy","rel","replace","target","title","to","trailingSlash","type","viewTransition"];function pc(e){const t=Object.keys(e),n=t.filter(s=>s.startsWith("aria-")),r=t.filter(s=>s.startsWith("data-")),o=[...twe,...n,...r];return Pn(e,...o)}const nwe=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,rwe=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,owe=/^([/\\]\s*){2,}[^/\\]/;function swe(e,t={}){return typeof t=="boolean"&&(t={acceptRelative:t}),t.strict?nwe.test(e):rwe.test(e)||(t.acceptRelative?owe.test(e):!1)}const Va=Object.assign({inheritAttrs:!1},{__name:"LinkBase",props:{as:{type:String,required:!1,default:"button"},type:{type:String,required:!1,default:"button"},disabled:{type:Boolean,required:!1},onClick:{type:[Function,Array],required:!1},href:{type:String,required:!1},target:{type:[String,Object,null],required:!1},rel:{type:[String,Object,null],required:!1},active:{type:Boolean,required:!1},isExternal:{type:Boolean,required:!1}},setup(e){const t=e;function n(r){if(t.disabled){r.stopPropagation(),r.preventDefault();return}if(t.onClick)for(const o of Array.isArray(t.onClick)?t.onClick:[t.onClick])o(r)}return(r,o)=>e.href&&!e.isExternal&&!e.disabled?(A(),B(y(mbe),oe({key:0,href:e.href},{rel:e.rel,target:e.target,...r.$attrs},{onClick:n}),{default:S(()=>[U(r.$slots,"default")]),_:3},16,["href"])):(A(),B(y(Le),oe({key:1},e.href?{as:"a",href:e.disabled?void 0:e.href,"aria-disabled":e.disabled?"true":void 0,role:e.disabled?"link":void 0,tabindex:e.disabled?-1:void 0,rel:e.rel,target:e.target,...r.$attrs}:e.as==="button"?{as:e.as,type:e.type,disabled:e.disabled,...r.$attrs}:{as:e.as,...r.$attrs},{onClick:n}),{default:S(()=>[U(r.$slots,"default")]),_:3},16))}}),awe={base:"focus-visible:outline-primary",variants:{active:{true:"text-primary",false:"text-muted"},disabled:{true:"cursor-not-allowed opacity-75"}},compoundVariants:[{active:!1,disabled:!1,class:["hover:text-default","transition-colors"]}]},Wi=Object.assign({inheritAttrs:!1},{__name:"Link",props:{as:{type:null,required:!1,default:"button"},activeClass:{type:String,required:!1},to:{type:String,required:!1},href:{type:String,required:!1},external:{type:Boolean,required:!1},target:{type:[String,Object,null],required:!1},rel:{type:[String,Object,null],required:!1},noRel:{type:Boolean,required:!1},ariaCurrentValue:{type:String,required:!1,default:"page"},type:{type:null,required:!1,default:"button"},disabled:{type:Boolean,required:!1},active:{type:Boolean,required:!1,default:void 0},exact:{type:Boolean,required:!1},inactiveClass:{type:String,required:!1},custom:{type:Boolean,required:!1},raw:{type:Boolean,required:!1},class:{type:null,required:!1},data:{type:null,required:!1},method:{type:String,required:!1},replace:{type:Boolean,required:!1},preserveScroll:{type:[Boolean,String,Function],required:!1},preserveState:{type:[Boolean,String,Function],required:!1},preserveUrl:{type:Boolean,required:!1},only:{type:Array,required:!1},except:{type:Array,required:!1},headers:{type:Object,required:!1},queryStringArrayFormat:{type:String,required:!1},async:{type:Boolean,required:!1},onBefore:{type:Function,required:!1},onBeforeUpdate:{type:Function,required:!1},onStart:{type:Function,required:!1},onProgress:{type:Function,required:!1},onFinish:{type:Function,required:!1},onCancel:{type:Function,required:!1},onSuccess:{type:Function,required:!1},onError:{type:Function,required:!1},onPrefetched:{type:Function,required:!1},onPrefetching:{type:Function,required:!1},onCancelToken:{type:Function,required:!1},prefetch:{type:[Boolean,String,Array],required:!1},cacheFor:{type:[Number,String,Array],required:!1},cacheTags:{type:[String,Array],required:!1}},setup(e){const t=e,n=ai(),r=Bt(),o=jn(kh(t,"as","type","disabled","active","exact","activeClass","inactiveClass","to","href","raw","custom","class","noRel")),s=H(()=>Ye({extend:Ye(awe),...sr({variants:{active:{true:ub(r.ui?.link?.variants?.active?.true,t.activeClass),false:ub(r.ui?.link?.variants?.active?.false,t.inactiveClass)}}},r.ui?.link||{})})),a=H(()=>t.to??t.href),i=H(()=>t.target==="_blank"||t.external?!0:a.value?typeof a.value=="string"&&swe(a.value,{acceptRelative:!0}):!1),l=H(()=>!!t.target&&t.target!=="_self"),c=H(()=>t.noRel?null:t.rel!==void 0?t.rel||null:i.value||l.value?"noopener noreferrer":null),u=H(()=>t.active!==void 0?t.active:a.value?!!(t.exact&&n.url===a.value||!t.exact&&n.url.startsWith(a.value)):!1),d=H(()=>{const f=u.value;return t.raw?[t.class,f?t.activeClass:t.inactiveClass]:s.value({class:t.class,active:f,disabled:t.disabled})});return(f,p)=>e.custom?U(f.$slots,"default",rt(oe({key:0},{...f.$attrs,...y(o),as:e.as,type:e.type,disabled:e.disabled,href:a.value,rel:c.value,target:e.target,active:u.value,isExternal:i.value}))):(A(),B(Va,oe({key:1},{...f.$attrs,...y(o),as:e.as,type:e.type,disabled:e.disabled,href:a.value,rel:c.value,target:e.target,isExternal:i.value},{class:d.value}),{default:S(()=>[U(f.$slots,"default",{active:u.value})]),_:3},16,["class"]))}}),iwe={slots:{base:["rounded-md font-medium inline-flex items-center disabled:cursor-not-allowed aria-disabled:cursor-not-allowed disabled:opacity-75 aria-disabled:opacity-75","transition-colors"],label:"truncate",leadingIcon:"shrink-0",leadingAvatar:"shrink-0",leadingAvatarSize:"",trailingIcon:"shrink-0"},variants:{fieldGroup:{horizontal:"not-only:first:rounded-e-none not-only:last:rounded-s-none not-last:not-first:rounded-none focus-visible:z-[1]",vertical:"not-only:first:rounded-b-none not-only:last:rounded-t-none not-last:not-first:rounded-none focus-visible:z-[1]"},color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},variant:{solid:"",outline:"",soft:"",subtle:"",ghost:"",link:""},size:{xs:{base:"px-2 py-1 text-xs gap-1",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4"},sm:{base:"px-2.5 py-1.5 text-xs gap-1.5",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4"},md:{base:"px-2.5 py-1.5 text-sm gap-1.5",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5"},lg:{base:"px-3 py-2 text-sm gap-2",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5"},xl:{base:"px-3 py-2 text-base gap-2",leadingIcon:"size-6",leadingAvatarSize:"xs",trailingIcon:"size-6"}},block:{true:{base:"w-full justify-center",trailingIcon:"ms-auto"}},square:{true:""},leading:{true:""},trailing:{true:""},loading:{true:""},active:{true:{base:""},false:{base:""}}},compoundVariants:[{color:"primary",variant:"solid",class:"text-inverted bg-primary hover:bg-primary/75 active:bg-primary/75 disabled:bg-primary aria-disabled:bg-primary focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary"},{color:"secondary",variant:"solid",class:"text-inverted bg-secondary hover:bg-secondary/75 active:bg-secondary/75 disabled:bg-secondary aria-disabled:bg-secondary focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-secondary"},{color:"success",variant:"solid",class:"text-inverted bg-success hover:bg-success/75 active:bg-success/75 disabled:bg-success aria-disabled:bg-success focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-success"},{color:"info",variant:"solid",class:"text-inverted bg-info hover:bg-info/75 active:bg-info/75 disabled:bg-info aria-disabled:bg-info focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-info"},{color:"warning",variant:"solid",class:"text-inverted bg-warning hover:bg-warning/75 active:bg-warning/75 disabled:bg-warning aria-disabled:bg-warning focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-warning"},{color:"error",variant:"solid",class:"text-inverted bg-error hover:bg-error/75 active:bg-error/75 disabled:bg-error aria-disabled:bg-error focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-error"},{color:"primary",variant:"outline",class:"ring ring-inset ring-primary/50 text-primary hover:bg-primary/10 active:bg-primary/10 disabled:bg-transparent aria-disabled:bg-transparent dark:disabled:bg-transparent dark:aria-disabled:bg-transparent focus:outline-none focus-visible:ring-2 focus-visible:ring-primary"},{color:"secondary",variant:"outline",class:"ring ring-inset ring-secondary/50 text-secondary hover:bg-secondary/10 active:bg-secondary/10 disabled:bg-transparent aria-disabled:bg-transparent dark:disabled:bg-transparent dark:aria-disabled:bg-transparent focus:outline-none focus-visible:ring-2 focus-visible:ring-secondary"},{color:"success",variant:"outline",class:"ring ring-inset ring-success/50 text-success hover:bg-success/10 active:bg-success/10 disabled:bg-transparent aria-disabled:bg-transparent dark:disabled:bg-transparent dark:aria-disabled:bg-transparent focus:outline-none focus-visible:ring-2 focus-visible:ring-success"},{color:"info",variant:"outline",class:"ring ring-inset ring-info/50 text-info hover:bg-info/10 active:bg-info/10 disabled:bg-transparent aria-disabled:bg-transparent dark:disabled:bg-transparent dark:aria-disabled:bg-transparent focus:outline-none focus-visible:ring-2 focus-visible:ring-info"},{color:"warning",variant:"outline",class:"ring ring-inset ring-warning/50 text-warning hover:bg-warning/10 active:bg-warning/10 disabled:bg-transparent aria-disabled:bg-transparent dark:disabled:bg-transparent dark:aria-disabled:bg-transparent focus:outline-none focus-visible:ring-2 focus-visible:ring-warning"},{color:"error",variant:"outline",class:"ring ring-inset ring-error/50 text-error hover:bg-error/10 active:bg-error/10 disabled:bg-transparent aria-disabled:bg-transparent dark:disabled:bg-transparent dark:aria-disabled:bg-transparent focus:outline-none focus-visible:ring-2 focus-visible:ring-error"},{color:"primary",variant:"soft",class:"text-primary bg-primary/10 hover:bg-primary/15 active:bg-primary/15 focus:outline-none focus-visible:bg-primary/15 disabled:bg-primary/10 aria-disabled:bg-primary/10"},{color:"secondary",variant:"soft",class:"text-secondary bg-secondary/10 hover:bg-secondary/15 active:bg-secondary/15 focus:outline-none focus-visible:bg-secondary/15 disabled:bg-secondary/10 aria-disabled:bg-secondary/10"},{color:"success",variant:"soft",class:"text-success bg-success/10 hover:bg-success/15 active:bg-success/15 focus:outline-none focus-visible:bg-success/15 disabled:bg-success/10 aria-disabled:bg-success/10"},{color:"info",variant:"soft",class:"text-info bg-info/10 hover:bg-info/15 active:bg-info/15 focus:outline-none focus-visible:bg-info/15 disabled:bg-info/10 aria-disabled:bg-info/10"},{color:"warning",variant:"soft",class:"text-warning bg-warning/10 hover:bg-warning/15 active:bg-warning/15 focus:outline-none focus-visible:bg-warning/15 disabled:bg-warning/10 aria-disabled:bg-warning/10"},{color:"error",variant:"soft",class:"text-error bg-error/10 hover:bg-error/15 active:bg-error/15 focus:outline-none focus-visible:bg-error/15 disabled:bg-error/10 aria-disabled:bg-error/10"},{color:"primary",variant:"subtle",class:"text-primary ring ring-inset ring-primary/25 bg-primary/10 hover:bg-primary/15 active:bg-primary/15 disabled:bg-primary/10 aria-disabled:bg-primary/10 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary"},{color:"secondary",variant:"subtle",class:"text-secondary ring ring-inset ring-secondary/25 bg-secondary/10 hover:bg-secondary/15 active:bg-secondary/15 disabled:bg-secondary/10 aria-disabled:bg-secondary/10 focus:outline-none focus-visible:ring-2 focus-visible:ring-secondary"},{color:"success",variant:"subtle",class:"text-success ring ring-inset ring-success/25 bg-success/10 hover:bg-success/15 active:bg-success/15 disabled:bg-success/10 aria-disabled:bg-success/10 focus:outline-none focus-visible:ring-2 focus-visible:ring-success"},{color:"info",variant:"subtle",class:"text-info ring ring-inset ring-info/25 bg-info/10 hover:bg-info/15 active:bg-info/15 disabled:bg-info/10 aria-disabled:bg-info/10 focus:outline-none focus-visible:ring-2 focus-visible:ring-info"},{color:"warning",variant:"subtle",class:"text-warning ring ring-inset ring-warning/25 bg-warning/10 hover:bg-warning/15 active:bg-warning/15 disabled:bg-warning/10 aria-disabled:bg-warning/10 focus:outline-none focus-visible:ring-2 focus-visible:ring-warning"},{color:"error",variant:"subtle",class:"text-error ring ring-inset ring-error/25 bg-error/10 hover:bg-error/15 active:bg-error/15 disabled:bg-error/10 aria-disabled:bg-error/10 focus:outline-none focus-visible:ring-2 focus-visible:ring-error"},{color:"primary",variant:"ghost",class:"text-primary hover:bg-primary/10 active:bg-primary/10 focus:outline-none focus-visible:bg-primary/10 disabled:bg-transparent aria-disabled:bg-transparent dark:disabled:bg-transparent dark:aria-disabled:bg-transparent"},{color:"secondary",variant:"ghost",class:"text-secondary hover:bg-secondary/10 active:bg-secondary/10 focus:outline-none focus-visible:bg-secondary/10 disabled:bg-transparent aria-disabled:bg-transparent dark:disabled:bg-transparent dark:aria-disabled:bg-transparent"},{color:"success",variant:"ghost",class:"text-success hover:bg-success/10 active:bg-success/10 focus:outline-none focus-visible:bg-success/10 disabled:bg-transparent aria-disabled:bg-transparent dark:disabled:bg-transparent dark:aria-disabled:bg-transparent"},{color:"info",variant:"ghost",class:"text-info hover:bg-info/10 active:bg-info/10 focus:outline-none focus-visible:bg-info/10 disabled:bg-transparent aria-disabled:bg-transparent dark:disabled:bg-transparent dark:aria-disabled:bg-transparent"},{color:"warning",variant:"ghost",class:"text-warning hover:bg-warning/10 active:bg-warning/10 focus:outline-none focus-visible:bg-warning/10 disabled:bg-transparent aria-disabled:bg-transparent dark:disabled:bg-transparent dark:aria-disabled:bg-transparent"},{color:"error",variant:"ghost",class:"text-error hover:bg-error/10 active:bg-error/10 focus:outline-none focus-visible:bg-error/10 disabled:bg-transparent aria-disabled:bg-transparent dark:disabled:bg-transparent dark:aria-disabled:bg-transparent"},{color:"primary",variant:"link",class:"text-primary hover:text-primary/75 active:text-primary/75 disabled:text-primary aria-disabled:text-primary focus:outline-none focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-primary"},{color:"secondary",variant:"link",class:"text-secondary hover:text-secondary/75 active:text-secondary/75 disabled:text-secondary aria-disabled:text-secondary focus:outline-none focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-secondary"},{color:"success",variant:"link",class:"text-success hover:text-success/75 active:text-success/75 disabled:text-success aria-disabled:text-success focus:outline-none focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-success"},{color:"info",variant:"link",class:"text-info hover:text-info/75 active:text-info/75 disabled:text-info aria-disabled:text-info focus:outline-none focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-info"},{color:"warning",variant:"link",class:"text-warning hover:text-warning/75 active:text-warning/75 disabled:text-warning aria-disabled:text-warning focus:outline-none focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-warning"},{color:"error",variant:"link",class:"text-error hover:text-error/75 active:text-error/75 disabled:text-error aria-disabled:text-error focus:outline-none focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-error"},{color:"neutral",variant:"solid",class:"text-inverted bg-inverted hover:bg-inverted/90 active:bg-inverted/90 disabled:bg-inverted aria-disabled:bg-inverted focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-inverted"},{color:"neutral",variant:"outline",class:"ring ring-inset ring-accented text-default bg-default hover:bg-elevated active:bg-elevated disabled:bg-default aria-disabled:bg-default focus:outline-none focus-visible:ring-2 focus-visible:ring-inverted"},{color:"neutral",variant:"soft",class:"text-default bg-elevated hover:bg-accented/75 active:bg-accented/75 focus:outline-none focus-visible:bg-accented/75 disabled:bg-elevated aria-disabled:bg-elevated"},{color:"neutral",variant:"subtle",class:"ring ring-inset ring-accented text-default bg-elevated hover:bg-accented/75 active:bg-accented/75 disabled:bg-elevated aria-disabled:bg-elevated focus:outline-none focus-visible:ring-2 focus-visible:ring-inverted"},{color:"neutral",variant:"ghost",class:"text-default hover:bg-elevated active:bg-elevated focus:outline-none focus-visible:bg-elevated hover:disabled:bg-transparent dark:hover:disabled:bg-transparent hover:aria-disabled:bg-transparent dark:hover:aria-disabled:bg-transparent"},{color:"neutral",variant:"link",class:"text-muted hover:text-default active:text-default disabled:text-muted aria-disabled:text-muted focus:outline-none focus-visible:ring-inset focus-visible:ring-2 focus-visible:ring-inverted"},{size:"xs",square:!0,class:"p-1"},{size:"sm",square:!0,class:"p-1.5"},{size:"md",square:!0,class:"p-1.5"},{size:"lg",square:!0,class:"p-2"},{size:"xl",square:!0,class:"p-2"},{loading:!0,leading:!0,class:{leadingIcon:"animate-spin"}},{loading:!0,leading:!1,trailing:!0,class:{trailingIcon:"animate-spin"}}],defaultVariants:{color:"primary",variant:"solid",size:"md"}},We={__name:"Button",props:{label:{type:String,required:!1},color:{type:null,required:!1},activeColor:{type:null,required:!1},variant:{type:null,required:!1},activeVariant:{type:null,required:!1},size:{type:null,required:!1},square:{type:Boolean,required:!1},block:{type:Boolean,required:!1},loadingAuto:{type:Boolean,required:!1},onClick:{type:[Function,Array],required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},icon:{type:null,required:!1},avatar:{type:Object,required:!1},leading:{type:Boolean,required:!1},leadingIcon:{type:null,required:!1},trailing:{type:Boolean,required:!1},trailingIcon:{type:null,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:null,required:!1},as:{type:null,required:!1},type:{type:null,required:!1},disabled:{type:Boolean,required:!1},active:{type:Boolean,required:!1},exact:{type:Boolean,required:!1},exactQuery:{type:[Boolean,String],required:!1},exactHash:{type:Boolean,required:!1},inactiveClass:{type:String,required:!1},to:{type:null,required:!1},href:{type:null,required:!1},external:{type:Boolean,required:!1},target:{type:[String,Object,null],required:!1},rel:{type:[String,Object,null],required:!1},noRel:{type:Boolean,required:!1},prefetchedClass:{type:String,required:!1},prefetch:{type:Boolean,required:!1},prefetchOn:{type:[String,Object],required:!1},noPrefetch:{type:Boolean,required:!1},trailingSlash:{type:String,required:!1},activeClass:{type:String,required:!1},exactActiveClass:{type:String,required:!1},ariaCurrentValue:{type:String,required:!1},viewTransition:{type:Boolean,required:!1},replace:{type:Boolean,required:!1}},setup(e){const t=e,n=rn(),r=Bt(),{orientation:o,size:s}=Ph(t),a=jn(pc(t)),i=K(!1),l=or(Uj,void 0);async function c(g){i.value=!0;const v=Array.isArray(t.onClick)?t.onClick:[t.onClick];try{await Promise.all(v.map(x=>x?.(g)))}finally{i.value=!1}}const u=H(()=>t.loading||t.loadingAuto&&(i.value||l?.value&&t.type==="submit")),{isLeading:d,isTrailing:f,leadingIconName:p,trailingIconName:m}=xf(H(()=>({...t,loading:u.value}))),h=H(()=>Ye({extend:Ye(iwe),...sr({variants:{active:{true:{base:ub(r.ui?.button?.variants?.active?.true?.base,t.activeClass)},false:{base:ub(r.ui?.button?.variants?.active?.false?.base,t.inactiveClass)}}}},r.ui?.button||{})})({color:t.color,variant:t.variant,size:s.value,loading:u.value,block:t.block,square:t.square||!n.default&&!t.label,leading:d.value,trailing:f.value,fieldGroup:o.value}));return(g,v)=>(A(),B(Wi,oe({type:e.type,disabled:e.disabled||u.value},y(Ql)(y(a),["type","disabled","onClick"]),{custom:""}),{default:S(({active:x,...$})=>[_(Va,oe($,{"data-slot":"base",class:h.value.base({class:[t.ui?.base,t.class],active:x,...x&&e.activeVariant?{variant:e.activeVariant}:{},...x&&e.activeColor?{color:e.activeColor}:{}}),onClick:c}),{default:S(()=>[U(g.$slots,"leading",{ui:h.value},()=>[y(d)&&y(p)?(A(),B(tt,{key:0,name:y(p),"data-slot":"leadingIcon",class:Z(h.value.leadingIcon({class:t.ui?.leadingIcon,active:x}))},null,8,["name","class"])):e.avatar?(A(),B(On,oe({key:1,size:t.ui?.leadingAvatarSize||h.value.leadingAvatarSize()},e.avatar,{"data-slot":"leadingAvatar",class:h.value.leadingAvatar({class:t.ui?.leadingAvatar,active:x})}),null,16,["size","class"])):X("",!0)]),U(g.$slots,"default",{ui:h.value},()=>[e.label!==void 0&&e.label!==null?(A(),W("span",{key:0,"data-slot":"label",class:Z(h.value.label({class:t.ui?.label,active:x}))},q(e.label),3)):X("",!0)]),U(g.$slots,"trailing",{ui:h.value},()=>[y(f)&&y(m)?(A(),B(tt,{key:0,name:y(m),"data-slot":"trailingIcon",class:Z(h.value.trailingIcon({class:t.ui?.trailingIcon,active:x}))},null,8,["name","class"])):X("",!0)])]),_:2},1040,["class"])]),_:3},16,["type","disabled"]))}},lwe={slots:{root:"gap-2",base:"relative overflow-hidden rounded-full bg-accented",indicator:"rounded-full size-full transition-transform duration-200 ease-out",status:"flex text-dimmed transition-[width] duration-200",steps:"grid items-end",step:"truncate text-end row-start-1 col-start-1 transition-opacity"},variants:{animation:{carousel:"","carousel-inverse":"",swing:"",elastic:""},color:{primary:{indicator:"bg-primary",steps:"text-primary"},secondary:{indicator:"bg-secondary",steps:"text-secondary"},success:{indicator:"bg-success",steps:"text-success"},info:{indicator:"bg-info",steps:"text-info"},warning:{indicator:"bg-warning",steps:"text-warning"},error:{indicator:"bg-error",steps:"text-error"},neutral:{indicator:"bg-inverted",steps:"text-inverted"}},size:{"2xs":{status:"text-xs",steps:"text-xs"},xs:{status:"text-xs",steps:"text-xs"},sm:{status:"text-sm",steps:"text-sm"},md:{status:"text-sm",steps:"text-sm"},lg:{status:"text-sm",steps:"text-sm"},xl:{status:"text-base",steps:"text-base"},"2xl":{status:"text-base",steps:"text-base"}},step:{active:{step:"opacity-100"},first:{step:"opacity-100 text-muted"},other:{step:"opacity-0"},last:{step:""}},orientation:{horizontal:{root:"w-full flex flex-col",base:"w-full",status:"flex-row items-center justify-end min-w-fit"},vertical:{root:"h-full flex flex-row-reverse",base:"h-full",status:"flex-col justify-end min-h-fit"}},inverted:{true:{status:"self-end"}}},compoundVariants:[{inverted:!0,orientation:"horizontal",class:{step:"text-start",status:"flex-row-reverse"}},{inverted:!0,orientation:"vertical",class:{steps:"items-start",status:"flex-col-reverse"}},{orientation:"horizontal",size:"2xs",class:"h-px"},{orientation:"horizontal",size:"xs",class:"h-0.5"},{orientation:"horizontal",size:"sm",class:"h-1"},{orientation:"horizontal",size:"md",class:"h-2"},{orientation:"horizontal",size:"lg",class:"h-3"},{orientation:"horizontal",size:"xl",class:"h-4"},{orientation:"horizontal",size:"2xl",class:"h-5"},{orientation:"vertical",size:"2xs",class:"w-px"},{orientation:"vertical",size:"xs",class:"w-0.5"},{orientation:"vertical",size:"sm",class:"w-1"},{orientation:"vertical",size:"md",class:"w-2"},{orientation:"vertical",size:"lg",class:"w-3"},{orientation:"vertical",size:"xl",class:"w-4"},{orientation:"vertical",size:"2xl",class:"w-5"},{orientation:"horizontal",animation:"carousel",class:{indicator:"data-[state=indeterminate]:animate-[carousel_2s_ease-in-out_infinite] data-[state=indeterminate]:rtl:animate-[carousel-rtl_2s_ease-in-out_infinite]"}},{orientation:"vertical",animation:"carousel",class:{indicator:"data-[state=indeterminate]:animate-[carousel-vertical_2s_ease-in-out_infinite]"}},{orientation:"horizontal",animation:"carousel-inverse",class:{indicator:"data-[state=indeterminate]:animate-[carousel-inverse_2s_ease-in-out_infinite] data-[state=indeterminate]:rtl:animate-[carousel-inverse-rtl_2s_ease-in-out_infinite]"}},{orientation:"vertical",animation:"carousel-inverse",class:{indicator:"data-[state=indeterminate]:animate-[carousel-inverse-vertical_2s_ease-in-out_infinite]"}},{orientation:"horizontal",animation:"swing",class:{indicator:"data-[state=indeterminate]:animate-[swing_2s_ease-in-out_infinite]"}},{orientation:"vertical",animation:"swing",class:{indicator:"data-[state=indeterminate]:animate-[swing-vertical_2s_ease-in-out_infinite]"}},{orientation:"horizontal",animation:"elastic",class:{indicator:"data-[state=indeterminate]:animate-[elastic_2s_ease-in-out_infinite]"}},{orientation:"vertical",animation:"elastic",class:{indicator:"data-[state=indeterminate]:animate-[elastic-vertical_2s_ease-in-out_infinite]"}}],defaultVariants:{animation:"carousel",color:"primary",size:"md"}},Hj={__name:"Progress",props:{as:{type:null,required:!1},max:{type:[Number,Array],required:!1},status:{type:Boolean,required:!1},inverted:{type:Boolean,required:!1,default:!1},size:{type:null,required:!1},color:{type:null,required:!1},orientation:{type:null,required:!1,default:"horizontal"},animation:{type:null,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},getValueLabel:{type:Function,required:!1},getValueText:{type:Function,required:!1},modelValue:{type:[Number,null],required:!1,default:null}},emits:["update:modelValue","update:max"],setup(e,{emit:t}){const n=e,r=t,o=rn(),{dir:s}=oo(),a=Bt(),i=fn(Pn(n,"getValueLabel","getValueText","modelValue"),r),l=H(()=>i.value.modelValue===null),c=H(()=>Array.isArray(n.max)),u=H(()=>{if(!(l.value||!n.max))return Array.isArray(n.max)?n.max.length-1:Number(n.max)}),d=H(()=>{if(!l.value)switch(!0){case i.value.modelValue<0:return 0;case i.value.modelValue>(u.value??100):return 100;default:return Math.round(i.value.modelValue/(u.value??100)*100)}}),f=H(()=>{if(d.value!==void 0)return n.orientation==="vertical"?{transform:`translateY(${n.inverted?"":"-"}${100-d.value}%)`}:s.value==="rtl"?{transform:`translateX(${n.inverted?"-":""}${100-d.value}%)`}:{transform:`translateX(${n.inverted?"":"-"}${100-d.value}%)`}}),p=H(()=>{const $=`${Math.max(d.value??0,0)}%`;return n.orientation==="vertical"?{height:$}:{width:$}});function m($){return $===Number(n.modelValue)}function h($){return $===0}function g($){return $===u.value}function v($){return $=Number($),m($)&&!h($)?"active":h($)&&m($)?"first":g($)&&m($)?"last":"other"}const x=H(()=>Ye({extend:Ye(lwe),...a.ui?.progress||{}})({animation:n.animation,size:n.size,color:n.color,orientation:n.orientation,inverted:n.inverted}));return($,C)=>(A(),B(y(Le),{as:e.as,"data-orientation":e.orientation,"data-slot":"root",class:Z(x.value.root({class:[n.ui?.root,n.class]}))},{default:S(()=>[!l.value&&(e.status||o.status)?(A(),W("div",{key:0,"data-slot":"status",class:Z(x.value.status({class:n.ui?.status})),style:Un(p.value)},[U($.$slots,"status",{percent:d.value},()=>[J(q(d.value)+"% ",1)])],6)):X("",!0),_(y(kie),oe(y(i),{max:u.value,"data-slot":"base",class:x.value.base({class:n.ui?.base}),style:{transform:"translateZ(0)"}}),{default:S(()=>[_(y(Sie),{"data-slot":"indicator",class:Z(x.value.indicator({class:n.ui?.indicator})),style:Un(f.value)},null,8,["class","style"])]),_:1},16,["max","class"]),c.value?(A(),W("div",{key:1,"data-slot":"steps",class:Z(x.value.steps({class:n.ui?.steps}))},[(A(!0),W(Ee,null,Ve(e.max,(M,I)=>(A(),W("div",{key:I,"data-slot":"step",class:Z(x.value.step({class:n.ui?.step,step:v(I)}))},[U($.$slots,`step-${I}`,{step:M},()=>[J(q(M),1)])],2))),128))],2)):X("",!0)]),_:3},8,["as","data-orientation","class"]))}},uwe={slots:{root:"relative group overflow-hidden bg-default shadow-lg rounded-lg ring ring-default p-4 flex gap-2.5 focus:outline-none",wrapper:"w-0 flex-1 flex flex-col",title:"text-sm font-medium text-highlighted",description:"text-sm text-muted",icon:"shrink-0 size-5",avatar:"shrink-0",avatarSize:"2xl",actions:"flex gap-1.5 shrink-0",progress:"absolute inset-x-0 bottom-0",close:"p-0"},variants:{color:{primary:{root:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-primary",icon:"text-primary"},secondary:{root:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-secondary",icon:"text-secondary"},success:{root:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-success",icon:"text-success"},info:{root:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-info",icon:"text-info"},warning:{root:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-warning",icon:"text-warning"},error:{root:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-error",icon:"text-error"},neutral:{root:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-inverted",icon:"text-highlighted"}},orientation:{horizontal:{root:"items-center",actions:"items-center"},vertical:{root:"items-start",actions:"items-start mt-2.5"}},title:{true:{description:"mt-1"}}},defaultVariants:{color:"primary"}},cwe={__name:"Toast",props:{as:{type:null,required:!1},title:{type:[String,Object,Function],required:!1},description:{type:[String,Object,Function],required:!1},icon:{type:null,required:!1},avatar:{type:Object,required:!1},color:{type:null,required:!1},orientation:{type:null,required:!1,default:"vertical"},close:{type:[Boolean,Object],required:!1,default:!0},closeIcon:{type:null,required:!1},actions:{type:Array,required:!1},progress:{type:[Boolean,Object],required:!1,default:!0},class:{type:null,required:!1},ui:{type:null,required:!1},defaultOpen:{type:Boolean,required:!1},open:{type:Boolean,required:!1},type:{type:String,required:!1},duration:{type:Number,required:!1}},emits:["escapeKeyDown","pause","resume","swipeStart","swipeMove","swipeCancel","swipeEnd","update:open"],setup(e,{expose:t,emit:n}){const r=e,o=n,s=rn(),{t:a}=oo(),i=Bt(),l=fn(Pn(r,"as","defaultOpen","open","duration","type"),o),c=H(()=>Ye({extend:Ye(uwe),...i.ui?.toast||{}})({color:r.color,orientation:r.orientation,title:!!r.title||!!s.title})),u=na("rootRef"),d=K(0);return wt(()=>{u.value&&St(()=>{d.value=u.value?.$el?.getBoundingClientRect()?.height})}),t({height:d}),(f,p)=>(A(),B(y(Iue),oe({ref_key:"rootRef",ref:u},y(l),{"data-orientation":e.orientation,"data-slot":"root",class:c.value.root({class:[r.ui?.root,r.class]}),style:{"--height":d.value}}),{default:S(({remaining:m,duration:h,open:g})=>[U(f.$slots,"leading",{ui:c.value},()=>[e.avatar?(A(),B(On,oe({key:0,size:r.ui?.avatarSize||c.value.avatarSize()},e.avatar,{"data-slot":"avatar",class:c.value.avatar({class:r.ui?.avatar})}),null,16,["size","class"])):e.icon?(A(),B(tt,{key:1,name:e.icon,"data-slot":"icon",class:Z(c.value.icon({class:r.ui?.icon}))},null,8,["name","class"])):X("",!0)]),k("div",{"data-slot":"wrapper",class:Z(c.value.wrapper({class:r.ui?.wrapper}))},[e.title||s.title?(A(),B(y(Oue),{key:0,"data-slot":"title",class:Z(c.value.title({class:r.ui?.title}))},{default:S(()=>[U(f.$slots,"title",{},()=>[typeof e.title=="function"?(A(),B(Kn(e.title()),{key:0})):typeof e.title=="object"?(A(),B(Kn(e.title),{key:1})):(A(),W(Ee,{key:2},[J(q(e.title),1)],64))])]),_:3},8,["class"])):X("",!0),e.description||s.description?(A(),B(y(Mue),{key:1,"data-slot":"description",class:Z(c.value.description({class:r.ui?.description}))},{default:S(()=>[U(f.$slots,"description",{},()=>[typeof e.description=="function"?(A(),B(Kn(e.description()),{key:0})):typeof e.description=="object"?(A(),B(Kn(e.description),{key:1})):(A(),W(Ee,{key:2},[J(q(e.description),1)],64))])]),_:3},8,["class"])):X("",!0),e.orientation==="vertical"&&(e.actions?.length||s.actions)?(A(),W("div",{key:2,"data-slot":"actions",class:Z(c.value.actions({class:r.ui?.actions}))},[U(f.$slots,"actions",{},()=>[(A(!0),W(Ee,null,Ve(e.actions,(v,x)=>(A(),B(y(S2),{key:x,"alt-text":v.label||"Action","as-child":"",onClick:p[0]||(p[0]=lt(()=>{},["stop"]))},{default:S(()=>[_(We,oe({size:"xs",color:e.color},{ref_for:!0},v),null,16,["color"])]),_:2},1032,["alt-text"]))),128))])],2)):X("",!0)],2),e.orientation==="horizontal"&&(e.actions?.length||s.actions)||e.close?(A(),W("div",{key:0,"data-slot":"actions",class:Z(c.value.actions({class:r.ui?.actions,orientation:"horizontal"}))},[e.orientation==="horizontal"&&(e.actions?.length||s.actions)?U(f.$slots,"actions",{key:0},()=>[(A(!0),W(Ee,null,Ve(e.actions,(v,x)=>(A(),B(y(S2),{key:x,"alt-text":v.label||"Action","as-child":"",onClick:p[1]||(p[1]=lt(()=>{},["stop"]))},{default:S(()=>[_(We,oe({size:"xs",color:e.color},{ref_for:!0},v),null,16,["color"])]),_:2},1032,["alt-text"]))),128))]):X("",!0),e.close||s.close?(A(),B(y(m3),{key:1,"as-child":""},{default:S(()=>[U(f.$slots,"close",{ui:c.value},()=>[e.close?(A(),B(We,oe({key:0,icon:e.closeIcon||y(i).ui.icons.close,color:"neutral",variant:"link","aria-label":y(a)("toast.close")},typeof e.close=="object"?e.close:{},{"data-slot":"close",class:c.value.close({class:r.ui?.close}),onClick:p[2]||(p[2]=lt(()=>{},["stop"]))}),null,16,["icon","aria-label","class"])):X("",!0)])]),_:3})):X("",!0)],2)):X("",!0),e.progress&&g&&m>0&&h?(A(),B(Hj,oe({key:1,"model-value":m/h*100,color:e.color},typeof e.progress=="object"?e.progress:{},{size:"sm","data-slot":"progress",class:c.value.progress({class:r.ui?.progress})}),null,16,["model-value","color","class"])):X("",!0)]),_:3},16,["data-orientation","class","style"]))}},dwe={slots:{viewport:"fixed flex flex-col w-[calc(100%-2rem)] sm:w-96 z-[100] data-[expanded=true]:h-(--height) focus:outline-none",base:"pointer-events-auto absolute inset-x-0 z-(--index) transform-(--transform) data-[expanded=false]:data-[front=false]:h-(--front-height) data-[expanded=false]:data-[front=false]:*:opacity-0 data-[front=false]:*:transition-opacity data-[front=false]:*:duration-100 data-[state=closed]:animate-[toast-closed_200ms_ease-in-out] data-[state=closed]:data-[expanded=false]:data-[front=false]:animate-[toast-collapsed-closed_200ms_ease-in-out] data-[swipe=move]:transition-none transition-[transform,translate,height] duration-200 ease-out"},variants:{position:{"top-left":{viewport:"left-4"},"top-center":{viewport:"left-1/2 transform -translate-x-1/2"},"top-right":{viewport:"right-4"},"bottom-left":{viewport:"left-4"},"bottom-center":{viewport:"left-1/2 transform -translate-x-1/2"},"bottom-right":{viewport:"right-4"}},swipeDirection:{up:"data-[swipe=end]:animate-[toast-slide-up_200ms_ease-out]",right:"data-[swipe=end]:animate-[toast-slide-right_200ms_ease-out]",down:"data-[swipe=end]:animate-[toast-slide-down_200ms_ease-out]",left:"data-[swipe=end]:animate-[toast-slide-left_200ms_ease-out]"}},compoundVariants:[{position:["top-left","top-center","top-right"],class:{viewport:"top-4",base:"top-0 data-[state=open]:animate-[slide-in-from-top_200ms_ease-in-out]"}},{position:["bottom-left","bottom-center","bottom-right"],class:{viewport:"bottom-4",base:"bottom-0 data-[state=open]:animate-[slide-in-from-bottom_200ms_ease-in-out]"}},{swipeDirection:["left","right"],class:"data-[swipe=move]:translate-x-(--reka-toast-swipe-move-x) data-[swipe=end]:translate-x-(--reka-toast-swipe-end-x) data-[swipe=cancel]:translate-x-0"},{swipeDirection:["up","down"],class:"data-[swipe=move]:translate-y-(--reka-toast-swipe-move-y) data-[swipe=end]:translate-y-(--reka-toast-swipe-end-y) data-[swipe=cancel]:translate-y-0"}],defaultVariants:{position:"bottom-right"}},fwe={name:"Toaster"},pwe=Object.assign(fwe,{props:{position:{type:null,required:!1},expand:{type:Boolean,required:!1,default:!0},progress:{type:Boolean,required:!1,default:!0},portal:{type:[Boolean,String],required:!1,skipCheck:!0,default:!0},max:{type:Number,required:!1,default:5},class:{type:null,required:!1},ui:{type:null,required:!1},label:{type:String,required:!1},duration:{type:Number,required:!1,default:5e3},disableSwipe:{type:Boolean,required:!1},swipeThreshold:{type:Number,required:!1}},setup(e){const t=e,{toasts:n,remove:r}=Ih(),o=Bt();Mo(pj,Nt(()=>t.max));const s=jn(Pn(t,"duration","label","swipeThreshold","disableSwipe")),a=ll(Nt(()=>t.portal)),i=H(()=>{switch(t.position){case"top-center":return"up";case"top-right":case"bottom-right":return"right";case"bottom-center":return"down";case"top-left":case"bottom-left":return"left"}return"right"}),l=H(()=>Ye({extend:Ye(dwe),...o.ui?.toaster||{}})({position:t.position,swipeDirection:i.value}));function c(g,v){g||r(v)}const u=K(!1),d=H(()=>t.expand||u.value),f=K([]),p=H(()=>f.value.reduce((g,{height:v})=>g+v+16,0)),m=H(()=>f.value[f.value.length-1]?.height||0);function h(g){return f.value.slice(g+1).reduce((v,{height:x})=>v+x+16,0)}return(g,v)=>(A(),B(y(fue),oe({"swipe-direction":i.value},y(s)),{default:S(()=>[U(g.$slots,"default"),(A(!0),W(Ee,null,Ve(y(n),(x,$)=>(A(),B(cwe,oe({key:x.id,ref_for:!0,ref_key:"refs",ref:f,progress:e.progress},{ref_for:!0},y(Ql)(x,["id","close"]),{close:x.close,"data-expanded":d.value,"data-front":!d.value&&$===y(n).length-1,style:{"--index":$-y(n).length+y(n).length,"--before":y(n).length-1-$,"--offset":h($),"--scale":d.value?"1":"calc(1 - var(--before) * var(--scale-factor))","--translate":d.value?"calc(var(--offset) * var(--translate-factor))":"calc(var(--before) * var(--gap))","--transform":"translateY(var(--translate)) scale(var(--scale))"},"data-slot":"base",class:l.value.base({class:[t.ui?.base,x.onClick?"cursor-pointer":void 0]}),"onUpdate:open":C=>c(C,x.id),onClick:C=>x.onClick&&x.onClick(x)}),null,16,["progress","close","data-expanded","data-front","style","class","onUpdate:open","onClick"]))),128)),_(y(Tue),rt(ct(y(a))),{default:S(()=>[_(y(Nue),{"data-expanded":d.value,"data-slot":"viewport",class:Z(l.value.viewport({class:[t.ui?.viewport,t.class]})),style:Un({"--scale-factor":"0.05","--translate-factor":e.position?.startsWith("top")?"1px":"-1px","--gap":e.position?.startsWith("top")?"16px":"-16px","--front-height":`${m.value}px`,"--height":`${p.value}px`}),onMouseenter:v[0]||(v[0]=x=>u.value=!0),onMouseleave:v[1]||(v[1]=x=>u.value=!1)},null,8,["data-expanded","class","style"])]),_:1},16)]),_:3},16,["swipe-direction"]))}});function mwe(){const e=QF([]),t=(c,u)=>{const{props:d,defaultOpen:f,destroyOnClose:p}=u||{},m=Pr({id:Symbol(import.meta.dev?"useOverlay":""),isOpen:!!f,component:Rd(c),isMounted:!!f,destroyOnClose:!!p,originalProps:d||{},props:{...d}});return e.push(m),{...m,open:h=>n(m.id,h),close:h=>r(m.id,h),patch:h=>a(m.id,h)}},n=(c,u)=>{const d=i(c);u?d.props={...d.originalProps,...u}:d.props={...d.originalProps},d.isOpen=!0,d.isMounted=!0;const f=new Promise(p=>d.resolvePromise=p);return Object.assign(f,{id:c,isMounted:d.isMounted,isOpen:d.isOpen,result:f})},r=(c,u)=>{const d=i(c);d.isOpen=!1,d.resolvePromise&&(d.resolvePromise(u),d.resolvePromise=void 0)},o=()=>{e.forEach(c=>r(c.id))},s=c=>{const u=i(c);if(u.isMounted=!1,u.destroyOnClose){const d=e.findIndex(f=>f.id===c);e.splice(d,1)}},a=(c,u)=>{const d=i(c);d.props={...d.props,...u}},i=c=>{const u=e.find(d=>d.id===c);if(!u)throw new Error("Overlay not found");return u};return{overlays:e,open:n,close:r,closeAll:o,create:t,patch:a,unmount:s,isOpen:c=>i(c).isOpen}}const hwe=WC(mwe),gwe={__name:"OverlayProvider",setup(e){const{overlays:t,unmount:n,close:r}=hwe(),o=H(()=>t.filter(i=>i.isMounted)),s=i=>{r(i),n(i)},a=(i,l)=>{r(i,l)};return(i,l)=>(A(!0),W(Ee,null,Ve(o.value,c=>(A(),B(Kn(c.component),oe({key:c.id},{ref_for:!0},c.props,{open:c.isOpen,"onUpdate:open":u=>c.isOpen=u,onClose:u=>a(c.id,u),"onAfter:leave":u=>s(c.id)}),null,16,["open","onUpdate:open","onClose","onAfter:leave"]))),128))}},vwe={name:"App"},Wj=Object.assign(vwe,{props:{tooltip:{type:Object,required:!1},toaster:{type:[Object,null],required:!1},locale:{type:Object,required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0,default:"body"},dir:{type:String,required:!1},scrollBody:{type:[Boolean,Object],required:!1},nonce:{type:String,required:!1}},setup(e){const t=e,n=jn(Pn(t,"scrollBody")),r=Nt(()=>t.tooltip),o=Nt(()=>t.toaster),s=Nt(()=>t.locale);Mo(M3,s);const a=Nt(()=>t.portal);return Mo(A3,a),(i,l)=>(A(),B(y(ZZ),oe({"use-id":()=>ol(),dir:t.dir||s.value?.dir,locale:s.value?.code},y(n)),{default:S(()=>[_(y(Lue),rt(ct(r.value)),{default:S(()=>[e.toaster!==null?(A(),B(pwe,rt(oe({key:0},o.value)),{default:S(()=>[U(i.$slots,"default")]),_:3},16)):U(i.$slots,"default",{key:1}),_(gwe)]),_:3},16)]),_:3},16,["use-id","dir","locale"]))}}),ywe={slots:{root:"rounded-lg overflow-hidden",header:"p-4 sm:px-6",body:"p-4 sm:p-6",footer:"p-4 sm:px-6"},variants:{variant:{solid:{root:"bg-inverted text-inverted"},outline:{root:"bg-default ring ring-default divide-y divide-default"},soft:{root:"bg-elevated/50 divide-y divide-default"},subtle:{root:"bg-elevated/50 ring ring-default divide-y divide-default"}}},defaultVariants:{variant:"outline"}},ht={__name:"Card",props:{as:{type:null,required:!1},variant:{type:null,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1}},setup(e){const t=e,n=rn(),r=Bt(),o=H(()=>Ye({extend:Ye(ywe),...r.ui?.card||{}})({variant:t.variant}));return(s,a)=>(A(),B(y(Le),{as:e.as,"data-slot":"root",class:Z(o.value.root({class:[t.ui?.root,t.class]}))},{default:S(()=>[n.header?(A(),W("div",{key:0,"data-slot":"header",class:Z(o.value.header({class:t.ui?.header}))},[U(s.$slots,"header")],2)):X("",!0),n.default?(A(),W("div",{key:1,"data-slot":"body",class:Z(o.value.body({class:t.ui?.body}))},[U(s.$slots,"default")],2)):X("",!0),n.footer?(A(),W("div",{key:2,"data-slot":"footer",class:Z(o.value.footer({class:t.ui?.footer}))},[U(s.$slots,"footer")],2)):X("",!0)]),_:3},8,["as","class"]))}},bwe={slots:{root:"flex items-center align-center text-center",border:"",container:"font-medium text-default flex",icon:"shrink-0 size-5",avatar:"shrink-0",avatarSize:"2xs",label:"text-sm"},variants:{color:{primary:{border:"border-primary"},secondary:{border:"border-secondary"},success:{border:"border-success"},info:{border:"border-info"},warning:{border:"border-warning"},error:{border:"border-error"},neutral:{border:"border-default"}},orientation:{horizontal:{root:"w-full flex-row",border:"w-full",container:"mx-3 whitespace-nowrap"},vertical:{root:"h-full flex-col",border:"h-full",container:"my-2"}},size:{xs:"",sm:"",md:"",lg:"",xl:""},type:{solid:{border:"border-solid"},dashed:{border:"border-dashed"},dotted:{border:"border-dotted"}}},compoundVariants:[{orientation:"horizontal",size:"xs",class:{border:"border-t"}},{orientation:"horizontal",size:"sm",class:{border:"border-t-[2px]"}},{orientation:"horizontal",size:"md",class:{border:"border-t-[3px]"}},{orientation:"horizontal",size:"lg",class:{border:"border-t-[4px]"}},{orientation:"horizontal",size:"xl",class:{border:"border-t-[5px]"}},{orientation:"vertical",size:"xs",class:{border:"border-s"}},{orientation:"vertical",size:"sm",class:{border:"border-s-[2px]"}},{orientation:"vertical",size:"md",class:{border:"border-s-[3px]"}},{orientation:"vertical",size:"lg",class:{border:"border-s-[4px]"}},{orientation:"vertical",size:"xl",class:{border:"border-s-[5px]"}}],defaultVariants:{color:"neutral",size:"xs",type:"solid"}},xwe={__name:"Separator",props:{as:{type:null,required:!1},label:{type:String,required:!1},icon:{type:null,required:!1},avatar:{type:Object,required:!1},color:{type:null,required:!1},size:{type:null,required:!1},type:{type:null,required:!1},orientation:{type:null,required:!1,default:"horizontal"},class:{type:null,required:!1},ui:{type:null,required:!1},decorative:{type:Boolean,required:!1}},setup(e){const t=e,n=rn(),r=Bt(),o=jn(Pn(t,"as","decorative","orientation")),s=H(()=>Ye({extend:Ye(bwe),...r.ui?.separator||{}})({color:t.color,orientation:t.orientation,size:t.size,type:t.type}));return(a,i)=>(A(),B(y(u3),oe(y(o),{"data-slot":"root",class:s.value.root({class:[t.ui?.root,t.class]})}),{default:S(()=>[k("div",{"data-slot":"border",class:Z(s.value.border({class:t.ui?.border}))},null,2),e.label||e.icon||e.avatar||n.default?(A(),W(Ee,{key:0},[k("div",{"data-slot":"container",class:Z(s.value.container({class:t.ui?.container}))},[U(a.$slots,"default",{ui:s.value},()=>[e.label?(A(),W("span",{key:0,"data-slot":"label",class:Z(s.value.label({class:t.ui?.label}))},q(e.label),3)):e.icon?(A(),B(tt,{key:1,name:e.icon,"data-slot":"icon",class:Z(s.value.icon({class:t.ui?.icon}))},null,8,["name","class"])):e.avatar?(A(),B(On,oe({key:2,size:t.ui?.avatarSize||s.value.avatarSize()},e.avatar,{"data-slot":"avatar",class:s.value.avatar({class:t.ui?.avatar})}),null,16,["size","class"])):X("",!0)])],2),k("div",{"data-slot":"border",class:Z(s.value.border({class:t.ui?.border}))},null,2)],64)):X("",!0)]),_:3},16,["class"]))}},wwe={slots:{root:"relative flex items-start",container:"flex items-center",base:"rounded-sm ring ring-inset ring-accented overflow-hidden focus-visible:outline-2 focus-visible:outline-offset-2",indicator:"flex items-center justify-center size-full text-inverted",icon:"shrink-0 size-full",wrapper:"w-full",label:"block font-medium text-default",description:"text-muted"},variants:{color:{primary:{base:"focus-visible:outline-primary",indicator:"bg-primary"},secondary:{base:"focus-visible:outline-secondary",indicator:"bg-secondary"},success:{base:"focus-visible:outline-success",indicator:"bg-success"},info:{base:"focus-visible:outline-info",indicator:"bg-info"},warning:{base:"focus-visible:outline-warning",indicator:"bg-warning"},error:{base:"focus-visible:outline-error",indicator:"bg-error"},neutral:{base:"focus-visible:outline-inverted",indicator:"bg-inverted"}},variant:{list:{root:""},card:{root:"border border-muted rounded-lg"}},indicator:{start:{root:"flex-row",wrapper:"ms-2"},end:{root:"flex-row-reverse",wrapper:"me-2"},hidden:{base:"sr-only",wrapper:"text-center"}},size:{xs:{base:"size-3",container:"h-4",wrapper:"text-xs"},sm:{base:"size-3.5",container:"h-4",wrapper:"text-xs"},md:{base:"size-4",container:"h-5",wrapper:"text-sm"},lg:{base:"size-4.5",container:"h-5",wrapper:"text-sm"},xl:{base:"size-5",container:"h-6",wrapper:"text-base"}},required:{true:{label:"after:content-['*'] after:ms-0.5 after:text-error"}},disabled:{true:{root:"opacity-75",base:"cursor-not-allowed",label:"cursor-not-allowed",description:"cursor-not-allowed"}},checked:{true:""}},compoundVariants:[{size:"xs",variant:"card",class:{root:"p-2.5"}},{size:"sm",variant:"card",class:{root:"p-3"}},{size:"md",variant:"card",class:{root:"p-3.5"}},{size:"lg",variant:"card",class:{root:"p-4"}},{size:"xl",variant:"card",class:{root:"p-4.5"}},{color:"primary",variant:"card",class:{root:"has-data-[state=checked]:border-primary"}},{color:"secondary",variant:"card",class:{root:"has-data-[state=checked]:border-secondary"}},{color:"success",variant:"card",class:{root:"has-data-[state=checked]:border-success"}},{color:"info",variant:"card",class:{root:"has-data-[state=checked]:border-info"}},{color:"warning",variant:"card",class:{root:"has-data-[state=checked]:border-warning"}},{color:"error",variant:"card",class:{root:"has-data-[state=checked]:border-error"}},{color:"neutral",variant:"card",class:{root:"has-data-[state=checked]:border-inverted"}},{variant:"card",disabled:!0,class:{root:"cursor-not-allowed"}}],defaultVariants:{size:"md",color:"primary",variant:"list",indicator:"start"}},ii=Object.assign({inheritAttrs:!1},{__name:"Checkbox",props:bs({as:{type:null,required:!1},label:{type:String,required:!1},description:{type:String,required:!1},color:{type:null,required:!1},variant:{type:null,required:!1},size:{type:null,required:!1},indicator:{type:null,required:!1},icon:{type:null,required:!1},indeterminateIcon:{type:null,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},disabled:{type:Boolean,required:!1},required:{type:Boolean,required:!1},name:{type:String,required:!1},value:{type:null,required:!1},id:{type:String,required:!1},defaultValue:{type:[Boolean,String],required:!1}},{modelValue:{type:[Boolean,String],default:void 0},modelModifiers:{}}),emits:bs(["change"],["update:modelValue"]),setup(e,{emit:t}){const n=e,r=rn(),o=t,s=Yn(e,"modelValue",{type:[Boolean,String],default:void 0}),a=Bt(),i=jn(Pn(n,"required","value","defaultValue")),{id:l,emitFormChange:c,emitFormInput:u,size:d,color:f,name:p,disabled:m,ariaAttrs:h}=jc(n),g=l.value??ol(),v=H(()=>Ye({extend:Ye(wwe),...a.ui?.checkbox||{}})({size:d.value,color:f.value,variant:n.variant,indicator:n.indicator,required:n.required,disabled:m.value}));function x($){const C=new Event("change",{target:{value:$}});o("change",C),c(),u()}return($,C)=>(A(),B(y(Le),{as:!e.variant||e.variant==="list"?e.as:y(Vd),"data-slot":"root",class:Z(v.value.root({class:[n.ui?.root,n.class]}))},{default:S(()=>[k("div",{"data-slot":"container",class:Z(v.value.container({class:n.ui?.container}))},[_(y(ane),oe({id:y(g)},{...y(i),...$.$attrs,...y(h)},{modelValue:s.value,"onUpdate:modelValue":[C[0]||(C[0]=M=>s.value=M),x],name:y(p),disabled:y(m),"data-slot":"base",class:v.value.base({class:n.ui?.base})}),{default:S(({modelValue:M})=>[_(y(lne),{"data-slot":"indicator",class:Z(v.value.indicator({class:n.ui?.indicator}))},{default:S(()=>[M==="indeterminate"?(A(),B(tt,{key:0,name:e.indeterminateIcon||y(a).ui.icons.minus,"data-slot":"icon",class:Z(v.value.icon({class:n.ui?.icon}))},null,8,["name","class"])):(A(),B(tt,{key:1,name:e.icon||y(a).ui.icons.check,"data-slot":"icon",class:Z(v.value.icon({class:n.ui?.icon}))},null,8,["name","class"]))]),_:2},1032,["class"])]),_:1},16,["id","modelValue","name","disabled","class"])],2),e.label||r.label||e.description||r.description?(A(),W("div",{key:0,"data-slot":"wrapper",class:Z(v.value.wrapper({class:n.ui?.wrapper}))},[e.label||r.label?(A(),B(Kn(!e.variant||e.variant==="list"?y(Vd):"p"),{key:0,for:y(g),"data-slot":"label",class:Z(v.value.label({class:n.ui?.label}))},{default:S(()=>[U($.$slots,"label",{label:e.label},()=>[J(q(e.label),1)])]),_:3},8,["for","class"])):X("",!0),e.description||r.description?(A(),W("p",{key:1,"data-slot":"description",class:Z(v.value.description({class:n.ui?.description}))},[U($.$slots,"description",{description:e.description},()=>[J(q(e.description),1)])],2)):X("",!0)],2)):X("",!0)]),_:3},8,["as","class"]))}}),kwe={slots:{root:"",wrapper:"",labelWrapper:"flex content-center items-center justify-between gap-1",label:"block font-medium text-default",container:"relative",description:"text-muted",error:"mt-2 text-error",hint:"text-muted",help:"mt-2 text-muted"},variants:{size:{xs:{root:"text-xs"},sm:{root:"text-xs"},md:{root:"text-sm"},lg:{root:"text-sm"},xl:{root:"text-base"}},required:{true:{label:"after:content-['*'] after:ms-0.5 after:text-error"}},orientation:{vertical:{container:"mt-1"},horizontal:{root:"flex justify-between place-items-baseline gap-2"}}},defaultVariants:{size:"md",orientation:"vertical"}},_we=["id"],Swe=["id"],$we=["id"],Cwe=["id"],qt={__name:"FormField",props:{as:{type:null,required:!1},name:{type:String,required:!1},errorPattern:{type:null,required:!1},label:{type:String,required:!1},description:{type:String,required:!1},help:{type:String,required:!1},error:{type:[Boolean,String],required:!1,default:void 0},hint:{type:String,required:!1},size:{type:null,required:!1},required:{type:Boolean,required:!1},eagerValidation:{type:Boolean,required:!1},validateOnInputDelay:{type:Number,required:!1},orientation:{type:null,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1}},setup(e){const t=e,n=rn(),r=Bt(),o=H(()=>Ye({extend:Ye(kwe),...r.ui?.formField||{}})({size:t.size,required:t.required,orientation:t.orientation})),s=or(Kj,null),a=H(()=>t.error||s?.value?.find(u=>u.name===t.name||t.errorPattern&&u.name?.match(t.errorPattern))?.message),i=K(ol()),l=i.value,c=or(Vj,void 0);return He(i,()=>{c&&t.name&&(c.value[t.name]={id:i.value,pattern:t.errorPattern})},{immediate:!0}),Mo(jj,i),Mo(u$,H(()=>({error:a.value,name:t.name,size:t.size,eagerValidation:t.eagerValidation,validateOnInputDelay:t.validateOnInputDelay,errorPattern:t.errorPattern,hint:t.hint,description:t.description,help:t.help,ariaId:l}))),(u,d)=>(A(),B(y(Le),{as:e.as,"data-orientation":e.orientation,"data-slot":"root",class:Z(o.value.root({class:[t.ui?.root,t.class]}))},{default:S(()=>[k("div",{"data-slot":"wrapper",class:Z(o.value.wrapper({class:t.ui?.wrapper}))},[e.label||n.label?(A(),W("div",{key:0,"data-slot":"labelWrapper",class:Z(o.value.labelWrapper({class:t.ui?.labelWrapper}))},[_(y(Vd),{for:i.value,"data-slot":"label",class:Z(o.value.label({class:t.ui?.label}))},{default:S(()=>[U(u.$slots,"label",{label:e.label},()=>[J(q(e.label),1)])]),_:3},8,["for","class"]),e.hint||n.hint?(A(),W("span",{key:0,id:`${y(l)}-hint`,"data-slot":"hint",class:Z(o.value.hint({class:t.ui?.hint}))},[U(u.$slots,"hint",{hint:e.hint},()=>[J(q(e.hint),1)])],10,_we)):X("",!0)],2)):X("",!0),e.description||n.description?(A(),W("p",{key:1,id:`${y(l)}-description`,"data-slot":"description",class:Z(o.value.description({class:t.ui?.description}))},[U(u.$slots,"description",{description:e.description},()=>[J(q(e.description),1)])],10,Swe)):X("",!0)],2),k("div",{class:Z([(e.label||!!n.label||e.description||!!n.description)&&o.value.container({class:t.ui?.container})])},[U(u.$slots,"default",{error:a.value}),t.error!==!1&&(typeof a.value=="string"&&a.value||n.error)?(A(),W("div",{key:0,id:`${y(l)}-error`,"data-slot":"error",class:Z(o.value.error({class:t.ui?.error}))},[U(u.$slots,"error",{error:a.value},()=>[J(q(a.value),1)])],10,$we)):e.help||n.help?(A(),W("div",{key:1,id:`${y(l)}-help`,"data-slot":"help",class:Z(o.value.help({class:t.ui?.help}))},[U(u.$slots,"help",{help:e.help},()=>[J(q(e.help),1)])],10,Cwe)):X("",!0)],2)]),_:3},8,["as","data-orientation","class"]))}},Mwe={slots:{root:"relative inline-flex items-center",base:["w-full rounded-md border-0 appearance-none placeholder:text-dimmed focus:outline-none disabled:cursor-not-allowed disabled:opacity-75","transition-colors"],leading:"absolute inset-y-0 start-0 flex items-center",leadingIcon:"shrink-0 text-dimmed",leadingAvatar:"shrink-0",leadingAvatarSize:"",trailing:"absolute inset-y-0 end-0 flex items-center",trailingIcon:"shrink-0 text-dimmed"},variants:{fieldGroup:{horizontal:{root:"group has-focus-visible:z-[1]",base:"group-not-only:group-first:rounded-e-none group-not-only:group-last:rounded-s-none group-not-last:group-not-first:rounded-none"},vertical:{root:"group has-focus-visible:z-[1]",base:"group-not-only:group-first:rounded-b-none group-not-only:group-last:rounded-t-none group-not-last:group-not-first:rounded-none"}},size:{xs:{base:"px-2 py-1 text-xs gap-1",leading:"ps-2",trailing:"pe-2",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4"},sm:{base:"px-2.5 py-1.5 text-xs gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4"},md:{base:"px-2.5 py-1.5 text-sm gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5"},lg:{base:"px-3 py-2 text-sm gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5"},xl:{base:"px-3 py-2 text-base gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-6",leadingAvatarSize:"xs",trailingIcon:"size-6"}},variant:{outline:"text-highlighted bg-default ring ring-inset ring-accented",soft:"text-highlighted bg-elevated/50 hover:bg-elevated focus:bg-elevated disabled:bg-elevated/50",subtle:"text-highlighted bg-elevated ring ring-inset ring-accented",ghost:"text-highlighted bg-transparent hover:bg-elevated focus:bg-elevated disabled:bg-transparent dark:disabled:bg-transparent",none:"text-highlighted bg-transparent"},color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},leading:{true:""},trailing:{true:""},loading:{true:""},highlight:{true:""},type:{file:"file:me-1.5 file:font-medium file:text-muted file:outline-none"}},compoundVariants:[{color:"primary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-primary"},{color:"secondary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-secondary"},{color:"success",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-success"},{color:"info",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-info"},{color:"warning",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-warning"},{color:"error",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-error"},{color:"primary",highlight:!0,class:"ring ring-inset ring-primary"},{color:"secondary",highlight:!0,class:"ring ring-inset ring-secondary"},{color:"success",highlight:!0,class:"ring ring-inset ring-success"},{color:"info",highlight:!0,class:"ring ring-inset ring-info"},{color:"warning",highlight:!0,class:"ring ring-inset ring-warning"},{color:"error",highlight:!0,class:"ring ring-inset ring-error"},{color:"neutral",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-inverted"},{color:"neutral",highlight:!0,class:"ring ring-inset ring-inverted"},{leading:!0,size:"xs",class:"ps-7"},{leading:!0,size:"sm",class:"ps-8"},{leading:!0,size:"md",class:"ps-9"},{leading:!0,size:"lg",class:"ps-10"},{leading:!0,size:"xl",class:"ps-11"},{trailing:!0,size:"xs",class:"pe-7"},{trailing:!0,size:"sm",class:"pe-8"},{trailing:!0,size:"md",class:"pe-9"},{trailing:!0,size:"lg",class:"pe-10"},{trailing:!0,size:"xl",class:"pe-11"},{loading:!0,leading:!0,class:{leadingIcon:"animate-spin"}},{loading:!0,leading:!1,trailing:!0,class:{trailingIcon:"animate-spin"}}],defaultVariants:{size:"md",color:"primary",variant:"outline"}},Awe=["id","type","value","name","placeholder","disabled","required","autocomplete"],bt=Object.assign({inheritAttrs:!1},{__name:"Input",props:{as:{type:null,required:!1},id:{type:String,required:!1},name:{type:String,required:!1},type:{type:null,required:!1,default:"text"},placeholder:{type:String,required:!1},color:{type:null,required:!1},variant:{type:null,required:!1},size:{type:null,required:!1},required:{type:Boolean,required:!1},autocomplete:{type:null,required:!1,default:"off"},autofocus:{type:Boolean,required:!1},autofocusDelay:{type:Number,required:!1,default:0},disabled:{type:Boolean,required:!1},highlight:{type:Boolean,required:!1},modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},modelModifiers:{type:Object,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},icon:{type:null,required:!1},avatar:{type:Object,required:!1},leading:{type:Boolean,required:!1},leadingIcon:{type:null,required:!1},trailing:{type:Boolean,required:!1},trailingIcon:{type:null,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:null,required:!1}},emits:["update:modelValue","blur","change"],setup(e,{expose:t,emit:n}){const r=e,o=n,s=rn(),a=S3(r,"modelValue",o,{defaultValue:r.defaultValue}),i=Bt(),{emitFormBlur:l,emitFormInput:c,emitFormChange:u,size:d,color:f,id:p,name:m,highlight:h,disabled:g,emitFormFocus:v,ariaAttrs:x}=jc(r,{deferInputValidation:!0}),{orientation:$,size:C}=Ph(r),{isLeading:M,isTrailing:I,leadingIconName:E,trailingIconName:P}=xf(r),O=H(()=>C.value||d.value),D=H(()=>Ye({extend:Ye(Mwe),...i.ui?.input||{}})({type:r.type,color:f.value,variant:r.variant,size:O?.value,loading:r.loading,highlight:h.value,leading:M.value||!!r.avatar||!!s.leading,trailing:I.value||!!s.trailing,fieldGroup:$.value})),L=na("inputRef");function V(ne){r.modelModifiers?.trim&&(ne=ne?.trim()??null),(r.modelModifiers?.number||r.type==="number")&&(ne=_x(ne)),r.modelModifiers?.nullable&&(ne||=null),r.modelModifiers?.optional&&(ne||=void 0),a.value=ne,c()}function F(ne){r.modelModifiers?.lazy||V(ne.target.value)}function z(ne){const Y=ne.target.value;r.modelModifiers?.lazy&&V(Y),r.modelModifiers?.trim&&(ne.target.value=Y.trim()),u(),o("change",ne)}function N(ne){l(),o("blur",ne)}function ee(){r.autofocus&&L.value?.focus()}return wt(()=>{setTimeout(()=>{ee()},r.autofocusDelay)}),t({inputRef:L}),(ne,Y)=>(A(),B(y(Le),{as:e.as,"data-slot":"root",class:Z(D.value.root({class:[r.ui?.root,r.class]}))},{default:S(()=>[k("input",oe({id:y(p),ref_key:"inputRef",ref:L,type:e.type,value:y(a),name:y(m),placeholder:e.placeholder,"data-slot":"base",class:D.value.base({class:r.ui?.base}),disabled:y(g),required:e.required,autocomplete:e.autocomplete},{...ne.$attrs,...y(x)},{onInput:F,onBlur:N,onChange:z,onFocus:Y[0]||(Y[0]=(...Re)=>y(v)&&y(v)(...Re))}),null,16,Awe),U(ne.$slots,"default",{ui:D.value}),y(M)||e.avatar||s.leading?(A(),W("span",{key:0,"data-slot":"leading",class:Z(D.value.leading({class:r.ui?.leading}))},[U(ne.$slots,"leading",{ui:D.value},()=>[y(M)&&y(E)?(A(),B(tt,{key:0,name:y(E),"data-slot":"leadingIcon",class:Z(D.value.leadingIcon({class:r.ui?.leadingIcon}))},null,8,["name","class"])):e.avatar?(A(),B(On,oe({key:1,size:r.ui?.leadingAvatarSize||D.value.leadingAvatarSize()},e.avatar,{"data-slot":"leadingAvatar",class:D.value.leadingAvatar({class:r.ui?.leadingAvatar})}),null,16,["size","class"])):X("",!0)])],2)):X("",!0),y(I)||s.trailing?(A(),W("span",{key:1,"data-slot":"trailing",class:Z(D.value.trailing({class:r.ui?.trailing}))},[U(ne.$slots,"trailing",{ui:D.value},()=>[y(P)?(A(),B(tt,{key:0,name:y(P),"data-slot":"trailingIcon",class:Z(D.value.trailingIcon({class:r.ui?.trailingIcon}))},null,8,["name","class"])):X("",!0)])],2)):X("",!0)]),_:3},8,["as","class"]))}}),Twe={class:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 p-4"},Ewe={class:"w-full max-w-md"},Iwe={class:"flex items-center justify-between"},Pwe={__name:"Login",setup(e){const t=Ih(),n=K(!1),r=Rt({email:"",password:"",remember:!1}),o=()=>{r.post("/login",{onFinish:()=>r.reset("password"),onError:a=>{const i=a.email||a.password||"Login gagal. Silakan coba lagi.";t.add({title:"Login Gagal",description:i,icon:"i-lucide-x-circle",color:"error"})},onSuccess:()=>{t.add({title:"Login Berhasil",description:"Selamat datang kembali!",icon:"i-lucide-check-circle",color:"success"})}})},s=a=>({"google.redirect":"/auth/google"})[a]||"#";return(a,i)=>{const l=bt,c=qt,u=We,d=ii,f=xwe,p=ht,m=Wj;return A(),B(m,{toaster:{position:"top-right"}},{default:S(()=>[k("div",Twe,[k("div",Ewe,[_(p,null,{header:S(()=>[...i[6]||(i[6]=[k("div",{class:"text-center"},[k("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"}," Masuk ke E-Sebaneh "),k("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-1"}," Masukkan email dan password Anda ")],-1)])]),footer:S(()=>[...i[10]||(i[10]=[k("p",{class:"text-center text-sm text-gray-500 dark:text-gray-400"}," Belum punya akun? Hubungi administrator. ",-1)])]),default:S(()=>[k("form",{onSubmit:lt(o,["prevent"]),class:"space-y-4"},[_(c,{label:"Email",required:"",error:y(r).errors.email},{default:S(()=>[_(l,{modelValue:y(r).email,"onUpdate:modelValue":i[0]||(i[0]=h=>y(r).email=h),type:"email",placeholder:"email@example.com",icon:"i-lucide-mail",size:"lg",class:"w-full",disabled:y(r).processing,onInput:i[1]||(i[1]=h=>y(r).clearErrors("email"))},null,8,["modelValue","disabled"])]),_:1},8,["error"]),_(c,{label:"Password",required:"",error:y(r).errors.password},{default:S(()=>[_(l,{modelValue:y(r).password,"onUpdate:modelValue":i[3]||(i[3]=h=>y(r).password=h),type:n.value?"text":"password",placeholder:"",icon:"i-lucide-lock",size:"lg",class:"w-full",disabled:y(r).processing,onInput:i[4]||(i[4]=h=>y(r).clearErrors("password"))},{trailing:S(()=>[_(u,{color:"neutral",variant:"ghost",size:"xs",icon:n.value?"i-lucide-eye-off":"i-lucide-eye",onClick:i[2]||(i[2]=h=>n.value=!n.value)},null,8,["icon"])]),_:1},8,["modelValue","type","disabled"])]),_:1},8,["error"]),k("div",Iwe,[_(d,{modelValue:y(r).remember,"onUpdate:modelValue":i[5]||(i[5]=h=>y(r).remember=h),label:"Ingat saya"},null,8,["modelValue"])]),_(u,{type:"submit",color:"primary",size:"lg",block:"",loading:y(r).processing},{default:S(()=>[...i[7]||(i[7]=[J(" Masuk ",-1)])]),_:1},8,["loading"])],32),_(f,{label:"Atau",class:"my-6"}),_(u,{color:"neutral",variant:"outline",size:"lg",block:"",href:s("google.redirect"),as:"a"},{leading:S(()=>[...i[8]||(i[8]=[k("svg",{class:"w-5 h-5",viewBox:"0 0 24 24"},[k("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),k("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),k("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),k("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})],-1)])]),default:S(()=>[i[9]||(i[9]=J(" Masuk dengan Google ",-1))]),_:1},8,["href"])]),_:1})])])]),_:1})}}},Owe=Object.freeze(Object.defineProperty({__proto__:null,default:Pwe},Symbol.toStringTag,{value:"Module"})),Gj=(e,t={},{collapsed:n=K(!1)}={})=>{const r=K(null),o=H(()=>({side:"left",minSize:0,maxSize:100,defaultSize:0,storage:"cookie",persistent:!0,collapsible:!1,collapsedSize:0,resizable:!0,unit:"%",...Zt(t)?t.value:t})),{dir:s}=oo(),a={size:o.value.defaultSize,collapsed:y(n)??!1},i=o.value.persistent&&(o.value.resizable||o.value.collapsible)?o.value.storage==="cookie"?Wbe(e,{default:()=>a}):_3(e,a):K(a),l=H({get:()=>i.value.collapsed,set:$=>{o.value.collapsible&&(Zt(n)&&(n.value=$),i.value.collapsed=$)}}),c=K(o.value.defaultSize),u=H({get:()=>i.value.size,set:$=>{i.value.size=$}}),d=H(()=>l.value?o.value.collapsedSize:u.value),f=K(!1),p=($,C,M)=>{if(!r.value||!o.value.resizable)return;const I=r.value.parentElement?.offsetWidth||1,E=s.value==="rtl";let P;E?P=o.value.side==="left"?C-$.clientX:$.clientX-C:P=o.value.side==="left"?$.clientX-C:C-$.clientX;const O=M+P;let D;if(o.value.unit==="rem"){const L=Number.parseFloat(getComputedStyle(document.documentElement).fontSize);D=O/L}else o.value.unit==="px"?D=O:D=O/I*100;if(o.value.collapsible&&D<o.value.collapsedSize+4){x(!0);return}else l.value&&x(!1);u.value=Math.min(o.value.maxSize,Math.max(o.value.minSize,D))},m=$=>{if(!r.value||!o.value.resizable)return;$.preventDefault(),$.stopPropagation();const C=r.value.getBoundingClientRect().width;if(!C)return;const M=$.clientX,I=C;f.value=!0;const E=O=>{p(O,M,I)},P=()=>{f.value=!1,document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",P)};document.addEventListener("mousemove",E),document.addEventListener("mouseup",P)},h=($,C,M)=>{if(!r.value||!o.value.resizable||!$.touches[0])return;const I=r.value.parentElement?.offsetWidth||1,E=s.value==="rtl";let P;E?P=o.value.side==="left"?C-$.touches[0].clientX:$.touches[0].clientX-C:P=o.value.side==="left"?$.touches[0].clientX-C:C-$.touches[0].clientX;const O=M+P;let D;if(o.value.unit==="rem"){const L=Number.parseFloat(getComputedStyle(document.documentElement).fontSize);D=O/L}else o.value.unit==="px"?D=O:D=O/I*100;if(o.value.collapsible&&D<o.value.collapsedSize+4){x(!0);return}else l.value&&x(!1);u.value=Math.min(o.value.maxSize,Math.max(o.value.minSize,D))},g=$=>{if(!r.value||!o.value.resizable||!$.touches[0])return;$.preventDefault(),$.stopPropagation();const C=r.value.getBoundingClientRect().width;if(!C)return;const M=$.touches[0].clientX,I=C;f.value=!0;const E=O=>{h(O,M,I)},P=()=>{f.value=!1,document.removeEventListener("touchmove",E),document.removeEventListener("touchend",P),document.removeEventListener("touchcancel",P)};document.addEventListener("touchmove",E,{passive:!1}),document.addEventListener("touchend",P),document.addEventListener("touchcancel",P)},v=$=>{!r.value||!o.value.resizable||($.preventDefault(),$.stopPropagation(),l.value&&x(!1),u.value=o.value.defaultSize)},x=$=>{if(!o.value.collapsible)return;const C=$??!l.value;C&&!l.value?c.value=u.value:!C&&l.value&&(u.value=c.value),l.value=C};return Zt(n)&&i.value.collapsed&&(n.value=i.value.collapsed),Zt(n)&&He(n,$=>{o.value.collapsible&&i.value.collapsed!==$&&(i.value.collapsed=$)}),{el:r,size:d,isDragging:f,isCollapsed:l,onMouseDown:m,onTouchStart:g,onDoubleClick:v,collapse:x}},[wf,Rwe]=Ft("DashboardGroup"),Bwe={base:"hidden lg:block touch-none select-none cursor-ew-resize relative before:absolute before:inset-y-0 before:-left-1.5 before:-right-1.5 before:z-1"},Jj={__name:"DashboardResizeHandle",props:{as:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,n=Bt(),r=H(()=>Ye({extend:Ye(Bwe),...n.ui?.dashboardResizeHandle||{}}));return(o,s)=>(A(),B(y(Le),{as:e.as,role:"separator",class:Z(r.value({class:t.class}))},{default:S(()=>[U(o.$slots,"default")]),_:3},8,["as","class"]))}},Nwe={slots:{root:"relative flex flex-col min-w-0 min-h-svh lg:not-last:border-e lg:not-last:border-default shrink-0",body:"flex flex-col gap-4 sm:gap-6 flex-1 overflow-y-auto p-4 sm:p-6",handle:""},variants:{size:{true:{root:"w-full lg:w-(--width)"},false:{root:"flex-1"}}}},Dwe=["data-dragging"],Oh=Object.assign({inheritAttrs:!1},{__name:"DashboardPanel",props:{class:{type:null,required:!1},ui:{type:null,required:!1},id:{type:String,required:!1},minSize:{type:Number,required:!1,default:15},maxSize:{type:Number,required:!1},defaultSize:{type:Number,required:!1},resizable:{type:Boolean,required:!1,default:!1}},setup(e){const t=e,n=Bt(),r=wf({storageKey:"dashboard",unit:"%"}),o=`${r.storageKey}-panel-${t.id||ol()}`,{el:s,size:a,isDragging:i,onMouseDown:l,onTouchStart:c,onDoubleClick:u}=Gj(o,Nt(()=>({...r,...t}))),d=H(()=>Ye({extend:Ye(Nwe),...n.ui?.dashboardPanel||{}})({size:!!a.value}));return(f,p)=>(A(),W(Ee,null,[k("div",oe({id:o,ref_key:"el",ref:s},f.$attrs,{"data-dragging":y(i),"data-slot":"root",class:d.value.root({class:[t.ui?.root,t.class]}),style:[y(a)?{"--width":`${y(a)}${y(r).unit}`}:void 0]}),[U(f.$slots,"default",{},()=>[U(f.$slots,"header"),k("div",{"data-slot":"body",class:Z(d.value.body({class:t.ui?.body}))},[U(f.$slots,"body")],2),U(f.$slots,"footer")])],16,Dwe),U(f.$slots,"resize-handle",{onMouseDown:y(l),onTouchStart:y(c),onDoubleClick:y(u)},()=>[e.resizable?(A(),B(Jj,{key:0,"aria-controls":o,"data-slot":"handle",class:Z(d.value.handle({class:t.ui?.handle})),onMousedown:y(l),onTouchstart:y(c),onDblclick:y(u)},null,8,["class","onMousedown","onTouchstart","onDblclick"])):X("",!0)])],64))}}),Fwe={slots:{root:"relative min-w-0",list:"flex items-center gap-1.5",item:"flex min-w-0",link:"group relative flex items-center gap-1.5 text-sm min-w-0 focus-visible:outline-primary",linkLeadingIcon:"shrink-0 size-5",linkLeadingAvatar:"shrink-0",linkLeadingAvatarSize:"2xs",linkLabel:"truncate",separator:"flex",separatorIcon:"shrink-0 size-5 text-muted"},variants:{active:{true:{link:"text-primary font-semibold"},false:{link:"text-muted font-medium"}},disabled:{true:{link:"cursor-not-allowed opacity-75"}},to:{true:""}},compoundVariants:[{disabled:!1,active:!1,to:!0,class:{link:["hover:text-default","transition-colors"]}}]},qwe={__name:"Breadcrumb",props:{as:{type:null,required:!1,default:"nav"},items:{type:Array,required:!1},separatorIcon:{type:null,required:!1},labelKey:{type:null,required:!1,default:"label"},class:{type:null,required:!1},ui:{type:null,required:!1}},setup(e){const t=e,n=rn(),{dir:r}=oo(),o=Bt(),s=H(()=>t.separatorIcon||(r.value==="rtl"?o.ui.icons.chevronLeft:o.ui.icons.chevronRight)),a=H(()=>Ye({extend:Ye(Fwe),...o.ui?.breadcrumb||{}})());return(i,l)=>(A(),B(y(Le),{as:e.as,"aria-label":"breadcrumb","data-slot":"root",class:Z(a.value.root({class:[t.ui?.root,t.class]}))},{default:S(()=>[k("ol",{"data-slot":"list",class:Z(a.value.list({class:t.ui?.list}))},[(A(!0),W(Ee,null,Ve(e.items,(c,u)=>(A(),W(Ee,{key:u},[k("li",{"data-slot":"item",class:Z(a.value.item({class:[t.ui?.item,c.ui?.item]}))},[_(Wi,oe({ref_for:!0},y(pc)(c),{custom:""}),{default:S(({active:d,...f})=>[_(Va,oe({ref_for:!0},f,{as:"span","aria-current":(c.active??d)&&u===e.items.length-1?"page":void 0,"data-slot":"link",class:a.value.link({class:[t.ui?.link,c.ui?.link,c.class],active:c.active??u===e.items.length-1,disabled:!!c.disabled,to:!!c.to})}),{default:S(()=>[U(i.$slots,c.slot||"item",{item:c,active:c.active??u===e.items.length-1,index:u,ui:a.value},()=>[U(i.$slots,c.slot?`${c.slot}-leading`:"item-leading",{item:c,active:c.active??u===e.items.length-1,index:u,ui:a.value},()=>[c.icon?(A(),B(tt,{key:0,name:c.icon,"data-slot":"linkLeadingIcon",class:Z(a.value.linkLeadingIcon({class:[t.ui?.linkLeadingIcon,c.ui?.linkLeadingIcon],active:c.active??u===e.items.length-1}))},null,8,["name","class"])):c.avatar?(A(),B(On,oe({key:1,size:t.ui?.linkLeadingAvatarSize||a.value.linkLeadingAvatarSize()},{ref_for:!0},c.avatar,{"data-slot":"linkLeadingAvatar",class:a.value.linkLeadingAvatar({class:[t.ui?.linkLeadingAvatar,c.ui?.linkLeadingAvatar],active:c.active??u===e.items.length-1})}),null,16,["size","class"])):X("",!0)]),y(Pt)(c,t.labelKey)||n[c.slot?`${c.slot}-label`:"item-label"]?(A(),W("span",{key:0,"data-slot":"linkLabel",class:Z(a.value.linkLabel({class:[t.ui?.linkLabel,c.ui?.linkLabel]}))},[U(i.$slots,c.slot?`${c.slot}-label`:"item-label",{item:c,active:c.active??u===e.items.length-1,index:u},()=>[J(q(y(Pt)(c,t.labelKey)),1)])],2)):X("",!0),U(i.$slots,c.slot?`${c.slot}-trailing`:"item-trailing",{item:c,active:c.active??u===e.items.length-1,index:u})])]),_:2},1040,["aria-current","class"])]),_:2},1040)],2),u<e.items.length-1?(A(),W("li",{key:0,role:"presentation","aria-hidden":"true","data-slot":"separator",class:Z(a.value.separator({class:[t.ui?.separator,c.ui?.separator]}))},[U(i.$slots,"separator",{ui:a.value},()=>[_(tt,{name:s.value,"data-slot":"separatorIcon",class:Z(a.value.separatorIcon({class:[t.ui?.separatorIcon,c.ui?.separatorIcon]}))},null,8,["name","class"])])],2)):X("",!0)],64))),128))],2)]),_:3},8,["as","class"]))}},zwe={base:"lg:hidden",variants:{side:{left:"",right:""}}},Yj=Object.assign({inheritAttrs:!1},{__name:"DashboardSidebarToggle",props:{color:{type:null,required:!1,default:"neutral"},variant:{type:null,required:!1,default:"ghost"},side:{type:String,required:!1,default:"left"},label:{type:String,required:!1},activeColor:{type:null,required:!1},activeVariant:{type:null,required:!1},size:{type:null,required:!1},square:{type:Boolean,required:!1},block:{type:Boolean,required:!1},loadingAuto:{type:Boolean,required:!1},onClick:{type:[Function,Array],required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},icon:{type:null,required:!1},avatar:{type:Object,required:!1},leading:{type:Boolean,required:!1},leadingIcon:{type:null,required:!1},trailing:{type:Boolean,required:!1},trailingIcon:{type:null,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:null,required:!1},as:{type:null,required:!1},type:{type:null,required:!1},disabled:{type:Boolean,required:!1},exactActiveClass:{type:String,required:!1},viewTransition:{type:Boolean,required:!1}},setup(e){const t=e,n=jn(kh(t,"icon","side","class")),{t:r}=oo(),o=Bt(),{sidebarOpen:s,toggleSidebar:a}=wf({sidebarOpen:K(!1),toggleSidebar:()=>{}}),i=H(()=>Ye({extend:Ye(zwe),...o.ui?.dashboardSidebarToggle||{}}));return(l,c)=>(A(),B(We,oe({...y(n),icon:t.icon||(y(s)?y(o).ui.icons.close:y(o).ui.icons.menu),"aria-label":y(s)?y(r)("dashboardSidebarToggle.close"):y(r)("dashboardSidebarToggle.open"),...l.$attrs},{class:i.value({class:t.class,side:t.side}),onClick:y(a)}),null,16,["class","onClick"]))}}),Lwe={slots:{root:"h-(--ui-header-height) shrink-0 flex items-center justify-between border-b border-default px-4 sm:px-6 gap-1.5",left:"flex items-center gap-1.5 min-w-0",icon:"shrink-0 size-5 self-center me-1.5",title:"flex items-center gap-1.5 font-semibold text-highlighted truncate",center:"hidden lg:flex",right:"flex items-center shrink-0 gap-1.5",toggle:""},variants:{toggleSide:{left:{toggle:""},right:{toggle:""}}}},Rh=Object.assign({inheritAttrs:!1},{__name:"DashboardNavbar",props:{as:{type:null,required:!1},icon:{type:null,required:!1},title:{type:String,required:!1},toggle:{type:[Boolean,Object],required:!1,default:!0},toggleSide:{type:String,required:!1,default:"left"},class:{type:null,required:!1},ui:{type:null,required:!1}},setup(e){const t=e,n=rn(),r=Bt(),o=wf({}),[s,a]=Rs(),i=H(()=>Ye({extend:Ye(Lwe),...r.ui?.dashboardNavbar||{}})());return(l,c)=>(A(),W(Ee,null,[_(y(s),null,{default:S(()=>[U(l.$slots,"toggle",rt(ct({...y(o),ui:i.value})),()=>[e.toggle?(A(),B(Yj,oe({key:0},typeof e.toggle=="object"?e.toggle:{},{side:e.toggleSide,"data-slot":"toggle",class:i.value.toggle({class:t.ui?.toggle,toggleSide:e.toggleSide})}),null,16,["side","class"])):X("",!0)])]),_:3}),_(y(Le),oe({as:e.as},l.$attrs,{"data-slot":"root",class:i.value.root({class:[t.ui?.root,t.class]})}),{default:S(()=>[k("div",{"data-slot":"left",class:Z(i.value.left({class:t.ui?.left}))},[e.toggleSide==="left"?(A(),B(y(a),{key:0})):X("",!0),U(l.$slots,"left",rt(ct(y(o))),()=>[U(l.$slots,"leading",rt(ct({...y(o),ui:i.value})),()=>[e.icon?(A(),B(tt,{key:0,name:e.icon,"data-slot":"icon",class:Z(i.value.icon({class:t.ui?.icon}))},null,8,["name","class"])):X("",!0)]),k("h1",{"data-slot":"title",class:Z(i.value.title({class:t.ui?.title}))},[U(l.$slots,"title",{},()=>[J(q(e.title),1)])],2),U(l.$slots,"trailing",rt(ct({...y(o),ui:i.value})))])],2),n.default?(A(),W("div",{key:0,"data-slot":"center",class:Z(i.value.center({class:t.ui?.center}))},[U(l.$slots,"default",rt(ct(y(o))))],2)):X("",!0),k("div",{"data-slot":"right",class:Z(i.value.right({class:t.ui?.right}))},[U(l.$slots,"right",rt(ct(y(o)))),e.toggleSide==="right"?(A(),B(y(a),{key:0})):X("",!0)],2)]),_:3},16,["as","class"])],64))}}),jwe={base:"hidden lg:flex",variants:{side:{left:"",right:""}}},kM={__name:"DashboardSidebarCollapse",props:{color:{type:null,required:!1,default:"neutral"},variant:{type:null,required:!1,default:"ghost"},side:{type:String,required:!1,default:"left"},label:{type:String,required:!1},activeColor:{type:null,required:!1},activeVariant:{type:null,required:!1},size:{type:null,required:!1},square:{type:Boolean,required:!1},block:{type:Boolean,required:!1},loadingAuto:{type:Boolean,required:!1},onClick:{type:[Function,Array],required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},icon:{type:null,required:!1},avatar:{type:Object,required:!1},leading:{type:Boolean,required:!1},leadingIcon:{type:null,required:!1},trailing:{type:Boolean,required:!1},trailingIcon:{type:null,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:null,required:!1},as:{type:null,required:!1},type:{type:null,required:!1},disabled:{type:Boolean,required:!1},exactActiveClass:{type:String,required:!1},viewTransition:{type:Boolean,required:!1}},setup(e){const t=e,n=jn(kh(t,"icon","side","class")),{t:r}=oo(),o=Bt(),{sidebarCollapsed:s,collapseSidebar:a}=wf({sidebarCollapsed:K(!1),collapseSidebar:()=>{}}),i=H(()=>Ye({extend:Ye(jwe),...o.ui?.dashboardSidebarCollapse||{}}));return(l,c)=>(A(),B(We,oe({...y(n),icon:t.icon||(y(s)?y(o).ui.icons.panelOpen:y(o).ui.icons.panelClose),"aria-label":y(s)?y(r)("dashboardSidebarCollapse.expand"):y(r)("dashboardSidebarCollapse.collapse"),...l.$attrs},{class:i.value({class:t.class,side:t.side}),onClick:c[0]||(c[0]=u=>y(a)?.(!y(s)))}),null,16,["class"]))}},Vwe={base:"fixed inset-0 flex overflow-hidden"},Uwe={__name:"DashboardGroup",props:{as:{type:null,required:!1},class:{type:null,required:!1},storage:{type:String,required:!1,default:"cookie"},storageKey:{type:String,required:!1,default:"dashboard"},persistent:{type:Boolean,required:!1,default:!0},unit:{type:String,required:!1,default:"%"}},setup(e){const t=e,n=vM(),r=Bt(),o=H(()=>Ye({extend:Ye(Vwe),...r.ui?.dashboardGroup||{}})),s=K(!1),a=K(!1);return Rwe({storage:t.storage,storageKey:t.storageKey,persistent:t.persistent,unit:t.unit,sidebarOpen:s,toggleSidebar:()=>{n.hooks.callHook("dashboard:sidebar:toggle")},sidebarCollapsed:a,collapseSidebar:i=>{n.hooks.callHook("dashboard:sidebar:collapse",i)},toggleSearch:()=>{n.hooks.callHook("dashboard:search:toggle")}}),(i,l)=>(A(),B(y(Le),{as:e.as,class:Z(o.value({class:t.class}))},{default:S(()=>[U(i.$slots,"default")]),_:3},8,["as","class"]))}};function tl(e){return Array.isArray?Array.isArray(e):Zj(e)==="[object Array]"}function Kwe(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function Hwe(e){return e==null?"":Kwe(e)}function Ja(e){return typeof e=="string"}function Qj(e){return typeof e=="number"}function Wwe(e){return e===!0||e===!1||Gwe(e)&&Zj(e)=="[object Boolean]"}function Xj(e){return typeof e=="object"}function Gwe(e){return Xj(e)&&e!==null}function Es(e){return e!=null}function K1(e){return!e.trim().length}function Zj(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const Jwe="Incorrect 'index' type",Ywe=e=>`Invalid value for key ${e}`,Qwe=e=>`Pattern length exceeds max of ${e}.`,Xwe=e=>`Missing ${e} property in key`,Zwe=e=>`Property 'weight' in key '${e}' must be a positive integer`,tB=Object.prototype.hasOwnProperty;class eke{constructor(t){this._keys=[],this._keyMap={};let n=0;t.forEach(r=>{let o=eV(r);this._keys.push(o),this._keyMap[o.id]=o,n+=o.weight}),this._keys.forEach(r=>{r.weight/=n})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function eV(e){let t=null,n=null,r=null,o=1,s=null;if(Ja(e)||tl(e))r=e,t=nB(e),n=c$(e);else{if(!tB.call(e,"name"))throw new Error(Xwe("name"));const a=e.name;if(r=a,tB.call(e,"weight")&&(o=e.weight,o<=0))throw new Error(Zwe(a));t=nB(a),n=c$(a),s=e.getFn}return{path:t,id:n,weight:o,src:r,getFn:s}}function nB(e){return tl(e)?e:e.split(".")}function c$(e){return tl(e)?e.join("."):e}function tke(e,t){let n=[],r=!1;const o=(s,a,i)=>{if(Es(s))if(!a[i])n.push(s);else{let l=a[i];const c=s[l];if(!Es(c))return;if(i===a.length-1&&(Ja(c)||Qj(c)||Wwe(c)))n.push(Hwe(c));else if(tl(c)){r=!0;for(let u=0,d=c.length;u<d;u+=1)o(c[u],a,i+1)}else a.length&&o(c,a,i+1)}};return o(e,Ja(t)?t.split("."):t,0),r?n:n[0]}const nke={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},rke={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},oke={location:0,threshold:.6,distance:100},ske={useExtendedSearch:!1,getFn:tke,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var It={...rke,...nke,...oke,...ske};const ake=/[^ ]+/g;function ike(e=1,t=3){const n=new Map,r=Math.pow(10,t);return{get(o){const s=o.match(ake).length;if(n.has(s))return n.get(s);const a=1/Math.pow(s,.5*e),i=parseFloat(Math.round(a*r)/r);return n.set(s,i),i},clear(){n.clear()}}}class _M{constructor({getFn:t=It.getFn,fieldNormWeight:n=It.fieldNormWeight}={}){this.norm=ike(n,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((n,r)=>{this._keysMap[n.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Ja(this.docs[0])?this.docs.forEach((t,n)=>{this._addString(t,n)}):this.docs.forEach((t,n)=>{this._addObject(t,n)}),this.norm.clear())}add(t){const n=this.size();Ja(t)?this._addString(t,n):this._addObject(t,n)}removeAt(t){this.records.splice(t,1);for(let n=t,r=this.size();n<r;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(t,n){return t[this._keysMap[n]]}size(){return this.records.length}_addString(t,n){if(!Es(t)||K1(t))return;let r={v:t,i:n,n:this.norm.get(t)};this.records.push(r)}_addObject(t,n){let r={i:n,$:{}};this.keys.forEach((o,s)=>{let a=o.getFn?o.getFn(t):this.getFn(t,o.path);if(Es(a)){if(tl(a)){let i=[];const l=[{nestedArrIndex:-1,value:a}];for(;l.length;){const{nestedArrIndex:c,value:u}=l.pop();if(Es(u))if(Ja(u)&&!K1(u)){let d={v:u,i:c,n:this.norm.get(u)};i.push(d)}else tl(u)&&u.forEach((d,f)=>{l.push({nestedArrIndex:f,value:d})})}r.$[s]=i}else if(Ja(a)&&!K1(a)){let i={v:a,n:this.norm.get(a)};r.$[s]=i}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function tV(e,t,{getFn:n=It.getFn,fieldNormWeight:r=It.fieldNormWeight}={}){const o=new _M({getFn:n,fieldNormWeight:r});return o.setKeys(e.map(eV)),o.setSources(t),o.create(),o}function lke(e,{getFn:t=It.getFn,fieldNormWeight:n=It.fieldNormWeight}={}){const{keys:r,records:o}=e,s=new _M({getFn:t,fieldNormWeight:n});return s.setKeys(r),s.setIndexRecords(o),s}function iv(e,{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:o=It.distance,ignoreLocation:s=It.ignoreLocation}={}){const a=t/e.length;if(s)return a;const i=Math.abs(r-n);return o?a+i/o:i?1:a}function uke(e=[],t=It.minMatchCharLength){let n=[],r=-1,o=-1,s=0;for(let a=e.length;s<a;s+=1){let i=e[s];i&&r===-1?r=s:!i&&r!==-1&&(o=s-1,o-r+1>=t&&n.push([r,o]),r=-1)}return e[s-1]&&s-r>=t&&n.push([r,s-1]),n}const Fu=32;function cke(e,t,n,{location:r=It.location,distance:o=It.distance,threshold:s=It.threshold,findAllMatches:a=It.findAllMatches,minMatchCharLength:i=It.minMatchCharLength,includeMatches:l=It.includeMatches,ignoreLocation:c=It.ignoreLocation}={}){if(t.length>Fu)throw new Error(Qwe(Fu));const u=t.length,d=e.length,f=Math.max(0,Math.min(r,d));let p=s,m=f;const h=i>1||l,g=h?Array(d):[];let v;for(;(v=e.indexOf(t,m))>-1;){let E=iv(t,{currentLocation:v,expectedLocation:f,distance:o,ignoreLocation:c});if(p=Math.min(E,p),m=v+u,h){let P=0;for(;P<u;)g[v+P]=1,P+=1}}m=-1;let x=[],$=1,C=u+d;const M=1<<u-1;for(let E=0;E<u;E+=1){let P=0,O=C;for(;P<O;)iv(t,{errors:E,currentLocation:f+O,expectedLocation:f,distance:o,ignoreLocation:c})<=p?P=O:C=O,O=Math.floor((C-P)/2+P);C=O;let D=Math.max(1,f-O+1),L=a?d:Math.min(f+O,d)+u,V=Array(L+2);V[L+1]=(1<<E)-1;for(let z=L;z>=D;z-=1){let N=z-1,ee=n[e.charAt(N)];if(h&&(g[N]=+!!ee),V[z]=(V[z+1]<<1|1)&ee,E&&(V[z]|=(x[z+1]|x[z])<<1|1|x[z+1]),V[z]&M&&($=iv(t,{errors:E,currentLocation:N,expectedLocation:f,distance:o,ignoreLocation:c}),$<=p)){if(p=$,m=N,m<=f)break;D=Math.max(1,2*f-m)}}if(iv(t,{errors:E+1,currentLocation:f,expectedLocation:f,distance:o,ignoreLocation:c})>p)break;x=V}const I={isMatch:m>=0,score:Math.max(.001,$)};if(h){const E=uke(g,i);E.length?l&&(I.indices=E):I.isMatch=!1}return I}function dke(e){let t={};for(let n=0,r=e.length;n<r;n+=1){const o=e.charAt(n);t[o]=(t[o]||0)|1<<r-n-1}return t}const wb=String.prototype.normalize?(e=>e.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,"")):(e=>e);class nV{constructor(t,{location:n=It.location,threshold:r=It.threshold,distance:o=It.distance,includeMatches:s=It.includeMatches,findAllMatches:a=It.findAllMatches,minMatchCharLength:i=It.minMatchCharLength,isCaseSensitive:l=It.isCaseSensitive,ignoreDiacritics:c=It.ignoreDiacritics,ignoreLocation:u=It.ignoreLocation}={}){if(this.options={location:n,threshold:r,distance:o,includeMatches:s,findAllMatches:a,minMatchCharLength:i,isCaseSensitive:l,ignoreDiacritics:c,ignoreLocation:u},t=l?t:t.toLowerCase(),t=c?wb(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;const d=(p,m)=>{this.chunks.push({pattern:p,alphabet:dke(p),startIndex:m})},f=this.pattern.length;if(f>Fu){let p=0;const m=f%Fu,h=f-m;for(;p<h;)d(this.pattern.substr(p,Fu),p),p+=Fu;if(m){const g=f-Fu;d(this.pattern.substr(g),g)}}else d(this.pattern,0)}searchIn(t){const{isCaseSensitive:n,ignoreDiacritics:r,includeMatches:o}=this.options;if(t=n?t:t.toLowerCase(),t=r?wb(t):t,this.pattern===t){let h={isMatch:!0,score:0};return o&&(h.indices=[[0,t.length-1]]),h}const{location:s,distance:a,threshold:i,findAllMatches:l,minMatchCharLength:c,ignoreLocation:u}=this.options;let d=[],f=0,p=!1;this.chunks.forEach(({pattern:h,alphabet:g,startIndex:v})=>{const{isMatch:x,score:$,indices:C}=cke(t,h,g,{location:s+v,distance:a,threshold:i,findAllMatches:l,minMatchCharLength:c,includeMatches:o,ignoreLocation:u});x&&(p=!0),f+=$,x&&C&&(d=[...d,...C])});let m={isMatch:p,score:p?f/this.chunks.length:1};return p&&o&&(m.indices=d),m}}class ou{constructor(t){this.pattern=t}static isMultiMatch(t){return rB(t,this.multiRegex)}static isSingleMatch(t){return rB(t,this.singleRegex)}search(){}}function rB(e,t){const n=e.match(t);return n?n[1]:null}class fke extends ou{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const n=t===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class pke extends ou{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const r=t.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class mke extends ou{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const n=t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class hke extends ou{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const n=!t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class gke extends ou{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const n=t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class vke extends ou{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const n=!t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class rV extends ou{constructor(t,{location:n=It.location,threshold:r=It.threshold,distance:o=It.distance,includeMatches:s=It.includeMatches,findAllMatches:a=It.findAllMatches,minMatchCharLength:i=It.minMatchCharLength,isCaseSensitive:l=It.isCaseSensitive,ignoreDiacritics:c=It.ignoreDiacritics,ignoreLocation:u=It.ignoreLocation}={}){super(t),this._bitapSearch=new nV(t,{location:n,threshold:r,distance:o,includeMatches:s,findAllMatches:a,minMatchCharLength:i,isCaseSensitive:l,ignoreDiacritics:c,ignoreLocation:u})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class oV extends ou{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let n=0,r;const o=[],s=this.pattern.length;for(;(r=t.indexOf(this.pattern,n))>-1;)n=r+s,o.push([r,n-1]);const a=!!o.length;return{isMatch:a,score:a?0:1,indices:o}}}const d$=[fke,oV,mke,hke,vke,gke,pke,rV],oB=d$.length,yke=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,bke="|";function xke(e,t={}){return e.split(bke).map(n=>{let r=n.trim().split(yke).filter(s=>s&&!!s.trim()),o=[];for(let s=0,a=r.length;s<a;s+=1){const i=r[s];let l=!1,c=-1;for(;!l&&++c<oB;){const u=d$[c];let d=u.isMultiMatch(i);d&&(o.push(new u(d,t)),l=!0)}if(!l)for(c=-1;++c<oB;){const u=d$[c];let d=u.isSingleMatch(i);if(d){o.push(new u(d,t));break}}}return o})}const wke=new Set([rV.type,oV.type]);class kke{constructor(t,{isCaseSensitive:n=It.isCaseSensitive,ignoreDiacritics:r=It.ignoreDiacritics,includeMatches:o=It.includeMatches,minMatchCharLength:s=It.minMatchCharLength,ignoreLocation:a=It.ignoreLocation,findAllMatches:i=It.findAllMatches,location:l=It.location,threshold:c=It.threshold,distance:u=It.distance}={}){this.query=null,this.options={isCaseSensitive:n,ignoreDiacritics:r,includeMatches:o,minMatchCharLength:s,findAllMatches:i,ignoreLocation:a,location:l,threshold:c,distance:u},t=n?t:t.toLowerCase(),t=r?wb(t):t,this.pattern=t,this.query=xke(this.pattern,this.options)}static condition(t,n){return n.useExtendedSearch}searchIn(t){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:o,ignoreDiacritics:s}=this.options;t=o?t:t.toLowerCase(),t=s?wb(t):t;let a=0,i=[],l=0;for(let c=0,u=n.length;c<u;c+=1){const d=n[c];i.length=0,a=0;for(let f=0,p=d.length;f<p;f+=1){const m=d[f],{isMatch:h,indices:g,score:v}=m.search(t);if(h){if(a+=1,l+=v,r){const x=m.constructor.type;wke.has(x)?i=[...i,...g]:i.push(g)}}else{l=0,a=0,i.length=0;break}}if(a){let f={isMatch:!0,score:l/a};return r&&(f.indices=i),f}}return{isMatch:!1,score:1}}}const f$=[];function _ke(...e){f$.push(...e)}function p$(e,t){for(let n=0,r=f$.length;n<r;n+=1){let o=f$[n];if(o.condition(e,t))return new o(e,t)}return new nV(e,t)}const kb={AND:"$and",OR:"$or"},m$={PATH:"$path",PATTERN:"$val"},h$=e=>!!(e[kb.AND]||e[kb.OR]),Ske=e=>!!e[m$.PATH],$ke=e=>!tl(e)&&Xj(e)&&!h$(e),sB=e=>({[kb.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function sV(e,t,{auto:n=!0}={}){const r=o=>{let s=Object.keys(o);const a=Ske(o);if(!a&&s.length>1&&!h$(o))return r(sB(o));if($ke(o)){const l=a?o[m$.PATH]:s[0],c=a?o[m$.PATTERN]:o[l];if(!Ja(c))throw new Error(Ywe(l));const u={keyId:c$(l),pattern:c};return n&&(u.searcher=p$(c,t)),u}let i={children:[],operator:s[0]};return s.forEach(l=>{const c=o[l];tl(c)&&c.forEach(u=>{i.children.push(r(u))})}),i};return h$(e)||(e=sB(e)),r(e)}function Cke(e,{ignoreFieldNorm:t=It.ignoreFieldNorm}){e.forEach(n=>{let r=1;n.matches.forEach(({key:o,norm:s,score:a})=>{const i=o?o.weight:null;r*=Math.pow(a===0&&i?Number.EPSILON:a,(i||1)*(t?1:s))}),n.score=r})}function Mke(e,t){const n=e.matches;t.matches=[],Es(n)&&n.forEach(r=>{if(!Es(r.indices)||!r.indices.length)return;const{indices:o,value:s}=r;let a={indices:o,value:s};r.key&&(a.key=r.key.src),r.idx>-1&&(a.refIndex=r.idx),t.matches.push(a)})}function Ake(e,t){t.score=e.score}function Tke(e,t,{includeMatches:n=It.includeMatches,includeScore:r=It.includeScore}={}){const o=[];return n&&o.push(Mke),r&&o.push(Ake),e.map(s=>{const{idx:a}=s,i={item:t[a],refIndex:a};return o.length&&o.forEach(l=>{l(s,i)}),i})}class kf{constructor(t,n={},r){this.options={...It,...n},this.options.useExtendedSearch,this._keyStore=new eke(this.options.keys),this.setCollection(t,r)}setCollection(t,n){if(this._docs=t,n&&!(n instanceof _M))throw new Error(Jwe);this._myIndex=n||tV(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){Es(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const n=[];for(let r=0,o=this._docs.length;r<o;r+=1){const s=this._docs[r];t(s,r)&&(this.removeAt(r),r-=1,o-=1,n.push(s))}return n}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:n=-1}={}){const{includeMatches:r,includeScore:o,shouldSort:s,sortFn:a,ignoreFieldNorm:i}=this.options;let l=Ja(t)?Ja(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return Cke(l,{ignoreFieldNorm:i}),s&&l.sort(a),Qj(n)&&n>-1&&(l=l.slice(0,n)),Tke(l,this._docs,{includeMatches:r,includeScore:o})}_searchStringList(t){const n=p$(t,this.options),{records:r}=this._myIndex,o=[];return r.forEach(({v:s,i:a,n:i})=>{if(!Es(s))return;const{isMatch:l,score:c,indices:u}=n.searchIn(s);l&&o.push({item:s,idx:a,matches:[{score:c,value:s,norm:i,indices:u}]})}),o}_searchLogical(t){const n=sV(t,this.options),r=(i,l,c)=>{if(!i.children){const{keyId:d,searcher:f}=i,p=this._findMatches({key:this._keyStore.get(d),value:this._myIndex.getValueForItemAtKeyId(l,d),searcher:f});return p&&p.length?[{idx:c,item:l,matches:p}]:[]}const u=[];for(let d=0,f=i.children.length;d<f;d+=1){const p=i.children[d],m=r(p,l,c);if(m.length)u.push(...m);else if(i.operator===kb.AND)return[]}return u},o=this._myIndex.records,s={},a=[];return o.forEach(({$:i,i:l})=>{if(Es(i)){let c=r(n,i,l);c.length&&(s[l]||(s[l]={idx:l,item:i,matches:[]},a.push(s[l])),c.forEach(({matches:u})=>{s[l].matches.push(...u)}))}}),a}_searchObjectList(t){const n=p$(t,this.options),{keys:r,records:o}=this._myIndex,s=[];return o.forEach(({$:a,i})=>{if(!Es(a))return;let l=[];r.forEach((c,u)=>{l.push(...this._findMatches({key:c,value:a[u],searcher:n}))}),l.length&&s.push({idx:i,item:a,matches:l})}),s}_findMatches({key:t,value:n,searcher:r}){if(!Es(n))return[];let o=[];if(tl(n))n.forEach(({v:s,i:a,n:i})=>{if(!Es(s))return;const{isMatch:l,score:c,indices:u}=r.searchIn(s);l&&o.push({score:c,key:t,value:s,idx:a,norm:i,indices:u})});else{const{v:s,n:a}=n,{isMatch:i,score:l,indices:c}=r.searchIn(s);i&&o.push({score:l,key:t,value:s,norm:a,indices:c})}return o}}kf.version="7.1.0";kf.createIndex=tV;kf.parseIndex=lke;kf.config=It;kf.parseQuery=sV;_ke(kke);function Eke(e,t,n){const r=()=>{var s,a;return new kf((s=Ot(t))!==null&&s!==void 0?s:[],(a=Ot(n))===null||a===void 0?void 0:a.fuseOptions)},o=K(r());return He(()=>{var s;return(s=Ot(n))===null||s===void 0?void 0:s.fuseOptions},()=>{o.value=r()},{deep:!0}),He(()=>Ot(t),s=>{o.value.setCollection(s)},{deep:!0}),{fuse:o,results:H(()=>{const s=Ot(n);if(s?.matchAllWhenSearchEmpty&&!Ot(e))return Ot(t).map((i,l)=>({item:i,refIndex:l}));const a=s?.resultLimit;return o.value.search(Ot(e),a?{limit:a}:void 0)})}}function Ike(e,t){let n="",r=0,o=!1;for(let s=e.length-1;s>=0;s--){if(e[s]===">")o=!0;else if(e[s]==="<"){o=!1,n=e[s]+n;continue}if(o||r++,r<=t)n=e[s]+n;else{n="..."+n;break}}return n}function aB(e,t,n,r){function o(s,a=[]){s=s||"";let i="",l=0;a.forEach(u=>{if(u.length===2&&u[0]===u[1])return;const d=u[1]+1,f=d-u[0]>=t.length;i+=[s.substring(l,u[0]),f&&"<mark>",s.substring(u[0],d),f&&"</mark>"].filter(Boolean).join(""),l=d}),i+=s.substring(l);const c=i.indexOf("<mark>");return c!==-1&&(i=Ike(i,i.length-c)),i}if(e.matches?.length){for(const s of e.matches)if(!(n&&s.key!==n)&&!r?.includes(s.key))return o(s.value,s.indices)}}function Pke(e,t){if(typeof e!="object"||e===null)return!1;const n=Pt(e,t);return n!=null&&n!==""}function Oke(e,t){return t?{xs:44,sm:48,md:52,lg:56,xl:60}[e]:{xs:24,sm:28,md:32,lg:36,xl:40}[e]}function aV(e,t,n){const r=n?e.some(o=>Pke(o,n)):!1;return Oke(t,r)}const Rke={base:"inline-flex items-center justify-center px-1 rounded-sm font-medium font-sans uppercase",variants:{color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},variant:{solid:"",outline:"",soft:"",subtle:""},size:{sm:"h-4 min-w-[16px] text-[10px]",md:"h-5 min-w-[20px] text-[11px]",lg:"h-6 min-w-[24px] text-[12px]"}},compoundVariants:[{color:"primary",variant:"solid",class:"text-inverted bg-primary"},{color:"secondary",variant:"solid",class:"text-inverted bg-secondary"},{color:"success",variant:"solid",class:"text-inverted bg-success"},{color:"info",variant:"solid",class:"text-inverted bg-info"},{color:"warning",variant:"solid",class:"text-inverted bg-warning"},{color:"error",variant:"solid",class:"text-inverted bg-error"},{color:"primary",variant:"outline",class:"ring ring-inset ring-primary/50 text-primary"},{color:"secondary",variant:"outline",class:"ring ring-inset ring-secondary/50 text-secondary"},{color:"success",variant:"outline",class:"ring ring-inset ring-success/50 text-success"},{color:"info",variant:"outline",class:"ring ring-inset ring-info/50 text-info"},{color:"warning",variant:"outline",class:"ring ring-inset ring-warning/50 text-warning"},{color:"error",variant:"outline",class:"ring ring-inset ring-error/50 text-error"},{color:"primary",variant:"soft",class:"text-primary bg-primary/10"},{color:"secondary",variant:"soft",class:"text-secondary bg-secondary/10"},{color:"success",variant:"soft",class:"text-success bg-success/10"},{color:"info",variant:"soft",class:"text-info bg-info/10"},{color:"warning",variant:"soft",class:"text-warning bg-warning/10"},{color:"error",variant:"soft",class:"text-error bg-error/10"},{color:"primary",variant:"subtle",class:"text-primary ring ring-inset ring-primary/25 bg-primary/10"},{color:"secondary",variant:"subtle",class:"text-secondary ring ring-inset ring-secondary/25 bg-secondary/10"},{color:"success",variant:"subtle",class:"text-success ring ring-inset ring-success/25 bg-success/10"},{color:"info",variant:"subtle",class:"text-info ring ring-inset ring-info/25 bg-info/10"},{color:"warning",variant:"subtle",class:"text-warning ring ring-inset ring-warning/25 bg-warning/10"},{color:"error",variant:"subtle",class:"text-error ring ring-inset ring-error/25 bg-error/10"},{color:"neutral",variant:"solid",class:"text-inverted bg-inverted"},{color:"neutral",variant:"outline",class:"ring ring-inset ring-accented text-default bg-default"},{color:"neutral",variant:"soft",class:"text-default bg-elevated"},{color:"neutral",variant:"subtle",class:"ring ring-inset ring-accented text-default bg-elevated"}],defaultVariants:{variant:"outline",color:"neutral",size:"md"}},jx={__name:"Kbd",props:{as:{type:null,required:!1,default:"kbd"},value:{type:null,required:!1},color:{type:null,required:!1},variant:{type:null,required:!1},size:{type:null,required:!1},class:{type:null,required:!1}},setup(e){const t=e,{getKbdKey:n}=fj(),r=Bt(),o=H(()=>Ye({extend:Ye(Rke),...r.ui?.kbd||{}}));return(s,a)=>(A(),B(y(Le),{as:e.as,class:Z(o.value({class:t.class,color:t.color,variant:t.variant,size:t.size}))},{default:S(()=>[U(s.$slots,"default",{},()=>[J(q(y(n)(e.value)),1)])]),_:3},8,["as","class"]))}},Bke={slots:{root:"flex flex-col min-h-0 min-w-0 divide-y divide-default",input:"[&>input]:h-12",close:"",back:"p-0",content:"relative overflow-hidden flex flex-col",footer:"p-1",viewport:"relative scroll-py-1 overflow-y-auto flex-1 focus:outline-none",group:"p-1 isolate",empty:"py-6 text-center text-sm text-muted",label:"p-1.5 text-xs font-semibold text-highlighted",item:"group relative w-full flex items-start gap-1.5 p-1.5 text-sm select-none outline-none before:absolute before:z-[-1] before:inset-px before:rounded-md data-disabled:cursor-not-allowed data-disabled:opacity-75",itemLeadingIcon:"shrink-0 size-5",itemLeadingAvatar:"shrink-0",itemLeadingAvatarSize:"2xs",itemLeadingChip:"shrink-0 size-5",itemLeadingChipSize:"md",itemTrailing:"ms-auto inline-flex gap-1.5 items-center",itemTrailingIcon:"shrink-0 size-5",itemTrailingHighlightedIcon:"shrink-0 size-5 text-dimmed hidden group-data-highlighted:inline-flex",itemTrailingKbds:"hidden lg:inline-flex items-center shrink-0 gap-0.5",itemTrailingKbdsSize:"md",itemWrapper:"flex-1 flex flex-col text-start min-w-0",itemLabel:"truncate space-x-1 text-dimmed",itemDescription:"truncate text-muted",itemLabelBase:"text-highlighted [&>mark]:text-inverted [&>mark]:bg-primary",itemLabelPrefix:"text-default",itemLabelSuffix:"text-dimmed [&>mark]:text-inverted [&>mark]:bg-primary"},variants:{virtualize:{true:{viewport:"p-1 isolate"},false:{viewport:"divide-y divide-default"}},active:{true:{item:"text-highlighted before:bg-elevated",itemLeadingIcon:"text-default"},false:{item:["text-default data-highlighted:not-data-disabled:text-highlighted data-highlighted:not-data-disabled:before:bg-elevated/50","transition-colors before:transition-colors"],itemLeadingIcon:["text-dimmed group-data-highlighted:not-group-data-disabled:text-default","transition-colors"]}},loading:{true:{itemLeadingIcon:"animate-spin"}}}},Nke=["innerHTML"],Dke=["innerHTML"],Fke=Object.assign({inheritAttrs:!1},{__name:"CommandPalette",props:bs({as:{type:null,required:!1},icon:{type:null,required:!1},trailingIcon:{type:null,required:!1},selectedIcon:{type:null,required:!1},childrenIcon:{type:null,required:!1},placeholder:{type:String,required:!1},autofocus:{type:Boolean,required:!1,default:!0},close:{type:[Boolean,Object],required:!1},closeIcon:{type:null,required:!1},back:{type:[Boolean,Object],required:!1,default:!0},backIcon:{type:null,required:!1},groups:{type:Array,required:!1},fuse:{type:Object,required:!1},virtualize:{type:[Boolean,Object],required:!1,default:!1},labelKey:{type:null,required:!1,default:"label"},descriptionKey:{type:null,required:!1,default:"description"},preserveGroupOrder:{type:Boolean,required:!1,default:!1},class:{type:null,required:!1},ui:{type:null,required:!1},multiple:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},modelValue:{type:null,required:!1,default:""},defaultValue:{type:null,required:!1},highlightOnHover:{type:Boolean,required:!1,default:!0},selectionBehavior:{type:String,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:null,required:!1}},{searchTerm:{type:String,default:""},searchTermModifiers:{}}),emits:bs(["update:modelValue","highlight","entryFocus","leave","update:open"],["update:searchTerm"]),setup(e,{emit:t}){const n=e,r=t,o=rn(),s=Yn(e,"searchTerm",{type:String,default:""}),{t:a}=oo(),i=Bt(),l=fn(Pn(n,"as","disabled","multiple","modelValue","defaultValue","highlightOnHover"),r),c=jn(Pn(n,"loading")),u=Nt(()=>n.virtualize?sr(typeof n.virtualize=="boolean"?{}:n.virtualize,{estimateSize:aV(E.value,"md",n.descriptionKey)}):!1),[d,f]=Rs({props:{item:{type:Object,required:!0},group:{type:Object,required:!1},index:{type:Number,required:!1}}}),p=H(()=>Ye({extend:Ye(Bke),...i.ui?.commandPalette||{}})({virtualize:!!n.virtualize})),m=H(()=>sr({},n.fuse,{fuseOptions:{ignoreLocation:!0,threshold:.1,keys:[n.labelKey,"suffix"]},resultLimit:12,matchAllWhenSearchEmpty:!0})),h=K([]),g=H(()=>h.value[h.value.length-1]?.placeholder||n.placeholder||a("commandPalette.placeholder")),v=H(()=>h.value?.length?[h.value[h.value.length-1]]:n.groups),x=H(()=>v.value?.filter(F=>F.id?!F.ignoreFilter:(console.warn("[@nuxt/ui] CommandPalette group is missing an `id` property"),!1))?.flatMap(F=>F.items?.map(z=>({...z,group:F.id}))||[])||[]),{results:$}=Eke(s,x,m),C=hce($,16,!0);function M(F,z){let N=z;return F?.postFilter&&typeof F.postFilter=="function"&&(N=F.postFilter(s.value,N)),{...F,items:N.slice(0,m.value.resultLimit).map(ee=>({...ee,labelHtml:aB(ee,s.value,n.labelKey),suffixHtml:aB(ee,s.value,void 0,[n.labelKey])}))}}const I=H(()=>{const F=v.value,z=C.value.reduce((ne,Y)=>{const{item:Re,matches:fe}=Y;return Re.group&&(ne[Re.group]||=[],ne[Re.group]?.push({...Re,matches:fe})),ne},{});if(n.preserveGroupOrder){const ne=[];for(const Y of F||[]){if(!Y.items?.length)continue;const Re=Y.ignoreFilter?Y.items:z[Y.id];if(!Re?.length)continue;const fe=M(Y,Re);fe.items?.length&&ne.push(fe)}return ne}const N=Object.entries(z).map(([ne,Y])=>{const Re=F?.find(we=>we.id===ne);if(!Re)return;const fe=M(Re,Y);return fe.items?.length?fe:void 0}).filter(ne=>!!ne);return(F?.map((ne,Y)=>({...ne,index:Y}))?.filter(ne=>ne.ignoreFilter&&ne.items?.length)?.map(ne=>({...M(ne,ne.items||[]),index:ne.index}))?.filter(ne=>ne.items?.length)||[]).reduce((ne,Y)=>(ne.splice(Y.index,0,Y),ne),[...N])}),E=H(()=>I.value.flatMap(F=>F.items||[])),P=na("rootRef");function O(F){F.children?.length&&(h.value.push({id:`history-${h.value.length}`,label:F.label,slot:F.slot,placeholder:F.placeholder,items:F.children}),s.value="",P.value?.highlightFirstItem())}function D(){h.value.length&&(h.value.pop(),s.value="",P.value?.highlightFirstItem())}function L(){s.value||D()}function V(F,z){z.children?.length?(F.preventDefault(),O(z)):z.onSelect?.(F)}return(F,z)=>(A(),W(Ee,null,[_(y(d),null,{default:S(({item:N,index:ee,group:ne})=>[_(y(qz),{value:y(Ql)(N,["matches","group","onSelect","labelHtml","suffixHtml","children"]),disabled:N.disabled,"as-child":"",onSelect:Y=>V(Y,N)},{default:S(()=>[_(Wi,oe(y(pc)(N),{custom:""}),{default:S(({active:Y,...Re})=>[_(Va,oe(Re,{"data-slot":"item",class:p.value.item({class:[n.ui?.item,N.ui?.item,N.class],active:Y||N.active})}),{default:S(()=>[U(F.$slots,N.slot||ne?.slot||"item",{item:N,index:ee,ui:p.value},()=>[U(F.$slots,N.slot?`${N.slot}-leading`:ne?.slot?`${ne.slot}-leading`:"item-leading",{item:N,index:ee,ui:p.value},()=>[N.loading?(A(),B(tt,{key:0,name:e.loadingIcon||y(i).ui.icons.loading,"data-slot":"itemLeadingIcon",class:Z(p.value.itemLeadingIcon({class:[n.ui?.itemLeadingIcon,N.ui?.itemLeadingIcon],loading:!0}))},null,8,["name","class"])):N.icon?(A(),B(tt,{key:1,name:N.icon,"data-slot":"itemLeadingIcon",class:Z(p.value.itemLeadingIcon({class:[n.ui?.itemLeadingIcon,N.ui?.itemLeadingIcon],active:Y||N.active}))},null,8,["name","class"])):N.avatar?(A(),B(On,oe({key:2,size:N.ui?.itemLeadingAvatarSize||n.ui?.itemLeadingAvatarSize||p.value.itemLeadingAvatarSize()},N.avatar,{"data-slot":"itemLeadingAvatar",class:p.value.itemLeadingAvatar({class:[n.ui?.itemLeadingAvatar,N.ui?.itemLeadingAvatar],active:Y||N.active})}),null,16,["size","class"])):N.chip?(A(),B(Lx,oe({key:3,size:N.ui?.itemLeadingChipSize||n.ui?.itemLeadingChipSize||p.value.itemLeadingChipSize(),inset:"",standalone:""},N.chip,{"data-slot":"itemLeadingChip",class:p.value.itemLeadingChip({class:[n.ui?.itemLeadingChip,N.ui?.itemLeadingChip],active:Y||N.active})}),null,16,["size","class"])):X("",!0)]),N.prefix||N.labelHtml||y(Pt)(N,n.labelKey)||N.suffixHtml||N.suffix||o[N.slot?`${N.slot}-label`:ne?.slot?`${ne.slot}-label`:"item-label"]||y(Pt)(N,n.descriptionKey)||o[N.slot?`${N.slot}-description`:ne?.slot?`${ne.slot}-description`:"item-description"]?(A(),W("span",{key:0,"data-slot":"itemWrapper",class:Z(p.value.itemWrapper({class:[n.ui?.itemWrapper,N.ui?.itemWrapper]}))},[k("span",{"data-slot":"itemLabel",class:Z(p.value.itemLabel({class:[n.ui?.itemLabel,N.ui?.itemLabel],active:Y||N.active}))},[U(F.$slots,N.slot?`${N.slot}-label`:ne?.slot?`${ne.slot}-label`:"item-label",{item:N,index:ee,ui:p.value},()=>[N.prefix?(A(),W("span",{key:0,"data-slot":"itemLabelPrefix",class:Z(p.value.itemLabelPrefix({class:[n.ui?.itemLabelPrefix,N.ui?.itemLabelPrefix]}))},q(N.prefix),3)):X("",!0),N.labelHtml?(A(),W("span",{key:1,"data-slot":"itemLabelBase",class:Z(p.value.itemLabelBase({class:[n.ui?.itemLabelBase,N.ui?.itemLabelBase],active:Y||N.active})),innerHTML:N.labelHtml},null,10,Nke)):(A(),W("span",{key:2,"data-slot":"itemLabelBase",class:Z(p.value.itemLabelBase({class:[n.ui?.itemLabelBase,N.ui?.itemLabelBase],active:Y||N.active}))},q(y(Pt)(N,n.labelKey)),3)),N.suffixHtml?(A(),W("span",{key:3,"data-slot":"itemLabelSuffix",class:Z(p.value.itemLabelSuffix({class:[n.ui?.itemLabelSuffix,N.ui?.itemLabelSuffix],active:Y||N.active})),innerHTML:N.suffixHtml},null,10,Dke)):N.suffix?(A(),W("span",{key:4,"data-slot":"itemLabelSuffix",class:Z(p.value.itemLabelSuffix({class:[n.ui?.itemLabelSuffix,N.ui?.itemLabelSuffix],active:Y||N.active}))},q(N.suffix),3)):X("",!0)])],2),y(Pt)(N,n.descriptionKey)?(A(),W("span",{key:0,"data-slot":"itemDescription",class:Z(p.value.itemDescription({class:[n.ui?.itemDescription,N.ui?.itemDescription]}))},[U(F.$slots,N.slot?`${N.slot}-description`:ne?.slot?`${ne.slot}-description`:"item-description",{item:N,index:ee,ui:p.value},()=>[J(q(y(Pt)(N,n.descriptionKey)),1)])],2)):X("",!0)],2)):X("",!0),k("span",{"data-slot":"itemTrailing",class:Z(p.value.itemTrailing({class:[n.ui?.itemTrailing,N.ui?.itemTrailing]}))},[U(F.$slots,N.slot?`${N.slot}-trailing`:ne?.slot?`${ne.slot}-trailing`:"item-trailing",{item:N,index:ee,ui:p.value},()=>[N.children&&N.children.length>0?(A(),B(tt,{key:0,name:e.childrenIcon||y(i).ui.icons.chevronRight,"data-slot":"itemTrailingIcon",class:Z(p.value.itemTrailingIcon({class:[n.ui?.itemTrailingIcon,N.ui?.itemTrailingIcon]}))},null,8,["name","class"])):N.kbds?.length?(A(),W("span",{key:1,"data-slot":"itemTrailingKbds",class:Z(p.value.itemTrailingKbds({class:[n.ui?.itemTrailingKbds,N.ui?.itemTrailingKbds]}))},[(A(!0),W(Ee,null,Ve(N.kbds,(fe,we)=>(A(),B(jx,oe({key:we,size:N.ui?.itemTrailingKbdsSize||n.ui?.itemTrailingKbdsSize||p.value.itemTrailingKbdsSize()},{ref_for:!0},typeof fe=="string"?{value:fe}:fe),null,16,["size"]))),128))],2)):ne?.highlightedIcon?(A(),B(tt,{key:2,name:ne.highlightedIcon,"data-slot":"itemTrailingHighlightedIcon",class:Z(p.value.itemTrailingHighlightedIcon({class:[n.ui?.itemTrailingHighlightedIcon,N.ui?.itemTrailingHighlightedIcon]}))},null,8,["name","class"])):X("",!0)]),N.children?.length?X("",!0):(A(),B(y(zz),{key:0,"as-child":""},{default:S(()=>[_(tt,{name:e.selectedIcon||y(i).ui.icons.check,"data-slot":"itemTrailingIcon",class:Z(p.value.itemTrailingIcon({class:[n.ui?.itemTrailingIcon,N.ui?.itemTrailingIcon]}))},null,8,["name","class"])]),_:2},1024))],2)])]),_:2},1040,["class"])]),_:2},1040)]),_:2},1032,["value","disabled","onSelect"])]),_:3}),_(y(Bz),oe({...y(l),...F.$attrs},{ref_key:"rootRef",ref:P,"selection-behavior":e.selectionBehavior,"data-slot":"root",class:p.value.root({class:[n.ui?.root,n.class]})}),{default:S(()=>[_(y(Dz),{modelValue:s.value,"onUpdate:modelValue":z[1]||(z[1]=N=>s.value=N),"as-child":""},{default:S(()=>[_(bt,oe({placeholder:g.value,variant:"none",autofocus:e.autofocus},y(c),{"loading-icon":e.loadingIcon,"trailing-icon":e.trailingIcon,icon:e.icon||y(i).ui.icons.search,"data-slot":"input",class:p.value.input({class:n.ui?.input}),onKeydown:no(L,["backspace"])}),gr({_:2},[h.value?.length&&(e.back||o.back)?{name:"leading",fn:S(()=>[U(F.$slots,"back",{ui:p.value},()=>[_(We,oe({icon:e.backIcon||y(i).ui.icons.arrowLeft,color:"neutral",variant:"link","aria-label":y(a)("commandPalette.back")},typeof e.back=="object"?e.back:{},{"data-slot":"back",class:p.value.back({class:n.ui?.back}),onClick:D}),null,16,["icon","aria-label","class"])])]),key:"0"}:void 0,e.close||o.close?{name:"trailing",fn:S(()=>[U(F.$slots,"close",{ui:p.value},()=>[e.close?(A(),B(We,oe({key:0,icon:e.closeIcon||y(i).ui.icons.close,color:"neutral",variant:"ghost","aria-label":y(a)("commandPalette.close")},typeof e.close=="object"?e.close:{},{"data-slot":"close",class:p.value.close({class:n.ui?.close}),onClick:z[0]||(z[0]=N=>r("update:open",!1))}),null,16,["icon","aria-label","class"])):X("",!0)])]),key:"1"}:void 0]),1040,["placeholder","autofocus","loading-icon","trailing-icon","icon","class"])]),_:3},8,["modelValue"]),_(y(Nz),{"data-slot":"content",class:Z(p.value.content({class:n.ui?.content}))},{default:S(()=>[I.value?.length?(A(),W("div",{key:0,role:"presentation","data-slot":"viewport",class:Z(p.value.viewport({class:n.ui?.viewport}))},[e.virtualize?(A(),B(y(Vz),oe({key:0,options:E.value,"text-content":N=>y(Pt)(N,n.labelKey)},u.value),{default:S(({option:N,virtualItem:ee})=>[_(y(f),{item:N,index:ee.index},null,8,["item","index"])]),_:1},16,["options","text-content"])):(A(!0),W(Ee,{key:1},Ve(I.value,N=>(A(),B(y(Fz),{key:`group-${N.id}`,"data-slot":"group",class:Z(p.value.group({class:n.ui?.group}))},{default:S(()=>[y(Pt)(N,n.labelKey)?(A(),B(y(Nre),{key:0,"data-slot":"label",class:Z(p.value.label({class:n.ui?.label}))},{default:S(()=>[J(q(y(Pt)(N,n.labelKey)),1)]),_:2},1032,["class"])):X("",!0),(A(!0),W(Ee,null,Ve(N.items,(ee,ne)=>(A(),B(y(f),{key:`group-${N.id}-${ne}`,item:ee,index:ne,group:N},null,8,["item","index","group"]))),128))]),_:2},1032,["class"]))),128))],2)):(A(),W("div",{key:1,"data-slot":"empty",class:Z(p.value.empty({class:n.ui?.empty}))},[U(F.$slots,"empty",{searchTerm:s.value},()=>[J(q(s.value?y(a)("commandPalette.noMatch",{searchTerm:s.value}):y(a)("commandPalette.noData")),1)])],2))]),_:3},8,["class"]),o.footer?(A(),W("div",{key:0,"data-slot":"footer",class:Z(p.value.footer({class:n.ui?.footer}))},[U(F.$slots,"footer",{ui:p.value})],2)):X("",!0)]),_:3},16,["selection-behavior","class"])],64))}}),qke={slots:{overlay:"fixed inset-0",content:"bg-default divide-y divide-default flex flex-col focus:outline-none",header:"flex items-center gap-1.5 p-4 sm:px-6 min-h-16",wrapper:"",body:"flex-1 p-4 sm:p-6",footer:"flex items-center gap-1.5 p-4 sm:px-6",title:"text-highlighted font-semibold",description:"mt-1 text-muted text-sm",close:"absolute top-4 end-4"},variants:{transition:{true:{overlay:"data-[state=open]:animate-[fade-in_200ms_ease-out] data-[state=closed]:animate-[fade-out_200ms_ease-in]",content:"data-[state=open]:animate-[scale-in_200ms_ease-out] data-[state=closed]:animate-[scale-out_200ms_ease-in]"}},fullscreen:{true:{content:"inset-0"},false:{content:"w-[calc(100vw-2rem)] max-w-lg rounded-lg shadow-lg ring ring-default"}},overlay:{true:{overlay:"bg-elevated/75"}},scrollable:{true:{overlay:"overflow-y-auto",content:"relative"},false:{content:"fixed",body:"overflow-y-auto"}}},compoundVariants:[{scrollable:!0,fullscreen:!1,class:{overlay:"grid place-items-center p-4 sm:py-8"}},{scrollable:!1,fullscreen:!1,class:{content:"top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 max-h-[calc(100dvh-2rem)] sm:max-h-[calc(100dvh-4rem)] overflow-hidden"}}]},$r={__name:"Modal",props:{title:{type:String,required:!1},description:{type:String,required:!1},content:{type:Object,required:!1},overlay:{type:Boolean,required:!1,default:!0},scrollable:{type:Boolean,required:!1},transition:{type:Boolean,required:!1,default:!0},fullscreen:{type:Boolean,required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0,default:!0},close:{type:[Boolean,Object],required:!1,default:!0},closeIcon:{type:null,required:!1},dismissible:{type:Boolean,required:!1,default:!0},class:{type:null,required:!1},ui:{type:null,required:!1},open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["after:leave","after:enter","close:prevent","update:open"],setup(e,{emit:t}){const n=e,r=t,o=rn(),{t:s}=oo(),a=Bt(),i=fn(Pn(n,"open","defaultOpen","modal"),r),l=ll(Nt(()=>n.portal)),c=Nt(()=>n.content),u=H(()=>n.dismissible?n.scrollable?{pointerDownOutside:m=>{const h=m.detail.originalEvent,g=h.target;(h.offsetX>g.clientWidth||h.offsetY>g.clientHeight)&&m.preventDefault()}}:{}:["pointerDownOutside","interactOutside","escapeKeyDown"].reduce((h,g)=>(h[g]=v=>{v.preventDefault(),r("close:prevent")},h),{})),[d,f]=Rs(),p=H(()=>Ye({extend:Ye(qke),...a.ui?.modal||{}})({transition:n.transition,fullscreen:n.fullscreen,overlay:n.overlay,scrollable:n.scrollable}));return(m,h)=>(A(),B(y(xC),rt(ct(y(i))),{default:S(({open:g,close:v})=>[_(y(d),null,{default:S(()=>[_(y(SC),oe({"data-slot":"content",class:p.value.content({class:[!o.default&&n.class,n.ui?.content]})},c.value,{onAfterEnter:h[0]||(h[0]=x=>r("after:enter")),onAfterLeave:h[1]||(h[1]=x=>r("after:leave"))},lh(u.value)),{default:S(()=>[o.content&&(e.title||o.title||e.description||o.description)?(A(),B(y(al),{key:0},{default:S(()=>[e.title||o.title?(A(),B(y(Ld),{key:0},{default:S(()=>[U(m.$slots,"title",{},()=>[J(q(e.title),1)])]),_:3})):X("",!0),e.description||o.description?(A(),B(y(zd),{key:1},{default:S(()=>[U(m.$slots,"description",{},()=>[J(q(e.description),1)])]),_:3})):X("",!0)]),_:3})):X("",!0),U(m.$slots,"content",{close:v},()=>[o.header||e.title||o.title||e.description||o.description||n.close||o.close?(A(),W("div",{key:0,"data-slot":"header",class:Z(p.value.header({class:n.ui?.header}))},[U(m.$slots,"header",{close:v},()=>[k("div",{"data-slot":"wrapper",class:Z(p.value.wrapper({class:n.ui?.wrapper}))},[e.title||o.title?(A(),B(y(Ld),{key:0,"data-slot":"title",class:Z(p.value.title({class:n.ui?.title}))},{default:S(()=>[U(m.$slots,"title",{},()=>[J(q(e.title),1)])]),_:3},8,["class"])):X("",!0),e.description||o.description?(A(),B(y(zd),{key:1,"data-slot":"description",class:Z(p.value.description({class:n.ui?.description}))},{default:S(()=>[U(m.$slots,"description",{},()=>[J(q(e.description),1)])]),_:3},8,["class"])):X("",!0)],2),U(m.$slots,"actions"),n.close||o.close?(A(),B(y(hz),{key:0,"as-child":""},{default:S(()=>[U(m.$slots,"close",{ui:p.value},()=>[n.close?(A(),B(We,oe({key:0,icon:e.closeIcon||y(a).ui.icons.close,color:"neutral",variant:"ghost","aria-label":y(s)("modal.close")},typeof n.close=="object"?n.close:{},{"data-slot":"close",class:p.value.close({class:n.ui?.close})}),null,16,["icon","aria-label","class"])):X("",!0)])]),_:2},1024)):X("",!0)])],2)):X("",!0),o.body?(A(),W("div",{key:1,"data-slot":"body",class:Z(p.value.body({class:n.ui?.body}))},[U(m.$slots,"body",{close:v})],2)):X("",!0),o.footer?(A(),W("div",{key:2,"data-slot":"footer",class:Z(p.value.footer({class:n.ui?.footer}))},[U(m.$slots,"footer",{close:v})],2)):X("",!0)])]),_:2},1040,["class"])]),_:2},1024),o.default?(A(),B(y(CC),{key:0,"as-child":"",class:Z(n.class)},{default:S(()=>[U(m.$slots,"default",{open:g})]),_:2},1032,["class"])):X("",!0),_(y($C),rt(ct(y(l))),{default:S(()=>[e.scrollable?(A(),B(y(tb),{key:0,"data-slot":"overlay",class:Z(p.value.overlay({class:n.ui?.overlay}))},{default:S(()=>[_(y(f))]),_:1},8,["class"])):(A(),W(Ee,{key:1},[e.overlay?(A(),B(y(tb),{key:0,"data-slot":"overlay",class:Z(p.value.overlay({class:n.ui?.overlay}))},null,8,["class"])):X("",!0),_(y(f))],64))]),_:1},16)]),_:3},16))}},zke={slots:{modal:"",input:"[&>input]:text-base/5"},variants:{fullscreen:{false:{modal:"sm:max-w-3xl h-full sm:h-[28rem]"}}}},Lke={__name:"DashboardSearch",props:bs({icon:{type:null,required:!1},placeholder:{type:String,required:!1},autofocus:{type:Boolean,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:null,required:!1},close:{type:[Boolean,Object],required:!1,default:!0},closeIcon:{type:null,required:!1},shortcut:{type:String,required:!1,default:"meta_k"},groups:{type:Array,required:!1},fuse:{type:Object,required:!1},colorMode:{type:Boolean,required:!1,default:!0},class:{type:null,required:!1},ui:{type:void 0,required:!1},title:{type:String,required:!1},description:{type:String,required:!1},overlay:{type:Boolean,required:!1},transition:{type:Boolean,required:!1},content:{type:Object,required:!1},dismissible:{type:Boolean,required:!1},fullscreen:{type:Boolean,required:!1,default:!1},modal:{type:Boolean,required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0}},{open:{type:Boolean,default:!1},openModifiers:{},searchTerm:{type:String,default:""},searchTermModifiers:{}}),emits:["update:open","update:searchTerm"],setup(e,{expose:t}){const n=e,r=rn(),o=Yn(e,"open",{type:Boolean,default:!1}),s=Yn(e,"searchTerm",{type:String,default:""});ZS("dashboard:search:toggle",()=>{o.value=!o.value});const{t:a}=oo(),i=Hbe(),l=Bt(),c=jn(Pn(n,"icon","placeholder","autofocus","loading","loadingIcon","close","closeIcon")),u=jn(Pn(n,"overlay","transition","content","dismissible","fullscreen","modal","portal")),d=()=>Ql(r,["content"]),f=H(()=>sr({},n.fuse,{fuseOptions:{}})),p=H(()=>Ye({extend:Ye(zke),...l.ui?.dashboardSearch||{}})({fullscreen:n.fullscreen})),m=H(()=>{const v=[];return v.push(...n.groups||[]),n.colorMode&&!i?.forced&&v.push({id:"theme",label:a("dashboardSearch.theme"),items:[{label:a("colorMode.system"),icon:l.ui.icons.system,active:i.preference==="system",onSelect:()=>{i.preference="system"}},{label:a("colorMode.light"),icon:l.ui.icons.light,active:i.preference==="light",onSelect:()=>{i.preference="light"}},{label:a("colorMode.dark"),icon:l.ui.icons.dark,active:i.preference==="dark",onSelect:()=>{i.preference="dark"}}]}),v}),h=na("commandPaletteRef");function g(v){v.disabled||(o.value=!1,s.value="")}return Kbe({[n.shortcut]:{usingInput:!0,handler:()=>o.value=!o.value}}),t({commandPaletteRef:h}),(v,x)=>(A(),B($r,oe({open:o.value,"onUpdate:open":x[2]||(x[2]=$=>o.value=$),title:e.title||y(a)("dashboardSearch.title"),description:e.description||y(a)("dashboardSearch.description")},y(u),{"data-slot":"modal",class:p.value.modal({class:[n.ui?.modal,n.class]})}),{content:S($=>[U(v.$slots,"content",rt(ct($)),()=>[_(Fke,oe({ref_key:"commandPaletteRef",ref:h,"search-term":s.value,"onUpdate:searchTerm":x[0]||(x[0]=C=>s.value=C)},y(c),{groups:m.value,fuse:f.value,ui:y(C3)(y(Ql)(p.value,["modal"]),n.ui),"onUpdate:modelValue":g,"onUpdate:open":x[1]||(x[1]=C=>o.value=C)}),gr({_:2},[Ve(d(),(C,M)=>({name:M,fn:S(I=>[U(v.$slots,M,rt(ct(I)))])}))]),1040,["search-term","groups","fuse","ui"])])]),_:3},16,["open","title","description","class"]))}},jke={slots:{overlay:"fixed inset-0 bg-elevated/75",content:"fixed bg-default divide-y divide-default sm:ring ring-default sm:shadow-lg flex flex-col focus:outline-none",header:"flex items-center gap-1.5 p-4 sm:px-6 min-h-16",wrapper:"",body:"flex-1 overflow-y-auto p-4 sm:p-6",footer:"flex items-center gap-1.5 p-4 sm:px-6",title:"text-highlighted font-semibold",description:"mt-1 text-muted text-sm",close:"absolute top-4 end-4"},variants:{side:{top:{content:""},right:{content:"max-w-md"},bottom:{content:""},left:{content:"max-w-md"}},inset:{true:{content:"rounded-lg"}},transition:{true:{overlay:"data-[state=open]:animate-[fade-in_200ms_ease-out] data-[state=closed]:animate-[fade-out_200ms_ease-in]"}}},compoundVariants:[{side:"top",inset:!0,class:{content:"max-h-[calc(100%-2rem)] inset-x-4 top-4"}},{side:"top",inset:!1,class:{content:"max-h-full inset-x-0 top-0"}},{side:"right",inset:!0,class:{content:"w-[calc(100%-2rem)] inset-y-4 right-4"}},{side:"right",inset:!1,class:{content:"w-full inset-y-0 right-0"}},{side:"bottom",inset:!0,class:{content:"max-h-[calc(100%-2rem)] inset-x-4 bottom-4"}},{side:"bottom",inset:!1,class:{content:"max-h-full inset-x-0 bottom-0"}},{side:"left",inset:!0,class:{content:"w-[calc(100%-2rem)] inset-y-4 left-4"}},{side:"left",inset:!1,class:{content:"w-full inset-y-0 left-0"}},{transition:!0,side:"top",class:{content:"data-[state=open]:animate-[slide-in-from-top_200ms_ease-in-out] data-[state=closed]:animate-[slide-out-to-top_200ms_ease-in-out]"}},{transition:!0,side:"right",class:{content:"data-[state=open]:animate-[slide-in-from-right_200ms_ease-in-out] data-[state=closed]:animate-[slide-out-to-right_200ms_ease-in-out]"}},{transition:!0,side:"bottom",class:{content:"data-[state=open]:animate-[slide-in-from-bottom_200ms_ease-in-out] data-[state=closed]:animate-[slide-out-to-bottom_200ms_ease-in-out]"}},{transition:!0,side:"left",class:{content:"data-[state=open]:animate-[slide-in-from-left_200ms_ease-in-out] data-[state=closed]:animate-[slide-out-to-left_200ms_ease-in-out]"}}]},Vke={__name:"Slideover",props:{title:{type:String,required:!1},description:{type:String,required:!1},content:{type:Object,required:!1},overlay:{type:Boolean,required:!1,default:!0},transition:{type:Boolean,required:!1,default:!0},side:{type:null,required:!1,default:"right"},inset:{type:Boolean,required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0,default:!0},close:{type:[Boolean,Object],required:!1,default:!0},closeIcon:{type:null,required:!1},dismissible:{type:Boolean,required:!1,default:!0},class:{type:null,required:!1},ui:{type:null,required:!1},open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["after:leave","after:enter","close:prevent","update:open"],setup(e,{emit:t}){const n=e,r=t,o=rn(),{t:s}=oo(),a=Bt(),i=fn(Pn(n,"open","defaultOpen","modal"),r),l=ll(Nt(()=>n.portal)),c=Nt(()=>n.content),u=H(()=>n.dismissible?{}:["pointerDownOutside","interactOutside","escapeKeyDown"].reduce((p,m)=>(p[m]=h=>{h.preventDefault(),r("close:prevent")},p),{})),d=H(()=>Ye({extend:Ye(jke),...a.ui?.slideover||{}})({transition:n.transition,side:n.side,inset:n.inset}));return(f,p)=>(A(),B(y(xC),rt(ct(y(i))),{default:S(({open:m,close:h})=>[o.default?(A(),B(y(CC),{key:0,"as-child":"",class:Z(n.class)},{default:S(()=>[U(f.$slots,"default",{open:m})]),_:2},1032,["class"])):X("",!0),_(y($C),rt(ct(y(l))),{default:S(()=>[e.overlay?(A(),B(y(tb),{key:0,"data-slot":"overlay",class:Z(d.value.overlay({class:n.ui?.overlay}))},null,8,["class"])):X("",!0),_(y(SC),oe({"data-side":e.side,"data-slot":"content",class:d.value.content({class:[!o.default&&n.class,n.ui?.content]})},c.value,{onAfterEnter:p[0]||(p[0]=g=>r("after:enter")),onAfterLeave:p[1]||(p[1]=g=>r("after:leave"))},lh(u.value)),{default:S(()=>[o.content&&(e.title||o.title||e.description||o.description)?(A(),B(y(al),{key:0},{default:S(()=>[e.title||o.title?(A(),B(y(Ld),{key:0},{default:S(()=>[U(f.$slots,"title",{},()=>[J(q(e.title),1)])]),_:3})):X("",!0),e.description||o.description?(A(),B(y(zd),{key:1},{default:S(()=>[U(f.$slots,"description",{},()=>[J(q(e.description),1)])]),_:3})):X("",!0)]),_:3})):X("",!0),U(f.$slots,"content",{close:h},()=>[o.header||e.title||o.title||e.description||o.description||n.close||o.close?(A(),W("div",{key:0,"data-slot":"header",class:Z(d.value.header({class:n.ui?.header}))},[U(f.$slots,"header",{close:h},()=>[k("div",{"data-slot":"wrapper",class:Z(d.value.wrapper({class:n.ui?.wrapper}))},[e.title||o.title?(A(),B(y(Ld),{key:0,"data-slot":"title",class:Z(d.value.title({class:n.ui?.title}))},{default:S(()=>[U(f.$slots,"title",{},()=>[J(q(e.title),1)])]),_:3},8,["class"])):X("",!0),e.description||o.description?(A(),B(y(zd),{key:1,"data-slot":"description",class:Z(d.value.description({class:n.ui?.description}))},{default:S(()=>[U(f.$slots,"description",{},()=>[J(q(e.description),1)])]),_:3},8,["class"])):X("",!0)],2),U(f.$slots,"actions"),n.close||o.close?(A(),B(y(hz),{key:0,"as-child":""},{default:S(()=>[U(f.$slots,"close",{ui:d.value},()=>[n.close?(A(),B(We,oe({key:0,icon:e.closeIcon||y(a).ui.icons.close,color:"neutral",variant:"ghost","aria-label":y(s)("slideover.close")},typeof n.close=="object"?n.close:{},{"data-slot":"close",class:d.value.close({class:n.ui?.close})}),null,16,["icon","aria-label","class"])):X("",!0)])]),_:2},1024)):X("",!0)])],2)):X("",!0),k("div",{"data-slot":"body",class:Z(d.value.body({class:n.ui?.body}))},[U(f.$slots,"body",{close:h})],2),o.footer?(A(),W("div",{key:1,"data-slot":"footer",class:Z(d.value.footer({class:n.ui?.footer}))},[U(f.$slots,"footer",{close:h})],2)):X("",!0)])]),_:2},1040,["data-side","class"])]),_:2},1040)]),_:3},16))}};(function(){var e;try{if(typeof document<"u"){var t=document.createElement("style");t.nonce=(e=document.head.querySelector("meta[property=csp-nonce]"))==null?void 0:e.content,t.appendChild(document.createTextNode('[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32,.72,0,1);animation-duration:.5s;animation-timing-function:cubic-bezier(.32,.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform, 100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform, 100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform, 100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform, 100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top],[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height, 0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left],[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height, 0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(.32,.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32,.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true]):after{content:"";position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]:after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]:after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]:after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]:after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not([data-state=closed]){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:hover,[data-vaul-handle]:active{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover: hover) and (pointer: fine){[data-vaul-drawer]{-webkit-user-select:none;user-select:none}}@media (pointer: fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{0%{transform:translate3d(0,var(--initial-transform, 100%),0)}to{transform:translateZ(0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform, 100%),0)}}@keyframes slideFromTop{0%{transform:translate3d(0,calc(var(--initial-transform, 100%) * -1),0)}to{transform:translateZ(0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform, 100%) * -1),0)}}@keyframes slideFromLeft{0%{transform:translate3d(calc(var(--initial-transform, 100%) * -1),0,0)}to{transform:translateZ(0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform, 100%) * -1),0,0)}}@keyframes slideFromRight{0%{transform:translate3d(var(--initial-transform, 100%),0,0)}to{transform:translateZ(0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform, 100%),0,0)}}')),document.head.appendChild(t)}}catch(n){console.error("vite-plugin-css-injected-by-js",n)}})();const Uke=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Kke=e=>typeof e<"u";function Hke(e){return JSON.parse(JSON.stringify(e))}function iB(e,t,n,r={}){var o,s,a;const{clone:i=!1,passive:l=!1,eventName:c,deep:u=!1,defaultValue:d,shouldEmit:f}=r,p=ir(),m=n||p?.emit||((o=p?.$emit)==null?void 0:o.bind(p))||((a=(s=p?.proxy)==null?void 0:s.$emit)==null?void 0:a.bind(p?.proxy));let h=c;t||(t="modelValue"),h=h||`update:${t.toString()}`;const g=$=>i?typeof i=="function"?i($):Hke($):$,v=()=>Kke(e[t])?g(e[t]):d,x=$=>{f?f($)&&m(h,$):m(h,$)};if(l){const $=v(),C=K($);let M=!1;return He(()=>e[t],I=>{M||(M=!0,C.value=g(I),St(()=>M=!1))}),He(C,I=>{!M&&(I!==e[t]||u)&&x(I)},{deep:u}),C}else return H({get(){return v()},set($){x($)}})}const[Bh,Wke]=Ft("DrawerRoot"),iV=new WeakMap;function Tr(e,t,n=!1){if(!e||!(e instanceof HTMLElement)||!t)return;const r={};Object.entries(t).forEach(([o,s])=>{if(o.startsWith("--")){e.style.setProperty(o,s);return}r[o]=e.style[o],e.style[o]=s}),!n&&iV.set(e,r)}function Gke(e,t){if(!e||!(e instanceof HTMLElement))return;const n=iV.get(e);n&&Object.entries(n).forEach(([r,o])=>{e.style[r]=o})}function lv(e,t){const n=window.getComputedStyle(e),r=n.transform||n.webkitTransform||n.mozTransform;let o=r.match(/^matrix3d\((.+)\)$/);return o?Number.parseFloat(o[1].split(", ")[hr(t)?13:12]):(o=r.match(/^matrix\((.+)\)$/),o?Number.parseFloat(o[1].split(", ")[hr(t)?5:4]):null)}function Jke(e){return 8*(Math.log(e+1)-2)}function hr(e){switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}}function H1(e,t){if(!e)return()=>{};const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}function Yke(...e){return(...t)=>{for(const n of e)typeof n=="function"&&n(...t)}}const Qn={DURATION:.5,EASE:[.32,.72,0,1]},lV=.4,Qke=.25,Xke=100,uV=8,uv=16,cV=26,lB="vaul-dragging";function Zke({activeSnapPoint:e,snapPoints:t,drawerRef:n,overlayRef:r,fadeFromIndex:o,onSnapPointChange:s,direction:a}){const i=K(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);function l(){i.value={innerWidth:window.innerWidth,innerHeight:window.innerHeight}}wt(()=>{typeof window<"u"&&window.addEventListener("resize",l)}),Tc(()=>{typeof window<"u"&&window.removeEventListener("resize",l)});const c=H(()=>(t.value&&e.value===t.value[t.value.length-1])??null),u=H(()=>t.value&&t.value.length>0&&(o?.value||o?.value===0)&&!Number.isNaN(o?.value)&&t.value[o?.value??-1]===e.value||!t.value),d=H(()=>{var x;return((x=t.value)==null?void 0:x.findIndex($=>$===e.value))??null}),f=H(()=>{var x;return((x=t.value)==null?void 0:x.map($=>{const C=typeof $=="string";let M=0;if(C&&(M=Number.parseInt($,10)),hr(a.value)){const E=C?M:i.value?$*i.value.innerHeight:0;return i.value?a.value==="bottom"?i.value.innerHeight-E:-i.value.innerHeight+E:E}const I=C?M:i.value?$*i.value.innerWidth:0;return i.value?a.value==="right"?i.value.innerWidth-I:-i.value.innerWidth+I:I}))??[]}),p=H(()=>{var x;return d.value!==null?(x=f.value)==null?void 0:x[d.value]:null}),m=x=>{var $,C,M,I;const E=(($=f.value)==null?void 0:$.findIndex(P=>P===x))??null;St(()=>{var P;s(E,f.value),Tr((P=n.value)==null?void 0:P.$el,{transition:`transform ${Qn.DURATION}s cubic-bezier(${Qn.EASE.join(",")})`,transform:hr(a.value)?`translate3d(0, ${x}px, 0)`:`translate3d(${x}px, 0, 0)`})}),f.value&&E!==f.value.length-1&&E!==o?.value?Tr((C=r.value)==null?void 0:C.$el,{transition:`opacity ${Qn.DURATION}s cubic-bezier(${Qn.EASE.join(",")})`,opacity:"0"}):Tr((M=r.value)==null?void 0:M.$el,{transition:`opacity ${Qn.DURATION}s cubic-bezier(${Qn.EASE.join(",")})`,opacity:"1"}),e.value=E!==null?((I=t.value)==null?void 0:I[E])??null:null};He([e,f,t],()=>{var x;if(e.value){const $=((x=t.value)==null?void 0:x.findIndex(C=>C===e.value))??-1;f.value&&$!==-1&&typeof f.value[$]=="number"&&m(f.value[$])}},{immediate:!0});function h({draggedDistance:x,closeDrawer:$,velocity:C,dismissible:M}){var I,E,P;if(o.value===void 0)return;const O=a.value==="bottom"||a.value==="right"?(p.value??0)-x:(p.value??0)+x,D=d.value===o.value-1,L=d.value===0,V=x>0;if(D&&Tr((I=r.value)==null?void 0:I.$el,{transition:`opacity ${Qn.DURATION}s cubic-bezier(${Qn.EASE.join(",")})`}),C>2&&!V){M?$():m(f.value[0]);return}if(C>2&&V&&f&&t.value){m(f.value[t.value.length-1]);return}const F=(E=f.value)==null?void 0:E.reduce((N,ee)=>typeof N!="number"||typeof ee!="number"?N:Math.abs(ee-O)<Math.abs(N-O)?ee:N),z=hr(a.value)?window.innerHeight:window.innerWidth;if(C>lV&&Math.abs(x)<z*.4){const N=V?1:-1;if(N>0&&c){m(f.value[(((P=t.value)==null?void 0:P.length)??0)-1]);return}if(L&&N<0&&M&&$(),d.value===null)return;m(f.value[d.value+N]);return}m(F)}function g({draggedDistance:x}){var $;if(p.value===null)return;const C=a.value==="bottom"||a.value==="right"?p.value-x:p.value+x;(a.value==="bottom"||a.value==="right")&&C<f.value[f.value.length-1]||(a.value==="top"||a.value==="left")&&C>f.value[f.value.length-1]||Tr(($=n.value)==null?void 0:$.$el,{transform:hr(a.value)?`translate3d(0, ${C}px, 0)`:`translate3d(${C}px, 0, 0)`})}function v(x,$){if(!t.value||typeof d.value!="number"||!f.value||o.value===void 0)return null;const C=d.value===o.value-1;if(d.value>=o.value&&$)return 0;if(C&&!$)return 1;if(!u.value&&!C)return null;const M=C?d.value+1:d.value-1,I=C?f.value[M]-f.value[M-1]:f.value[M+1]-f.value[M],E=x/Math.abs(I);return C?1-E:E}return{isLastSnapPoint:c,shouldFade:u,getPercentageDragged:v,activeSnapPointIndex:d,onRelease:h,onDrag:g,snapPointsOffset:f}}function uB(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}let sp=null;function e1e(e){const{isOpen:t,modal:n,nested:r,hasBeenOpened:o,preventScrollRestoration:s,noBodyStyles:a}=e,i=K(typeof window<"u"?window.location.href:""),l=K(0);function c(){if(uB()&&sp===null&&t.value&&!a.value){sp={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height};const{scrollX:d,innerHeight:f}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-l.value}px`,left:`${-d}px`,right:"0px",height:"auto"}),setTimeout(()=>{requestAnimationFrame(()=>{const p=f-window.innerHeight;p&&l.value>=f&&(document.body.style.top=`-${l.value+p}px`)})},300)}}function u(){if(uB()&&sp!==null&&!a.value){const d=-Number.parseInt(document.body.style.top,10),f=-Number.parseInt(document.body.style.left,10);Object.assign(document.body.style,sp),window.requestAnimationFrame(()=>{if(s.value&&i.value!==window.location.href){i.value=window.location.href;return}window.scrollTo(f,d)}),sp=null}}return wt(()=>{function d(){l.value=window.scrollY}d(),window.addEventListener("scroll",d),ar(()=>{window.removeEventListener("scroll",d)})}),He([t,o,i],()=>{r.value||!o.value||(t.value?(window.matchMedia("(display-mode: standalone)").matches||c(),n.value||setTimeout(()=>{u()},500)):u())}),{restorePositionSetting:u}}function t1e(e,t){return e&&e.value?e:t}function n1e(e){const{emitDrag:t,emitRelease:n,emitClose:r,emitOpenChange:o,open:s,dismissible:a,nested:i,modal:l,shouldScaleBackground:c,setBackgroundColorOnScale:u,scrollLockTimeout:d,closeThreshold:f,activeSnapPoint:p,fadeFromIndex:m,direction:h,noBodyStyles:g,handleOnly:v,preventScrollRestoration:x}=e,$=K(s.value??!1),C=K(!1),M=K(!1),I=K(!1),E=K(null),P=K(null),O=K(null),D=K(null),L=K(null),V=K(!1),F=K(null),z=K(0),N=K(!1);K(0);const ee=K(null);K(0);const ne=H(()=>{var me;return((me=ee.value)==null?void 0:me.$el.getBoundingClientRect().height)||0}),Y=t1e(e.snapPoints,K(void 0)),Re=H(()=>{var me;return Y&&(((me=Y.value)==null?void 0:me.length)??0)>0}),fe=K(null),{activeSnapPointIndex:we,onRelease:ue,snapPointsOffset:Ne,onDrag:Xe,shouldFade:st,getPercentageDragged:it}=Zke({snapPoints:Y,activeSnapPoint:p,drawerRef:ee,fadeFromIndex:m,overlayRef:E,onSnapPointChange:ce,direction:h});function ce(me,he){Y.value&&me===he.length-1&&(P.value=new Date)}e1e({isOpen:$,modal:l,nested:i,hasBeenOpened:C,noBodyStyles:g,preventScrollRestoration:x});function ve(){return(window.innerWidth-cV)/window.innerWidth}function Ae(me,he){var Be;if(!me)return!1;let _e=me;const Oe=(Be=window.getSelection())==null?void 0:Be.toString(),Ze=ee.value?lv(ee.value.$el,h.value):null,Ue=new Date;if(_e.hasAttribute("data-vaul-no-drag")||_e.closest("[data-vaul-no-drag]"))return!1;if(h.value==="right"||h.value==="left")return!0;if(P.value&&Ue.getTime()-P.value.getTime()<500)return!1;if(Ze!==null&&(h.value==="bottom"?Ze>0:Ze<0))return!0;if(Oe&&Oe.length>0)return!1;if(L.value&&Ue.getTime()-L.value.getTime()<d.value&&Ze===0||he)return L.value=Ue,!1;for(;_e;){if(_e.scrollHeight>_e.clientHeight){if(_e.scrollTop!==0)return L.value=new Date,!1;if(_e.getAttribute("role")==="dialog")return!0}_e=_e.parentNode}return!0}function pe(me){!a.value&&!Y.value||ee.value&&!ee.value.$el.contains(me.target)||(M.value=!0,O.value=new Date,me.target.setPointerCapture(me.pointerId),z.value=hr(h.value)?me.clientY:me.clientX)}function et(me){var he,Be,_e,Oe,Ze,Ue;if(ee.value&&M.value){const at=h.value==="bottom"||h.value==="right"?1:-1,yt=(z.value-(hr(h.value)?me.clientY:me.clientX))*at,Et=yt>0,Qt=Y.value&&!a.value&&!Et;if(Qt&&we.value===0)return;const Lt=Math.abs(yt),Fn=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");let gn=Lt/ne.value;const pr=it(Lt,Et);if(pr!==null&&(gn=pr),Qt&&gn>=1||!V.value&&!Ae(me.target,Et))return;if((he=ee?.value)==null||he.$el.classList.add(lB),V.value=!0,Tr((Be=ee.value)==null?void 0:Be.$el,{transition:"none"}),Tr((_e=E.value)==null?void 0:_e.$el,{transition:"none"}),Y.value&&Xe({draggedDistance:yt}),Et&&!Y.value){const cr=Jke(yt),xo=Math.min(cr*-1,0)*at;Tr((Oe=ee.value)==null?void 0:Oe.$el,{transform:hr(h.value)?`translate3d(0, ${xo}px, 0)`:`translate3d(${xo}px, 0, 0)`});return}const ur=1-gn;if((st.value||m.value&&we.value===m.value-1)&&(t(gn),Tr((Ze=E.value)==null?void 0:Ze.$el,{opacity:`${ur}`,transition:"none"},!0)),Fn&&E.value&&c.value){const cr=Math.min(ve()+gn*(1-ve()),1),xo=8-gn*8,xe=Math.max(0,14-gn*14);Tr(Fn,{borderRadius:`${xo}px`,transform:hr(h.value)?`scale(${cr}) translate3d(0, ${xe}px, 0)`:`scale(${cr}) translate3d(${xe}px, 0, 0)`,transition:"none"},!0)}if(!Y.value){const cr=Lt*at;Tr((Ue=ee.value)==null?void 0:Ue.$el,{transform:hr(h.value)?`translate3d(0, ${cr}px, 0)`:`translate3d(${cr}px, 0, 0)`})}}}function kt(){var me;if(!ee.value)return;const he=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]"),Be=lv(ee.value.$el,h.value);Tr(ee.value.$el,{transform:"translate3d(0, 0, 0)",transition:`transform ${Qn.DURATION}s cubic-bezier(${Qn.EASE.join(",")})`}),Tr((me=E.value)==null?void 0:me.$el,{transition:`opacity ${Qn.DURATION}s cubic-bezier(${Qn.EASE.join(",")})`,opacity:"1"}),c.value&&Be&&Be>0&&$.value&&Tr(he,{borderRadius:`${uV}px`,overflow:"hidden",...hr(h.value)?{transform:`scale(${ve()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${ve()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${Qn.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Qn.EASE.join(",")})`},!0)}function te(me){ee.value&&(r(),me||($.value=!1),window.setTimeout(()=>{Y.value&&(p.value=Y.value[0])},Qn.DURATION*1e3))}Cn(()=>{if(!$.value&&c.value&&Uke){const me=setTimeout(()=>{Gke(document.body)},200);return()=>clearTimeout(me)}}),He(s,()=>{$.value=s.value,s.value||te()});function se(me){if(!M.value||!ee.value)return;ee.value.$el.classList.remove(lB),V.value=!1,M.value=!1,D.value=new Date;const he=lv(ee.value.$el,h.value);if(!Ae(me.target,!1)||!he||Number.isNaN(he)||O.value===null)return;const Be=D.value.getTime()-O.value.getTime(),_e=z.value-(hr(h.value)?me.clientY:me.clientX),Oe=Math.abs(_e)/Be;if(Oe>.05&&(I.value=!0,window.setTimeout(()=>{I.value=!1},200)),Y.value){const Ue=h.value==="bottom"||h.value==="right"?1:-1;ue({draggedDistance:_e*Ue,closeDrawer:te,velocity:Oe,dismissible:a.value}),n(!0);return}if(h.value==="bottom"||h.value==="right"?_e>0:_e<0){kt(),n(!0);return}if(Oe>lV){te(),n(!1);return}const Ze=Math.min(ee.value.$el.getBoundingClientRect().height??0,window.innerHeight);if(he>=Ze*f.value){te(),n(!1);return}n(!0),kt()}He($,me=>{me&&(P.value=new Date),o(me)},{immediate:!0});function $e(me){var he,Be;const _e=me?(window.innerWidth-uv)/window.innerWidth:1,Oe=me?-16:0;F.value&&window.clearTimeout(F.value),Tr((he=ee.value)==null?void 0:he.$el,{transition:`transform ${Qn.DURATION}s cubic-bezier(${Qn.EASE.join(",")})`,transform:`scale(${_e}) translate3d(0, ${Oe}px, 0)`}),!me&&(Be=ee.value)!=null&&Be.$el&&(F.value=window.setTimeout(()=>{var Ze,Ue;const at=lv((Ze=ee.value)==null?void 0:Ze.$el,h.value);Tr((Ue=ee.value)==null?void 0:Ue.$el,{transition:"none",transform:hr(h.value)?`translate3d(0, ${at}px, 0)`:`translate3d(${at}px, 0, 0)`})},500))}function Ie(me){var he;if(me<0)return;const Be=hr(h.value)?window.innerHeight:window.innerWidth,_e=(Be-uv)/Be,Oe=_e+me*(1-_e),Ze=-16+me*uv;Tr((he=ee.value)==null?void 0:he.$el,{transform:hr(h.value)?`scale(${Oe}) translate3d(0, ${Ze}px, 0)`:`scale(${Oe}) translate3d(${Ze}px, 0, 0)`,transition:"none"})}function be(me){var he;const Be=hr(h.value)?window.innerHeight:window.innerWidth,_e=me?(Be-uv)/Be:1,Oe=me?-16:0;me&&Tr((he=ee.value)==null?void 0:he.$el,{transition:`transform ${Qn.DURATION}s cubic-bezier(${Qn.EASE.join(",")})`,transform:hr(h.value)?`scale(${_e}) translate3d(0, ${Oe}px, 0)`:`scale(${_e}) translate3d(${Oe}px, 0, 0)`})}return{open:s,isOpen:$,modal:l,keyboardIsOpen:N,hasBeenOpened:C,drawerRef:ee,drawerHeightRef:ne,overlayRef:E,handleRef:fe,isDragging:M,dragStartTime:O,isAllowedToDrag:V,snapPoints:Y,activeSnapPoint:p,hasSnapPoints:Re,pointerStart:z,dismissible:a,snapPointsOffset:Ne,direction:h,shouldFade:st,fadeFromIndex:m,shouldScaleBackground:c,setBackgroundColorOnScale:u,onPress:pe,onDrag:et,onRelease:se,closeDrawer:te,onNestedDrag:Ie,onNestedRelease:be,onNestedOpenChange:$e,emitClose:r,emitDrag:t,emitRelease:n,emitOpenChange:o,nested:i,handleOnly:v,noBodyStyles:g}}const dV=le({__name:"DrawerRoot",props:{activeSnapPoint:{default:void 0},closeThreshold:{default:Qke},shouldScaleBackground:{type:Boolean,default:void 0},setBackgroundColorOnScale:{type:Boolean,default:!0},scrollLockTimeout:{default:Xke},fixed:{type:Boolean,default:void 0},dismissible:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean,default:void 0},nested:{type:Boolean,default:!1},direction:{default:"bottom"},noBodyStyles:{type:Boolean},handleOnly:{type:Boolean,default:!1},preventScrollRestoration:{type:Boolean},snapPoints:{default:void 0},fadeFromIndex:{default:void 0}},emits:["drag","release","close","update:open","update:activeSnapPoint","animationEnd"],setup(e,{expose:t,emit:n}){const r=e,o=n;rn();const s=H(()=>r.fadeFromIndex??(r.snapPoints&&r.snapPoints.length-1)),a=iB(r,"open",o,{defaultValue:r.defaultOpen,passive:r.open===void 0}),i=iB(r,"activeSnapPoint",o,{passive:r.activeSnapPoint===void 0}),l={emitDrag:m=>o("drag",m),emitRelease:m=>o("release",m),emitClose:()=>o("close"),emitOpenChange:m=>{o("update:open",m),setTimeout(()=>{o("animationEnd",m)},Qn.DURATION*1e3)}},{closeDrawer:c,hasBeenOpened:u,modal:d,isOpen:f}=Wke(n1e({...l,...an(r),activeSnapPoint:i,fadeFromIndex:s,open:a}));function p(m){if(a.value!==void 0){l.emitOpenChange(m);return}f.value=m,m?u.value=!0:c()}return t({open:f}),(m,h)=>(A(),B(y(xC),{open:y(f),modal:y(d),"onUpdate:open":p},{default:S(()=>[U(m.$slots,"default",{open:y(f)})]),_:3},8,["open","modal"]))}}),r1e=le({__name:"DrawerRootNested",props:{activeSnapPoint:{},closeThreshold:{},shouldScaleBackground:{type:Boolean},setBackgroundColorOnScale:{type:Boolean},scrollLockTimeout:{},fixed:{type:Boolean},dismissible:{type:Boolean},modal:{type:Boolean},open:{type:Boolean},defaultOpen:{type:Boolean},nested:{type:Boolean},direction:{},noBodyStyles:{type:Boolean},handleOnly:{type:Boolean},preventScrollRestoration:{type:Boolean},snapPoints:{},fadeFromIndex:{}},emits:["drag","release","close","update:open","update:activeSnapPoint","animationEnd"],setup(e,{emit:t}){const n=e,r=t,{onNestedDrag:o,onNestedOpenChange:s,onNestedRelease:a}=Bh();function i(){s(!1)}function l(d){o(d)}function c(d){d&&s(d),r("update:open",d)}const u=fn(n,r);return(d,f)=>(A(),B(dV,oe(y(u),{nested:"",onClose:i,onDrag:l,onRelease:y(a),"onUpdate:open":c}),{default:S(()=>[U(d.$slots,"default")]),_:3},16,["onRelease"]))}}),o1e=le({__name:"DrawerOverlay",setup(e){const{overlayRef:t,hasSnapPoints:n,isOpen:r,shouldFade:o}=Bh();return(s,a)=>(A(),B(y(tb),{ref_key:"overlayRef",ref:t,"data-vaul-overlay":"","data-vaul-snap-points":y(r)&&y(n)?"true":"false","data-vaul-snap-points-overlay":y(r)&&y(o)?"true":"false"},null,8,["data-vaul-snap-points","data-vaul-snap-points-overlay"]))}}),s1e=()=>()=>{};function a1e(){const{direction:e,isOpen:t,shouldScaleBackground:n,setBackgroundColorOnScale:r,noBodyStyles:o}=Bh(),s=K(null),a=K(document.body.style.backgroundColor);function i(){return(window.innerWidth-cV)/window.innerWidth}Cn(l=>{if(t.value&&n.value){s.value&&clearTimeout(s.value);const c=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!c)return;Yke(r.value&&!o.value?H1(document.body,{background:"black"}):s1e,H1(c,{transformOrigin:hr(e.value)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${Qn.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Qn.EASE.join(",")})`}));const u=H1(c,{borderRadius:`${uV}px`,overflow:"hidden",...hr(e.value)?{transform:`scale(${i()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${i()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});l(()=>{u(),s.value=window.setTimeout(()=>{a.value?document.body.style.background=a.value:document.body.style.removeProperty("background")},Qn.DURATION*1e3)})}},{flush:"pre"})}const i1e=le({__name:"DrawerContent",setup(e){const{open:t,isOpen:n,snapPointsOffset:r,hasSnapPoints:o,drawerRef:s,onPress:a,onDrag:i,onRelease:l,modal:c,emitOpenChange:u,dismissible:d,keyboardIsOpen:f,closeDrawer:p,direction:m,handleOnly:h}=Bh();a1e();const g=K(!1),v=H(()=>r.value&&r.value.length>0?`${r.value[0]}px`:"0");function x(M){if(!c.value||M.defaultPrevented){M.preventDefault();return}f.value&&(f.value=!1),d.value?u(!1):M.preventDefault()}function $(M){h.value||a(M)}function C(M){h.value||i(M)}return Cn(()=>{o.value&&window.requestAnimationFrame(()=>{g.value=!0})}),(M,I)=>(A(),B(y(SC),{ref_key:"drawerRef",ref:s,"data-vaul-drawer":"","data-vaul-drawer-direction":y(m),"data-vaul-delayed-snap-points":g.value?"true":"false","data-vaul-snap-points":y(n)&&y(o)?"true":"false",style:Un({"--snap-point-height":v.value}),onPointerdown:$,onPointermove:C,onPointerup:y(l),onPointerDownOutside:x,onOpenAutoFocus:I[0]||(I[0]=lt(()=>{},["prevent"])),onEscapeKeyDown:I[1]||(I[1]=E=>{y(d)||E.preventDefault()})},{default:S(()=>[U(M.$slots,"default")]),_:3},8,["data-vaul-drawer-direction","data-vaul-delayed-snap-points","data-vaul-snap-points","style","onPointerup"]))}}),l1e=["data-vaul-drawer-visible"],u1e={"data-vaul-handle-hitarea":"","aria-hidden":"true"},c1e=250,d1e=120,f1e=le({__name:"DrawerHandle",props:{preventCycle:{type:Boolean,default:!1}},setup(e){const t=e,{onPress:n,onDrag:r,handleRef:o,handleOnly:s,isOpen:a,snapPoints:i,activeSnapPoint:l,isDragging:c,dismissible:u,closeDrawer:d}=Bh(),f=K(null),p=K(!1);function m(){if(p.value){v();return}window.setTimeout(()=>{h()},d1e)}function h(){if(c.value||t.preventCycle||p.value){v();return}if(v(),!i.value||i.value.length===0){u.value||d();return}const C=l.value===i.value[i.value.length-1];if(C&&u.value){d();return}const M=i.value.findIndex(E=>E===l.value);if(M===-1)return;const I=C?0:M+1;l.value=i.value[I]}function g(){f.value=window.setTimeout(()=>{p.value=!0},c1e)}function v(){f.value&&window.clearTimeout(f.value),p.value=!1}function x(C){s.value&&n(C),g()}function $(C){s.value&&r(C)}return(C,M)=>(A(),W("div",{ref_key:"handleRef",ref:o,"data-vaul-drawer-visible":y(a)?"true":"false","data-vaul-handle":"","aria-hidden":"true",onClick:m,onPointercancel:v,onPointerdown:x,onPointermove:$},[k("span",u1e,[U(C.$slots,"default")])],40,l1e))}}),p1e={slots:{overlay:"fixed inset-0 bg-elevated/75",content:"fixed bg-default ring ring-default flex focus:outline-none",handle:["shrink-0 !bg-accented","transition-opacity"],container:"w-full flex flex-col gap-4 p-4 overflow-y-auto",header:"",title:"text-highlighted font-semibold",description:"mt-1 text-muted text-sm",body:"flex-1",footer:"flex flex-col gap-1.5"},variants:{direction:{top:{content:"mb-24 flex-col-reverse",handle:"mb-4"},right:{content:"flex-row",handle:"!ml-4"},bottom:{content:"mt-24 flex-col",handle:"mt-4"},left:{content:"flex-row-reverse",handle:"!mr-4"}},inset:{true:{content:"rounded-lg after:hidden overflow-hidden [--initial-transform:calc(100%+1.5rem)]"}},snapPoints:{true:""}},compoundVariants:[{direction:["top","bottom"],class:{content:"h-auto max-h-[96%]",handle:"!w-12 !h-1.5 mx-auto"}},{direction:["top","bottom"],snapPoints:!0,class:{content:"h-full"}},{direction:["right","left"],class:{content:"w-auto max-w-[calc(100%-2rem)]",handle:"!h-12 !w-1.5 mt-auto mb-auto"}},{direction:["right","left"],snapPoints:!0,class:{content:"w-full"}},{direction:"top",inset:!0,class:{content:"inset-x-4 top-4"}},{direction:"top",inset:!1,class:{content:"inset-x-0 top-0 rounded-b-lg"}},{direction:"bottom",inset:!0,class:{content:"inset-x-4 bottom-4"}},{direction:"bottom",inset:!1,class:{content:"inset-x-0 bottom-0 rounded-t-lg"}},{direction:"left",inset:!0,class:{content:"inset-y-4 left-4"}},{direction:"left",inset:!1,class:{content:"inset-y-0 left-0 rounded-r-lg"}},{direction:"right",inset:!0,class:{content:"inset-y-4 right-4"}},{direction:"right",inset:!1,class:{content:"inset-y-0 right-0 rounded-l-lg"}}]},m1e={__name:"Drawer",props:{as:{type:null,required:!1},title:{type:String,required:!1},description:{type:String,required:!1},inset:{type:Boolean,required:!1},content:{type:Object,required:!1},overlay:{type:Boolean,required:!1,default:!0},handle:{type:Boolean,required:!1,default:!0},portal:{type:[Boolean,String],required:!1,skipCheck:!0,default:!0},nested:{type:Boolean,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},activeSnapPoint:{type:[Number,String,null],required:!1},closeThreshold:{type:Number,required:!1},shouldScaleBackground:{type:Boolean,required:!1},setBackgroundColorOnScale:{type:Boolean,required:!1},scrollLockTimeout:{type:Number,required:!1},fixed:{type:Boolean,required:!1},dismissible:{type:Boolean,required:!1,default:!0},modal:{type:Boolean,required:!1,default:!0},open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1},direction:{type:String,required:!1,default:"bottom"},noBodyStyles:{type:Boolean,required:!1},handleOnly:{type:Boolean,required:!1},preventScrollRestoration:{type:Boolean,required:!1},snapPoints:{type:Array,required:!1}},emits:["close:prevent","drag","release","close","update:open","update:activeSnapPoint","animationEnd"],setup(e,{emit:t}){const n=e,r=t,o=rn(),s=Bt(),a=fn(Pn(n,"activeSnapPoint","closeThreshold","shouldScaleBackground","setBackgroundColorOnScale","scrollLockTimeout","fixed","dismissible","modal","open","defaultOpen","nested","direction","noBodyStyles","handleOnly","preventScrollRestoration","snapPoints"),r),i=ll(Nt(()=>n.portal)),l=Nt(()=>n.content),c=H(()=>n.dismissible?{}:["pointerDownOutside","interactOutside","escapeKeyDown"].reduce((f,p)=>(f[p]=m=>{m.preventDefault(),r("close:prevent")},f),{})),u=H(()=>Ye({extend:Ye(p1e),...s.ui?.drawer||{}})({direction:n.direction,inset:n.inset,snapPoints:n.snapPoints&&n.snapPoints.length>0}));return(d,f)=>(A(),B(Kn(e.nested?y(r1e):y(dV)),rt(ct(y(a))),{default:S(()=>[o.default?(A(),B(y(CC),{key:0,"as-child":"",class:Z(n.class)},{default:S(()=>[U(d.$slots,"default")]),_:3},8,["class"])):X("",!0),_(y($C),rt(ct(y(i))),{default:S(()=>[e.overlay?(A(),B(y(o1e),{key:0,"data-slot":"overlay",class:Z(u.value.overlay({class:n.ui?.overlay}))},null,8,["class"])):X("",!0),_(y(i1e),oe({"data-slot":"content",class:u.value.content({class:[!o.default&&n.class,n.ui?.content]})},l.value,lh(c.value)),{default:S(()=>[e.handle?(A(),B(y(f1e),{key:0,"data-slot":"handle",class:Z(u.value.handle({class:n.ui?.handle}))},null,8,["class"])):X("",!0),o.content&&(e.title||o.title||e.description||o.description)?(A(),B(y(al),{key:1},{default:S(()=>[e.title||o.title?(A(),B(y(Ld),{key:0},{default:S(()=>[U(d.$slots,"title",{},()=>[J(q(e.title),1)])]),_:3})):X("",!0),e.description||o.description?(A(),B(y(zd),{key:1},{default:S(()=>[U(d.$slots,"description",{},()=>[J(q(e.description),1)])]),_:3})):X("",!0)]),_:3})):X("",!0),U(d.$slots,"content",{},()=>[k("div",{"data-slot":"container",class:Z(u.value.container({class:n.ui?.container}))},[o.header||e.title||o.title||e.description||o.description?(A(),W("div",{key:0,"data-slot":"header",class:Z(u.value.header({class:n.ui?.header}))},[U(d.$slots,"header",{},()=>[e.title||o.title?(A(),B(y(Ld),{key:0,"data-slot":"title",class:Z(u.value.title({class:n.ui?.title}))},{default:S(()=>[U(d.$slots,"title",{},()=>[J(q(e.title),1)])]),_:3},8,["class"])):X("",!0),e.description||o.description?(A(),B(y(zd),{key:1,"data-slot":"description",class:Z(u.value.description({class:n.ui?.description}))},{default:S(()=>[U(d.$slots,"description",{},()=>[J(q(e.description),1)])]),_:3},8,["class"])):X("",!0)])],2)):X("",!0),o.body?(A(),W("div",{key:1,"data-slot":"body",class:Z(u.value.body({class:n.ui?.body}))},[U(d.$slots,"body")],2)):X("",!0),o.footer?(A(),W("div",{key:2,"data-slot":"footer",class:Z(u.value.footer({class:n.ui?.footer}))},[U(d.$slots,"footer")],2)):X("",!0)],2)])]),_:3},16,["class"])]),_:3},16)]),_:3},16))}},h1e={slots:{root:"relative hidden lg:flex flex-col min-h-svh min-w-16 w-(--width) shrink-0",header:"h-(--ui-header-height) shrink-0 flex items-center gap-1.5 px-4",body:"flex flex-col gap-4 flex-1 overflow-y-auto px-4 py-2",footer:"shrink-0 flex items-center gap-1.5 px-4 py-2",toggle:"",handle:"",content:"lg:hidden",overlay:"lg:hidden"},variants:{menu:{true:{header:"sm:px-6",body:"sm:px-6",footer:"sm:px-6"}},side:{left:{root:"border-e border-default"},right:{root:""}},toggleSide:{left:{toggle:""},right:{toggle:"ms-auto"}}}},g1e=["data-collapsed","data-dragging"],v1e=Object.assign({inheritAttrs:!1},{__name:"DashboardSidebar",props:bs({mode:{type:null,required:!1,default:"slideover"},menu:{type:null,required:!1},toggle:{type:[Boolean,Object],required:!1,default:!0},toggleSide:{type:String,required:!1,default:"left"},class:{type:null,required:!1},ui:{type:null,required:!1},id:{type:String,required:!1},side:{type:String,required:!1,default:"left"},minSize:{type:Number,required:!1,default:10},maxSize:{type:Number,required:!1,default:20},defaultSize:{type:Number,required:!1,default:15},resizable:{type:Boolean,required:!1,default:!1},collapsible:{type:Boolean,required:!1,default:!1},collapsedSize:{type:Number,required:!1,default:0}},{open:{type:Boolean,default:!1},openModifiers:{},collapsed:{type:Boolean,default:!1},collapsedModifiers:{}}),emits:["update:open","update:collapsed"],setup(e){const t=e,n=rn(),r=Yn(e,"open",{type:Boolean,default:!1}),o=Yn(e,"collapsed",{type:Boolean,default:!1}),s=Ybe(),{t:a}=oo(),i=Bt(),l=wf({storageKey:"dashboard",unit:"%",sidebarOpen:K(!1),sidebarCollapsed:K(!1)}),c=`${l.storageKey}-sidebar-${t.id||ol()}`,{el:u,size:d,collapse:f,isCollapsed:p,isDragging:m,onMouseDown:h,onTouchStart:g,onDoubleClick:v}=Gj(c,Nt(()=>({...l,...t})),{collapsed:o}),[x,$]=Rs(),[C,M]=Rs();ZS("dashboard:sidebar:toggle",()=>{r.value=!r.value}),ZS("dashboard:sidebar:collapse",D=>{p.value=D}),He(r,()=>l.sidebarOpen.value=r.value,{immediate:!0}),He(p,()=>l.sidebarCollapsed.value=p.value,{immediate:!0}),He(()=>s.fullPath,()=>{r.value=!1});const I=H(()=>Ye({extend:Ye(h1e),...i.ui?.dashboardSidebar||{}})({side:t.side})),E=H(()=>({slideover:Vke,modal:$r,drawer:m1e})[t.mode]),P=Nt(()=>sr(t.menu,{content:{onOpenAutoFocus:D=>D.preventDefault()}},t.mode==="modal"?{fullscreen:!0,transition:!1}:t.mode==="slideover"?{side:"left"}:{}));function O(){r.value=!r.value}return(D,L)=>(A(),W(Ee,null,[_(y(x),null,{default:S(()=>[U(D.$slots,"toggle",{open:r.value,toggle:O,ui:I.value},()=>[e.toggle?(A(),B(Yj,oe({key:0},typeof e.toggle=="object"?e.toggle:{},{side:e.toggleSide,"data-slot":"toggle",class:I.value.toggle({class:t.ui?.toggle,toggleSide:e.toggleSide})}),null,16,["side","class"])):X("",!0)])]),_:3}),_(y(C),null,{default:S(()=>[U(D.$slots,"resize-handle",{onMouseDown:y(h),onTouchStart:y(g),onDoubleClick:y(v),ui:I.value},()=>[e.resizable?(A(),B(Jj,{key:0,"aria-controls":c,"data-slot":"handle",class:Z(I.value.handle({class:t.ui?.handle})),onMousedown:y(h),onTouchstart:y(g),onDblclick:y(v)},null,8,["class","onMousedown","onTouchstart","onDblclick"])):X("",!0)])]),_:3}),e.side==="right"?(A(),B(y(M),{key:0})):X("",!0),k("div",oe({id:c,ref_key:"el",ref:u},D.$attrs,{"data-collapsed":y(p),"data-dragging":y(m),"data-slot":"root",class:I.value.root({class:[t.ui?.root,t.class]}),style:{"--width":`${y(d)||0}${y(l).unit}`}}),[n.header?(A(),W("div",{key:0,"data-slot":"header",class:Z(I.value.header({class:t.ui?.header}))},[U(D.$slots,"header",{collapsed:y(p),collapse:y(f)})],2)):X("",!0),k("div",{"data-slot":"body",class:Z(I.value.body({class:t.ui?.body}))},[U(D.$slots,"default",{collapsed:y(p),collapse:y(f)})],2),n.footer?(A(),W("div",{key:1,"data-slot":"footer",class:Z(I.value.footer({class:t.ui?.footer}))},[U(D.$slots,"footer",{collapsed:y(p),collapse:y(f)})],2)):X("",!0)],16,g1e),e.side==="left"?(A(),B(y(M),{key:1})):X("",!0),_(y(E),oe({open:r.value,"onUpdate:open":L[0]||(L[0]=V=>r.value=V),title:y(a)("dashboardSidebar.title"),description:y(a)("dashboardSidebar.description")},P.value,{ui:{overlay:I.value.overlay({class:t.ui?.overlay}),content:I.value.content({class:t.ui?.content})}}),{content:S(V=>[U(D.$slots,"content",rt(ct(V)),()=>[n.header||e.mode!=="drawer"?(A(),W("div",{key:0,"data-slot":"header",class:Z(I.value.header({class:t.ui?.header,menu:!0}))},[e.mode!=="drawer"&&e.toggleSide==="left"?(A(),B(y($),{key:0})):X("",!0),U(D.$slots,"header"),e.mode!=="drawer"&&e.toggleSide==="right"?(A(),B(y($),{key:1})):X("",!0)],2)):X("",!0),k("div",{"data-slot":"body",class:Z(I.value.body({class:t.ui?.body,menu:!0}))},[U(D.$slots,"default")],2),n.footer?(A(),W("div",{key:1,"data-slot":"footer",class:Z(I.value.footer({class:t.ui?.footer,menu:!0}))},[U(D.$slots,"footer")],2)):X("",!0)])]),_:3},16,["open","title","description","ui"])],64))}}),y1e={slots:{base:"font-medium inline-flex items-center",label:"truncate",leadingIcon:"shrink-0",leadingAvatar:"shrink-0",leadingAvatarSize:"",trailingIcon:"shrink-0"},variants:{fieldGroup:{horizontal:"not-only:first:rounded-e-none not-only:last:rounded-s-none not-last:not-first:rounded-none focus-visible:z-[1]",vertical:"not-only:first:rounded-b-none not-only:last:rounded-t-none not-last:not-first:rounded-none focus-visible:z-[1]"},color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},variant:{solid:"",outline:"",soft:"",subtle:""},size:{xs:{base:"text-[8px]/3 px-1 py-0.5 gap-1 rounded-sm",leadingIcon:"size-3",leadingAvatarSize:"3xs",trailingIcon:"size-3"},sm:{base:"text-[10px]/3 px-1.5 py-1 gap-1 rounded-sm",leadingIcon:"size-3",leadingAvatarSize:"3xs",trailingIcon:"size-3"},md:{base:"text-xs px-2 py-1 gap-1 rounded-md",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4"},lg:{base:"text-sm px-2 py-1 gap-1.5 rounded-md",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5"},xl:{base:"text-base px-2.5 py-1 gap-1.5 rounded-md",leadingIcon:"size-6",leadingAvatarSize:"2xs",trailingIcon:"size-6"}},square:{true:""}},compoundVariants:[{color:"primary",variant:"solid",class:"bg-primary text-inverted"},{color:"secondary",variant:"solid",class:"bg-secondary text-inverted"},{color:"success",variant:"solid",class:"bg-success text-inverted"},{color:"info",variant:"solid",class:"bg-info text-inverted"},{color:"warning",variant:"solid",class:"bg-warning text-inverted"},{color:"error",variant:"solid",class:"bg-error text-inverted"},{color:"primary",variant:"outline",class:"text-primary ring ring-inset ring-primary/50"},{color:"secondary",variant:"outline",class:"text-secondary ring ring-inset ring-secondary/50"},{color:"success",variant:"outline",class:"text-success ring ring-inset ring-success/50"},{color:"info",variant:"outline",class:"text-info ring ring-inset ring-info/50"},{color:"warning",variant:"outline",class:"text-warning ring ring-inset ring-warning/50"},{color:"error",variant:"outline",class:"text-error ring ring-inset ring-error/50"},{color:"primary",variant:"soft",class:"bg-primary/10 text-primary"},{color:"secondary",variant:"soft",class:"bg-secondary/10 text-secondary"},{color:"success",variant:"soft",class:"bg-success/10 text-success"},{color:"info",variant:"soft",class:"bg-info/10 text-info"},{color:"warning",variant:"soft",class:"bg-warning/10 text-warning"},{color:"error",variant:"soft",class:"bg-error/10 text-error"},{color:"primary",variant:"subtle",class:"bg-primary/10 text-primary ring ring-inset ring-primary/25"},{color:"secondary",variant:"subtle",class:"bg-secondary/10 text-secondary ring ring-inset ring-secondary/25"},{color:"success",variant:"subtle",class:"bg-success/10 text-success ring ring-inset ring-success/25"},{color:"info",variant:"subtle",class:"bg-info/10 text-info ring ring-inset ring-info/25"},{color:"warning",variant:"subtle",class:"bg-warning/10 text-warning ring ring-inset ring-warning/25"},{color:"error",variant:"subtle",class:"bg-error/10 text-error ring ring-inset ring-error/25"},{color:"neutral",variant:"solid",class:"text-inverted bg-inverted"},{color:"neutral",variant:"outline",class:"ring ring-inset ring-accented text-default bg-default"},{color:"neutral",variant:"soft",class:"text-default bg-elevated"},{color:"neutral",variant:"subtle",class:"ring ring-inset ring-accented text-default bg-elevated"},{size:"xs",square:!0,class:"p-0.5"},{size:"sm",square:!0,class:"p-1"},{size:"md",square:!0,class:"p-1"},{size:"lg",square:!0,class:"p-1"},{size:"xl",square:!0,class:"p-1"}],defaultVariants:{color:"primary",variant:"solid",size:"md"}},pn={__name:"Badge",props:{as:{type:null,required:!1,default:"span"},label:{type:[String,Number],required:!1},color:{type:null,required:!1},variant:{type:null,required:!1},size:{type:null,required:!1},square:{type:Boolean,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},icon:{type:null,required:!1},avatar:{type:Object,required:!1},leading:{type:Boolean,required:!1},leadingIcon:{type:null,required:!1},trailing:{type:Boolean,required:!1},trailingIcon:{type:null,required:!1}},setup(e){const t=e,n=rn(),r=Bt(),{orientation:o,size:s}=Ph(t),{isLeading:a,isTrailing:i,leadingIconName:l,trailingIconName:c}=xf(t),u=H(()=>Ye({extend:Ye(y1e),...r.ui?.badge||{}})({color:t.color,variant:t.variant,size:s.value||t.size,square:t.square||!n.default&&!t.label,fieldGroup:o.value}));return(d,f)=>(A(),B(y(Le),{as:e.as,"data-slot":"base",class:Z(u.value.base({class:[t.ui?.base,t.class]}))},{default:S(()=>[U(d.$slots,"leading",{ui:u.value},()=>[y(a)&&y(l)?(A(),B(tt,{key:0,name:y(l),"data-slot":"leadingIcon",class:Z(u.value.leadingIcon({class:t.ui?.leadingIcon}))},null,8,["name","class"])):e.avatar?(A(),B(On,oe({key:1,size:t.ui?.leadingAvatarSize||u.value.leadingAvatarSize()},e.avatar,{"data-slot":"leadingAvatar",class:u.value.leadingAvatar({class:t.ui?.leadingAvatar})}),null,16,["size","class"])):X("",!0)]),U(d.$slots,"default",{ui:u.value},()=>[e.label!==void 0&&e.label!==null?(A(),W("span",{key:0,"data-slot":"label",class:Z(u.value.label({class:t.ui?.label}))},q(e.label),3)):X("",!0)]),U(d.$slots,"trailing",{ui:u.value},()=>[y(i)&&y(c)?(A(),B(tt,{key:0,name:y(c),"data-slot":"trailingIcon",class:Z(u.value.trailingIcon({class:t.ui?.trailingIcon}))},null,8,["name","class"])):X("",!0)])]),_:3},8,["as","class"]))}},pa={Root:e3,Trigger:t3,Portal:tae,Content:Kse,Arrow:Xz,Item:Jse,Group:Wse,Separator:iae,CheckboxItem:Lse,ItemIndicator:Qse,Label:Zse,RadioGroup:rae,RadioItem:sae,Sub:uae,SubContent:dae,SubTrigger:pae},b1e={Root:bae,Trigger:Aae,Portal:Cae,Content:Sae,Arrow:gae},x1e={Root:wse,Trigger:Fse,Portal:Nse,Content:Rse,Arrow:$se,Close:Mse,Anchor:_se},w1e={slots:{content:"bg-default shadow-lg rounded-md ring ring-default data-[state=open]:animate-[scale-in_100ms_ease-out] data-[state=closed]:animate-[scale-out_100ms_ease-in] origin-(--reka-popover-content-transform-origin) focus:outline-none pointer-events-auto",arrow:"fill-default"}},k1e={__name:"Popover",props:{mode:{type:null,required:!1,default:"click"},content:{type:Object,required:!1},arrow:{type:[Boolean,Object],required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0,default:!0},reference:{type:null,required:!1},dismissible:{type:Boolean,required:!1,default:!0},class:{type:null,required:!1},ui:{type:null,required:!1},defaultOpen:{type:Boolean,required:!1},open:{type:Boolean,required:!1},modal:{type:Boolean,required:!1},openDelay:{type:Number,required:!1,default:0},closeDelay:{type:Number,required:!1,default:0}},emits:["close:prevent","update:open"],setup(e,{emit:t}){const n=e,r=t,o=rn(),s=Bt(),a=n.mode==="hover"?Pn(n,"defaultOpen","open","openDelay","closeDelay"):Pn(n,"defaultOpen","open","modal"),i=fn(a,r),l=ll(Nt(()=>n.portal)),c=Nt(()=>sr(n.content,{side:"bottom",sideOffset:8,collisionPadding:8})),u=H(()=>n.dismissible?{}:["pointerDownOutside","interactOutside","escapeKeyDown"].reduce((h,g)=>(h[g]=v=>{v.preventDefault(),r("close:prevent")},h),{})),d=Nt(()=>n.arrow),f=H(()=>Ye({extend:Ye(w1e),...s.ui?.popover||{}})({side:c.value.side})),p=H(()=>n.mode==="hover"?b1e:x1e);return(m,h)=>(A(),B(y(p).Root,rt(ct(y(i))),{default:S(({open:g,close:v})=>[o.default||e.reference?(A(),B(y(p).Trigger,{key:0,"as-child":"",reference:e.reference,class:Z(n.class)},{default:S(()=>[U(m.$slots,"default",{open:g})]),_:2},1032,["reference","class"])):X("",!0),"Anchor"in p.value&&o.anchor?(A(),B(y(p).Anchor,{key:1,"as-child":""},{default:S(()=>[U(m.$slots,"anchor",rt(ct(v?{close:v}:{})))]),_:2},1024)):X("",!0),_(y(p).Portal,rt(ct(y(l))),{default:S(()=>[_(y(p).Content,oe(c.value,{"data-slot":"content",class:f.value.content({class:[!o.default&&n.class,n.ui?.content]})},lh(u.value)),{default:S(()=>[U(m.$slots,"content",rt(ct(v?{close:v}:{}))),e.arrow?(A(),B(y(p).Arrow,oe({key:0},d.value,{"data-slot":"arrow",class:f.value.arrow({class:n.ui?.arrow})}),null,16,["class"])):X("",!0)]),_:2},1040,["class"])]),_:2},1040)]),_:3},16))}},_1e={slots:{content:"flex items-center gap-1 bg-default text-highlighted shadow-sm rounded-sm ring ring-default h-6 px-2.5 py-1 text-xs select-none data-[state=delayed-open]:animate-[scale-in_100ms_ease-out] data-[state=closed]:animate-[scale-out_100ms_ease-in] origin-(--reka-tooltip-content-transform-origin) pointer-events-auto",arrow:"fill-default",text:"truncate",kbds:"hidden lg:inline-flex items-center shrink-0 gap-0.5 not-first-of-type:before:content-[''] not-first-of-type:before:me-0.5",kbdsSize:"sm"}},SM={__name:"Tooltip",props:{text:{type:String,required:!1},kbds:{type:Array,required:!1},content:{type:Object,required:!1},arrow:{type:[Boolean,Object],required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0,default:!0},reference:{type:null,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},defaultOpen:{type:Boolean,required:!1},open:{type:Boolean,required:!1},delayDuration:{type:Number,required:!1},disableHoverableContent:{type:Boolean,required:!1},disableClosingTrigger:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},ignoreNonKeyboardFocus:{type:Boolean,required:!1}},emits:["update:open"],setup(e,{emit:t}){const n=e,r=t,o=rn(),s=Bt(),a=fn(Pn(n,"defaultOpen","open","delayDuration","disableHoverableContent","disableClosingTrigger","ignoreNonKeyboardFocus"),r),i=ll(Nt(()=>n.portal)),l=Nt(()=>sr(n.content,{side:"bottom",sideOffset:8,collisionPadding:8})),c=Nt(()=>n.arrow),u=H(()=>Ye({extend:Ye(_1e),...s.ui?.tooltip||{}})({side:l.value.side}));return(d,f)=>(A(),B(y(Uue),oe(y(a),{disabled:!(e.text||e.kbds?.length||o.content)||n.disabled}),{default:S(({open:p})=>[o.default||e.reference?(A(),B(y(Zue),oe({key:0},d.$attrs,{"as-child":"",reference:e.reference,class:n.class}),{default:S(()=>[U(d.$slots,"default",{open:p})]),_:2},1040,["reference","class"])):X("",!0),_(y(Que),rt(ct(y(i))),{default:S(()=>[_(y(Jue),oe(l.value,{"data-slot":"content",class:u.value.content({class:[!o.default&&n.class,n.ui?.content]})}),{default:S(()=>[U(d.$slots,"content",{ui:u.value},()=>[e.text?(A(),W("span",{key:0,"data-slot":"text",class:Z(u.value.text({class:n.ui?.text}))},q(e.text),3)):X("",!0),e.kbds?.length?(A(),W("span",{key:1,"data-slot":"kbds",class:Z(u.value.kbds({class:n.ui?.kbds}))},[(A(!0),W(Ee,null,Ve(e.kbds,(m,h)=>(A(),B(jx,oe({key:h,size:n.ui?.kbdsSize||u.value.kbdsSize()},{ref_for:!0},typeof m=="string"?{value:m}:m),null,16,["size"]))),128))],2)):X("",!0)]),e.arrow?(A(),B(y(Fue),oe({key:0},c.value,{"data-slot":"arrow",class:u.value.arrow({class:n.ui?.arrow})}),null,16,["class"])):X("",!0)]),_:3},16,["class"])]),_:3},16)]),_:3},16,["disabled"]))}},S1e={slots:{root:"relative flex gap-1.5 [&>div]:min-w-0",list:"isolate min-w-0",label:"w-full flex items-center gap-1.5 font-semibold text-xs/5 text-highlighted px-2.5 py-1.5",item:"min-w-0",link:"group relative w-full flex items-center gap-1.5 font-medium text-sm before:absolute before:z-[-1] before:rounded-md focus:outline-none focus-visible:outline-none dark:focus-visible:outline-none focus-visible:before:ring-inset focus-visible:before:ring-2",linkLeadingIcon:"shrink-0 size-5",linkLeadingAvatar:"shrink-0",linkLeadingAvatarSize:"2xs",linkTrailing:"group ms-auto inline-flex gap-1.5 items-center",linkTrailingBadge:"shrink-0",linkTrailingBadgeSize:"sm",linkTrailingIcon:"size-5 transform shrink-0 group-data-[state=open]:rotate-180 transition-transform duration-200",linkLabel:"truncate",linkLabelExternalIcon:"inline-block size-3 align-top text-dimmed",childList:"isolate",childLabel:"text-xs text-highlighted",childItem:"",childLink:"group relative size-full flex items-start text-start text-sm before:absolute before:z-[-1] before:rounded-md focus:outline-none focus-visible:outline-none dark:focus-visible:outline-none focus-visible:before:ring-inset focus-visible:before:ring-2",childLinkWrapper:"min-w-0",childLinkIcon:"size-5 shrink-0",childLinkLabel:"truncate",childLinkLabelExternalIcon:"inline-block size-3 align-top text-dimmed",childLinkDescription:"text-muted",separator:"px-2 h-px bg-border",viewportWrapper:"absolute top-full left-0 flex w-full",viewport:"relative overflow-hidden bg-default shadow-lg rounded-md ring ring-default h-(--reka-navigation-menu-viewport-height) w-full transition-[width,height,left] duration-200 origin-[top_center] data-[state=open]:animate-[scale-in_100ms_ease-out] data-[state=closed]:animate-[scale-out_100ms_ease-in] z-[1]",content:"",indicator:"absolute data-[state=visible]:animate-[fade-in_100ms_ease-out] data-[state=hidden]:animate-[fade-out_100ms_ease-in] data-[state=hidden]:opacity-0 bottom-0 z-[2] w-(--reka-navigation-menu-indicator-size) translate-x-(--reka-navigation-menu-indicator-position) flex h-2.5 items-end justify-center overflow-hidden transition-[translate,width] duration-200",arrow:"relative top-[50%] size-2.5 rotate-45 border border-default bg-default z-[1] rounded-xs"},variants:{color:{primary:{link:"focus-visible:before:ring-primary",childLink:"focus-visible:before:ring-primary"},secondary:{link:"focus-visible:before:ring-secondary",childLink:"focus-visible:before:ring-secondary"},success:{link:"focus-visible:before:ring-success",childLink:"focus-visible:before:ring-success"},info:{link:"focus-visible:before:ring-info",childLink:"focus-visible:before:ring-info"},warning:{link:"focus-visible:before:ring-warning",childLink:"focus-visible:before:ring-warning"},error:{link:"focus-visible:before:ring-error",childLink:"focus-visible:before:ring-error"},neutral:{link:"focus-visible:before:ring-inverted",childLink:"focus-visible:before:ring-inverted"}},highlightColor:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},variant:{pill:"",link:""},orientation:{horizontal:{root:"items-center justify-between",list:"flex items-center",item:"py-2",link:"px-2.5 py-1.5 before:inset-x-px before:inset-y-0",childList:"grid p-2",childLink:"px-3 py-2 gap-2 before:inset-x-px before:inset-y-0",childLinkLabel:"font-medium",content:"absolute top-0 left-0 w-full max-h-[70vh] overflow-y-auto"},vertical:{root:"flex-col",link:"flex-row px-2.5 py-1.5 before:inset-y-px before:inset-x-0",childLabel:"px-1.5 py-0.5",childLink:"p-1.5 gap-1.5 before:inset-y-px before:inset-x-0"}},contentOrientation:{horizontal:{viewportWrapper:"justify-center",content:"data-[motion=from-start]:animate-[enter-from-left_200ms_ease] data-[motion=from-end]:animate-[enter-from-right_200ms_ease] data-[motion=to-start]:animate-[exit-to-left_200ms_ease] data-[motion=to-end]:animate-[exit-to-right_200ms_ease]"},vertical:{viewport:"sm:w-(--reka-navigation-menu-viewport-width) left-(--reka-navigation-menu-viewport-left)"}},active:{true:{childLink:"before:bg-elevated text-highlighted",childLinkIcon:"text-default"},false:{link:"text-muted",linkLeadingIcon:"text-dimmed",childLink:["hover:before:bg-elevated/50 text-default hover:text-highlighted","transition-colors before:transition-colors"],childLinkIcon:["text-dimmed group-hover:text-default","transition-colors"]}},disabled:{true:{link:"cursor-not-allowed opacity-75"}},highlight:{true:""},level:{true:""},collapsed:{true:""}},compoundVariants:[{orientation:"horizontal",contentOrientation:"horizontal",class:{childList:"grid-cols-2 gap-2"}},{orientation:"horizontal",contentOrientation:"vertical",class:{childList:"gap-1",content:"w-60"}},{orientation:"vertical",collapsed:!1,class:{childList:"ms-5 border-s border-default",childItem:"ps-1.5 -ms-px",content:"data-[state=open]:animate-[collapsible-down_200ms_ease-out] data-[state=closed]:animate-[collapsible-up_200ms_ease-out] overflow-hidden"}},{orientation:"vertical",collapsed:!0,class:{link:"px-1.5",linkLabel:"hidden",linkTrailing:"hidden",content:"shadow-sm rounded-sm min-h-6 p-1"}},{orientation:"horizontal",highlight:!0,class:{link:["after:absolute after:-bottom-2 after:inset-x-2.5 after:block after:h-px after:rounded-full","after:transition-colors"]}},{orientation:"vertical",highlight:!0,level:!0,class:{link:["after:absolute after:-start-1.5 after:inset-y-0.5 after:block after:w-px after:rounded-full","after:transition-colors"]}},{disabled:!1,active:!1,variant:"pill",class:{link:["hover:text-highlighted hover:before:bg-elevated/50","transition-colors before:transition-colors"],linkLeadingIcon:["group-hover:text-default","transition-colors"]}},{disabled:!1,active:!1,variant:"pill",orientation:"horizontal",class:{link:"data-[state=open]:text-highlighted",linkLeadingIcon:"group-data-[state=open]:text-default"}},{disabled:!1,variant:"pill",highlight:!0,orientation:"horizontal",class:{link:"data-[state=open]:before:bg-elevated/50"}},{disabled:!1,variant:"pill",highlight:!1,active:!1,orientation:"horizontal",class:{link:"data-[state=open]:before:bg-elevated/50"}},{color:"primary",variant:"pill",active:!0,class:{link:"text-primary",linkLeadingIcon:"text-primary group-data-[state=open]:text-primary"}},{color:"secondary",variant:"pill",active:!0,class:{link:"text-secondary",linkLeadingIcon:"text-secondary group-data-[state=open]:text-secondary"}},{color:"success",variant:"pill",active:!0,class:{link:"text-success",linkLeadingIcon:"text-success group-data-[state=open]:text-success"}},{color:"info",variant:"pill",active:!0,class:{link:"text-info",linkLeadingIcon:"text-info group-data-[state=open]:text-info"}},{color:"warning",variant:"pill",active:!0,class:{link:"text-warning",linkLeadingIcon:"text-warning group-data-[state=open]:text-warning"}},{color:"error",variant:"pill",active:!0,class:{link:"text-error",linkLeadingIcon:"text-error group-data-[state=open]:text-error"}},{color:"neutral",variant:"pill",active:!0,class:{link:"text-highlighted",linkLeadingIcon:"text-highlighted group-data-[state=open]:text-highlighted"}},{variant:"pill",active:!0,highlight:!1,class:{link:"before:bg-elevated"}},{variant:"pill",active:!0,highlight:!0,disabled:!1,class:{link:["hover:before:bg-elevated/50","before:transition-colors"]}},{disabled:!1,active:!1,variant:"link",class:{link:["hover:text-highlighted","transition-colors"],linkLeadingIcon:["group-hover:text-default","transition-colors"]}},{disabled:!1,active:!1,variant:"link",orientation:"horizontal",class:{link:"data-[state=open]:text-highlighted",linkLeadingIcon:"group-data-[state=open]:text-default"}},{color:"primary",variant:"link",active:!0,class:{link:"text-primary",linkLeadingIcon:"text-primary group-data-[state=open]:text-primary"}},{color:"secondary",variant:"link",active:!0,class:{link:"text-secondary",linkLeadingIcon:"text-secondary group-data-[state=open]:text-secondary"}},{color:"success",variant:"link",active:!0,class:{link:"text-success",linkLeadingIcon:"text-success group-data-[state=open]:text-success"}},{color:"info",variant:"link",active:!0,class:{link:"text-info",linkLeadingIcon:"text-info group-data-[state=open]:text-info"}},{color:"warning",variant:"link",active:!0,class:{link:"text-warning",linkLeadingIcon:"text-warning group-data-[state=open]:text-warning"}},{color:"error",variant:"link",active:!0,class:{link:"text-error",linkLeadingIcon:"text-error group-data-[state=open]:text-error"}},{color:"neutral",variant:"link",active:!0,class:{link:"text-highlighted",linkLeadingIcon:"text-highlighted group-data-[state=open]:text-highlighted"}},{highlightColor:"primary",highlight:!0,level:!0,active:!0,class:{link:"after:bg-primary"}},{highlightColor:"secondary",highlight:!0,level:!0,active:!0,class:{link:"after:bg-secondary"}},{highlightColor:"success",highlight:!0,level:!0,active:!0,class:{link:"after:bg-success"}},{highlightColor:"info",highlight:!0,level:!0,active:!0,class:{link:"after:bg-info"}},{highlightColor:"warning",highlight:!0,level:!0,active:!0,class:{link:"after:bg-warning"}},{highlightColor:"error",highlight:!0,level:!0,active:!0,class:{link:"after:bg-error"}},{highlightColor:"neutral",highlight:!0,level:!0,active:!0,class:{link:"after:bg-inverted"}}],defaultVariants:{color:"primary",highlightColor:"primary",variant:"pill"}},$1e=Object.assign({inheritAttrs:!1},{__name:"NavigationMenu",props:{as:{type:null,required:!1},type:{type:null,required:!1,default:"multiple"},modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},trailingIcon:{type:null,required:!1},externalIcon:{type:[Boolean,String],required:!1,skipCheck:!0,default:!0},items:{type:null,required:!1},color:{type:null,required:!1},variant:{type:null,required:!1},orientation:{type:null,required:!1,default:"horizontal"},collapsed:{type:Boolean,required:!1},tooltip:{type:[Boolean,Object],required:!1},popover:{type:[Boolean,Object],required:!1},highlight:{type:Boolean,required:!1},highlightColor:{type:null,required:!1},content:{type:Object,required:!1},contentOrientation:{type:null,required:!1,default:"horizontal"},arrow:{type:Boolean,required:!1},labelKey:{type:null,required:!1,default:"label"},class:{type:null,required:!1},ui:{type:null,required:!1},delayDuration:{type:Number,required:!1,default:0},disableClickTrigger:{type:Boolean,required:!1},disableHoverTrigger:{type:Boolean,required:!1},skipDelayDuration:{type:Number,required:!1},disablePointerLeaveClose:{type:Boolean,required:!1},unmountOnHide:{type:Boolean,required:!1,default:!0},disabled:{type:Boolean,required:!1},collapsible:{type:Boolean,required:!1,default:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,r=t,o=rn(),s=Bt(),a=fn(H(()=>({as:n.as,delayDuration:n.delayDuration,skipDelayDuration:n.skipDelayDuration,orientation:n.orientation,disableClickTrigger:n.disableClickTrigger,disableHoverTrigger:n.disableHoverTrigger,disablePointerLeaveClose:n.disablePointerLeaveClose,unmountOnHide:n.unmountOnHide})),r),i=fn(Pn(n,"collapsible","disabled","type","unmountOnHide"),r),l=Nt(()=>n.content),c=Nt(()=>sr(typeof n.tooltip=="boolean"?{}:n.tooltip,{delayDuration:0,content:{side:"right"}})),u=Nt(()=>sr(typeof n.popover=="boolean"?{}:n.popover,{mode:"hover",content:{side:"right",align:"start",alignOffset:2}})),[d,f]=Rs(),[p,m]=Rs({props:{item:Object,index:Number,level:Number}}),h=H(()=>Ye({extend:Ye(S1e),...s.ui?.navigationMenu||{}})({orientation:n.orientation,contentOrientation:n.orientation==="vertical"?void 0:n.contentOrientation,collapsed:n.collapsed,color:n.color,variant:n.variant,highlight:n.highlight,highlightColor:n.highlightColor||n.color})),g=H(()=>n.items?.length?Sx(n.items)?n.items:[n.items]:[]);function v(x,$=0){const C=x.reduce((M,I,E)=>((I.defaultOpen||I.open)&&M.push(I.value||($>0?`item-${$}-${E}`:`item-${E}`)),M),[]);return n.type==="single"?C[0]:C}return(x,$)=>(A(),W(Ee,null,[_(y(d),null,{default:S(({item:C,active:M,index:I})=>[U(x.$slots,C.slot||"item",{item:C,index:I,active:M,ui:h.value},()=>[U(x.$slots,C.slot?`${C.slot}-leading`:"item-leading",{item:C,active:M,index:I,ui:h.value},()=>[C.avatar?(A(),B(On,oe({key:0,size:C.ui?.linkLeadingAvatarSize||n.ui?.linkLeadingAvatarSize||h.value.linkLeadingAvatarSize()},C.avatar,{"data-slot":"linkLeadingAvatar",class:h.value.linkLeadingAvatar({class:[n.ui?.linkLeadingAvatar,C.ui?.linkLeadingAvatar],active:M,disabled:!!C.disabled})}),null,16,["size","class"])):C.icon?(A(),B(tt,{key:1,name:C.icon,"data-slot":"linkLeadingIcon",class:Z(h.value.linkLeadingIcon({class:[n.ui?.linkLeadingIcon,C.ui?.linkLeadingIcon],active:M,disabled:!!C.disabled}))},null,8,["name","class"])):X("",!0)]),y(Pt)(C,n.labelKey)||o[C.slot?`${C.slot}-label`:"item-label"]?(A(),W("span",{key:0,"data-slot":"linkLabel",class:Z(h.value.linkLabel({class:[n.ui?.linkLabel,C.ui?.linkLabel]}))},[U(x.$slots,C.slot?`${C.slot}-label`:"item-label",{item:C,active:M,index:I},()=>[J(q(y(Pt)(C,n.labelKey)),1)]),C.target==="_blank"&&e.externalIcon!==!1?(A(),B(tt,{key:0,name:typeof e.externalIcon=="string"?e.externalIcon:y(s).ui.icons.external,"data-slot":"linkLabelExternalIcon",class:Z(h.value.linkLabelExternalIcon({class:[n.ui?.linkLabelExternalIcon,C.ui?.linkLabelExternalIcon],active:M}))},null,8,["name","class"])):X("",!0)],2)):X("",!0),C.badge||C.badge===0||e.orientation==="horizontal"&&(C.children?.length||o[C.slot?`${C.slot}-content`:"item-content"])||e.orientation==="vertical"&&C.children?.length||C.trailingIcon||o[C.slot?`${C.slot}-trailing`:"item-trailing"]?(A(),B(Kn(e.orientation==="vertical"&&C.children?.length&&!e.collapsed?y(e2):"span"),{key:1,as:"span","data-slot":"linkTrailing",class:Z(h.value.linkTrailing({class:[n.ui?.linkTrailing,C.ui?.linkTrailing]})),onClick:$[0]||($[0]=lt(()=>{},["stop","prevent"]))},{default:S(()=>[U(x.$slots,C.slot?`${C.slot}-trailing`:"item-trailing",{item:C,active:M,index:I,ui:h.value},()=>[C.badge||C.badge===0?(A(),B(pn,oe({key:0,color:"neutral",variant:"outline",size:C.ui?.linkTrailingBadgeSize||n.ui?.linkTrailingBadgeSize||h.value.linkTrailingBadgeSize()},typeof C.badge=="string"||typeof C.badge=="number"?{label:C.badge}:C.badge,{"data-slot":"linkTrailingBadge",class:h.value.linkTrailingBadge({class:[n.ui?.linkTrailingBadge,C.ui?.linkTrailingBadge]})}),null,16,["size","class"])):X("",!0),e.orientation==="horizontal"&&(C.children?.length||o[C.slot?`${C.slot}-content`:"item-content"])||e.orientation==="vertical"&&C.children?.length?(A(),B(tt,{key:1,name:C.trailingIcon||e.trailingIcon||y(s).ui.icons.chevronDown,"data-slot":"linkTrailingIcon",class:Z(h.value.linkTrailingIcon({class:[n.ui?.linkTrailingIcon,C.ui?.linkTrailingIcon],active:M}))},null,8,["name","class"])):C.trailingIcon?(A(),B(tt,{key:2,name:C.trailingIcon,"data-slot":"linkTrailingIcon",class:Z(h.value.linkTrailingIcon({class:[n.ui?.linkTrailingIcon,C.ui?.linkTrailingIcon],active:M}))},null,8,["name","class"])):X("",!0)])]),_:2},1032,["class"])):X("",!0)])]),_:3}),_(y(p),null,{default:S(({item:C,index:M,level:I=0})=>[(A(),B(Kn(e.orientation==="vertical"&&!e.collapsed?y(rte):y(Dae)),{as:"li",value:C.value||(I>0?`item-${I}-${M}`:`item-${M}`)},{default:S(()=>[e.orientation==="vertical"&&C.type==="label"&&!e.collapsed?(A(),W("div",{key:0,"data-slot":"label",class:Z(h.value.label({class:[n.ui?.label,C.ui?.label,C.class]}))},[_(y(f),{item:C,index:M},null,8,["item","index"])],2)):C.type!=="label"?(A(),B(Wi,oe({key:1},e.orientation==="vertical"&&C.children?.length&&!e.collapsed&&C.type==="trigger"?{}:y(pc)(C),{custom:""}),{default:S(({active:E,...P})=>[(A(),B(Kn(e.orientation==="horizontal"&&(C.children?.length||o[C.slot?`${C.slot}-content`:"item-content"])?y(Jae):e.orientation==="vertical"&&C.children?.length&&!e.collapsed&&!P.href?y(e2):y(Rk)),{"as-child":"",active:E||C.active,disabled:C.disabled,onSelect:C.onSelect},{default:S(()=>[e.orientation==="vertical"&&e.collapsed&&C.children?.length&&(n.popover||C.popover)?(A(),B(k1e,oe({key:0},{...u.value,...typeof C.popover=="boolean"?{}:C.popover||{}},{ui:{content:h.value.content({class:[n.ui?.content,C.ui?.content]})}}),{content:S(({close:O})=>[U(x.$slots,C.slot?`${C.slot}-content`:"item-content",{item:C,active:E||C.active,index:M,ui:h.value,close:O},()=>[k("ul",{"data-slot":"childList",class:Z(h.value.childList({class:[n.ui?.childList,C.ui?.childList]}))},[k("li",{"data-slot":"childLabel",class:Z(h.value.childLabel({class:[n.ui?.childLabel,C.ui?.childLabel]}))},q(y(Pt)(C,n.labelKey)),3),(A(!0),W(Ee,null,Ve(C.children,(D,L)=>(A(),W("li",{key:L,"data-slot":"childItem",class:Z(h.value.childItem({class:[n.ui?.childItem,C.ui?.childItem]}))},[_(Wi,oe({ref_for:!0},y(pc)(D),{custom:""}),{default:S(({active:V,...F})=>[_(y(Rk),{"as-child":"",active:V,onSelect:D.onSelect},{default:S(()=>[_(Va,oe({ref_for:!0},F,{"data-slot":"childLink",class:h.value.childLink({class:[n.ui?.childLink,C.ui?.childLink,D.class],active:V})}),{default:S(()=>[D.icon?(A(),B(tt,{key:0,name:D.icon,"data-slot":"childLinkIcon",class:Z(h.value.childLinkIcon({class:[n.ui?.childLinkIcon,C.ui?.childLinkIcon],active:V}))},null,8,["name","class"])):X("",!0),k("span",{"data-slot":"childLinkLabel",class:Z(h.value.childLinkLabel({class:[n.ui?.childLinkLabel,C.ui?.childLinkLabel],active:V}))},[J(q(y(Pt)(D,n.labelKey))+" ",1),D.target==="_blank"&&e.externalIcon!==!1?(A(),B(tt,{key:0,name:typeof e.externalIcon=="string"?e.externalIcon:y(s).ui.icons.external,"data-slot":"childLinkLabelExternalIcon",class:Z(h.value.childLinkLabelExternalIcon({class:[n.ui?.childLinkLabelExternalIcon,C.ui?.childLinkLabelExternalIcon],active:V}))},null,8,["name","class"])):X("",!0)],2)]),_:2},1040,["class"])]),_:2},1032,["active","onSelect"])]),_:2},1040)],2))),128))],2)])]),default:S(()=>[_(Va,oe(P,{"data-slot":"link",class:h.value.link({class:[n.ui?.link,C.ui?.link,C.class],active:E||C.active,disabled:!!C.disabled,level:I>0})}),{default:S(()=>[_(y(f),{item:C,active:E||C.active,index:M},null,8,["item","active","index"])]),_:2},1040,["class"])]),_:2},1040,["ui"])):e.orientation==="vertical"&&e.collapsed&&(n.tooltip||C.tooltip)?(A(),B(SM,oe({key:1,text:y(Pt)(C,n.labelKey)},{...c.value,...typeof C.tooltip=="boolean"?{}:C.tooltip||{}}),{default:S(()=>[_(Va,oe(P,{"data-slot":"link",class:h.value.link({class:[n.ui?.link,C.ui?.link,C.class],active:E||C.active,disabled:!!C.disabled,level:I>0})}),{default:S(()=>[_(y(f),{item:C,active:E||C.active,index:M},null,8,["item","active","index"])]),_:2},1040,["class"])]),_:2},1040,["text"])):(A(),B(Va,oe({key:2},P,{"data-slot":"link",class:h.value.link({class:[n.ui?.link,C.ui?.link,C.class],active:E||C.active,disabled:!!C.disabled,level:e.orientation==="horizontal"||I>0})}),{default:S(()=>[_(y(f),{item:C,active:E||C.active,index:M},null,8,["item","active","index"])]),_:2},1040,["class"]))]),_:2},1064,["active","disabled","onSelect"])),e.orientation==="horizontal"&&(C.children?.length||o[C.slot?`${C.slot}-content`:"item-content"])?(A(),B(y(Lae),oe({key:0},l.value,{"data-slot":"content",class:h.value.content({class:[n.ui?.content,C.ui?.content]})}),{default:S(()=>[U(x.$slots,C.slot?`${C.slot}-content`:"item-content",{item:C,active:E||C.active,index:M,ui:h.value},()=>[k("ul",{"data-slot":"childList",class:Z(h.value.childList({class:[n.ui?.childList,C.ui?.childList]}))},[(A(!0),W(Ee,null,Ve(C.children,(O,D)=>(A(),W("li",{key:D,"data-slot":"childItem",class:Z(h.value.childItem({class:[n.ui?.childItem,C.ui?.childItem]}))},[_(Wi,oe({ref_for:!0},y(pc)(O),{custom:""}),{default:S(({active:L,...V})=>[_(y(Rk),{"as-child":"",active:L,onSelect:O.onSelect},{default:S(()=>[_(Va,oe({ref_for:!0},V,{"data-slot":"childLink",class:h.value.childLink({class:[n.ui?.childLink,C.ui?.childLink,O.class],active:L})}),{default:S(()=>[O.icon?(A(),B(tt,{key:0,name:O.icon,"data-slot":"childLinkIcon",class:Z(h.value.childLinkIcon({class:[n.ui?.childLinkIcon,C.ui?.childLinkIcon],active:L}))},null,8,["name","class"])):X("",!0),k("div",{"data-slot":"childLinkWrapper",class:Z(h.value.childLinkWrapper({class:[n.ui?.childLinkWrapper,C.ui?.childLinkWrapper]}))},[k("p",{"data-slot":"childLinkLabel",class:Z(h.value.childLinkLabel({class:[n.ui?.childLinkLabel,C.ui?.childLinkLabel],active:L}))},[J(q(y(Pt)(O,n.labelKey))+" ",1),O.target==="_blank"&&e.externalIcon!==!1?(A(),B(tt,{key:0,name:typeof e.externalIcon=="string"?e.externalIcon:y(s).ui.icons.external,"data-slot":"childLinkLabelExternalIcon",class:Z(h.value.childLinkLabelExternalIcon({class:[n.ui?.childLinkLabelExternalIcon,C.ui?.childLinkLabelExternalIcon],active:L}))},null,8,["name","class"])):X("",!0)],2),O.description?(A(),W("p",{key:0,"data-slot":"childLinkDescription",class:Z(h.value.childLinkDescription({class:[n.ui?.childLinkDescription,C.ui?.childLinkDescription],active:L}))},q(O.description),3)):X("",!0)],2)]),_:2},1040,["class"])]),_:2},1032,["active","onSelect"])]),_:2},1040)],2))),128))],2)])]),_:2},1040,["class"])):X("",!0)]),_:2},1040)):X("",!0),e.orientation==="vertical"&&C.children?.length&&!e.collapsed?(A(),B(y(ste),{key:2,"data-slot":"content",class:Z(h.value.content({class:[n.ui?.content,C.ui?.content]}))},{default:S(()=>[_(y(ZP),oe({...y(i),defaultValue:v(C.children,I+1)},{as:"ul","data-slot":"childList",class:h.value.childList({class:n.ui?.childList})}),{default:S(()=>[(A(!0),W(Ee,null,Ve(C.children,(E,P)=>(A(),B(y(m),{key:P,item:E,index:P,level:I+1,"data-slot":"childItem",class:Z(h.value.childItem({class:[n.ui?.childItem,E.ui?.childItem]}))},null,8,["item","index","level","class"]))),128))]),_:2},1040,["class"])]),_:2},1032,["class"])):X("",!0)]),_:2},1032,["value"]))]),_:3}),_(y(Pae),oe({...y(a),...e.orientation==="horizontal"?{modelValue:e.modelValue,defaultValue:e.defaultValue}:{},...x.$attrs},{"data-collapsed":e.collapsed,"data-slot":"root",class:h.value.root({class:[n.ui?.root,n.class]})}),{default:S(()=>[U(x.$slots,"list-leading"),(A(!0),W(Ee,null,Ve(g.value,(C,M)=>(A(),W(Ee,{key:`list-${M}`},[(A(),B(Kn(e.orientation==="vertical"?y(ZP):y(Hae)),oe({ref_for:!0},e.orientation==="vertical"&&!e.collapsed?{...y(i),modelValue:e.modelValue,defaultValue:e.defaultValue??v(C)}:{},{as:"ul","data-slot":"list",class:h.value.list({class:n.ui?.list})}),{default:S(()=>[(A(!0),W(Ee,null,Ve(C,(I,E)=>(A(),B(y(m),{key:`list-${M}-${E}`,item:I,index:E,"data-slot":"item",class:Z(h.value.item({class:[n.ui?.item,I.ui?.item]}))},null,8,["item","index","class"]))),128))]),_:2},1040,["class"])),e.orientation==="vertical"&&M<g.value.length-1?(A(),W("div",{key:0,"data-slot":"separator",class:Z(h.value.separator({class:n.ui?.separator}))},null,2)):X("",!0)],64))),128)),U(x.$slots,"list-trailing"),e.orientation==="horizontal"?(A(),W("div",{key:0,"data-slot":"viewportWrapper",class:Z(h.value.viewportWrapper({class:n.ui?.viewportWrapper}))},[e.arrow?(A(),B(y(Vae),{key:0,"data-slot":"indicator",class:Z(h.value.indicator({class:n.ui?.indicator}))},{default:S(()=>[k("div",{"data-slot":"arrow",class:Z(h.value.arrow({class:n.ui?.arrow}))},null,2)]),_:1},8,["class"])):X("",!0),_(y(Qae),{"data-slot":"viewport",class:Z(h.value.viewport({class:n.ui?.viewport}))},null,8,["class"])],2)):X("",!0)]),_:3},16,["data-collapsed","class"])],64))}}),C1e={slots:{base:"",label:"",trailing:"hidden lg:flex items-center gap-0.5 ms-auto"},variants:{collapsed:{true:{label:"hidden",trailing:"lg:hidden"}}}},M1e=Object.assign({inheritAttrs:!1},{__name:"DashboardSearchButton",props:{icon:{type:null,required:!1},label:{type:String,required:!1},color:{type:null,required:!1,default:"neutral"},variant:{type:null,required:!1},collapsed:{type:Boolean,required:!1,default:!1},tooltip:{type:[Boolean,Object],required:!1,default:!1},kbds:{type:Array,required:!1,default:()=>["meta","k"]},ui:{type:void 0,required:!1},class:{type:null,required:!1},activeColor:{type:null,required:!1},activeVariant:{type:null,required:!1},size:{type:null,required:!1},square:{type:Boolean,required:!1},block:{type:Boolean,required:!1},loadingAuto:{type:Boolean,required:!1},onClick:{type:[Function,Array],required:!1},avatar:{type:Object,required:!1},leading:{type:Boolean,required:!1},leadingIcon:{type:null,required:!1},trailing:{type:Boolean,required:!1},trailingIcon:{type:null,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:null,required:!1},as:{type:null,required:!1},type:{type:null,required:!1},disabled:{type:Boolean,required:!1},exactActiveClass:{type:String,required:!1},viewTransition:{type:Boolean,required:!1}},setup(e){const t=e,n=rn(),[r,o]=Rs(),s=()=>Ql(n,["trailing"]),a=jn(kh(t,"icon","label","variant","collapsed","tooltip","kbds","class","ui")),i=Nt(()=>sr(typeof t.tooltip=="boolean"?{}:t.tooltip,{delayDuration:0,content:{side:"right"}})),{t:l}=oo(),c=Bt(),{toggleSearch:u}=wf({toggleSearch:()=>{}}),d=H(()=>Ye({extend:Ye(C1e),...c.ui?.dashboardSearchButton||{}})({collapsed:t.collapsed}));return(f,p)=>(A(),W(Ee,null,[_(y(r),null,{default:S(()=>[_(We,oe({icon:e.icon||y(c).ui.icons.search,label:e.label||y(l)("dashboardSearchButton.label"),variant:e.variant||(e.collapsed?"ghost":"outline")},{...y(a),...e.collapsed?{square:!0,"aria-label":e.label||y(l)("dashboardSearchButton.label")}:{},...f.$attrs},{class:d.value.base({class:[t.ui?.base,t.class]}),ui:y(C3)(d.value,t.ui),onClick:y(u)}),gr({trailing:S(({ui:m})=>[k("div",{"data-slot":"trailing",class:Z(d.value.trailing({class:t.ui?.trailing}))},[U(f.$slots,"trailing",{ui:m},()=>[e.kbds?.length?(A(!0),W(Ee,{key:0},Ve(e.kbds,(h,g)=>(A(),B(jx,oe({key:g,variant:"subtle"},{ref_for:!0},typeof h=="string"?{value:h}:h),null,16))),128)):X("",!0)])],2)]),_:2},[Ve(s(),(m,h)=>({name:h,fn:S(g=>[U(f.$slots,h,rt(ct(g)))])}))]),1040,["icon","label","variant","class","ui","onClick"])]),_:3}),e.collapsed&&e.tooltip?(A(),B(SM,oe({key:0,text:e.label||y(l)("dashboardSearchButton.label")},i.value),{default:S(()=>[_(y(o))]),_:1},16,["text"])):(A(),B(y(o),{key:1}))],64))}}),fV={__name:"DropdownMenuContent",props:{items:{type:null,required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0},sub:{type:Boolean,required:!1},labelKey:{type:null,required:!0},descriptionKey:{type:null,required:!0},checkedIcon:{type:null,required:!1},loadingIcon:{type:null,required:!1},externalIcon:{type:[Boolean,String],required:!1,skipCheck:!0},class:{type:null,required:!1},ui:{type:null,required:!0},uiOverride:{type:null,required:!1},loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(e,{emit:t}){const n=e,r=t,o=rn(),{dir:s}=oo(),a=Bt(),i=ll(Nt(()=>n.portal)),l=fn(kh(n,"sub","items","portal","labelKey","descriptionKey","checkedIcon","loadingIcon","externalIcon","class","ui","uiOverride"),r),c=()=>Ql(o,["default"]),[u,d]=Rs(),f=H(()=>s.value==="rtl"?a.ui.icons.chevronLeft:a.ui.icons.chevronRight),p=H(()=>n.items?.length?Sx(n.items)?n.items:[n.items]:[]);return(m,h)=>(A(),W(Ee,null,[_(y(u),null,{default:S(({item:g,active:v,index:x})=>[U(m.$slots,g.slot||"item",{item:g,index:x,ui:e.ui},()=>[U(m.$slots,g.slot?`${g.slot}-leading`:"item-leading",{item:g,active:v,index:x,ui:e.ui},()=>[g.loading?(A(),B(tt,{key:0,name:e.loadingIcon||y(a).ui.icons.loading,"data-slot":"itemLeadingIcon",class:Z(e.ui.itemLeadingIcon({class:[e.uiOverride?.itemLeadingIcon,g.ui?.itemLeadingIcon],color:g?.color,loading:!0}))},null,8,["name","class"])):g.icon?(A(),B(tt,{key:1,name:g.icon,"data-slot":"itemLeadingIcon",class:Z(e.ui.itemLeadingIcon({class:[e.uiOverride?.itemLeadingIcon,g.ui?.itemLeadingIcon],color:g?.color,active:v}))},null,8,["name","class"])):g.avatar?(A(),B(On,oe({key:2,size:g.ui?.itemLeadingAvatarSize||e.uiOverride?.itemLeadingAvatarSize||e.ui.itemLeadingAvatarSize()},g.avatar,{"data-slot":"itemLeadingAvatar",class:e.ui.itemLeadingAvatar({class:[e.uiOverride?.itemLeadingAvatar,g.ui?.itemLeadingAvatar],active:v})}),null,16,["size","class"])):X("",!0)]),y(Pt)(g,n.labelKey)||o[g.slot?`${g.slot}-label`:"item-label"]||y(Pt)(g,n.descriptionKey)||o[g.slot?`${g.slot}-description`:"item-description"]?(A(),W("span",{key:0,"data-slot":"itemWrapper",class:Z(e.ui.itemWrapper({class:[e.uiOverride?.itemWrapper,g.ui?.itemWrapper]}))},[k("span",{"data-slot":"itemLabel",class:Z(e.ui.itemLabel({class:[e.uiOverride?.itemLabel,g.ui?.itemLabel],active:v}))},[U(m.$slots,g.slot?`${g.slot}-label`:"item-label",{item:g,active:v,index:x},()=>[J(q(y(Pt)(g,n.labelKey)),1)]),g.target==="_blank"&&e.externalIcon!==!1?(A(),B(tt,{key:0,name:typeof e.externalIcon=="string"?e.externalIcon:y(a).ui.icons.external,"data-slot":"itemLabelExternalIcon",class:Z(e.ui.itemLabelExternalIcon({class:[e.uiOverride?.itemLabelExternalIcon,g.ui?.itemLabelExternalIcon],color:g?.color,active:v}))},null,8,["name","class"])):X("",!0)],2),y(Pt)(g,n.descriptionKey)?(A(),W("span",{key:0,"data-slot":"itemDescription",class:Z(e.ui.itemDescription({class:[e.uiOverride?.itemDescription,g.ui?.itemDescription]}))},[U(m.$slots,g.slot?`${g.slot}-description`:"item-description",{item:g,active:v,index:x},()=>[J(q(y(Pt)(g,n.descriptionKey)),1)])],2)):X("",!0)],2)):X("",!0),k("span",{"data-slot":"itemTrailing",class:Z(e.ui.itemTrailing({class:[e.uiOverride?.itemTrailing,g.ui?.itemTrailing]}))},[U(m.$slots,g.slot?`${g.slot}-trailing`:"item-trailing",{item:g,active:v,index:x,ui:e.ui},()=>[g.children?.length?(A(),B(tt,{key:0,name:f.value,"data-slot":"itemTrailingIcon",class:Z(e.ui.itemTrailingIcon({class:[e.uiOverride?.itemTrailingIcon,g.ui?.itemTrailingIcon],color:g?.color,active:v}))},null,8,["name","class"])):g.kbds?.length?(A(),W("span",{key:1,"data-slot":"itemTrailingKbds",class:Z(e.ui.itemTrailingKbds({class:[e.uiOverride?.itemTrailingKbds,g.ui?.itemTrailingKbds]}))},[(A(!0),W(Ee,null,Ve(g.kbds,($,C)=>(A(),B(jx,oe({key:C,size:g.ui?.itemTrailingKbdsSize||e.uiOverride?.itemTrailingKbdsSize||e.ui.itemTrailingKbdsSize()},{ref_for:!0},typeof $=="string"?{value:$}:$),null,16,["size"]))),128))],2)):X("",!0)]),_(y(pa).ItemIndicator,{"as-child":""},{default:S(()=>[_(tt,{name:e.checkedIcon||y(a).ui.icons.check,"data-slot":"itemTrailingIcon",class:Z(e.ui.itemTrailingIcon({class:[e.uiOverride?.itemTrailingIcon,g.ui?.itemTrailingIcon],color:g?.color}))},null,8,["name","class"])]),_:2},1024)],2)])]),_:3}),_(y(pa).Portal,rt(ct(y(i))),{default:S(()=>[(A(),B(Kn(e.sub?y(pa).SubContent:y(pa).Content),oe({"data-slot":"content",class:e.ui.content({class:[e.uiOverride?.content,n.class]})},y(l)),{default:S(()=>[U(m.$slots,"content-top",{sub:e.sub??!1}),k("div",{role:"presentation","data-slot":"viewport",class:Z(e.ui.viewport({class:e.uiOverride?.viewport}))},[(A(!0),W(Ee,null,Ve(p.value,(g,v)=>(A(),B(y(pa).Group,{key:`group-${v}`,"data-slot":"group",class:Z(e.ui.group({class:e.uiOverride?.group}))},{default:S(()=>[(A(!0),W(Ee,null,Ve(g,(x,$)=>(A(),W(Ee,{key:`group-${v}-${$}`},[x.type==="label"?(A(),B(y(pa).Label,{key:0,"data-slot":"label",class:Z(e.ui.label({class:[e.uiOverride?.label,x.ui?.label,x.class]}))},{default:S(()=>[_(y(d),{item:x,index:$},null,8,["item","index"])]),_:2},1032,["class"])):x.type==="separator"?(A(),B(y(pa).Separator,{key:1,"data-slot":"separator",class:Z(e.ui.separator({class:[e.uiOverride?.separator,x.ui?.separator,x.class]}))},null,8,["class"])):x?.children?.length?(A(),B(y(pa).Sub,{key:2,open:x.open,"default-open":x.defaultOpen},{default:S(()=>[_(y(pa).SubTrigger,{as:"button",type:"button",disabled:x.disabled,"text-value":y(Pt)(x,n.labelKey),"data-slot":"item",class:Z(e.ui.item({class:[e.uiOverride?.item,x.ui?.item,x.class],color:x?.color}))},{default:S(()=>[_(y(d),{item:x,index:$},null,8,["item","index"])]),_:2},1032,["disabled","text-value","class"]),_(fV,oe({sub:"",class:x.ui?.content,ui:e.ui,"ui-override":e.uiOverride,portal:e.portal,items:x.children,align:"start","align-offset":-4,"side-offset":3,"label-key":e.labelKey,"description-key":e.descriptionKey,"checked-icon":e.checkedIcon,"loading-icon":e.loadingIcon,"external-icon":e.externalIcon},{ref_for:!0},x.content),gr({_:2},[Ve(c(),(C,M)=>({name:M,fn:S(I=>[U(m.$slots,M,oe({ref_for:!0},I))])}))]),1040,["class","ui","ui-override","portal","items","label-key","description-key","checked-icon","loading-icon","external-icon"])]),_:2},1032,["open","default-open"])):x.type==="checkbox"?(A(),B(y(pa).CheckboxItem,{key:3,"model-value":x.checked,disabled:x.disabled,"text-value":y(Pt)(x,n.labelKey),"data-slot":"item",class:Z(e.ui.item({class:[e.uiOverride?.item,x.ui?.item,x.class],color:x?.color})),"onUpdate:modelValue":x.onUpdateChecked,onSelect:x.onSelect},{default:S(()=>[_(y(d),{item:x,index:$},null,8,["item","index"])]),_:2},1032,["model-value","disabled","text-value","class","onUpdate:modelValue","onSelect"])):(A(),B(y(pa).Item,{key:4,"as-child":"",disabled:x.disabled,"text-value":y(Pt)(x,n.labelKey),onSelect:x.onSelect},{default:S(()=>[_(Wi,oe({ref_for:!0},y(pc)(x),{custom:""}),{default:S(({active:C,...M})=>[_(Va,oe({ref_for:!0},M,{"data-slot":"item",class:e.ui.item({class:[e.uiOverride?.item,x.ui?.item,x.class],color:x?.color,active:C})}),{default:S(()=>[_(y(d),{item:x,active:C,index:$},null,8,["item","active","index"])]),_:2},1040,["class"])]),_:2},1040)]),_:2},1032,["disabled","text-value","onSelect"]))],64))),128))]),_:2},1032,["class"]))),128))],2),U(m.$slots,"default"),U(m.$slots,"content-bottom",{sub:e.sub??!1})]),_:3},16,["class"]))]),_:3},16)],64))}},A1e={slots:{content:"min-w-32 bg-default shadow-lg rounded-md ring ring-default overflow-hidden data-[state=open]:animate-[scale-in_100ms_ease-out] data-[state=closed]:animate-[scale-out_100ms_ease-in] origin-(--reka-dropdown-menu-content-transform-origin) flex flex-col",viewport:"relative divide-y divide-default scroll-py-1 overflow-y-auto flex-1",arrow:"fill-default",group:"p-1 isolate",label:"w-full flex items-center font-semibold text-highlighted",separator:"-mx-1 my-1 h-px bg-border",item:"group relative w-full flex items-start select-none outline-none before:absolute before:z-[-1] before:inset-px before:rounded-md data-disabled:cursor-not-allowed data-disabled:opacity-75",itemLeadingIcon:"shrink-0",itemLeadingAvatar:"shrink-0",itemLeadingAvatarSize:"",itemTrailing:"ms-auto inline-flex gap-1.5 items-center",itemTrailingIcon:"shrink-0",itemTrailingKbds:"hidden lg:inline-flex items-center shrink-0",itemTrailingKbdsSize:"",itemWrapper:"flex-1 flex flex-col text-start min-w-0",itemLabel:"truncate",itemDescription:"truncate text-muted",itemLabelExternalIcon:"inline-block size-3 align-top text-dimmed"},variants:{color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},active:{true:{item:"text-highlighted before:bg-elevated",itemLeadingIcon:"text-default"},false:{item:["text-default data-highlighted:text-highlighted data-[state=open]:text-highlighted data-highlighted:before:bg-elevated/50 data-[state=open]:before:bg-elevated/50","transition-colors before:transition-colors"],itemLeadingIcon:["text-dimmed group-data-highlighted:text-default group-data-[state=open]:text-default","transition-colors"]}},loading:{true:{itemLeadingIcon:"animate-spin"}},size:{xs:{label:"p-1 text-xs gap-1",item:"p-1 text-xs gap-1",itemLeadingIcon:"size-4",itemLeadingAvatarSize:"3xs",itemTrailingIcon:"size-4",itemTrailingKbds:"gap-0.5",itemTrailingKbdsSize:"sm"},sm:{label:"p-1.5 text-xs gap-1.5",item:"p-1.5 text-xs gap-1.5",itemLeadingIcon:"size-4",itemLeadingAvatarSize:"3xs",itemTrailingIcon:"size-4",itemTrailingKbds:"gap-0.5",itemTrailingKbdsSize:"sm"},md:{label:"p-1.5 text-sm gap-1.5",item:"p-1.5 text-sm gap-1.5",itemLeadingIcon:"size-5",itemLeadingAvatarSize:"2xs",itemTrailingIcon:"size-5",itemTrailingKbds:"gap-0.5",itemTrailingKbdsSize:"md"},lg:{label:"p-2 text-sm gap-2",item:"p-2 text-sm gap-2",itemLeadingIcon:"size-5",itemLeadingAvatarSize:"2xs",itemTrailingIcon:"size-5",itemTrailingKbds:"gap-1",itemTrailingKbdsSize:"md"},xl:{label:"p-2 text-base gap-2",item:"p-2 text-base gap-2",itemLeadingIcon:"size-6",itemLeadingAvatarSize:"xs",itemTrailingIcon:"size-6",itemTrailingKbds:"gap-1",itemTrailingKbdsSize:"lg"}}},compoundVariants:[{color:"primary",active:!1,class:{item:"text-primary data-highlighted:text-primary data-highlighted:before:bg-primary/10 data-[state=open]:before:bg-primary/10",itemLeadingIcon:"text-primary/75 group-data-highlighted:text-primary group-data-[state=open]:text-primary"}},{color:"secondary",active:!1,class:{item:"text-secondary data-highlighted:text-secondary data-highlighted:before:bg-secondary/10 data-[state=open]:before:bg-secondary/10",itemLeadingIcon:"text-secondary/75 group-data-highlighted:text-secondary group-data-[state=open]:text-secondary"}},{color:"success",active:!1,class:{item:"text-success data-highlighted:text-success data-highlighted:before:bg-success/10 data-[state=open]:before:bg-success/10",itemLeadingIcon:"text-success/75 group-data-highlighted:text-success group-data-[state=open]:text-success"}},{color:"info",active:!1,class:{item:"text-info data-highlighted:text-info data-highlighted:before:bg-info/10 data-[state=open]:before:bg-info/10",itemLeadingIcon:"text-info/75 group-data-highlighted:text-info group-data-[state=open]:text-info"}},{color:"warning",active:!1,class:{item:"text-warning data-highlighted:text-warning data-highlighted:before:bg-warning/10 data-[state=open]:before:bg-warning/10",itemLeadingIcon:"text-warning/75 group-data-highlighted:text-warning group-data-[state=open]:text-warning"}},{color:"error",active:!1,class:{item:"text-error data-highlighted:text-error data-highlighted:before:bg-error/10 data-[state=open]:before:bg-error/10",itemLeadingIcon:"text-error/75 group-data-highlighted:text-error group-data-[state=open]:text-error"}},{color:"primary",active:!0,class:{item:"text-primary before:bg-primary/10",itemLeadingIcon:"text-primary"}},{color:"secondary",active:!0,class:{item:"text-secondary before:bg-secondary/10",itemLeadingIcon:"text-secondary"}},{color:"success",active:!0,class:{item:"text-success before:bg-success/10",itemLeadingIcon:"text-success"}},{color:"info",active:!0,class:{item:"text-info before:bg-info/10",itemLeadingIcon:"text-info"}},{color:"warning",active:!0,class:{item:"text-warning before:bg-warning/10",itemLeadingIcon:"text-warning"}},{color:"error",active:!0,class:{item:"text-error before:bg-error/10",itemLeadingIcon:"text-error"}}],defaultVariants:{size:"md"}},_f={__name:"DropdownMenu",props:{size:{type:null,required:!1},items:{type:null,required:!1},checkedIcon:{type:null,required:!1},loadingIcon:{type:null,required:!1},externalIcon:{type:[Boolean,String],required:!1,skipCheck:!0,default:!0},content:{type:Object,required:!1},arrow:{type:[Boolean,Object],required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0,default:!0},labelKey:{type:null,required:!1,default:"label"},descriptionKey:{type:null,required:!1,default:"description"},disabled:{type:Boolean,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},defaultOpen:{type:Boolean,required:!1},open:{type:Boolean,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(e,{emit:t}){const n=e,r=t,o=rn(),s=Bt(),a=fn(Pn(n,"defaultOpen","open","modal"),r),i=Nt(()=>sr(n.content,{side:"bottom",sideOffset:8,collisionPadding:8})),l=Nt(()=>n.arrow),c=()=>Ql(o,["default"]),u=H(()=>Ye({extend:Ye(A1e),...s.ui?.dropdownMenu||{}})({size:n.size}));return(d,f)=>(A(),B(y(e3),rt(ct(y(a))),{default:S(({open:p})=>[o.default?(A(),B(y(t3),{key:0,"as-child":"",class:Z(n.class),disabled:e.disabled},{default:S(()=>[U(d.$slots,"default",{open:p})]),_:2},1032,["class","disabled"])):X("",!0),_(fV,oe({class:u.value.content({class:[!o.default&&n.class,n.ui?.content]}),ui:u.value,"ui-override":n.ui},i.value,{items:e.items,portal:e.portal,"label-key":e.labelKey,"description-key":e.descriptionKey,"checked-icon":e.checkedIcon,"loading-icon":e.loadingIcon,"external-icon":e.externalIcon}),gr({default:S(()=>[e.arrow?(A(),B(y(Xz),oe({key:0},l.value,{"data-slot":"arrow",class:u.value.arrow({class:n.ui?.arrow})}),null,16,["class"])):X("",!0)]),_:2},[Ve(c(),(m,h)=>({name:h,fn:S(g=>[U(d.$slots,h,rt(ct(g)))])}))]),1040,["class","ui","ui-override","items","portal","label-key","description-key","checked-icon","loading-icon","external-icon"])]),_:3},16))}},T1e=le({__name:"TeamsMenu",props:{collapsed:{type:Boolean}},setup(e){const t=K([{label:"Vue",avatar:{src:"https://github.com/vuejs.png",alt:"Vue"}},{label:"Vite",avatar:{src:"https://github.com/vitejs.png",alt:"Vite"}},{label:"Vitest",avatar:{src:"https://github.com/vitest-dev.png",alt:"Vitest"}}]),n=K(t.value[0]),r=H(()=>[t.value.map(o=>({...o,onSelect(){n.value=o}})),[{label:"Create team",icon:"i-lucide-circle-plus"},{label:"Manage teams",icon:"i-lucide-cog"}]]);return(o,s)=>{const a=We,i=_f;return A(),B(i,{items:r.value,content:{align:"center",collisionPadding:12},ui:{content:e.collapsed?"w-40":"w-(--reka-dropdown-menu-trigger-width)"}},{default:S(()=>[_(a,oe({...n.value,label:e.collapsed?void 0:n.value?.label,trailingIcon:e.collapsed?void 0:"i-lucide-chevrons-up-down"},{color:"neutral",variant:"ghost",block:"",square:e.collapsed,class:["data-[state=open]:bg-elevated",[!e.collapsed&&"py-2"]],ui:{trailingIcon:"text-dimmed"}}),null,16,["square","class"])]),_:1},8,["items","ui"])}}}),E1e={class:"inline-flex items-center justify-center shrink-0 size-5"},I1e={__name:"UserMenu",props:{collapsed:{type:Boolean,default:!1}},setup(e){const t=ai(),n=kx(),r=Bt(),o=Ih(),s=["red","orange","amber","yellow","lime","green","emerald","teal","cyan","sky","blue","indigo","violet","purple","fuchsia","pink","rose"],a=["slate","gray","zinc","neutral","stone"],i=H(()=>{const u=t.props.auth?.user;return u?{name:u.name,avatar:{src:u.profile_photo_url||`https://api.dicebear.com/7.x/avataaars/svg?seed=${u.email}`,alt:u.name}}:{name:"Guest",avatar:{src:null,alt:"Guest"}}}),l=()=>{Qe.post("/logout",{},{onSuccess:()=>{o.add({title:"Logout Berhasil",description:"Sampai jumpa kembali!",icon:"i-lucide-log-out",color:"success"})}})},c=H(()=>[[{type:"label",label:i.value.name,avatar:i.value.avatar}],[{label:"Profil",icon:"i-lucide-user",to:"/dashboard/profile"}],[{label:"Tema",icon:"i-lucide-palette",children:[{label:"Primary",slot:"chip",chip:r.ui.colors.primary,content:{align:"center",collisionPadding:16},children:s.map(u=>({label:u,chip:u,slot:"chip",checked:r.ui.colors.primary===u,type:"checkbox",onSelect:d=>{d.preventDefault(),r.ui.colors.primary=u}}))},{label:"Neutral",slot:"chip",chip:r.ui.colors.neutral==="neutral"?"old-neutral":r.ui.colors.neutral,content:{align:"end",collisionPadding:16},children:a.map(u=>({label:u,chip:u==="neutral"?"old-neutral":u,slot:"chip",type:"checkbox",checked:r.ui.colors.neutral===u,onSelect:d=>{d.preventDefault(),r.ui.colors.neutral=u}}))}]},{label:"Tampilan",icon:"i-lucide-sun-moon",children:[{label:"Light",icon:"i-lucide-sun",type:"checkbox",checked:n.value==="light",onSelect(u){u.preventDefault(),n.value="light"}},{label:"Dark",icon:"i-lucide-moon",type:"checkbox",checked:n.value==="dark",onSelect(u){u.preventDefault(),n.value="dark"}}]}],[{label:"Keluar",icon:"i-lucide-log-out",onSelect:l}]]);return(u,d)=>{const f=We,p=_f;return A(),B(p,{items:c.value,content:{align:"center",collisionPadding:12},ui:{content:e.collapsed?"w-48":"w-(--reka-dropdown-menu-trigger-width)"}},{"chip-leading":S(({item:m})=>[k("div",E1e,[k("span",{class:"rounded-full ring ring-bg bg-(--chip-light) dark:bg-(--chip-dark) size-2",style:Un({"--chip-light":`var(--color-${m.chip}-500)`,"--chip-dark":`var(--color-${m.chip}-400)`})},null,4)])]),default:S(()=>[_(f,{avatar:i.value.avatar,label:e.collapsed?void 0:i.value.name,"trailing-icon":e.collapsed?void 0:"i-lucide-chevrons-up-down",color:"neutral",variant:"ghost",block:"",square:e.collapsed,class:"data-[state=open]:bg-elevated",ui:{trailingIcon:"text-dimmed"}},null,8,["avatar","label","trailing-icon","square"])]),_:1},8,["items","ui"])}}};function P1e(){const e=ai(),t=Ih();return He(()=>e.props.flash,a=>{a?.success&&t.add({title:"Berhasil",description:a.success,icon:"i-lucide-check-circle",color:"success"}),a?.error&&t.add({title:"Error",description:a.error,icon:"i-lucide-x-circle",color:"error"})},{immediate:!0,deep:!0}),{toast:t,showSuccess:(a,i)=>{t.add({title:a,description:i,icon:"i-lucide-check-circle",color:"success"})},showError:(a,i)=>{t.add({title:a,description:i,icon:"i-lucide-x-circle",color:"error"})},showWarning:(a,i)=>{t.add({title:a,description:i,icon:"i-lucide-alert-triangle",color:"warning"})},showInfo:(a,i)=>{t.add({title:a,description:i,icon:"i-lucide-info",color:"info"})}}}const Nh={__name:"DashboardLayout",setup(e){const t=ai(),n=K(!1);P1e();const r=H(()=>{const s=t.props.auth.user?.roles||[],a=s.includes("super-admin"),i=s.includes("admin-pondok"),l=s.includes("admin-ppob"),c=a||l;return[[{label:"Dashboard",icon:"i-lucide-house",to:"/dashboard",exact:!0,onSelect:()=>{n.value=!1}},...a?[{label:"Master Data",icon:"i-lucide-database",type:"trigger",defaultOpen:t.url.startsWith("/dashboard/schools")||t.url.startsWith("/dashboard/positions")||t.url.startsWith("/dashboard/school-years"),children:[{label:"Jenjang Sekolah",to:"/dashboard/schools",icon:"i-lucide-graduation-cap",onSelect:()=>{n.value=!1}},{label:"Jabatan",to:"/dashboard/positions",icon:"i-lucide-briefcase",onSelect:()=>{n.value=!1}},{label:"Tahun Ajaran",to:"/dashboard/school-years",icon:"i-lucide-calendar",onSelect:()=>{n.value=!1}}]}]:[],{label:"Pondok",icon:"i-lucide-building-2",to:"/dashboard/boarding-schools",onSelect:()=>{n.value=!1}},...i?[{label:"Kesiswaan",icon:"i-lucide-users",type:"trigger",defaultOpen:t.url.startsWith("/dashboard/students")||t.url.startsWith("/dashboard/classrooms")||t.url.startsWith("/dashboard/bed-rooms"),children:[{label:"Pendaftaran (PSB)",to:"/dashboard/student-registrations",icon:"i-lucide-clipboard-list",onSelect:()=>{n.value=!1}},{label:"Data Santri",to:"/dashboard/students",icon:"i-lucide-user-check",onSelect:()=>{n.value=!1}},{label:"RFID Santri",to:"/dashboard/student-rfid",icon:"i-lucide-credit-card",onSelect:()=>{n.value=!1}},{label:"Data Kelas",to:"/dashboard/classrooms",icon:"i-lucide-school",onSelect:()=>{n.value=!1}},{label:"Data Kamar",to:"/dashboard/bed-rooms",icon:"i-lucide-bed",onSelect:()=>{n.value=!1}}]}]:[],...i?[{label:"Keuangan",icon:"i-lucide-wallet",type:"trigger",defaultOpen:t.url.startsWith("/dashboard/finance"),children:[{label:"Manajemen Saldo",to:"/dashboard/finance/student-balance",icon:"i-lucide-banknote",onSelect:()=>{n.value=!1}},{label:"Tabungan Santri",to:"/dashboard/finance/student-savings",icon:"i-lucide-piggy-bank",onSelect:()=>{n.value=!1}},{label:"Batas Penarikan",to:"/dashboard/finance/student-withdraw-limit",icon:"i-lucide-hand-coins",onSelect:()=>{n.value=!1}},{label:"Tagihan Santri",to:"/dashboard/finance/student-invoices",icon:"i-lucide-receipt",onSelect:()=>{n.value=!1}}]}]:[],...i?[{label:"Data Pegawai",icon:"i-lucide-user-cog",to:"/dashboard/teachers",onSelect:()=>{n.value=!1}},{label:"Pengaturan Surat",icon:"i-lucide-file-signature",to:"/dashboard/settings/letter",onSelect:()=>{n.value=!1}}]:[],...c?[{label:"PPOB",icon:"i-lucide-smartphone",type:"trigger",defaultOpen:t.url.startsWith("/dashboard/ppob"),children:[{label:"Admin PPOB",to:"/dashboard/ppob/admin",icon:"i-lucide-user-cog",onSelect:()=>{n.value=!1}},{label:"Metode Pembayaran",to:"/dashboard/ppob/payment-methods",icon:"i-lucide-landmark",onSelect:()=>{n.value=!1}},{label:"Produk",to:"/dashboard/ppob/products",icon:"i-lucide-package",onSelect:()=>{n.value=!1}},{label:"Biaya Pembayaran",to:"/dashboard/ppob/payment-fees",icon:"i-lucide-receipt",onSelect:()=>{n.value=!1}},{label:"Verifikasi Topup",to:"/dashboard/ppob/topup-verification",icon:"i-lucide-check-circle",onSelect:()=>{n.value=!1}},{label:"History Transaksi",to:"/dashboard/ppob/transactions",icon:"i-lucide-history",onSelect:()=>{n.value=!1}},{label:"Penarikan Saldo",to:"/dashboard/ppob/withdrawals",icon:"i-lucide-arrow-down-circle",onSelect:()=>{n.value=!1}},{label:"Daftar Pengguna",to:"/dashboard/ppob/users",icon:"i-lucide-users",onSelect:()=>{n.value=!1}}]}]:[],...a?[{label:"CMS",icon:"i-lucide-layout-dashboard",type:"trigger",defaultOpen:t.url.startsWith("/dashboard/cms"),children:[{label:"Berita",to:"/dashboard/cms/posts",icon:"i-lucide-newspaper",onSelect:()=>{n.value=!1}},{label:"Program",to:"/dashboard/cms/programs",icon:"i-lucide-book-open",onSelect:()=>{n.value=!1}},{label:"Galeri",to:"/dashboard/cms/galleries",icon:"i-lucide-images",onSelect:()=>{n.value=!1}},{label:"Testimoni",to:"/dashboard/cms/testimonials",icon:"i-lucide-quote",onSelect:()=>{n.value=!1}},{label:"FAQ",to:"/dashboard/cms/faqs",icon:"i-lucide-help-circle",onSelect:()=>{n.value=!1}},{label:"Web Setting",to:"/dashboard/cms/settings",icon:"i-lucide-settings",onSelect:()=>{n.value=!1}}]}]:[]],[{label:"Help & Support",icon:"i-lucide-info",to:"https://ui.nuxt.com",target:"_blank"}]]}),o=H(()=>[{id:"links",label:"Go to",items:r.value.flat()}]);return(s,a)=>{const i=M1e,l=$1e,c=v1e,u=Lke,d=Uwe,f=Wj;return A(),B(f,{toaster:{position:"top-right"}},{default:S(()=>[_(d,{unit:"rem",storage:"local"},{default:S(()=>[_(c,{id:"default",open:n.value,"onUpdate:open":a[0]||(a[0]=p=>n.value=p),collapsible:"",resizable:"",class:"bg-elevated/25",ui:{footer:"lg:border-t lg:border-default"}},{header:S(({collapsed:p})=>[_(T1e,{collapsed:p},null,8,["collapsed"])]),default:S(({collapsed:p})=>[_(i,{collapsed:p,class:"bg-transparent ring-default"},null,8,["collapsed"]),_(l,{collapsed:p,items:r.value[0],orientation:"vertical",tooltip:"",popover:""},null,8,["collapsed","items"]),_(l,{collapsed:p,items:r.value[1],orientation:"vertical",tooltip:"",class:"mt-auto"},null,8,["collapsed","items"])]),footer:S(({collapsed:p})=>[_(I1e,{collapsed:p},null,8,["collapsed"])]),_:1},8,["open"]),_(u,{groups:o.value},null,8,["groups"]),U(s.$slots,"default")]),_:3})]),_:3})}}};function O1e(e=null){const t=ai(),n={"/dashboard":{label:"Dashboard",icon:"i-lucide-house"},"/dashboard/school-years":{label:"Tahun Ajaran",icon:"i-lucide-calendar"},"/dashboard/boarding-schools":{label:"Pondok",icon:"i-lucide-building-2"},"/dashboard/boarding-schools/create":{label:"Tambah Pondok",icon:"i-lucide-plus"},"/dashboard/posts":{label:"Posts",icon:"i-lucide-file-text"},"/dashboard/users":{label:"Users",icon:"i-lucide-users"},"/dashboard/profile":{label:"Profil",icon:"i-lucide-user"}};return H(()=>{if(e)return e;const s=t.url.split("?")[0].split("/").filter(Boolean),a=[];let i="";return s.forEach((l,c)=>{i+="/"+l;const u=n[i],d=c===s.length-1;u&&a.push({label:u.label,icon:u.icon,to:d?void 0:i})}),a})}const R1e={key:0,class:"px-6 pt-6"},B1e={key:1,class:"flex items-center justify-between px-6 py-4"},N1e={key:0},D1e={key:0,class:"text-2xl font-bold"},F1e={key:1,class:"text-sm text-gray-500 mt-1"},$t={__name:"DashboardPage",props:{title:{type:String,required:!0},heading:{type:String,default:null},description:{type:String,default:null},pageId:{type:String,default:null},showBreadcrumb:{type:Boolean,default:!0},contentClass:{type:String,default:"px-6 pb-6"}},setup(e){const t=O1e();return(n,r)=>{const o=kM,s=Rh,a=qwe,i=Oh;return A(),B(Nh,null,{default:S(()=>[_(i,{id:e.pageId},{header:S(()=>[_(s,{title:e.title},gr({leading:S(()=>[_(o)]),_:2},[n.$slots.actions?{name:"trailing",fn:S(()=>[U(n.$slots,"actions")]),key:"0"}:void 0]),1032,["title"])]),body:S(()=>[e.showBreadcrumb?(A(),W("div",R1e,[_(a,{items:y(t)},null,8,["items"])])):X("",!0),e.heading||e.description||n.$slots.header?(A(),W("div",B1e,[e.heading||e.description?(A(),W("div",N1e,[e.heading?(A(),W("h2",D1e,q(e.heading),1)):X("",!0),e.description?(A(),W("p",F1e,q(e.description),1)):X("",!0)])):X("",!0),U(n.$slots,"header")])):X("",!0),k("div",{class:Z(e.contentClass)},[U(n.$slots,"default")],2)]),_:3},8,["id"])]),_:3})}}},q1e={class:"max-w-2xl mx-auto"},z1e={class:"flex justify-end gap-3 pt-4 border-t dark:border-gray-800"},L1e={__name:"Create",setup(e){const t=Rt({name:"",capacity:""}),n=()=>{t.post("/dashboard/bed-rooms")};return(r,o)=>{const s=bt,a=qt,i=We,l=ht;return A(),B($t,{title:"Tambah Kamar","page-id":"bedrooms-create","content-class":"p-6"},{default:S(()=>[k("div",q1e,[_(l,null,{default:S(()=>[k("form",{onSubmit:lt(n,["prevent"]),class:"space-y-6"},[_(a,{label:"Nama Kamar",error:y(t).errors.name},{default:S(()=>[_(s,{modelValue:y(t).name,"onUpdate:modelValue":o[0]||(o[0]=c=>y(t).name=c),placeholder:"Contoh: Asrama A",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"]),_(a,{label:"Kapasitas",error:y(t).errors.capacity},{default:S(()=>[_(s,{modelValue:y(t).capacity,"onUpdate:modelValue":o[1]||(o[1]=c=>y(t).capacity=c),type:"number",placeholder:"Contoh: 20",class:"w-full"},null,8,["modelValue"]),o[2]||(o[2]=k("p",{class:"text-xs text-gray-500 mt-1"}," Jumlah maksimal santri dalam kamar ini. ",-1))]),_:1},8,["error"]),k("div",z1e,[_(i,{color:"neutral",variant:"soft",to:"/dashboard/bed-rooms",disabled:y(t).processing},{default:S(()=>[...o[3]||(o[3]=[J(" Batal ",-1)])]),_:1},8,["disabled"]),_(i,{type:"submit",color:"primary",loading:y(t).processing},{default:S(()=>[...o[4]||(o[4]=[J(" Simpan ",-1)])]),_:1},8,["loading"])])],32)]),_:1})])]),_:1})}}},j1e=Object.freeze(Object.defineProperty({__proto__:null,default:L1e},Symbol.toStringTag,{value:"Module"})),V1e={class:"max-w-2xl mx-auto"},U1e={class:"flex justify-end gap-3 pt-4 border-t dark:border-gray-800"},K1e={__name:"Edit",props:{bedRoom:Object},setup(e){const t=e,n=Rt({name:t.bedRoom.name,capacity:t.bedRoom.capacity}),r=()=>{n.put(`/dashboard/bed-rooms/${t.bedRoom.id}`)};return(o,s)=>{const a=bt,i=qt,l=We,c=ht;return A(),B($t,{title:"Edit Kamar","page-id":"bedrooms-edit","content-class":"p-6"},{default:S(()=>[k("div",V1e,[_(c,null,{default:S(()=>[k("form",{onSubmit:lt(r,["prevent"]),class:"space-y-6"},[_(i,{label:"Nama Kamar",error:y(n).errors.name},{default:S(()=>[_(a,{modelValue:y(n).name,"onUpdate:modelValue":s[0]||(s[0]=u=>y(n).name=u),placeholder:"Contoh: Asrama A",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"]),_(i,{label:"Kapasitas",error:y(n).errors.capacity},{default:S(()=>[_(a,{modelValue:y(n).capacity,"onUpdate:modelValue":s[1]||(s[1]=u=>y(n).capacity=u),type:"number",placeholder:"Contoh: 20",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"]),k("div",U1e,[_(l,{color:"neutral",variant:"soft",to:"/dashboard/bed-rooms",disabled:y(n).processing},{default:S(()=>[...s[2]||(s[2]=[J(" Batal ",-1)])]),_:1},8,["disabled"]),_(l,{type:"submit",color:"primary",loading:y(n).processing},{default:S(()=>[...s[3]||(s[3]=[J(" Simpan Perubahan ",-1)])]),_:1},8,["loading"])])],32)]),_:1})])]),_:1})}}},H1e=Object.freeze(Object.defineProperty({__proto__:null,default:K1e},Symbol.toStringTag,{value:"Module"})),W1e={slots:{root:"",list:"flex items-center gap-1",ellipsis:"pointer-events-none",label:"min-w-5 text-center",first:"",prev:"",item:"",next:"",last:""}},Fr={__name:"Pagination",props:{as:{type:null,required:!1},firstIcon:{type:null,required:!1},prevIcon:{type:null,required:!1},nextIcon:{type:null,required:!1},lastIcon:{type:null,required:!1},ellipsisIcon:{type:null,required:!1},color:{type:null,required:!1,default:"neutral"},variant:{type:null,required:!1,default:"outline"},activeColor:{type:null,required:!1,default:"primary"},activeVariant:{type:null,required:!1,default:"solid"},showControls:{type:Boolean,required:!1,default:!0},size:{type:null,required:!1},to:{type:Function,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},defaultPage:{type:Number,required:!1},disabled:{type:Boolean,required:!1},itemsPerPage:{type:Number,required:!1,default:10},page:{type:Number,required:!1},showEdges:{type:Boolean,required:!1,default:!1},siblingCount:{type:Number,required:!1,default:2},total:{type:Number,required:!1,default:0}},emits:["update:page"],setup(e,{emit:t}){const n=e,r=t,o=rn(),{dir:s}=oo(),a=Bt(),i=fn(Pn(n,"as","defaultPage","disabled","itemsPerPage","page","showEdges","siblingCount","total"),r),l=H(()=>n.firstIcon||(s.value==="rtl"?a.ui.icons.chevronDoubleRight:a.ui.icons.chevronDoubleLeft)),c=H(()=>n.prevIcon||(s.value==="rtl"?a.ui.icons.chevronRight:a.ui.icons.chevronLeft)),u=H(()=>n.nextIcon||(s.value==="rtl"?a.ui.icons.chevronLeft:a.ui.icons.chevronRight)),d=H(()=>n.lastIcon||(s.value==="rtl"?a.ui.icons.chevronDoubleLeft:a.ui.icons.chevronDoubleRight)),f=H(()=>Ye({extend:Ye(W1e),...a.ui?.pagination||{}})());return(p,m)=>(A(),B(y(nie),oe(y(i),{"data-slot":"root",class:f.value.root({class:[n.ui?.root,n.class]})}),{default:S(({page:h,pageCount:g})=>[_(y(cie),{"data-slot":"list",class:Z(f.value.list({class:n.ui?.list}))},{default:S(({items:v})=>[e.showControls||o.first?(A(),B(y(oie),{key:0,"as-child":"","data-slot":"first",class:Z(f.value.first({class:n.ui?.first}))},{default:S(()=>[U(p.$slots,"first",{},()=>[_(We,{color:e.color,variant:e.variant,size:e.size,icon:l.value,to:e.to?.(1)},null,8,["color","variant","size","icon","to"])])]),_:3},8,["class"])):X("",!0),e.showControls||o.prev?(A(),B(y(gie),{key:1,"as-child":"","data-slot":"prev",class:Z(f.value.prev({class:n.ui?.prev}))},{default:S(()=>[U(p.$slots,"prev",{},()=>[_(We,{color:e.color,variant:e.variant,size:e.size,icon:c.value,to:h>1?e.to?.(h-1):void 0},null,8,["color","variant","size","icon","to"])])]),_:2},1032,["class"])):X("",!0),(A(!0),W(Ee,null,Ve(v,(x,$)=>(A(),W(Ee,{key:$},[x.type==="page"?(A(),B(y(fie),{key:0,"as-child":"",value:x.value,"data-slot":"item",class:Z(f.value.item({class:n.ui?.item}))},{default:S(()=>[U(p.$slots,"item",oe({ref_for:!0},{item:x,index:$,page:h,pageCount:g}),()=>[_(We,{color:h===x.value?e.activeColor:e.color,variant:h===x.value?e.activeVariant:e.variant,size:e.size,label:String(x.value),ui:{label:f.value.label()},to:e.to?.(x.value),square:""},null,8,["color","variant","size","label","ui","to"])])]),_:2},1032,["value","class"])):(A(),B(y(Zae),{key:1,"as-child":"","data-slot":"ellipsis",class:Z(f.value.ellipsis({class:n.ui?.ellipsis}))},{default:S(()=>[U(p.$slots,"ellipsis",{ui:f.value},()=>[_(We,{as:"div",color:e.color,variant:e.variant,size:e.size,icon:e.ellipsisIcon||y(a).ui.icons.ellipsis},null,8,["color","variant","size","icon"])])]),_:3},8,["class"]))],64))),128)),e.showControls||o.next?(A(),B(y(mie),{key:2,"as-child":"","data-slot":"next",class:Z(f.value.next({class:n.ui?.next}))},{default:S(()=>[U(p.$slots,"next",{},()=>[_(We,{color:e.color,variant:e.variant,size:e.size,icon:u.value,to:h<g?e.to?.(h+1):void 0},null,8,["color","variant","size","icon","to"])])]),_:2},1032,["class"])):X("",!0),e.showControls||o.last?(A(),B(y(aie),{key:3,"as-child":"","data-slot":"last",class:Z(f.value.last({class:n.ui?.last}))},{default:S(()=>[U(p.$slots,"last",{},()=>[_(We,{color:e.color,variant:e.variant,size:e.size,icon:d.value,to:e.to?.(g)},null,8,["color","variant","size","icon","to"])])]),_:2},1032,["class"])):X("",!0)]),_:2},1032,["class"])]),_:3},16,["class"]))}},G1e={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},J1e={class:"flex items-end gap-2"},Y1e={class:"flex justify-end mb-4"},Q1e={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},X1e={class:"flex justify-between items-start"},Z1e={class:"text-lg font-semibold text-gray-900 dark:text-white"},e_e={class:"text-sm text-gray-500 dark:text-gray-400"},t_e={class:"space-y-3"},n_e={class:"text-xs text-right text-gray-500"},r_e={class:"flex justify-end gap-2"},o_e={key:0,class:"text-center py-12 text-gray-500"},s_e={key:1,class:"mt-6 flex justify-center"},a_e={class:"flex items-start gap-4"},i_e={class:"p-3 bg-error/10 rounded-lg"},l_e={class:"flex-1"},u_e={class:"text-sm text-gray-500 mt-1"},c_e={class:"font-semibold"},d_e={class:"flex justify-end gap-2 w-full"},f_e={__name:"Index",props:{bedRooms:Object,filters:Object},setup(e){const t=e,n=K({search:t.filters.search||""}),r=K(t.bedRooms.current_page),o=H(()=>n.value.search),s=()=>{Qe.get("/dashboard/bed-rooms",n.value,{preserveState:!0,preserveScroll:!0})},a=()=>{n.value={search:""},s()},i=m=>{Qe.get(`/dashboard/bed-rooms?page=${m}`,n.value,{preserveState:!0,preserveScroll:!0})},l=K(!1),c=K(null),u=K(!1),d=m=>{c.value=m,l.value=!0},f=()=>{l.value=!1,c.value=null},p=()=>{u.value=!0,Qe.delete(`/dashboard/bed-rooms/${c.value.id}`,{onSuccess:()=>{f()},onFinish:()=>{u.value=!1}})};return(m,h)=>{const g=bt,v=qt,x=We,$=ht,C=pn,M=Hj,I=Fr,E=tt,P=$r;return A(),B($t,{title:"Data Kamar","page-id":"bedrooms-index","content-class":"p-6"},{default:S(()=>[_($,{class:"mb-6"},{default:S(()=>[k("form",{onSubmit:lt(s,["prevent"]),class:"space-y-4"},[k("div",G1e,[_(v,{label:"Cari Nama Kamar"},{default:S(()=>[_(g,{modelValue:n.value.search,"onUpdate:modelValue":h[0]||(h[0]=O=>n.value.search=O),placeholder:"Cari kamar...",icon:"i-lucide-search",class:"w-full"},null,8,["modelValue"])]),_:1}),k("div",J1e,[_(x,{type:"submit",color:"primary"},{default:S(()=>[...h[3]||(h[3]=[J(" Cari ",-1)])]),_:1}),o.value?(A(),B(x,{key:0,type:"button",color:"neutral",variant:"soft",onClick:a},{default:S(()=>[...h[4]||(h[4]=[J(" Reset ",-1)])]),_:1})):X("",!0)])])],32)]),_:1}),k("div",Y1e,[_(x,{color:"primary",icon:"i-lucide-plus",to:"/dashboard/bed-rooms/create"},{default:S(()=>[...h[5]||(h[5]=[J(" Tambah Kamar ",-1)])]),_:1})]),k("div",Q1e,[(A(!0),W(Ee,null,Ve(e.bedRooms.data,O=>(A(),B($,{key:O.id,class:"hover:ring-2 hover:ring-primary-500/50 transition-all"},{header:S(()=>[k("div",X1e,[k("div",null,[k("h3",Z1e,q(O.name),1),k("p",e_e," Kapasitas: "+q(O.capacity),1)]),_(C,{color:"primary",variant:"subtle"},{default:S(()=>[J(q(O.students_count||0)+" Santri ",1)]),_:2},1024)])]),footer:S(()=>[k("div",r_e,[_(x,{size:"xs",color:"primary",variant:"soft",icon:"i-lucide-pencil",to:`/dashboard/bed-rooms/${O.id}/edit`},{default:S(()=>[...h[6]||(h[6]=[J(" Edit ",-1)])]),_:1},8,["to"]),_(x,{size:"xs",color:"error",variant:"soft",icon:"i-lucide-trash-2",onClick:D=>d(O)},{default:S(()=>[...h[7]||(h[7]=[J(" Hapus ",-1)])]),_:1},8,["onClick"])])]),default:S(()=>[k("div",t_e,[_(M,{"model-value":O.students_count||0,max:O.capacity,color:"primary",size:"sm"},null,8,["model-value","max"]),k("p",n_e," Terisi "+q(O.students_count)+" dari "+q(O.capacity),1)])]),_:2},1024))),128))]),e.bedRooms.data.length===0?(A(),W("div",o_e,q(o.value?"Data tidak ditemukan":"Belum ada data kamar"),1)):X("",!0),e.bedRooms.last_page>1?(A(),W("div",s_e,[_(I,{modelValue:r.value,"onUpdate:modelValue":[h[1]||(h[1]=O=>r.value=O),i],total:e.bedRooms.total,"per-page":e.bedRooms.per_page},null,8,["modelValue","total","per-page"])])):X("",!0),_(P,{open:l.value,"onUpdate:open":h[2]||(h[2]=O=>l.value=O)},{header:S(()=>[...h[8]||(h[8]=[k("h3",{class:"text-lg font-semibold"},"Hapus Kamar",-1)])]),body:S(()=>[k("div",a_e,[k("div",i_e,[_(E,{name:"i-lucide-alert-triangle",class:"w-6 h-6 text-error"})]),k("div",l_e,[h[11]||(h[11]=k("h4",{class:"font-semibold"},"Apakah Anda yakin?",-1)),k("p",u_e,[h[9]||(h[9]=J(" Kamar ",-1)),k("span",c_e,q(c.value?.name),1),h[10]||(h[10]=J(" akan dihapus permanen. ",-1))])])])]),footer:S(()=>[k("div",d_e,[_(x,{color:"neutral",variant:"soft",onClick:f,disabled:u.value},{default:S(()=>[...h[12]||(h[12]=[J(" Batal ",-1)])]),_:1},8,["disabled"]),_(x,{color:"error",loading:u.value,onClick:p},{default:S(()=>[...h[13]||(h[13]=[J(" Hapus ",-1)])]),_:1},8,["loading"])])]),_:1},8,["open"])]),_:1})}}},p_e=Object.freeze(Object.defineProperty({__proto__:null,default:f_e},Symbol.toStringTag,{value:"Module"})),m_e={slots:{root:"relative inline-flex items-center",base:["w-full rounded-md border-0 appearance-none placeholder:text-dimmed focus:outline-none disabled:cursor-not-allowed disabled:opacity-75","transition-colors"],leading:"absolute start-0 flex items-start",leadingIcon:"shrink-0 text-dimmed",leadingAvatar:"shrink-0",leadingAvatarSize:"",trailing:"absolute end-0 flex items-start",trailingIcon:"shrink-0 text-dimmed"},variants:{fieldGroup:{horizontal:{root:"group has-focus-visible:z-[1]",base:"group-not-only:group-first:rounded-e-none group-not-only:group-last:rounded-s-none group-not-last:group-not-first:rounded-none"},vertical:{root:"group has-focus-visible:z-[1]",base:"group-not-only:group-first:rounded-b-none group-not-only:group-last:rounded-t-none group-not-last:group-not-first:rounded-none"}},size:{xs:{base:"px-2 py-1 text-xs gap-1",leading:"ps-2 inset-y-1",trailing:"pe-2 inset-y-1",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4"},sm:{base:"px-2.5 py-1.5 text-xs gap-1.5",leading:"ps-2.5 inset-y-1.5",trailing:"pe-2.5 inset-y-1.5",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4"},md:{base:"px-2.5 py-1.5 text-sm gap-1.5",leading:"ps-2.5 inset-y-1.5",trailing:"pe-2.5 inset-y-1.5",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5"},lg:{base:"px-3 py-2 text-sm gap-2",leading:"ps-3 inset-y-2",trailing:"pe-3 inset-y-2",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5"},xl:{base:"px-3 py-2 text-base gap-2",leading:"ps-3 inset-y-2",trailing:"pe-3 inset-y-2",leadingIcon:"size-6",leadingAvatarSize:"xs",trailingIcon:"size-6"}},variant:{outline:"text-highlighted bg-default ring ring-inset ring-accented",soft:"text-highlighted bg-elevated/50 hover:bg-elevated focus:bg-elevated disabled:bg-elevated/50",subtle:"text-highlighted bg-elevated ring ring-inset ring-accented",ghost:"text-highlighted bg-transparent hover:bg-elevated focus:bg-elevated disabled:bg-transparent dark:disabled:bg-transparent",none:"text-highlighted bg-transparent"},color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},leading:{true:""},trailing:{true:""},loading:{true:""},highlight:{true:""},type:{file:"file:me-1.5 file:font-medium file:text-muted file:outline-none"},autoresize:{true:{base:"resize-none"}}},compoundVariants:[{color:"primary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-primary"},{color:"secondary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-secondary"},{color:"success",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-success"},{color:"info",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-info"},{color:"warning",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-warning"},{color:"error",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-error"},{color:"primary",highlight:!0,class:"ring ring-inset ring-primary"},{color:"secondary",highlight:!0,class:"ring ring-inset ring-secondary"},{color:"success",highlight:!0,class:"ring ring-inset ring-success"},{color:"info",highlight:!0,class:"ring ring-inset ring-info"},{color:"warning",highlight:!0,class:"ring ring-inset ring-warning"},{color:"error",highlight:!0,class:"ring ring-inset ring-error"},{color:"neutral",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-inverted"},{color:"neutral",highlight:!0,class:"ring ring-inset ring-inverted"},{leading:!0,size:"xs",class:"ps-7"},{leading:!0,size:"sm",class:"ps-8"},{leading:!0,size:"md",class:"ps-9"},{leading:!0,size:"lg",class:"ps-10"},{leading:!0,size:"xl",class:"ps-11"},{trailing:!0,size:"xs",class:"pe-7"},{trailing:!0,size:"sm",class:"pe-8"},{trailing:!0,size:"md",class:"pe-9"},{trailing:!0,size:"lg",class:"pe-10"},{trailing:!0,size:"xl",class:"pe-11"},{loading:!0,leading:!0,class:{leadingIcon:"animate-spin"}},{loading:!0,leading:!1,trailing:!0,class:{trailingIcon:"animate-spin"}}],defaultVariants:{size:"md",color:"primary",variant:"outline"}},h_e=["id","value","name","rows","placeholder","disabled","required"],Wn=Object.assign({inheritAttrs:!1},{__name:"Textarea",props:{as:{type:null,required:!1},id:{type:String,required:!1},name:{type:String,required:!1},placeholder:{type:String,required:!1},color:{type:null,required:!1},variant:{type:null,required:!1},size:{type:null,required:!1},required:{type:Boolean,required:!1},autofocus:{type:Boolean,required:!1},autofocusDelay:{type:Number,required:!1,default:0},autoresize:{type:Boolean,required:!1},autoresizeDelay:{type:Number,required:!1,default:0},disabled:{type:Boolean,required:!1},rows:{type:Number,required:!1,default:3},maxrows:{type:Number,required:!1,default:0},highlight:{type:Boolean,required:!1},modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},modelModifiers:{type:Object,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},icon:{type:null,required:!1},avatar:{type:Object,required:!1},leading:{type:Boolean,required:!1},leadingIcon:{type:null,required:!1},trailing:{type:Boolean,required:!1},trailingIcon:{type:null,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:null,required:!1}},emits:["update:modelValue","blur","change"],setup(e,{expose:t,emit:n}){const r=e,o=n,s=rn(),a=S3(r,"modelValue",o,{defaultValue:r.defaultValue}),i=Bt(),{emitFormFocus:l,emitFormBlur:c,emitFormInput:u,emitFormChange:d,size:f,color:p,id:m,name:h,highlight:g,disabled:v,ariaAttrs:x}=jc(r,{deferInputValidation:!0}),{isLeading:$,isTrailing:C,leadingIconName:M,trailingIconName:I}=xf(r),E=H(()=>Ye({extend:Ye(m_e),...i.ui?.textarea||{}})({color:p.value,variant:r.variant,size:f?.value,loading:r.loading,highlight:g.value,autoresize:r.autoresize,leading:$.value||!!r.avatar||!!s.leading,trailing:C.value||!!s.trailing})),P=na("textareaRef");function O(N){r.modelModifiers?.trim&&(N=N?.trim()??null),r.modelModifiers?.number&&(N=_x(N)),r.modelModifiers?.nullable&&(N||=null),r.modelModifiers?.optional&&(N||=void 0),a.value=N,u()}function D(N){z(),r.modelModifiers?.lazy||O(N.target.value)}function L(N){const ee=N.target.value;r.modelModifiers?.lazy&&O(ee),r.modelModifiers?.trim&&(N.target.value=ee.trim()),d(),o("change",N)}function V(N){c(),o("blur",N)}function F(){r.autofocus&&P.value?.focus()}function z(){if(r.autoresize&&P.value){P.value.rows=r.rows;const N=P.value.style.overflow;P.value.style.overflow="hidden";const ee=window.getComputedStyle(P.value),ne=Number.parseInt(ee.paddingTop),Y=Number.parseInt(ee.paddingBottom),Re=ne+Y,fe=Number.parseInt(ee.lineHeight),{scrollHeight:we}=P.value,ue=(we-Re)/fe;ue>r.rows&&(P.value.rows=r.maxrows?Math.min(ue,r.maxrows):ue),P.value.style.overflow=N}}return He(a,()=>{St(z)}),wt(()=>{setTimeout(()=>{F()},r.autofocusDelay),setTimeout(()=>{z()},r.autoresizeDelay)}),t({textareaRef:P}),(N,ee)=>(A(),B(y(Le),{as:e.as,"data-slot":"root",class:Z(E.value.root({class:[r.ui?.root,r.class]}))},{default:S(()=>[k("textarea",oe({id:y(m),ref_key:"textareaRef",ref:P,value:y(a),name:y(h),rows:e.rows,placeholder:e.placeholder,"data-slot":"base",class:E.value.base({class:r.ui?.base}),disabled:y(v),required:e.required},{...N.$attrs,...y(x)},{onInput:D,onBlur:V,onChange:L,onFocus:ee[0]||(ee[0]=(...ne)=>y(l)&&y(l)(...ne))}),null,16,h_e),U(N.$slots,"default",{ui:E.value}),y($)||e.avatar||s.leading?(A(),W("span",{key:0,"data-slot":"leading",class:Z(E.value.leading({class:r.ui?.leading}))},[U(N.$slots,"leading",{ui:E.value},()=>[y($)&&y(M)?(A(),B(tt,{key:0,name:y(M),"data-slot":"leadingIcon",class:Z(E.value.leadingIcon({class:r.ui?.leadingIcon}))},null,8,["name","class"])):e.avatar?(A(),B(On,oe({key:1,size:r.ui?.leadingAvatarSize||E.value.leadingAvatarSize()},e.avatar,{"data-slot":"leadingAvatar",class:E.value.leadingAvatar({class:r.ui?.leadingAvatar})}),null,16,["size","class"])):X("",!0)])],2)):X("",!0),y(C)||s.trailing?(A(),W("span",{key:1,"data-slot":"trailing",class:Z(E.value.trailing({class:r.ui?.trailing}))},[U(N.$slots,"trailing",{ui:E.value},()=>[y(I)?(A(),B(tt,{key:0,name:y(I),"data-slot":"trailingIcon",class:Z(E.value.trailingIcon({class:r.ui?.trailingIcon}))},null,8,["name","class"])):X("",!0)])],2)):X("",!0)]),_:3},8,["as","class"]))}}),g_e={class:"flex items-start gap-4"},v_e={key:0,class:"relative"},y_e=["src"],b_e={key:1,class:"w-32 h-32 bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-center"},x_e={class:"space-y-2"},w_e={class:"flex justify-end gap-2 pt-4"},k_e={__name:"Create",props:{adminUsers:Array},setup(e){const t=Rt({name:"",address:"",description:"",photo:null,facilities:[]}),n=K(null),r=K(null),o=c=>{const u=c.target.files[0];u&&(t.photo=u,n.value=URL.createObjectURL(u),t.clearErrors("photo"))},s=()=>{t.photo=null,n.value=null,r.value&&(r.value.value="")},a=()=>{t.facilities.push("")},i=c=>{t.facilities.length>1&&t.facilities.splice(c,1)},l=()=>{t.post("/dashboard/boarding-schools",{onSuccess:()=>{t.reset(),n.value=null}})};return(c,u)=>{const d=We,f=tt,p=qt,m=bt,h=Wn;return A(),B($t,{title:"Tambah Pondok","page-id":"create-boarding-school","content-class":"p-6"},{default:S(()=>[k("form",{onSubmit:lt(l,["prevent"]),class:"space-y-6"},[_(p,{label:"Foto Pondok",error:y(t).errors.photo},{default:S(()=>[k("div",g_e,[n.value?(A(),W("div",v_e,[k("img",{src:n.value,alt:"Preview",class:"w-32 h-32 object-cover rounded-lg"},null,8,y_e),_(d,{color:"error",size:"xs",icon:"i-lucide-x",class:"absolute top-1 right-1",onClick:s})])):(A(),W("div",b_e,[_(f,{name:"i-lucide-image",class:"w-12 h-12 text-gray-400"})])),k("div",null,[k("input",{ref_key:"photoInput",ref:r,type:"file",accept:"image/*",class:"hidden",onChange:o},null,544),_(d,{color:"neutral",variant:"soft",label:"Pilih Foto",icon:"i-lucide-upload",onClick:u[0]||(u[0]=g=>c.$refs.photoInput.click())}),u[7]||(u[7]=k("p",{class:"text-xs text-gray-500 mt-1"},"JPG, PNG, atau WEBP. Max 2MB.",-1))])])]),_:1},8,["error"]),_(p,{label:"Nama Pondok",required:"",error:y(t).errors.name},{default:S(()=>[_(m,{modelValue:y(t).name,"onUpdate:modelValue":u[1]||(u[1]=g=>y(t).name=g),placeholder:"Contoh: Pondok Pesantren Al-Ikhlas",size:"lg",class:"w-full",onInput:u[2]||(u[2]=g=>y(t).clearErrors("name"))},null,8,["modelValue"])]),_:1},8,["error"]),_(p,{label:"Alamat",required:"",error:y(t).errors.address},{default:S(()=>[_(h,{modelValue:y(t).address,"onUpdate:modelValue":u[3]||(u[3]=g=>y(t).address=g),placeholder:"Masukkan alamat lengkap pondok",rows:3,size:"lg",class:"w-full",onInput:u[4]||(u[4]=g=>y(t).clearErrors("address"))},null,8,["modelValue"])]),_:1},8,["error"]),_(p,{label:"Deskripsi",error:y(t).errors.description},{default:S(()=>[_(h,{modelValue:y(t).description,"onUpdate:modelValue":u[5]||(u[5]=g=>y(t).description=g),placeholder:"Deskripsi singkat tentang pondok",rows:4,size:"lg",class:"w-full",onInput:u[6]||(u[6]=g=>y(t).clearErrors("description"))},null,8,["modelValue"])]),_:1},8,["error"]),_(p,{label:"Fasilitas",error:y(t).errors.facilities},{default:S(()=>[k("div",x_e,[(A(!0),W(Ee,null,Ve(y(t).facilities,(g,v)=>(A(),W("div",{key:v,class:"flex gap-2"},[_(m,{modelValue:y(t).facilities[v],"onUpdate:modelValue":x=>y(t).facilities[v]=x,placeholder:"Nama fasilitas",size:"lg",class:"flex-1"},null,8,["modelValue","onUpdate:modelValue"]),_(d,{color:"error",variant:"soft",icon:"i-lucide-trash-2",onClick:x=>i(v)},null,8,["onClick"])]))),128)),_(d,{color:"neutral",variant:"soft",label:"Tambah Fasilitas",icon:"i-lucide-plus",block:"",onClick:a})]),u[8]||(u[8]=k("p",{class:"text-xs text-gray-500 mt-1"},"Minimal 1 fasilitas harus ditambahkan",-1))]),_:1},8,["error"]),k("div",w_e,[_(d,{color:"neutral",variant:"soft",label:"Batal",to:"/dashboard/boarding-schools",disabled:y(t).processing},null,8,["disabled"]),_(d,{type:"submit",color:"primary",label:"Simpan",loading:y(t).processing},null,8,["loading"])])],32)]),_:1})}}},__e=Object.freeze(Object.defineProperty({__proto__:null,default:k_e},Symbol.toStringTag,{value:"Module"})),S_e={class:"flex items-start gap-4"},$_e={key:0,class:"relative"},C_e=["src"],M_e={key:1,class:"w-32 h-32 bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-center"},A_e={class:"space-y-2"},T_e={class:"flex justify-end gap-2 pt-4"},E_e={__name:"Edit",props:{boardingSchool:Object},setup(e){const t=e,n=Rt({name:t.boardingSchool.name,address:t.boardingSchool.address,description:t.boardingSchool.description||"",photo:null,facilities:Array.isArray(t.boardingSchool.facilities)?t.boardingSchool.facilities.map(u=>String(u)):[]}),r=K(t.boardingSchool.photo_url),o=K(null),s=u=>{const d=u.target.files[0];d&&(n.photo=d,r.value=URL.createObjectURL(d),n.clearErrors("photo"))},a=()=>{n.photo=null,r.value=null,o.value&&(o.value.value="")},i=()=>{n.facilities.push("")},l=u=>{n.facilities.length>1&&n.facilities.splice(u,1)},c=()=>{n.transform(u=>({...u,_method:"PUT"})).post(`/dashboard/boarding-schools/${t.boardingSchool.id}`)};return(u,d)=>{const f=We,p=tt,m=qt,h=bt,g=Wn;return A(),B($t,{title:"Edit Pondok","page-id":"edit-boarding-school","content-class":"p-6"},{default:S(()=>[k("form",{onSubmit:lt(c,["prevent"]),class:"space-y-6"},[_(m,{label:"Foto Pondok",error:y(n).errors.photo},{default:S(()=>[k("div",S_e,[r.value?(A(),W("div",$_e,[k("img",{src:r.value,alt:"Preview",class:"w-32 h-32 object-cover rounded-lg"},null,8,C_e),_(f,{color:"error",size:"xs",icon:"i-lucide-x",class:"absolute top-1 right-1",onClick:a})])):(A(),W("div",M_e,[_(p,{name:"i-lucide-image",class:"w-12 h-12 text-gray-400"})])),k("div",null,[k("input",{ref_key:"photoInput",ref:o,type:"file",accept:"image/*",class:"hidden",onChange:s},null,544),_(f,{color:"neutral",variant:"soft",label:"Ubah Foto",icon:"i-lucide-upload",onClick:d[0]||(d[0]=v=>u.$refs.photoInput.click())}),d[7]||(d[7]=k("p",{class:"text-xs text-gray-500 mt-1"},"JPG, PNG, atau WEBP. Max 2MB.",-1))])])]),_:1},8,["error"]),_(m,{label:"Nama Pondok",required:"",error:y(n).errors.name},{default:S(()=>[_(h,{modelValue:y(n).name,"onUpdate:modelValue":d[1]||(d[1]=v=>y(n).name=v),placeholder:"Contoh: Pondok Pesantren Al-Ikhlas",size:"lg",class:"w-full",onInput:d[2]||(d[2]=v=>y(n).clearErrors("name"))},null,8,["modelValue"])]),_:1},8,["error"]),_(m,{label:"Alamat",required:"",error:y(n).errors.address},{default:S(()=>[_(g,{modelValue:y(n).address,"onUpdate:modelValue":d[3]||(d[3]=v=>y(n).address=v),placeholder:"Masukkan alamat lengkap pondok",rows:3,size:"lg",class:"w-full",onInput:d[4]||(d[4]=v=>y(n).clearErrors("address"))},null,8,["modelValue"])]),_:1},8,["error"]),_(m,{label:"Deskripsi",error:y(n).errors.description},{default:S(()=>[_(g,{modelValue:y(n).description,"onUpdate:modelValue":d[5]||(d[5]=v=>y(n).description=v),placeholder:"Deskripsi singkat tentang pondok",rows:4,size:"lg",class:"w-full",onInput:d[6]||(d[6]=v=>y(n).clearErrors("description"))},null,8,["modelValue"])]),_:1},8,["error"]),_(m,{label:"Fasilitas",error:y(n).errors.facilities},{default:S(()=>[k("div",A_e,[(A(!0),W(Ee,null,Ve(y(n).facilities,(v,x)=>(A(),W("div",{key:x,class:"flex gap-2"},[_(h,{modelValue:y(n).facilities[x],"onUpdate:modelValue":$=>y(n).facilities[x]=$,placeholder:"Nama fasilitas",size:"lg",class:"flex-1"},null,8,["modelValue","onUpdate:modelValue"]),_(f,{color:"error",variant:"soft",icon:"i-lucide-trash-2",onClick:$=>l(x)},null,8,["onClick"])]))),128)),_(f,{color:"neutral",variant:"soft",label:"Tambah Fasilitas",icon:"i-lucide-plus",block:"",onClick:i})]),d[8]||(d[8]=k("p",{class:"text-xs text-gray-500 mt-1"},"Minimal 1 fasilitas harus ditambahkan",-1))]),_:1},8,["error"]),k("div",T_e,[_(f,{color:"neutral",variant:"soft",label:"Batal",to:`/dashboard/boarding-schools/${e.boardingSchool.id}`,disabled:y(n).processing},null,8,["to","disabled"]),_(f,{type:"submit",color:"primary",label:"Update",loading:y(n).processing},null,8,["loading"])])],32)]),_:1})}}},I_e=Object.freeze(Object.defineProperty({__proto__:null,default:E_e},Symbol.toStringTag,{value:"Module"})),P_e={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},O_e={class:"mb-4"},R_e=["src","alt"],B_e={key:1,class:"w-full h-40 bg-gray-200 dark:bg-gray-800 rounded-lg mb-3 flex items-center justify-center"},N_e={class:"text-lg font-bold"},D_e={class:"text-sm text-gray-500 dark:text-gray-400 mt-1 line-clamp-2"},F_e={class:"flex gap-2 mt-3"},q_e={class:"flex gap-2"},z_e={class:"text-center py-12"},L_e={class:"flex items-start gap-4"},j_e={class:"p-3 bg-error/10 rounded-lg"},V_e={class:"flex-1"},U_e={class:"text-sm text-gray-500 mt-1"},K_e={class:"font-semibold"},H_e={class:"flex justify-end gap-2 w-full"},W_e={__name:"Index",props:{boardingSchools:{type:Array,default:()=>[]}},setup(e){const t=K(!1),n=K(null),r=K(!1),o=i=>{n.value=i,t.value=!0},s=()=>{t.value=!1,n.value=null},a=()=>{r.value=!0,Qe.delete(`/dashboard/boarding-schools/${n.value.id}`,{onFinish:()=>{r.value=!1,s()}})};return(i,l)=>{const c=We,u=tt,d=pn,f=ht,p=$r;return A(),B($t,{title:"Pondok",heading:"Daftar Pondok Pesantren",description:"Kelola data pondok pesantren","page-id":"boarding-schools"},{header:S(()=>[_(c,{color:"primary",icon:"i-lucide-plus",label:"Tambah Pondok",to:"/dashboard/boarding-schools/create"})]),default:S(()=>[k("div",P_e,[(A(!0),W(Ee,null,Ve(e.boardingSchools,m=>(A(),B(f,{key:m.id},{default:S(()=>[k("div",O_e,[m.photo_url?(A(),W("img",{key:0,src:m.photo_url,alt:m.name,class:"w-full h-40 object-cover rounded-lg mb-3"},null,8,R_e)):(A(),W("div",B_e,[_(u,{name:"i-lucide-building-2",class:"text-gray-400 w-16 h-16"})])),k("h3",N_e,q(m.name),1),k("p",D_e,q(m.address),1),k("div",F_e,[_(d,{color:"primary",variant:"soft"},{default:S(()=>[J(q(m.admins_count)+" Admin ",1)]),_:2},1024),_(d,{color:"info",variant:"soft"},{default:S(()=>[J(q(m.facilities_count)+" Fasilitas ",1)]),_:2},1024)])]),k("div",q_e,[_(c,{color:"neutral",variant:"soft",icon:"i-lucide-eye",to:`/dashboard/boarding-schools/${m.id}`},null,8,["to"]),_(c,{color:"neutral",variant:"soft",icon:"i-lucide-pencil",to:`/dashboard/boarding-schools/${m.id}/edit`},null,8,["to"]),_(c,{color:"error",variant:"soft",icon:"i-lucide-trash-2",onClick:h=>o(m)},null,8,["onClick"])])]),_:2},1024))),128)),e.boardingSchools.length===0?(A(),B(f,{key:0,class:"col-span-full"},{default:S(()=>[k("div",z_e,[_(u,{name:"i-lucide-building-2",class:"w-16 h-16 text-gray-400 mx-auto mb-4"}),l[1]||(l[1]=k("h3",{class:"text-lg font-semibold text-gray-700 dark:text-gray-300"}," Belum ada pondok ",-1)),l[2]||(l[2]=k("p",{class:"text-sm text-gray-500 mt-2"},' Klik "Tambah Pondok" untuk menambahkan pondok baru ',-1))])]),_:1})):X("",!0)]),_(p,{open:t.value,"onUpdate:open":l[0]||(l[0]=m=>t.value=m)},{header:S(()=>[...l[3]||(l[3]=[k("h3",{class:"text-lg font-semibold"},"Hapus Pondok",-1)])]),body:S(()=>[k("div",L_e,[k("div",j_e,[_(u,{name:"i-lucide-alert-triangle",class:"w-6 h-6 text-error"})]),k("div",V_e,[l[6]||(l[6]=k("h4",{class:"font-semibold"},"Apakah Anda yakin?",-1)),k("p",U_e,[l[4]||(l[4]=J(" Pondok ",-1)),k("span",K_e,q(n.value?.name),1),l[5]||(l[5]=J(" akan dihapus secara permanen. Semua admin assignment dan fasilitas juga akan ikut terhapus. ",-1))])])])]),footer:S(()=>[k("div",H_e,[_(c,{color:"neutral",variant:"soft",label:"Batal",onClick:s,disabled:r.value},null,8,["disabled"]),_(c,{color:"error",label:"Hapus",loading:r.value,onClick:a},null,8,["loading"])])]),_:1},8,["open"])]),_:1})}}},G_e=Object.freeze(Object.defineProperty({__proto__:null,default:W_e},Symbol.toStringTag,{value:"Module"})),J_e={class:"space-y-6"},Y_e={class:"flex gap-6"},Q_e={key:0,class:"shrink-0"},X_e=["src","alt"],Z_e={key:1,class:"shrink-0 w-48 h-48 bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-center"},eSe={class:"flex-1"},tSe={class:"text-2xl font-bold mb-2"},nSe={class:"space-y-2 text-sm"},rSe={class:"flex items-start gap-2"},oSe={class:"text-gray-600 dark:text-gray-300"},sSe={key:0,class:"flex items-start gap-2"},aSe={class:"text-gray-600 dark:text-gray-300"},iSe={class:"flex gap-2 mt-4"},lSe={class:"flex items-center justify-between"},uSe={key:0,class:"space-y-3"},cSe={class:"font-medium"},dSe={class:"text-sm text-gray-500"},fSe={key:1,class:"text-gray-500 text-sm"},pSe={key:0,class:"flex flex-wrap gap-2"},mSe={key:1,class:"text-gray-500 text-sm"},hSe={class:"space-y-6"},gSe={class:"pb-4"},vSe={class:"flex gap-4"},ySe={class:"flex items-center gap-2 cursor-pointer"},bSe={class:"flex items-center gap-2 cursor-pointer"},xSe={class:"col-span-2"},wSe={class:"font-semibold mb-3"},kSe={key:0,class:"text-center py-4"},_Se={key:1,class:"space-y-2"},SSe={class:"flex items-center gap-3"},$Se={class:"font-medium"},CSe={class:"text-xs text-gray-500"},MSe={key:2,class:"text-gray-500 text-sm text-center py-4"},ASe={class:"flex justify-end"},TSe={class:"flex items-start gap-4"},ESe={class:"p-3 bg-error/10 rounded-lg"},ISe={class:"flex-1"},PSe={class:"text-sm text-gray-500 mt-1"},OSe={class:"font-semibold"},RSe={class:"flex justify-end gap-2 w-full"},BSe={class:"flex items-start gap-4"},NSe={class:"p-3 bg-error/10 rounded-lg"},DSe={class:"flex-1"},FSe={class:"text-sm text-gray-500 mt-1"},qSe={class:"font-semibold"},zSe={class:"flex justify-end gap-2 w-full"},LSe={__name:"Show",props:{boardingSchool:Object},setup(e){const t=e,n=ai(),r=H(()=>(n.props.auth.user?.roles||[]).includes("super-admin")),o=K(!1),s=K([]),a=K(!1),i=Rt({name:"",email:"",password:"",phone_number:"",gender:"male"}),l=async()=>{o.value=!0,await u()},c=()=>{o.value=!1,i.reset()},u=async()=>{a.value=!0;try{const E=await nn.get(`/dashboard/boarding-schools/${t.boardingSchool.id}/admins`);s.value=E.data.admins}catch(E){console.error("Failed to load admins:",E)}finally{a.value=!1}},d=()=>{i.post(`/dashboard/boarding-schools/${t.boardingSchool.id}/admins`,{preserveScroll:!0,onSuccess:()=>{console.log("Admin created successfully"),i.reset(),u(),Qe.reload({only:["boardingSchool"]})},onError:E=>{console.error("Failed to create admin:",E)}})},f=K(!1),p=K(null),m=K(!1),h=E=>{p.value=E,f.value=!0},g=()=>{f.value=!1,p.value=null},v=()=>{m.value=!0,Qe.delete(`/dashboard/boarding-schools/${t.boardingSchool.id}/admins/${p.value.id}`,{preserveScroll:!0,onSuccess:()=>{u(),g(),Qe.reload({only:["boardingSchool"]})},onFinish:()=>{m.value=!1}})},x=K(!1),$=K(!1),C=()=>{x.value=!0},M=()=>{x.value=!1},I=()=>{$.value=!0,Qe.delete(`/dashboard/boarding-schools/${t.boardingSchool.id}`,{onSuccess:()=>{},onFinish:()=>{$.value=!1,M()}})};return(E,P)=>{const O=tt,D=We,L=ht,V=On,F=pn,z=bt,N=qt,ee=$r;return A(),B($t,{title:"Detail Pondok","page-id":"show-boarding-school","content-class":"p-6"},{default:S(()=>[k("div",J_e,[_(L,null,{default:S(()=>[k("div",Y_e,[e.boardingSchool.photo_url?(A(),W("div",Q_e,[k("img",{src:e.boardingSchool.photo_url,alt:e.boardingSchool.name,class:"w-48 h-48 object-cover rounded-lg"},null,8,X_e)])):(A(),W("div",Z_e,[_(O,{name:"i-lucide-building-2",class:"w-24 h-24 text-gray-400"})])),k("div",eSe,[k("h2",tSe,q(e.boardingSchool.name),1),k("div",nSe,[k("div",rSe,[_(O,{name:"i-lucide-map-pin",class:"w-5 h-5 text-gray-400 mt-0.5"}),k("p",oSe,q(e.boardingSchool.address),1)]),e.boardingSchool.description?(A(),W("div",sSe,[_(O,{name:"i-lucide-file-text",class:"w-5 h-5 text-gray-400 mt-0.5"}),k("p",aSe,q(e.boardingSchool.description),1)])):X("",!0)]),k("div",iSe,[_(D,{color:"primary",icon:"i-lucide-pencil",label:"Edit",to:`/dashboard/boarding-schools/${e.boardingSchool.id}/edit`},null,8,["to"]),r.value?(A(),B(D,{key:0,color:"error",variant:"soft",icon:"i-lucide-trash-2",label:"Hapus",onClick:C})):X("",!0)])])])]),_:1}),r.value?(A(),B(L,{key:0},{header:S(()=>[k("div",lSe,[P[15]||(P[15]=k("h3",{class:"text-lg font-semibold"},"Admin Pondok",-1)),_(D,{color:"primary",variant:"soft",icon:"material-symbols:settings-account-box-outline-sharp",label:"Atur Admin",onClick:l})])]),default:S(()=>[e.boardingSchool.admins.length>0?(A(),W("div",uSe,[(A(!0),W(Ee,null,Ve(e.boardingSchool.admins,ne=>(A(),W("div",{key:ne.id,class:"flex items-center gap-3"},[_(V,{src:ne.avatar,alt:ne.name,size:"md"},null,8,["src","alt"]),k("div",null,[k("p",cSe,q(ne.name),1),k("p",dSe,q(ne.email),1)])]))),128))])):(A(),W("p",fSe,"Belum ada admin yang ditugaskan"))]),_:1})):X("",!0),_(L,null,{header:S(()=>[...P[16]||(P[16]=[k("h3",{class:"text-lg font-semibold"},"Fasilitas",-1)])]),default:S(()=>[e.boardingSchool.facilities.length>0?(A(),W("div",pSe,[(A(!0),W(Ee,null,Ve(e.boardingSchool.facilities,ne=>(A(),B(F,{key:ne.id,color:"primary",variant:"soft"},{default:S(()=>[J(q(ne.name),1)]),_:2},1024))),128))])):(A(),W("p",mSe,"Belum ada fasilitas yang ditambahkan"))]),_:1})]),_(ee,{open:o.value,"onUpdate:open":P[12]||(P[12]=ne=>o.value=ne),ui:{width:"max-w-4xl"}},{header:S(()=>[...P[17]||(P[17]=[k("h3",{class:"text-lg font-semibold"},"Kelola Admin Pondok",-1)])]),body:S(()=>[k("div",hSe,[k("div",gSe,[P[20]||(P[20]=k("h4",{class:"font-semibold mb-3"},"Tambah Admin Baru",-1)),k("form",{onSubmit:lt(d,["prevent"]),class:"grid grid-cols-2 gap-4"},[_(N,{label:"Nama",required:"",error:y(i).errors.name},{default:S(()=>[_(z,{modelValue:y(i).name,"onUpdate:modelValue":P[0]||(P[0]=ne=>y(i).name=ne),placeholder:"Nama lengkap",onInput:P[1]||(P[1]=ne=>y(i).clearErrors("name"))},null,8,["modelValue"])]),_:1},8,["error"]),_(N,{label:"Email",required:"",error:y(i).errors.email},{default:S(()=>[_(z,{modelValue:y(i).email,"onUpdate:modelValue":P[2]||(P[2]=ne=>y(i).email=ne),type:"email",placeholder:"email@example.com",onInput:P[3]||(P[3]=ne=>y(i).clearErrors("email"))},null,8,["modelValue"])]),_:1},8,["error"]),_(N,{label:"Password",required:"",error:y(i).errors.password},{default:S(()=>[_(z,{modelValue:y(i).password,"onUpdate:modelValue":P[4]||(P[4]=ne=>y(i).password=ne),type:"password",placeholder:"Minimal 8 karakter",onInput:P[5]||(P[5]=ne=>y(i).clearErrors("password"))},null,8,["modelValue"])]),_:1},8,["error"]),_(N,{label:"No. Telepon",error:y(i).errors.phone_number},{default:S(()=>[_(z,{modelValue:y(i).phone_number,"onUpdate:modelValue":P[6]||(P[6]=ne=>y(i).phone_number=ne),placeholder:"08xx xxxx xxxx",onInput:P[7]||(P[7]=ne=>y(i).clearErrors("phone_number"))},null,8,["modelValue"])]),_:1},8,["error"]),_(N,{label:"Jenis Kelamin",required:"",error:y(i).errors.gender,class:"col-span-2"},{default:S(()=>[k("div",vSe,[k("label",ySe,[Nd(k("input",{type:"radio","onUpdate:modelValue":P[8]||(P[8]=ne=>y(i).gender=ne),value:"male",class:"w-4 h-4",onChange:P[9]||(P[9]=ne=>y(i).clearErrors("gender"))},null,544),[[Fd,y(i).gender]]),P[18]||(P[18]=k("span",null,"Laki-laki",-1))]),k("label",bSe,[Nd(k("input",{type:"radio","onUpdate:modelValue":P[10]||(P[10]=ne=>y(i).gender=ne),value:"female",class:"w-4 h-4",onChange:P[11]||(P[11]=ne=>y(i).clearErrors("gender"))},null,544),[[Fd,y(i).gender]]),P[19]||(P[19]=k("span",null,"Perempuan",-1))])])]),_:1},8,["error"]),k("div",xSe,[_(D,{type:"submit",color:"primary",label:"Tambah Admin",loading:y(i).processing,block:""},null,8,["loading"])])],32)]),P[21]||(P[21]=k("div",{class:"border-t border-gray-200 dark:border-gray-700"},null,-1)),k("div",null,[k("h4",wSe,"Daftar Admin ("+q(s.value.length)+")",1),a.value?(A(),W("div",kSe,[_(O,{name:"i-lucide-loader-2",class:"animate-spin w-6 h-6 mx-auto"})])):s.value.length>0?(A(),W("div",_Se,[(A(!0),W(Ee,null,Ve(s.value,ne=>(A(),W("div",{key:ne.id,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg"},[k("div",SSe,[_(V,{src:ne.avatar,alt:ne.name,size:"sm"},null,8,["src","alt"]),k("div",null,[k("p",$Se,q(ne.name),1),k("p",CSe,q(ne.email),1)])]),_(D,{color:"error",variant:"soft",icon:"i-lucide-trash-2",size:"sm",onClick:Y=>h(ne)},null,8,["onClick"])]))),128))])):(A(),W("p",MSe," Belum ada admin "))])])]),footer:S(()=>[k("div",ASe,[_(D,{color:"neutral",variant:"soft",label:"Tutup",onClick:c})])]),_:1},8,["open"]),_(ee,{open:f.value,"onUpdate:open":P[13]||(P[13]=ne=>f.value=ne)},{header:S(()=>[...P[22]||(P[22]=[k("h3",{class:"text-lg font-semibold"},"Hapus Admin",-1)])]),body:S(()=>[k("div",TSe,[k("div",ESe,[_(O,{name:"i-lucide-alert-triangle",class:"w-6 h-6 text-error"})]),k("div",ISe,[P[25]||(P[25]=k("h4",{class:"font-semibold"},"Apakah Anda yakin?",-1)),k("p",PSe,[P[23]||(P[23]=J(" Admin ",-1)),k("span",OSe,q(p.value?.name),1),P[24]||(P[24]=J(" akan dihapus dan akun user-nya juga akan terhapus permanen. ",-1))])])])]),footer:S(()=>[k("div",RSe,[_(D,{color:"neutral",variant:"soft",label:"Batal",onClick:g,disabled:m.value},null,8,["disabled"]),_(D,{color:"error",label:"Hapus",loading:m.value,onClick:v},null,8,["loading"])])]),_:1},8,["open"]),_(ee,{open:x.value,"onUpdate:open":P[14]||(P[14]=ne=>x.value=ne)},{header:S(()=>[...P[26]||(P[26]=[k("h3",{class:"text-lg font-semibold"},"Hapus Pondok",-1)])]),body:S(()=>[k("div",BSe,[k("div",NSe,[_(O,{name:"i-lucide-alert-triangle",class:"w-6 h-6 text-error"})]),k("div",DSe,[P[29]||(P[29]=k("h4",{class:"font-semibold"},"Apakah Anda yakin?",-1)),k("p",FSe,[P[27]||(P[27]=J(" Pondok ",-1)),k("span",qSe,q(e.boardingSchool.name),1),P[28]||(P[28]=J(" akan dihapus secara permanen. Semua admin assignment dan fasilitas juga akan ikut terhapus. ",-1))])])])]),footer:S(()=>[k("div",zSe,[_(D,{color:"neutral",variant:"soft",label:"Batal",onClick:M,disabled:$.value},null,8,["disabled"]),_(D,{color:"error",label:"Hapus",loading:$.value,onClick:I},null,8,["loading"])])]),_:1},8,["open"])]),_:1})}}},jSe=Object.freeze(Object.defineProperty({__proto__:null,default:LSe},Symbol.toStringTag,{value:"Module"}));function VSe(e){return"schema"in e&&typeof e.coercer=="function"&&typeof e.validator=="function"&&typeof e.refiner=="function"}function USe(e){return"~standard"in e}async function KSe(e,t){const n=await t["~standard"].validate(e);return n.issues?{errors:n.issues?.map(r=>({name:r.path?.map(o=>typeof o=="object"?o.key:o).join(".")||"",message:r.message}))||[],result:null}:{errors:null,result:n.value}}async function HSe(e,t){const[n,r]=t.validate(e);return n?{errors:n.failures().map(s=>({message:s.message,name:s.path.join(".")})),result:null}:{errors:null,result:r}}function WSe(e,t){if(USe(t))return KSe(e,t);if(VSe(t))return HSe(e,t);throw new Error("Form validation failed: Unsupported form schema")}function GSe(e,t){return t?t.split(".").reduce((r,o)=>r?.[o],e):e}function JSe(e,t,n){if(!t)return Object.assign(e,n);if(!e)return e;const r=t.split(".");let o=e;for(let a=0;a<r.length-1;a++){const i=r[a];(o[i]===void 0||o[i]===null)&&(a+1<r.length&&!Number.isNaN(Number(r[a+1]))?o[i]=[]:o[i]={}),o=o[i]}const s=r[r.length-1];return o[s]=n,e}class Pp extends Error{formId;errors;constructor(t,n){super("Form validation exception"),this.formId=t,this.errors=n,Object.setPrototypeOf(this,Pp.prototype)}}const YSe={base:""},li={__name:"Form",props:{id:{type:[String,Number],required:!1},schema:{type:null,required:!1},state:{type:null,required:!1},validate:{type:Function,required:!1},validateOn:{type:Array,required:!1,default(){return["input","blur","change"]}},disabled:{type:Boolean,required:!1},name:{type:null,required:!1},validateOnInputDelay:{type:Number,required:!1,default:300},transform:{type:null,required:!1,default:()=>!0},nested:{type:Boolean,required:!1},loadingAuto:{type:Boolean,required:!1,default:!0},class:{type:null,required:!1},onSubmit:{type:Function,required:!1}},emits:["submit","error"],setup(e,{expose:t,emit:n}){const r=e,o=n,s=Bt(),a=H(()=>Ye({extend:Ye(YSe),...s.ui?.form||{}})),i=r.id??ol(),l=Nce(`form-${i}`),c=r.nested===!0&&or(l$,void 0),u=r.nested===!0?or(eB,void 0):void 0,d=H(()=>u?.value?r.name?GSe(u.value,r.name):u.value:r.state);Mo(l$,l),Mo(eB,d);const f=K(new Map);wt(async()=>{c&&(await St(),c.emit({type:"attach",validate:M,formId:i,name:r.name,api:Re}))}),ar(()=>{l.reset(),c&&c.emit({type:"detach",formId:i})}),wt(async()=>{l.on(async fe=>{fe.type==="attach"?f.value.set(fe.formId,{validate:fe.validate,name:fe.name,api:fe.api}):fe.type==="detach"?f.value.delete(fe.formId):r.validateOn?.includes(fe.type)&&!I.value&&(fe.type!=="input"?await M({name:fe.name,silent:!0,nested:!1}):(fe.eager||v.has(fe.name))&&await M({name:fe.name,silent:!0,nested:!1})),fe.type==="blur"&&v.add(fe.name),(fe.type==="change"||fe.type==="input"||fe.type==="blur"||fe.type==="focus")&&g.add(fe.name),(fe.type==="change"||fe.type==="input")&&h.add(fe.name)})});const p=K([]);Mo(Kj,p);const m=K({});Mo(Vj,m);const h=Pr(new Set),g=Pr(new Set),v=Pr(new Set);function x(fe){return fe.map(we=>({...we,id:we?.name?m.value[we.name]?.id:void 0}))}const $=K(null);async function C(){let fe=r.validate?await r.validate(d.value)??[]:[];if(r.schema){const{errors:we,result:ue}=await WSe(d.value,r.schema);we?fe=fe.concat(we):$.value=ue}return x(fe)}async function M(fe={silent:!1,nested:!1,transform:!1}){const we=fe.name&&!Array.isArray(fe.name)?[fe.name]:fe.name;let ue=[],Ne=[];if(!we&&fe.nested){const it=Array.from(f.value.values()).map(ve=>O(ve,fe)),ce=await Promise.all(it);Ne=ce.filter(ve=>ve.error).flatMap(ve=>ve.error.errors.map(Ae=>D(Ae,ve.name))),ue=ce.filter(ve=>ve.output!==void 0)}const st=[...await C(),...Ne];if(we?p.value=ee(st,we):p.value=st,p.value?.length){if(fe.silent)return!1;throw new Pp(i,p.value)}return fe.transform?(ue.forEach(it=>{it.name?JSe($.value,it.name,it.output):Object.assign($.value,it.output)}),$.value??d.value):d.value}const I=K(!1);Mo(Uj,ms(I));async function E(fe){I.value=r.loadingAuto&&!0;const we=fe;try{we.data=await M({nested:!0,transform:r.transform}),await r.onSubmit?.(we),h.clear()}catch(ue){if(!(ue instanceof Pp))throw ue;const Ne={...we,errors:ue.errors};o("error",Ne)}finally{I.value=!1}}const P=H(()=>r.disabled||I.value);Mo(Lj,H(()=>({disabled:P.value,validateOnInputDelay:r.validateOnInputDelay})));async function O(fe,we){try{const ue=await fe.validate({...we,silent:!1});return{name:fe.name,output:ue}}catch(ue){if(!(ue instanceof Pp))throw ue;return{name:fe.name,error:ue}}}function D(fe,we){return!we||!fe.name?fe:{...fe,name:we+"."+fe.name}}function L(fe,we){const ue=we+".",Ne=fe?.name?.startsWith(ue)?fe.name.substring(ue.length):fe.name;return{...fe,name:Ne}}function V(fe,we){return we?fe.filter(ue=>ue?.name?.startsWith(we+".")).map(ue=>L(ue,we)):fe}function F(fe){return fe.api.getErrors().map(we=>fe.name?{...we,name:fe.name+"."+we.name}:we)}function z(fe,we){return!fe||!we?!0:fe instanceof RegExp?fe.test(we):we===fe||typeof fe=="string"&&fe.startsWith(we+".")}function N(fe,we){if(!fe||fe instanceof RegExp)return fe;if(we!==fe)return typeof fe=="string"&&fe.startsWith(we+".")?fe.substring(we.length+1):fe}function ee(fe,we){const ue=new Set(we),Ne=we.map(ce=>m.value?.[ce]?.pattern).filter(Boolean),Xe=ce=>ce.name?ue.has(ce.name)?!0:Ne.some(ve=>ve.test(ce.name)):!1,st=p.value.filter(ce=>!Xe(ce)),it=fe.filter(Xe);return[...st,...it]}function ne(fe,we){return fe.filter(ue=>we instanceof RegExp?!(ue.name&&we.test(ue.name)):!ue.name||ue.name!==we)}function Y(fe){return!fe.name||!!m.value[fe.name]}const Re={validate:M,errors:p,setErrors(fe,we){const ue=x(fe.filter(Y)),Ne=[];for(const Xe of f.value.values())if(z(we,Xe.name)){const st=V(fe,Xe.name);Xe.api.setErrors(st,N(we,Xe.name||"")),Ne.push(...F(Xe))}if(we){const Xe=ne(p.value,we);p.value=[...Xe,...ue,...Ne]}else p.value=[...ue,...Ne]},async submit(){await E(new Event("submit"))},getErrors(fe){return fe?p.value.filter(we=>fe instanceof RegExp?we.name&&fe.test(we.name):we.name===fe):p.value},clear(fe){const we=fe?p.value.filter(Ne=>Y(Ne)&&(fe instanceof RegExp?!(Ne.name&&fe.test(Ne.name)):Ne.name!==fe)):[],ue=[];for(const Ne of f.value.values())z(fe,Ne.name)&&Ne.api.clear(),ue.push(...F(Ne));p.value=[...we,...ue]},disabled:P,loading:I,dirty:H(()=>!!h.size),dirtyFields:ms(h),blurredFields:ms(v),touchedFields:ms(g)};return t(Re),(fe,we)=>(A(),B(Kn(y(c)?"div":"form"),{id:y(i),class:Z(a.value({class:r.class})),onSubmit:lt(E,["prevent"])},{default:S(()=>[U(fe.$slots,"default",{errors:p.value,loading:I.value})]),_:3},40,["id","class"]))}},QSe={class:"grid grid-cols-2 gap-4"},XSe={class:"flex items-center gap-3 pt-2"},ZSe={class:"text-sm"},e$e={class:"flex gap-2 pt-4 border-t"},t$e={__name:"Create",setup(e){const t=Rt({question:"",answer:"",order:0,is_active:!0}),n=()=>{t.post("/dashboard/cms/faqs")};return(r,o)=>{const s=We,a=bt,i=qt,l=Wn,c=ii,u=li,d=ht;return A(),B($t,{title:"Tambah FAQ",heading:"Tambah Pertanyaan Baru",description:"Tambahkan pertanyaan yang sering diajukan","page-id":"cms-faqs-create"},{header:S(()=>[_(s,{color:"neutral",icon:"i-lucide-arrow-left",label:"Kembali",variant:"ghost",to:"/dashboard/cms/faqs"})]),default:S(()=>[_(d,null,{default:S(()=>[_(u,{state:y(t),onSubmit:n,class:"space-y-6 p-4 max-w-3xl mx-auto"},{default:S(()=>[_(i,{label:"Pertanyaan",name:"question",required:""},{default:S(()=>[_(a,{modelValue:y(t).question,"onUpdate:modelValue":o[0]||(o[0]=f=>y(t).question=f),placeholder:"Masukkan pertanyaan...",size:"lg",class:"w-full"},null,8,["modelValue"])]),_:1}),_(i,{label:"Jawaban",name:"answer",required:""},{default:S(()=>[_(l,{modelValue:y(t).answer,"onUpdate:modelValue":o[1]||(o[1]=f=>y(t).answer=f),placeholder:"Masukkan jawaban...",rows:6,size:"lg",class:"w-full"},null,8,["modelValue"])]),_:1}),k("div",QSe,[_(i,{label:"Urutan",name:"order",hint:"Urutan tampil (0 = paling atas)"},{default:S(()=>[_(a,{modelValue:y(t).order,"onUpdate:modelValue":o[2]||(o[2]=f=>y(t).order=f),type:"number",min:"0",placeholder:"0",class:"w-full"},null,8,["modelValue"])]),_:1}),_(i,{label:"Status",name:"is_active"},{default:S(()=>[k("div",XSe,[_(c,{modelValue:y(t).is_active,"onUpdate:modelValue":o[3]||(o[3]=f=>y(t).is_active=f)},null,8,["modelValue"]),k("span",ZSe,q(y(t).is_active?"Aktif":"Nonaktif"),1)])]),_:1})]),k("div",e$e,[_(s,{type:"submit",label:"Simpan",icon:"i-lucide-save",loading:y(t).processing},null,8,["loading"]),_(s,{label:"Batal",color:"neutral",variant:"outline",to:"/dashboard/cms/faqs"})])]),_:1},8,["state"])]),_:1})]),_:1})}}},n$e=Object.freeze(Object.defineProperty({__proto__:null,default:t$e},Symbol.toStringTag,{value:"Module"})),r$e={class:"grid grid-cols-2 gap-4"},o$e={class:"flex items-center gap-3 pt-2"},s$e={class:"text-sm"},a$e={class:"flex gap-2 pt-4 border-t"},i$e={__name:"Edit",props:{faq:Object},setup(e){const t=e,n=Rt({question:t.faq.question,answer:t.faq.answer,order:t.faq.order,is_active:t.faq.is_active}),r=()=>{n.put(`/dashboard/cms/faqs/${t.faq.id}`)};return(o,s)=>{const a=We,i=bt,l=qt,c=Wn,u=ii,d=li,f=ht;return A(),B($t,{title:"Edit FAQ",heading:"Edit Pertanyaan",description:"Ubah pertanyaan yang sering diajukan","page-id":"cms-faqs-edit"},{header:S(()=>[_(a,{color:"neutral",icon:"i-lucide-arrow-left",label:"Kembali",variant:"ghost",to:"/dashboard/cms/faqs"})]),default:S(()=>[_(f,null,{default:S(()=>[_(d,{state:y(n),onSubmit:r,class:"space-y-6 p-4 max-w-3xl mx-auto"},{default:S(()=>[_(l,{label:"Pertanyaan",name:"question",required:""},{default:S(()=>[_(i,{modelValue:y(n).question,"onUpdate:modelValue":s[0]||(s[0]=p=>y(n).question=p),placeholder:"Masukkan pertanyaan...",size:"lg",class:"w-full"},null,8,["modelValue"])]),_:1}),_(l,{label:"Jawaban",name:"answer",required:""},{default:S(()=>[_(c,{modelValue:y(n).answer,"onUpdate:modelValue":s[1]||(s[1]=p=>y(n).answer=p),placeholder:"Masukkan jawaban...",rows:6,size:"lg",class:"w-full"},null,8,["modelValue"])]),_:1}),k("div",r$e,[_(l,{label:"Urutan",name:"order",hint:"Urutan tampil (0 = paling atas)"},{default:S(()=>[_(i,{modelValue:y(n).order,"onUpdate:modelValue":s[2]||(s[2]=p=>y(n).order=p),type:"number",min:"0",placeholder:"0",class:"w-full"},null,8,["modelValue"])]),_:1}),_(l,{label:"Status",name:"is_active"},{default:S(()=>[k("div",o$e,[_(u,{modelValue:y(n).is_active,"onUpdate:modelValue":s[3]||(s[3]=p=>y(n).is_active=p)},null,8,["modelValue"]),k("span",s$e,q(y(n).is_active?"Aktif":"Nonaktif"),1)])]),_:1})]),k("div",a$e,[_(a,{type:"submit",label:"Update",icon:"i-lucide-save",loading:y(n).processing},null,8,["loading"]),_(a,{label:"Batal",color:"neutral",variant:"outline",to:"/dashboard/cms/faqs"})])]),_:1},8,["state"])]),_:1})]),_:1})}}},l$e=Object.freeze(Object.defineProperty({__proto__:null,default:i$e},Symbol.toStringTag,{value:"Module"}));function u$e(e){return e?e[0].toUpperCase()+e.slice(1):""}function Fl(e,t){return typeof e=="function"?e(t):e}function Ns(e,t){return n=>{t.setState(r=>({...r,[e]:Fl(n,r[e])}))}}function Vx(e){return e instanceof Function}function c$e(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function d$e(e,t){const n=[],r=o=>{o.forEach(s=>{n.push(s);const a=t(s);a!=null&&a.length&&r(a)})};return r(e),n}function At(e,t,n){let r=[],o;return s=>{let a;n.key&&n.debug&&(a=Date.now());const i=e(s);if(!(i.length!==r.length||i.some((u,d)=>r[d]!==u)))return o;r=i;let c;if(n.key&&n.debug&&(c=Date.now()),o=t(...i),n==null||n.onChange==null||n.onChange(o),n.key&&n.debug&&n!=null&&n.debug()){const u=Math.round((Date.now()-a)*100)/100,d=Math.round((Date.now()-c)*100)/100,f=d/16,p=(m,h)=>{for(m=String(m);m.length<h;)m=" "+m;return m};console.info(`%c ${p(d,5)} /${p(u,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*f,120))}deg 100% 31%);`,n?.key)}return o}}function Tt(e,t,n,r){return{debug:()=>{var o;return(o=e?.debugAll)!=null?o:e[t]},key:!1,onChange:r}}function f$e(e,t,n,r){const o=()=>{var a;return(a=s.getValue())!=null?a:e.options.renderFallbackValue},s={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:o,getContext:At(()=>[e,n,t,s],(a,i,l,c)=>({table:a,column:i,row:l,cell:c,getValue:c.getValue,renderValue:c.renderValue}),Tt(e.options,"debugCells"))};return e._features.forEach(a=>{a.createCell==null||a.createCell(s,n,t,e)},{}),s}function p$e(e,t,n,r){var o,s;const i={...e._getDefaultColumnDef(),...t},l=i.accessorKey;let c=(o=(s=i.id)!=null?s:l?typeof String.prototype.replaceAll=="function"?l.replaceAll(".","_"):l.replace(/\./g,"_"):void 0)!=null?o:typeof i.header=="string"?i.header:void 0,u;if(i.accessorFn?u=i.accessorFn:l&&(l.includes(".")?u=f=>{let p=f;for(const h of l.split(".")){var m;p=(m=p)==null?void 0:m[h]}return p}:u=f=>f[i.accessorKey]),!c)throw new Error;let d={id:`${String(c)}`,accessorFn:u,parent:r,depth:n,columnDef:i,columns:[],getFlatColumns:At(()=>[!0],()=>{var f;return[d,...(f=d.columns)==null?void 0:f.flatMap(p=>p.getFlatColumns())]},Tt(e.options,"debugColumns")),getLeafColumns:At(()=>[e._getOrderColumnsFn()],f=>{var p;if((p=d.columns)!=null&&p.length){let m=d.columns.flatMap(h=>h.getLeafColumns());return f(m)}return[d]},Tt(e.options,"debugColumns"))};for(const f of e._features)f.createColumn==null||f.createColumn(d,e);return d}const _o="debugHeaders";function cB(e,t,n){var r;let s={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const a=[],i=l=>{l.subHeaders&&l.subHeaders.length&&l.subHeaders.map(i),a.push(l)};return i(s),a},getContext:()=>({table:e,header:s,column:t})};return e._features.forEach(a=>{a.createHeader==null||a.createHeader(s,e)}),s}const m$e={createTable:e=>{e.getHeaderGroups=At(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,o)=>{var s,a;const i=(s=r?.map(d=>n.find(f=>f.id===d)).filter(Boolean))!=null?s:[],l=(a=o?.map(d=>n.find(f=>f.id===d)).filter(Boolean))!=null?a:[],c=n.filter(d=>!(r!=null&&r.includes(d.id))&&!(o!=null&&o.includes(d.id)));return cv(t,[...i,...c,...l],e)},Tt(e.options,_o)),e.getCenterHeaderGroups=At(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,o)=>(n=n.filter(s=>!(r!=null&&r.includes(s.id))&&!(o!=null&&o.includes(s.id))),cv(t,n,e,"center")),Tt(e.options,_o)),e.getLeftHeaderGroups=At(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var o;const s=(o=r?.map(a=>n.find(i=>i.id===a)).filter(Boolean))!=null?o:[];return cv(t,s,e,"left")},Tt(e.options,_o)),e.getRightHeaderGroups=At(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var o;const s=(o=r?.map(a=>n.find(i=>i.id===a)).filter(Boolean))!=null?o:[];return cv(t,s,e,"right")},Tt(e.options,_o)),e.getFooterGroups=At(()=>[e.getHeaderGroups()],t=>[...t].reverse(),Tt(e.options,_o)),e.getLeftFooterGroups=At(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),Tt(e.options,_o)),e.getCenterFooterGroups=At(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),Tt(e.options,_o)),e.getRightFooterGroups=At(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),Tt(e.options,_o)),e.getFlatHeaders=At(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),Tt(e.options,_o)),e.getLeftFlatHeaders=At(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),Tt(e.options,_o)),e.getCenterFlatHeaders=At(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),Tt(e.options,_o)),e.getRightFlatHeaders=At(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),Tt(e.options,_o)),e.getCenterLeafHeaders=At(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Tt(e.options,_o)),e.getLeftLeafHeaders=At(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Tt(e.options,_o)),e.getRightLeafHeaders=At(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Tt(e.options,_o)),e.getLeafHeaders=At(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var o,s,a,i,l,c;return[...(o=(s=t[0])==null?void 0:s.headers)!=null?o:[],...(a=(i=n[0])==null?void 0:i.headers)!=null?a:[],...(l=(c=r[0])==null?void 0:c.headers)!=null?l:[]].map(u=>u.getLeafHeaders()).flat()},Tt(e.options,_o))}};function cv(e,t,n,r){var o,s;let a=0;const i=function(f,p){p===void 0&&(p=1),a=Math.max(a,p),f.filter(m=>m.getIsVisible()).forEach(m=>{var h;(h=m.columns)!=null&&h.length&&i(m.columns,p+1)},0)};i(e);let l=[];const c=(f,p)=>{const m={depth:p,id:[r,`${p}`].filter(Boolean).join("_"),headers:[]},h=[];f.forEach(g=>{const v=[...h].reverse()[0],x=g.column.depth===m.depth;let $,C=!1;if(x&&g.column.parent?$=g.column.parent:($=g.column,C=!0),v&&v?.column===$)v.subHeaders.push(g);else{const M=cB(n,$,{id:[r,p,$.id,g?.id].filter(Boolean).join("_"),isPlaceholder:C,placeholderId:C?`${h.filter(I=>I.column===$).length}`:void 0,depth:p,index:h.length});M.subHeaders.push(g),h.push(M)}m.headers.push(g),g.headerGroup=m}),l.push(m),p>0&&c(h,p-1)},u=t.map((f,p)=>cB(n,f,{depth:a,index:p}));c(u,a-1),l.reverse();const d=f=>f.filter(m=>m.column.getIsVisible()).map(m=>{let h=0,g=0,v=[0];m.subHeaders&&m.subHeaders.length?(v=[],d(m.subHeaders).forEach($=>{let{colSpan:C,rowSpan:M}=$;h+=C,v.push(M)})):h=1;const x=Math.min(...v);return g=g+x,m.colSpan=h,m.rowSpan=g,{colSpan:h,rowSpan:g}});return d((o=(s=l[0])==null?void 0:s.headers)!=null?o:[]),l}const $M=(e,t,n,r,o,s,a)=>{let i={id:t,index:r,original:n,depth:o,parentId:a,_valuesCache:{},_uniqueValuesCache:{},getValue:l=>{if(i._valuesCache.hasOwnProperty(l))return i._valuesCache[l];const c=e.getColumn(l);if(c!=null&&c.accessorFn)return i._valuesCache[l]=c.accessorFn(i.original,r),i._valuesCache[l]},getUniqueValues:l=>{if(i._uniqueValuesCache.hasOwnProperty(l))return i._uniqueValuesCache[l];const c=e.getColumn(l);if(c!=null&&c.accessorFn)return c.columnDef.getUniqueValues?(i._uniqueValuesCache[l]=c.columnDef.getUniqueValues(i.original,r),i._uniqueValuesCache[l]):(i._uniqueValuesCache[l]=[i.getValue(l)],i._uniqueValuesCache[l])},renderValue:l=>{var c;return(c=i.getValue(l))!=null?c:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>d$e(i.subRows,l=>l.subRows),getParentRow:()=>i.parentId?e.getRow(i.parentId,!0):void 0,getParentRows:()=>{let l=[],c=i;for(;;){const u=c.getParentRow();if(!u)break;l.push(u),c=u}return l.reverse()},getAllCells:At(()=>[e.getAllLeafColumns()],l=>l.map(c=>f$e(e,i,c,c.id)),Tt(e.options,"debugRows")),_getAllCellsByColumnId:At(()=>[i.getAllCells()],l=>l.reduce((c,u)=>(c[u.column.id]=u,c),{}),Tt(e.options,"debugRows"))};for(let l=0;l<e._features.length;l++){const c=e._features[l];c==null||c.createRow==null||c.createRow(i,e)}return i},h$e={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},pV=(e,t,n)=>{var r,o;const s=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((o=e.getValue(t))==null||(o=o.toString())==null||(o=o.toLowerCase())==null)&&o.includes(s))};pV.autoRemove=e=>xa(e);const mV=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};mV.autoRemove=e=>xa(e);const hV=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===n?.toLowerCase()};hV.autoRemove=e=>xa(e);const gV=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};gV.autoRemove=e=>xa(e);const vV=(e,t,n)=>!n.some(r=>{var o;return!((o=e.getValue(t))!=null&&o.includes(r))});vV.autoRemove=e=>xa(e)||!(e!=null&&e.length);const yV=(e,t,n)=>n.some(r=>{var o;return(o=e.getValue(t))==null?void 0:o.includes(r)});yV.autoRemove=e=>xa(e)||!(e!=null&&e.length);const bV=(e,t,n)=>e.getValue(t)===n;bV.autoRemove=e=>xa(e);const xV=(e,t,n)=>e.getValue(t)==n;xV.autoRemove=e=>xa(e);const CM=(e,t,n)=>{let[r,o]=n;const s=e.getValue(t);return s>=r&&s<=o};CM.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,o=typeof n!="number"?parseFloat(n):n,s=t===null||Number.isNaN(r)?-1/0:r,a=n===null||Number.isNaN(o)?1/0:o;if(s>a){const i=s;s=a,a=i}return[s,a]};CM.autoRemove=e=>xa(e)||xa(e[0])&&xa(e[1]);const Li={includesString:pV,includesStringSensitive:mV,equalsString:hV,arrIncludes:gV,arrIncludesAll:vV,arrIncludesSome:yV,equals:bV,weakEquals:xV,inNumberRange:CM};function xa(e){return e==null||e===""}const g$e={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:Ns("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n?.getValue(e.id);return typeof r=="string"?Li.includesString:typeof r=="number"?Li.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?Li.equals:Array.isArray(r)?Li.arrIncludes:Li.weakEquals},e.getFilterFn=()=>{var n,r;return Vx(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:Li[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,o;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((o=t.options.enableFilters)!=null?o:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(o=>o.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const o=e.getFilterFn(),s=r?.find(u=>u.id===e.id),a=Fl(n,s?s.value:void 0);if(dB(o,a,e)){var i;return(i=r?.filter(u=>u.id!==e.id))!=null?i:[]}const l={id:e.id,value:a};if(s){var c;return(c=r?.map(u=>u.id===e.id?l:u))!=null?c:[]}return r!=null&&r.length?[...r,l]:[l]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=o=>{var s;return(s=Fl(t,o))==null?void 0:s.filter(a=>{const i=n.find(l=>l.id===a.id);if(i){const l=i.getFilterFn();if(dB(l,a.value,i))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function dB(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const v$e=(e,t,n)=>n.reduce((r,o)=>{const s=o.getValue(e);return r+(typeof s=="number"?s:0)},0),y$e=(e,t,n)=>{let r;return n.forEach(o=>{const s=o.getValue(e);s!=null&&(r>s||r===void 0&&s>=s)&&(r=s)}),r},b$e=(e,t,n)=>{let r;return n.forEach(o=>{const s=o.getValue(e);s!=null&&(r<s||r===void 0&&s>=s)&&(r=s)}),r},x$e=(e,t,n)=>{let r,o;return n.forEach(s=>{const a=s.getValue(e);a!=null&&(r===void 0?a>=a&&(r=o=a):(r>a&&(r=a),o<a&&(o=a)))}),[r,o]},w$e=(e,t)=>{let n=0,r=0;if(t.forEach(o=>{let s=o.getValue(e);s!=null&&(s=+s)>=s&&(++n,r+=s)}),n)return r/n},k$e=(e,t)=>{if(!t.length)return;const n=t.map(s=>s.getValue(e));if(!c$e(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),o=n.sort((s,a)=>s-a);return n.length%2!==0?o[r]:(o[r-1]+o[r])/2},_$e=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),S$e=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,$$e=(e,t)=>t.length,W1={sum:v$e,min:y$e,max:b$e,extent:x$e,mean:w$e,median:k$e,unique:_$e,uniqueCount:S$e,count:$$e},C$e={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:Ns("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n?.getValue(e.id);if(typeof r=="number")return W1.sum;if(Object.prototype.toString.call(r)==="[object Date]")return W1.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return Vx(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:W1[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var o;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((o=n.subRows)!=null&&o.length)}}};function M$e(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(s=>!t.includes(s.id));return n==="remove"?r:[...t.map(s=>e.find(a=>a.id===s)).filter(Boolean),...r]}const A$e={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:Ns("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=At(n=>[Op(t,n)],n=>n.findIndex(r=>r.id===e.id),Tt(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=Op(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const o=Op(t,n);return((r=o[o.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=At(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>o=>{let s=[];if(!(t!=null&&t.length))s=o;else{const a=[...t],i=[...o];for(;i.length&&a.length;){const l=a.shift(),c=i.findIndex(u=>u.id===l);c>-1&&s.push(i.splice(c,1)[0])}s=[...s,...i]}return M$e(s,n,r)},Tt(e.options,"debugTable"))}},G1=()=>({left:[],right:[]}),T$e={getInitialState:e=>({columnPinning:G1(),...e}),getDefaultOptions:e=>({onColumnPinningChange:Ns("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(o=>o.id).filter(Boolean);t.setColumnPinning(o=>{var s,a;if(n==="right"){var i,l;return{left:((i=o?.left)!=null?i:[]).filter(d=>!(r!=null&&r.includes(d))),right:[...((l=o?.right)!=null?l:[]).filter(d=>!(r!=null&&r.includes(d))),...r]}}if(n==="left"){var c,u;return{left:[...((c=o?.left)!=null?c:[]).filter(d=>!(r!=null&&r.includes(d))),...r],right:((u=o?.right)!=null?u:[]).filter(d=>!(r!=null&&r.includes(d)))}}return{left:((s=o?.left)!=null?s:[]).filter(d=>!(r!=null&&r.includes(d))),right:((a=o?.right)!=null?a:[]).filter(d=>!(r!=null&&r.includes(d)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var o,s,a;return((o=r.columnDef.enablePinning)!=null?o:!0)&&((s=(a=t.options.enableColumnPinning)!=null?a:t.options.enablePinning)!=null?s:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(i=>i.id),{left:r,right:o}=t.getState().columnPinning,s=n.some(i=>r?.includes(i)),a=n.some(i=>o?.includes(i));return s?"left":a?"right":!1},e.getPinnedIndex=()=>{var n,r;const o=e.getIsPinned();return o?(n=(r=t.getState().columnPinning)==null||(r=r[o])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=At(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,o)=>{const s=[...r??[],...o??[]];return n.filter(a=>!s.includes(a.column.id))},Tt(t.options,"debugRows")),e.getLeftVisibleCells=At(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(s=>n.find(a=>a.column.id===s)).filter(Boolean).map(s=>({...s,position:"left"})),Tt(t.options,"debugRows")),e.getRightVisibleCells=At(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(s=>n.find(a=>a.column.id===s)).filter(Boolean).map(s=>({...s,position:"right"})),Tt(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?G1():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:G1())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var o,s;return!!((o=r.left)!=null&&o.length||(s=r.right)!=null&&s.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=At(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(o=>o.id===r)).filter(Boolean),Tt(e.options,"debugColumns")),e.getRightLeafColumns=At(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(o=>o.id===r)).filter(Boolean),Tt(e.options,"debugColumns")),e.getCenterLeafColumns=At(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const o=[...n??[],...r??[]];return t.filter(s=>!o.includes(s.id))},Tt(e.options,"debugColumns"))}};function E$e(e){return e||(typeof document<"u"?document:null)}const dv={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},J1=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),I$e={getDefaultColumnDef:()=>dv,getInitialState:e=>({columnSizing:{},columnSizingInfo:J1(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Ns("columnSizing",e),onColumnSizingInfoChange:Ns("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,o;const s=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:dv.minSize,(r=s??e.columnDef.size)!=null?r:dv.size),(o=e.columnDef.maxSize)!=null?o:dv.maxSize)},e.getStart=At(n=>[n,Op(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((o,s)=>o+s.getSize(),0),Tt(t.options,"debugColumns")),e.getAfter=At(n=>[n,Op(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((o,s)=>o+s.getSize(),0),Tt(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...o}=n;return o})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=o=>{if(o.subHeaders.length)o.subHeaders.forEach(r);else{var s;n+=(s=o.column.getSize())!=null?s:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),o=r?.getCanResize();return s=>{if(!r||!o||(s.persist==null||s.persist(),Y1(s)&&s.touches&&s.touches.length>1))return;const a=e.getSize(),i=e?e.getLeafHeaders().map(v=>[v.column.id,v.column.getSize()]):[[r.id,r.getSize()]],l=Y1(s)?Math.round(s.touches[0].clientX):s.clientX,c={},u=(v,x)=>{typeof x=="number"&&(t.setColumnSizingInfo($=>{var C,M;const I=t.options.columnResizeDirection==="rtl"?-1:1,E=(x-((C=$?.startOffset)!=null?C:0))*I,P=Math.max(E/((M=$?.startSize)!=null?M:0),-.999999);return $.columnSizingStart.forEach(O=>{let[D,L]=O;c[D]=Math.round(Math.max(L+L*P,0)*100)/100}),{...$,deltaOffset:E,deltaPercentage:P}}),(t.options.columnResizeMode==="onChange"||v==="end")&&t.setColumnSizing($=>({...$,...c})))},d=v=>u("move",v),f=v=>{u("end",v),t.setColumnSizingInfo(x=>({...x,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},p=E$e(n),m={moveHandler:v=>d(v.clientX),upHandler:v=>{p?.removeEventListener("mousemove",m.moveHandler),p?.removeEventListener("mouseup",m.upHandler),f(v.clientX)}},h={moveHandler:v=>(v.cancelable&&(v.preventDefault(),v.stopPropagation()),d(v.touches[0].clientX),!1),upHandler:v=>{var x;p?.removeEventListener("touchmove",h.moveHandler),p?.removeEventListener("touchend",h.upHandler),v.cancelable&&(v.preventDefault(),v.stopPropagation()),f((x=v.touches[0])==null?void 0:x.clientX)}},g=P$e()?{passive:!1}:!1;Y1(s)?(p?.addEventListener("touchmove",h.moveHandler,g),p?.addEventListener("touchend",h.upHandler,g)):(p?.addEventListener("mousemove",m.moveHandler,g),p?.addEventListener("mouseup",m.upHandler,g)),t.setColumnSizingInfo(v=>({...v,startOffset:l,startSize:a,deltaOffset:0,deltaPercentage:0,columnSizingStart:i,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?J1():(n=e.initialState.columnSizingInfo)!=null?n:J1())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0}}};let fv=null;function P$e(){if(typeof fv=="boolean")return fv;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return fv=e,fv}function Y1(e){return e.type==="touchstart"}const O$e={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:Ns("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const o=e.columns;return(n=o.length?o.some(s=>s.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=At(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),Tt(t.options,"debugRows")),e.getVisibleCells=At(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,o)=>[...n,...r,...o],Tt(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>At(()=>[r(),r().filter(o=>o.getIsVisible()).map(o=>o.id).join("_")],o=>o.filter(s=>s.getIsVisible==null?void 0:s.getIsVisible()),Tt(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((o,s)=>({...o,[s.id]:n||!(s.getCanHide!=null&&s.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function Op(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const R$e={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},B$e={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:Ns("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,o,s;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((o=t.options.enableFilters)!=null?o:!0)&&((s=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?s:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Li.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return Vx(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:Li[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},N$e={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:Ns("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,o;if(!t){e._queue(()=>{t=!0});return}if((r=(o=e.options.autoResetAll)!=null?o:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var o,s;e.setExpanded(r?{}:(o=(s=e.initialState)==null?void 0:s.expanded)!=null?o:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(o=>!o.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(s=>{const a=s.split(".");r=Math.max(r,a.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var o;const s=r===!0?!0:!!(r!=null&&r[e.id]);let a={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(i=>{a[i]=!0}):a=r,n=(o=n)!=null?o:!s,!s&&n)return{...a,[e.id]:!0};if(s&&!n){const{[e.id]:i,...l}=a;return l}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r?.[e.id])},e.getCanExpand=()=>{var n,r,o;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((o=e.subRows)!=null&&o.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},g$=0,v$=10,Q1=()=>({pageIndex:g$,pageSize:v$}),D$e={getInitialState:e=>({...e,pagination:{...Q1(),...e?.pagination}}),getDefaultOptions:e=>({onPaginationChange:Ns("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,o;if(!t){e._queue(()=>{t=!0});return}if((r=(o=e.options.autoResetAll)!=null?o:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const o=s=>Fl(r,s);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(o)},e.resetPagination=r=>{var o;e.setPagination(r?Q1():(o=e.initialState.pagination)!=null?o:Q1())},e.setPageIndex=r=>{e.setPagination(o=>{let s=Fl(r,o.pageIndex);const a=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return s=Math.max(0,Math.min(s,a)),{...o,pageIndex:s}})},e.resetPageIndex=r=>{var o,s;e.setPageIndex(r?g$:(o=(s=e.initialState)==null||(s=s.pagination)==null?void 0:s.pageIndex)!=null?o:g$)},e.resetPageSize=r=>{var o,s;e.setPageSize(r?v$:(o=(s=e.initialState)==null||(s=s.pagination)==null?void 0:s.pageSize)!=null?o:v$)},e.setPageSize=r=>{e.setPagination(o=>{const s=Math.max(1,Fl(r,o.pageSize)),a=o.pageSize*o.pageIndex,i=Math.floor(a/s);return{...o,pageIndex:i,pageSize:s}})},e.setPageCount=r=>e.setPagination(o=>{var s;let a=Fl(r,(s=e.options.pageCount)!=null?s:-1);return typeof a=="number"&&(a=Math.max(-1,a)),{...o,pageCount:a}}),e.getPageOptions=At(()=>[e.getPageCount()],r=>{let o=[];return r&&r>0&&(o=[...new Array(r)].fill(null).map((s,a)=>a)),o},Tt(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,o=e.getPageCount();return o===-1?!0:o===0?!1:r<o-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},X1=()=>({top:[],bottom:[]}),F$e={getInitialState:e=>({rowPinning:X1(),...e}),getDefaultOptions:e=>({onRowPinningChange:Ns("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,o)=>{const s=r?e.getLeafRows().map(l=>{let{id:c}=l;return c}):[],a=o?e.getParentRows().map(l=>{let{id:c}=l;return c}):[],i=new Set([...a,e.id,...s]);t.setRowPinning(l=>{var c,u;if(n==="bottom"){var d,f;return{top:((d=l?.top)!=null?d:[]).filter(h=>!(i!=null&&i.has(h))),bottom:[...((f=l?.bottom)!=null?f:[]).filter(h=>!(i!=null&&i.has(h))),...Array.from(i)]}}if(n==="top"){var p,m;return{top:[...((p=l?.top)!=null?p:[]).filter(h=>!(i!=null&&i.has(h))),...Array.from(i)],bottom:((m=l?.bottom)!=null?m:[]).filter(h=>!(i!=null&&i.has(h)))}}return{top:((c=l?.top)!=null?c:[]).filter(h=>!(i!=null&&i.has(h))),bottom:((u=l?.bottom)!=null?u:[]).filter(h=>!(i!=null&&i.has(h)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:o}=t.options;return typeof r=="function"?r(e):(n=r??o)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:o}=t.getState().rowPinning,s=n.some(i=>r?.includes(i)),a=n.some(i=>o?.includes(i));return s?"top":a?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const o=e.getIsPinned();if(!o)return-1;const s=(n=o==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(a=>{let{id:i}=a;return i});return(r=s?.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?X1():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:X1())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var o,s;return!!((o=r.top)!=null&&o.length||(s=r.bottom)!=null&&s.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=(t,n,r)=>{var o;return((o=e.options.keepPinnedRows)==null||o?(n??[]).map(a=>{const i=e.getRow(a,!0);return i.getIsAllParentsExpanded()?i:null}):(n??[]).map(a=>t.find(i=>i.id===a))).filter(Boolean).map(a=>({...a,position:r}))},e.getTopRows=At(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),Tt(e.options,"debugRows")),e.getBottomRows=At(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),Tt(e.options,"debugRows")),e.getCenterRows=At(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const o=new Set([...n??[],...r??[]]);return t.filter(s=>!o.has(s.id))},Tt(e.options,"debugRows"))}},q$e={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:Ns("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},o=e.getPreGroupedRowModel().flatRows;return t?o.forEach(s=>{s.getCanSelect()&&(r[s.id]=!0)}):o.forEach(s=>{delete r[s.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),o={...n};return e.getRowModel().rows.forEach(s=>{y$(o,s.id,r,!0,e)}),o}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=At(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?Z1(e,n):{rows:[],flatRows:[],rowsById:{}},Tt(e.options,"debugTable")),e.getFilteredSelectedRowModel=At(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?Z1(e,n):{rows:[],flatRows:[],rowsById:{}},Tt(e.options,"debugTable")),e.getGroupedSelectedRowModel=At(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?Z1(e,n):{rows:[],flatRows:[],rowsById:{}},Tt(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(o=>o.getCanSelect()&&!n[o.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(o=>o.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(o=>!n[o.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const o=e.getIsSelected();t.setRowSelection(s=>{var a;if(n=typeof n<"u"?n:!o,e.getCanSelect()&&o===n)return s;const i={...s};return y$(i,e.id,n,(a=r?.selectChildren)!=null?a:!0,t),i})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return MM(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return b$(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return b$(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var o;n&&e.toggleSelected((o=r.target)==null?void 0:o.checked)}}}},y$=(e,t,n,r,o)=>{var s;const a=o.getRow(t,!0);n?(a.getCanMultiSelect()||Object.keys(e).forEach(i=>delete e[i]),a.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(s=a.subRows)!=null&&s.length&&a.getCanSelectSubRows()&&a.subRows.forEach(i=>y$(e,i.id,n,r,o))};function Z1(e,t){const n=e.getState().rowSelection,r=[],o={},s=function(a,i){return a.map(l=>{var c;const u=MM(l,n);if(u&&(r.push(l),o[l.id]=l),(c=l.subRows)!=null&&c.length&&(l={...l,subRows:s(l.subRows)}),u)return l}).filter(Boolean)};return{rows:s(t.rows),flatRows:r,rowsById:o}}function MM(e,t){var n;return(n=t[e.id])!=null?n:!1}function b$(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let o=!0,s=!1;return e.subRows.forEach(a=>{if(!(s&&!o)&&(a.getCanSelect()&&(MM(a,t)?s=!0:o=!1),a.subRows&&a.subRows.length)){const i=b$(a,t);i==="all"?s=!0:(i==="some"&&(s=!0),o=!1)}}),o?"all":s?"some":!1}const x$=/([0-9]+)/gm,z$e=(e,t,n)=>wV(Zl(e.getValue(n)).toLowerCase(),Zl(t.getValue(n)).toLowerCase()),L$e=(e,t,n)=>wV(Zl(e.getValue(n)),Zl(t.getValue(n))),j$e=(e,t,n)=>AM(Zl(e.getValue(n)).toLowerCase(),Zl(t.getValue(n)).toLowerCase()),V$e=(e,t,n)=>AM(Zl(e.getValue(n)),Zl(t.getValue(n))),U$e=(e,t,n)=>{const r=e.getValue(n),o=t.getValue(n);return r>o?1:r<o?-1:0},K$e=(e,t,n)=>AM(e.getValue(n),t.getValue(n));function AM(e,t){return e===t?0:e>t?1:-1}function Zl(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function wV(e,t){const n=e.split(x$).filter(Boolean),r=t.split(x$).filter(Boolean);for(;n.length&&r.length;){const o=n.shift(),s=r.shift(),a=parseInt(o,10),i=parseInt(s,10),l=[a,i].sort();if(isNaN(l[0])){if(o>s)return 1;if(s>o)return-1;continue}if(isNaN(l[1]))return isNaN(a)?-1:1;if(a>i)return 1;if(i>a)return-1}return n.length-r.length}const ap={alphanumeric:z$e,alphanumericCaseSensitive:L$e,text:j$e,textCaseSensitive:V$e,datetime:U$e,basic:K$e},H$e={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:Ns("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const o of n){const s=o?.getValue(e.id);if(Object.prototype.toString.call(s)==="[object Date]")return ap.datetime;if(typeof s=="string"&&(r=!0,s.split(x$).length>1))return ap.alphanumeric}return r?ap.text:ap.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof n?.getValue(e.id)=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return Vx(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:ap[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const o=e.getNextSortingOrder(),s=typeof n<"u"&&n!==null;t.setSorting(a=>{const i=a?.find(p=>p.id===e.id),l=a?.findIndex(p=>p.id===e.id);let c=[],u,d=s?n:o==="desc";if(a!=null&&a.length&&e.getCanMultiSort()&&r?i?u="toggle":u="add":a!=null&&a.length&&l!==a.length-1?u="replace":i?u="toggle":u="replace",u==="toggle"&&(s||o||(u="remove")),u==="add"){var f;c=[...a,{id:e.id,desc:d}],c.splice(0,c.length-((f=t.options.maxMultiSortColCount)!=null?f:Number.MAX_SAFE_INTEGER))}else u==="toggle"?c=a.map(p=>p.id===e.id?{...p,desc:d}:p):u==="remove"?c=a.filter(p=>p.id!==e.id):c=[{id:e.id,desc:d}];return c})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,o;const s=e.getFirstSortDir(),a=e.getIsSorted();return a?a!==s&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(o=t.options.enableMultiRemove)!=null)||o)?!1:a==="desc"?"asc":"desc":s},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(o=>o.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(o=>o.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},W$e=[m$e,O$e,A$e,T$e,h$e,g$e,R$e,B$e,H$e,C$e,N$e,D$e,F$e,q$e,I$e];function G$e(e){var t,n;const r=[...W$e,...(t=e._features)!=null?t:[]];let o={_features:r};const s=o._features.reduce((f,p)=>Object.assign(f,p.getDefaultOptions==null?void 0:p.getDefaultOptions(o)),{}),a=f=>o.options.mergeOptions?o.options.mergeOptions(s,f):{...s,...f};let l={...{},...(n=e.initialState)!=null?n:{}};o._features.forEach(f=>{var p;l=(p=f.getInitialState==null?void 0:f.getInitialState(l))!=null?p:l});const c=[];let u=!1;const d={_features:r,options:{...s,...e},initialState:l,_queue:f=>{c.push(f),u||(u=!0,Promise.resolve().then(()=>{for(;c.length;)c.shift()();u=!1}).catch(p=>setTimeout(()=>{throw p})))},reset:()=>{o.setState(o.initialState)},setOptions:f=>{const p=Fl(f,o.options);o.options=a(p)},getState:()=>o.options.state,setState:f=>{o.options.onStateChange==null||o.options.onStateChange(f)},_getRowId:(f,p,m)=>{var h;return(h=o.options.getRowId==null?void 0:o.options.getRowId(f,p,m))!=null?h:`${m?[m.id,p].join("."):p}`},getCoreRowModel:()=>(o._getCoreRowModel||(o._getCoreRowModel=o.options.getCoreRowModel(o)),o._getCoreRowModel()),getRowModel:()=>o.getPaginationRowModel(),getRow:(f,p)=>{let m=(p?o.getPrePaginationRowModel():o.getRowModel()).rowsById[f];if(!m&&(m=o.getCoreRowModel().rowsById[f],!m))throw new Error;return m},_getDefaultColumnDef:At(()=>[o.options.defaultColumn],f=>{var p;return f=(p=f)!=null?p:{},{header:m=>{const h=m.header.column.columnDef;return h.accessorKey?h.accessorKey:h.accessorFn?h.id:null},cell:m=>{var h,g;return(h=(g=m.renderValue())==null||g.toString==null?void 0:g.toString())!=null?h:null},...o._features.reduce((m,h)=>Object.assign(m,h.getDefaultColumnDef==null?void 0:h.getDefaultColumnDef()),{}),...f}},Tt(e,"debugColumns")),_getColumnDefs:()=>o.options.columns,getAllColumns:At(()=>[o._getColumnDefs()],f=>{const p=function(m,h,g){return g===void 0&&(g=0),m.map(v=>{const x=p$e(o,v,g,h),$=v;return x.columns=$.columns?p($.columns,x,g+1):[],x})};return p(f)},Tt(e,"debugColumns")),getAllFlatColumns:At(()=>[o.getAllColumns()],f=>f.flatMap(p=>p.getFlatColumns()),Tt(e,"debugColumns")),_getAllFlatColumnsById:At(()=>[o.getAllFlatColumns()],f=>f.reduce((p,m)=>(p[m.id]=m,p),{}),Tt(e,"debugColumns")),getAllLeafColumns:At(()=>[o.getAllColumns(),o._getOrderColumnsFn()],(f,p)=>{let m=f.flatMap(h=>h.getLeafColumns());return p(m)},Tt(e,"debugColumns")),getColumn:f=>o._getAllFlatColumnsById()[f]};Object.assign(o,d);for(let f=0;f<o._features.length;f++){const p=o._features[f];p==null||p.createTable==null||p.createTable(o)}return o}function J$e(){return e=>At(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(o,s,a){s===void 0&&(s=0);const i=[];for(let c=0;c<o.length;c++){const u=$M(e,e._getRowId(o[c],c,a),o[c],c,s,void 0,a?.id);if(n.flatRows.push(u),n.rowsById[u.id]=u,i.push(u),e.options.getSubRows){var l;u.originalSubRows=e.options.getSubRows(o[c],c),(l=u.originalSubRows)!=null&&l.length&&(u.subRows=r(u.originalSubRows,s+1,u))}}return i};return n.rows=r(t),n},Tt(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function Y$e(){return e=>At(()=>[e.getState().expanded,e.getPreExpandedRowModel(),e.options.paginateExpandedRows],(t,n,r)=>!n.rows.length||t!==!0&&!Object.keys(t??{}).length||!r?n:Q$e(n),Tt(e.options,"debugTable"))}function Q$e(e){const t=[],n=r=>{var o;t.push(r),(o=r.subRows)!=null&&o.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function X$e(e,t,n){return n.options.filterFromLeafRows?Z$e(e,t,n):eCe(e,t,n)}function Z$e(e,t,n){var r;const o=[],s={},a=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,i=function(l,c){c===void 0&&(c=0);const u=[];for(let f=0;f<l.length;f++){var d;let p=l[f];const m=$M(n,p.id,p.original,p.index,p.depth,void 0,p.parentId);if(m.columnFilters=p.columnFilters,(d=p.subRows)!=null&&d.length&&c<a){if(m.subRows=i(p.subRows,c+1),p=m,t(p)&&!m.subRows.length){u.push(p),s[p.id]=p,o.push(p);continue}if(t(p)||m.subRows.length){u.push(p),s[p.id]=p,o.push(p);continue}}else p=m,t(p)&&(u.push(p),s[p.id]=p,o.push(p))}return u};return{rows:i(e),flatRows:o,rowsById:s}}function eCe(e,t,n){var r;const o=[],s={},a=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,i=function(l,c){c===void 0&&(c=0);const u=[];for(let f=0;f<l.length;f++){let p=l[f];if(t(p)){var d;if((d=p.subRows)!=null&&d.length&&c<a){const h=$M(n,p.id,p.original,p.index,p.depth,void 0,p.parentId);h.subRows=i(p.subRows,c+1),p=h}u.push(p),o.push(p),s[p.id]=p}}return u};return{rows:i(e),flatRows:o,rowsById:s}}function tCe(){return e=>At(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,r)=>{if(!t.rows.length||!(n!=null&&n.length)&&!r){for(let f=0;f<t.flatRows.length;f++)t.flatRows[f].columnFilters={},t.flatRows[f].columnFiltersMeta={};return t}const o=[],s=[];(n??[]).forEach(f=>{var p;const m=e.getColumn(f.id);if(!m)return;const h=m.getFilterFn();h&&o.push({id:f.id,filterFn:h,resolvedValue:(p=h.resolveFilterValue==null?void 0:h.resolveFilterValue(f.value))!=null?p:f.value})});const a=(n??[]).map(f=>f.id),i=e.getGlobalFilterFn(),l=e.getAllLeafColumns().filter(f=>f.getCanGlobalFilter());r&&i&&l.length&&(a.push("__global__"),l.forEach(f=>{var p;s.push({id:f.id,filterFn:i,resolvedValue:(p=i.resolveFilterValue==null?void 0:i.resolveFilterValue(r))!=null?p:r})}));let c,u;for(let f=0;f<t.flatRows.length;f++){const p=t.flatRows[f];if(p.columnFilters={},o.length)for(let m=0;m<o.length;m++){c=o[m];const h=c.id;p.columnFilters[h]=c.filterFn(p,h,c.resolvedValue,g=>{p.columnFiltersMeta[h]=g})}if(s.length){for(let m=0;m<s.length;m++){u=s[m];const h=u.id;if(u.filterFn(p,h,u.resolvedValue,g=>{p.columnFiltersMeta[h]=g})){p.columnFilters.__global__=!0;break}}p.columnFilters.__global__!==!0&&(p.columnFilters.__global__=!1)}}const d=f=>{for(let p=0;p<a.length;p++)if(f.columnFilters[a[p]]===!1)return!1;return!0};return X$e(t.rows,d,e)},Tt(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function nCe(){return e=>At(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,o=[],s=r.filter(l=>{var c;return(c=e.getColumn(l.id))==null?void 0:c.getCanSort()}),a={};s.forEach(l=>{const c=e.getColumn(l.id);c&&(a[l.id]={sortUndefined:c.columnDef.sortUndefined,invertSorting:c.columnDef.invertSorting,sortingFn:c.getSortingFn()})});const i=l=>{const c=l.map(u=>({...u}));return c.sort((u,d)=>{for(let p=0;p<s.length;p+=1){var f;const m=s[p],h=a[m.id],g=h.sortUndefined,v=(f=m?.desc)!=null?f:!1;let x=0;if(g){const $=u.getValue(m.id),C=d.getValue(m.id),M=$===void 0,I=C===void 0;if(M||I){if(g==="first")return M?-1:1;if(g==="last")return M?1:-1;x=M&&I?0:M?g:-g}}if(x===0&&(x=h.sortingFn(u,d,m.id)),x!==0)return v&&(x*=-1),h.invertSorting&&(x*=-1),x}return u.index-d.index}),c.forEach(u=>{var d;o.push(u),(d=u.subRows)!=null&&d.length&&(u.subRows=i(u.subRows))}),c};return{rows:i(n.rows),flatRows:o,rowsById:n.rowsById}},Tt(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}function pv(){return!0}const rCe=Symbol("merge-proxy"),oCe={get(e,t,n){return t===rCe?n:e.get(t)},has(e,t){return e.has(t)},set:pv,deleteProperty:pv,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:pv,deleteProperty:pv}},ownKeys(e){return e.keys()}};function e_(e){return"value"in e?e.value:e}function pp(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Proxy({get(r){for(let o=t.length-1;o>=0;o--){const s=e_(t[o])[r];if(s!==void 0)return s}},has(r){for(let o=t.length-1;o>=0;o--)if(r in e_(t[o]))return!0;return!1},keys(){const r=[];for(let o=0;o<t.length;o++)r.push(...Object.keys(e_(t[o])));return[...Array.from(new Set(r))]}},oCe)}const t_=le({props:["render","props"],setup:e=>()=>typeof e.render=="function"||typeof e.render=="object"?Or(e.render,e.props):e.render});function fB(e){return pp(e,{data:y(e.data)})}function sCe(e){const t=Zt(e.data),n=pp({state:{},onStateChange:()=>{},renderFallbackValue:null,mergeOptions(s,a){return t?{...s,...a}:pp(s,a)}},t?fB(e):e),r=G$e(n);if(t){const s=yr(e.data);He(s,()=>{r.setState(a=>({...a,data:s.value}))},{immediate:!0})}const o=K(r.initialState);return Cn(()=>{r.setOptions(s=>{var a;const i=new Proxy({},{get:(l,c)=>o.value[c]});return pp(s,t?fB(e):e,{state:pp(i,(a=e.state)!=null?a:{}),onStateChange:l=>{l instanceof Function?o.value=l(o.value):o.value=l,e.onStateChange==null||e.onStateChange(l)}})})}),r}const aCe={slots:{root:"relative overflow-auto",base:"min-w-full",caption:"sr-only",thead:"relative",tbody:"isolate [&>tr]:data-[selectable=true]:hover:bg-elevated/50 [&>tr]:data-[selectable=true]:focus-visible:outline-primary",tfoot:"relative",tr:"data-[selected=true]:bg-elevated/50",th:"px-4 py-3.5 text-sm text-highlighted text-left rtl:text-right font-semibold [&:has([role=checkbox])]:pe-0",td:"p-4 text-sm text-muted whitespace-nowrap [&:has([role=checkbox])]:pe-0",separator:"absolute z-1 left-0 w-full h-px bg-(--ui-border-accented)",empty:"py-6 text-center text-sm text-muted",loading:"py-6 text-center"},variants:{virtualize:{false:{base:"overflow-clip",tbody:"divide-y divide-default"}},pinned:{true:{th:"sticky bg-default/75 z-1",td:"sticky bg-default/75 z-1"}},sticky:{true:{thead:"sticky top-0 inset-x-0 bg-default/75 backdrop-blur z-1",tfoot:"sticky bottom-0 inset-x-0 bg-default/75 backdrop-blur z-1"},header:{thead:"sticky top-0 inset-x-0 bg-default/75 backdrop-blur z-1"},footer:{tfoot:"sticky bottom-0 inset-x-0 bg-default/75 backdrop-blur z-1"}},loading:{true:{thead:"after:absolute after:z-1 after:h-px"}},loadingAnimation:{carousel:"","carousel-inverse":"",swing:"",elastic:""},loadingColor:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""}},compoundVariants:[{loading:!0,loadingColor:"primary",class:{thead:"after:bg-primary"}},{loading:!0,loadingColor:"secondary",class:{thead:"after:bg-secondary"}},{loading:!0,loadingColor:"success",class:{thead:"after:bg-success"}},{loading:!0,loadingColor:"info",class:{thead:"after:bg-info"}},{loading:!0,loadingColor:"warning",class:{thead:"after:bg-warning"}},{loading:!0,loadingColor:"error",class:{thead:"after:bg-error"}},{loading:!0,loadingColor:"neutral",class:{thead:"after:bg-inverted"}},{loading:!0,loadingAnimation:"carousel",class:{thead:"after:animate-[carousel_2s_ease-in-out_infinite] rtl:after:animate-[carousel-rtl_2s_ease-in-out_infinite]"}},{loading:!0,loadingAnimation:"carousel-inverse",class:{thead:"after:animate-[carousel-inverse_2s_ease-in-out_infinite] rtl:after:animate-[carousel-inverse-rtl_2s_ease-in-out_infinite]"}},{loading:!0,loadingAnimation:"swing",class:{thead:"after:animate-[swing_2s_ease-in-out_infinite]"}},{loading:!0,loadingAnimation:"elastic",class:{thead:"after:animate-[elastic_2s_ease-in-out_infinite]"}}],defaultVariants:{loadingColor:"primary",loadingAnimation:"carousel"}},iCe=["data-selected","data-selectable","data-expanded","role","tabindex","onClick","onPointerenter","onContextmenu"],lCe=["data-pinned","colspan","rowspan"],uCe=["colspan"],cCe=["data-pinned","scope","colspan","rowspan"],dCe={key:1},fCe=["colspan"],pCe={key:2},mCe=["colspan"],hCe=["data-pinned","colspan","rowspan"],xr=Object.assign({inheritAttrs:!1},{__name:"Table",props:bs({as:{type:null,required:!1},data:{type:Array,required:!1},columns:{type:Array,required:!1},caption:{type:String,required:!1},meta:{type:Object,required:!1},virtualize:{type:[Boolean,Object],required:!1,default:!1},empty:{type:String,required:!1},sticky:{type:[Boolean,String],required:!1},loading:{type:Boolean,required:!1},loadingColor:{type:null,required:!1},loadingAnimation:{type:null,required:!1},watchOptions:{type:Object,required:!1,default:()=>({deep:!0})},globalFilterOptions:{type:Object,required:!1},columnFiltersOptions:{type:Object,required:!1},columnPinningOptions:{type:Object,required:!1},columnSizingOptions:{type:Object,required:!1},visibilityOptions:{type:Object,required:!1},sortingOptions:{type:Object,required:!1},groupingOptions:{type:Object,required:!1},expandedOptions:{type:Object,required:!1},rowSelectionOptions:{type:Object,required:!1},rowPinningOptions:{type:Object,required:!1},paginationOptions:{type:Object,required:!1},facetedOptions:{type:Object,required:!1},onSelect:{type:Function,required:!1},onHover:{type:Function,required:!1},onContextmenu:{type:[Function,Array],required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},state:{type:Object,required:!1},onStateChange:{type:Function,required:!1},renderFallbackValue:{type:null,required:!1},_features:{type:Array,required:!1},autoResetAll:{type:Boolean,required:!1},debugAll:{type:Boolean,required:!1},debugCells:{type:Boolean,required:!1},debugColumns:{type:Boolean,required:!1},debugHeaders:{type:Boolean,required:!1},debugRows:{type:Boolean,required:!1},debugTable:{type:Boolean,required:!1},defaultColumn:{type:Object,required:!1},getRowId:{type:Function,required:!1},getSubRows:{type:Function,required:!1},initialState:{type:Object,required:!1},mergeOptions:{type:Function,required:!1}},{globalFilter:{type:String},globalFilterModifiers:{},columnFilters:{type:Array},columnFiltersModifiers:{},columnOrder:{type:Array},columnOrderModifiers:{},columnVisibility:{type:Object},columnVisibilityModifiers:{},columnPinning:{type:Object},columnPinningModifiers:{},columnSizing:{type:Object},columnSizingModifiers:{},columnSizingInfo:{type:Object},columnSizingInfoModifiers:{},rowSelection:{type:Object},rowSelectionModifiers:{},rowPinning:{type:Object},rowPinningModifiers:{},sorting:{type:Array},sortingModifiers:{},grouping:{type:Array},groupingModifiers:{},expanded:{type:[Boolean,Object]},expandedModifiers:{},pagination:{type:Object},paginationModifiers:{}}),emits:["update:globalFilter","update:columnFilters","update:columnOrder","update:columnVisibility","update:columnPinning","update:columnSizing","update:columnSizingInfo","update:rowSelection","update:rowPinning","update:sorting","update:grouping","update:expanded","update:pagination"],setup(e,{expose:t}){const n=e,r=rn(),{t:o}=oo(),s=Bt(),a=K(n.data??[]),i=H(()=>n.meta??{}),l=H(()=>c(n.columns??Object.keys(a.value[0]??{}).map(ce=>({accessorKey:ce,header:u$e(ce)}))));function c(ce){return ce.map(ve=>{const Ae={...ve};return"columns"in Ae&&Ae.columns&&(Ae.columns=c(Ae.columns)),Ae.cell||(Ae.cell=({getValue:pe})=>{const et=pe();return et===""||et===null||et===void 0?"":String(et)}),Ae})}const u=H(()=>Ye({extend:Ye(aCe),...s.ui?.table||{}})({sticky:n.virtualize?!1:n.sticky,loading:n.loading,loadingColor:n.loadingColor,loadingAnimation:n.loadingAnimation,virtualize:!!n.virtualize})),[d,f]=Rs(),[p,m]=Rs({props:{row:{type:Object,required:!0},style:{type:Object,required:!1}}}),h=H(()=>{function ce(ve){for(const Ae of ve)if("footer"in Ae||"columns"in Ae&&ce(Ae.columns))return!0;return!1}return ce(l.value)}),g=Yn(e,"globalFilter"),v=Yn(e,"columnFilters"),x=Yn(e,"columnOrder"),$=Yn(e,"columnVisibility"),C=Yn(e,"columnPinning"),M=Yn(e,"columnSizing"),I=Yn(e,"columnSizingInfo"),E=Yn(e,"rowSelection"),P=Yn(e,"rowPinning"),O=Yn(e,"sorting"),D=Yn(e,"grouping"),L=Yn(e,"expanded"),V=Yn(e,"pagination"),F=na("rootRef"),z=na("tableRef"),N=jn(Pn(n,"_features","autoResetAll","debugAll","debugCells","debugColumns","debugHeaders","debugRows","debugTable","defaultColumn","getRowId","getSubRows","initialState","mergeOptions","renderFallbackValue")),ee=sCe({...N.value,get data(){return a.value},get columns(){return l.value},meta:i.value,getCoreRowModel:J$e(),...n.globalFilterOptions||{},...g.value!==void 0&&{onGlobalFilterChange:ce=>we(ce,g)},...n.columnFiltersOptions||{},getFilteredRowModel:tCe(),...v.value!==void 0&&{onColumnFiltersChange:ce=>we(ce,v)},...x.value!==void 0&&{onColumnOrderChange:ce=>we(ce,x)},...n.visibilityOptions||{},...$.value!==void 0&&{onColumnVisibilityChange:ce=>we(ce,$)},...n.columnPinningOptions||{},...C.value!==void 0&&{onColumnPinningChange:ce=>we(ce,C)},...n.columnSizingOptions||{},...M.value!==void 0&&{onColumnSizingChange:ce=>we(ce,M)},...I.value!==void 0&&{onColumnSizingInfoChange:ce=>we(ce,I)},...n.rowSelectionOptions||{},...E.value!==void 0&&{onRowSelectionChange:ce=>we(ce,E)},...n.rowPinningOptions||{},...P.value!==void 0&&{onRowPinningChange:ce=>we(ce,P)},...n.sortingOptions||{},getSortedRowModel:nCe(),...O.value!==void 0&&{onSortingChange:ce=>we(ce,O)},...n.groupingOptions||{},...D.value!==void 0&&{onGroupingChange:ce=>we(ce,D)},...n.expandedOptions||{},getExpandedRowModel:Y$e(),...L.value!==void 0&&{onExpandedChange:ce=>we(ce,L)},...n.paginationOptions||{},...V.value!==void 0&&{onPaginationChange:ce=>we(ce,V)},...n.facetedOptions||{},state:{get globalFilter(){return g.value},get columnFilters(){return v.value},get columnOrder(){return x.value},get columnVisibility(){return $.value},get columnPinning(){return C.value},get expanded(){return L.value},get rowSelection(){return E.value},get sorting(){return O.value},get grouping(){return D.value},get rowPinning(){return P.value},get columnSizing(){return M.value},get columnSizingInfo(){return I.value},get pagination(){return V.value}}}),ne=H(()=>ee.getRowModel().rows),Y=Nt(()=>sr(typeof n.virtualize=="boolean"?{}:n.virtualize,{estimateSize:65,overscan:12})),Re=!!n.virtualize&&jz({...Y.value,get count(){return ne.value.length},getScrollElement:()=>F.value?.$el,estimateSize:ce=>{const ve=Y.value.estimateSize;return typeof ve=="function"?ve(ce):ve}}),fe=H(()=>{if(!Re)return 0;const ce=Re.value.getVirtualItems();return ce?.length?ce.reduce((ve,Ae)=>ve+Ae.size,0):0});function we(ce,ve){ve.value=typeof ce=="function"?ce(ve.value):ce}function ue(ce,ve){if(!n.onSelect)return;const Ae=ce.target;Ae.closest("button")||Ae.closest("a")||(ce.preventDefault(),ce.stopPropagation(),n.onSelect(ce,ve))}function Ne(ce,ve){n.onHover&&n.onHover(ce,ve)}function Xe(ce,ve){n.onContextmenu&&(Array.isArray(n.onContextmenu)?n.onContextmenu.forEach(Ae=>Ae(ce,ve)):n.onContextmenu(ce,ve))}function st(ce,ve){return typeof ce=="function"?ce(ve):ce}function it(ce){const ve={},Ae=ce.getIsPinned();return Ae==="left"?ve.left=`${ce.getStart("left")}px`:Ae==="right"&&(ve.right=`${ce.getAfter("right")}px`),ve}return He(()=>n.data,()=>{a.value=n.data?[...n.data]:[]},n.watchOptions),t({get $el(){return F.value?.$el},tableRef:z,tableApi:ee}),(ce,ve)=>(A(),W(Ee,null,[_(y(p),null,{default:S(({row:Ae,style:pe})=>[k("tr",{"data-selected":Ae.getIsSelected(),"data-selectable":!!n.onSelect||!!n.onHover||!!n.onContextmenu,"data-expanded":Ae.getIsExpanded(),role:n.onSelect?"button":void 0,tabindex:n.onSelect?0:void 0,"data-slot":"tr",class:Z(u.value.tr({class:[n.ui?.tr,st(y(ee).options.meta?.class?.tr,Ae)]})),style:Un([st(y(ee).options.meta?.style?.tr,Ae),pe]),onClick:et=>ue(et,Ae),onPointerenter:et=>Ne(et,Ae),onPointerleave:ve[0]||(ve[0]=et=>Ne(et,null)),onContextmenu:et=>Xe(et,Ae)},[(A(!0),W(Ee,null,Ve(Ae.getVisibleCells(),et=>(A(),W("td",{key:et.id,"data-pinned":et.column.getIsPinned(),colspan:st(et.column.columnDef.meta?.colspan?.td,et),rowspan:st(et.column.columnDef.meta?.rowspan?.td,et),"data-slot":"td",class:Z(u.value.td({class:[n.ui?.td,st(et.column.columnDef.meta?.class?.td,et)],pinned:!!et.column.getIsPinned()})),style:Un([it(et.column),st(et.column.columnDef.meta?.style?.td,et)])},[U(ce.$slots,`${et.column.id}-cell`,oe({ref_for:!0},et.getContext()),()=>[_(y(t_),{render:et.column.columnDef.cell,props:et.getContext()},null,8,["render","props"])])],14,lCe))),128))],46,iCe),Ae.getIsExpanded()?(A(),W("tr",{key:0,"data-slot":"tr",class:Z(u.value.tr({class:[n.ui?.tr]}))},[k("td",{colspan:Ae.getAllCells().length,"data-slot":"td",class:Z(u.value.td({class:[n.ui?.td]}))},[U(ce.$slots,"expanded",{row:Ae})],10,uCe)],2)):X("",!0)]),_:3}),_(y(d),null,{default:S(()=>[k("table",{ref_key:"tableRef",ref:z,"data-slot":"base",class:Z(u.value.base({class:[n.ui?.base]}))},[e.caption||r.caption?(A(),W("caption",{key:0,"data-slot":"caption",class:Z(u.value.caption({class:[n.ui?.caption]}))},[U(ce.$slots,"caption",{},()=>[J(q(e.caption),1)])],2)):X("",!0),k("thead",{"data-slot":"thead",class:Z(u.value.thead({class:[n.ui?.thead]}))},[(A(!0),W(Ee,null,Ve(y(ee).getHeaderGroups(),Ae=>(A(),W("tr",{key:Ae.id,"data-slot":"tr",class:Z(u.value.tr({class:[n.ui?.tr]}))},[(A(!0),W(Ee,null,Ve(Ae.headers,pe=>(A(),W("th",{key:pe.id,"data-pinned":pe.column.getIsPinned(),scope:pe.colSpan>1?"colgroup":"col",colspan:pe.colSpan>1?pe.colSpan:void 0,rowspan:pe.rowSpan>1?pe.rowSpan:void 0,"data-slot":"th",class:Z(u.value.th({class:[n.ui?.th,st(pe.column.columnDef.meta?.class?.th,pe)],pinned:!!pe.column.getIsPinned()})),style:Un([it(pe.column),st(pe.column.columnDef.meta?.style?.th,pe)])},[U(ce.$slots,`${pe.id}-header`,oe({ref_for:!0},pe.getContext()),()=>[pe.isPlaceholder?X("",!0):(A(),B(y(t_),{key:0,render:pe.column.columnDef.header,props:pe.getContext()},null,8,["render","props"]))])],14,cCe))),128))],2))),128)),k("tr",{"data-slot":"separator",class:Z(u.value.separator({class:[n.ui?.separator]}))},null,2)],2),k("tbody",{"data-slot":"tbody",class:Z(u.value.tbody({class:[n.ui?.tbody]}))},[U(ce.$slots,"body-top"),ne.value.length?(A(),W(Ee,{key:0},[y(Re)?(A(!0),W(Ee,{key:0},Ve(y(Re).getVirtualItems(),(Ae,pe)=>(A(),B(y(m),{key:ne.value[Ae.index]?.id,row:ne.value[Ae.index],style:Un({height:`${Ae.size}px`,transform:`translateY(${Ae.start-pe*Ae.size}px)`})},null,8,["row","style"]))),128)):(A(!0),W(Ee,{key:1},Ve(ne.value,Ae=>(A(),B(y(m),{key:Ae.id,row:Ae},null,8,["row"]))),128))],64)):e.loading&&r.loading?(A(),W("tr",dCe,[k("td",{colspan:y(ee).getAllLeafColumns().length,"data-slot":"loading",class:Z(u.value.loading({class:n.ui?.loading}))},[U(ce.$slots,"loading")],10,fCe)])):(A(),W("tr",pCe,[k("td",{colspan:y(ee).getAllLeafColumns().length,"data-slot":"empty",class:Z(u.value.empty({class:n.ui?.empty}))},[U(ce.$slots,"empty",{},()=>[J(q(e.empty||y(o)("table.noData")),1)])],10,mCe)])),U(ce.$slots,"body-bottom")],2),h.value?(A(),W("tfoot",{key:1,"data-slot":"tfoot",class:Z(u.value.tfoot({class:[n.ui?.tfoot]})),style:Un(y(Re)?{transform:`translateY(${y(Re).getTotalSize()-fe.value}px)`}:void 0)},[k("tr",{"data-slot":"separator",class:Z(u.value.separator({class:[n.ui?.separator]}))},null,2),(A(!0),W(Ee,null,Ve(y(ee).getFooterGroups(),Ae=>(A(),W("tr",{key:Ae.id,"data-slot":"tr",class:Z(u.value.tr({class:[n.ui?.tr]}))},[(A(!0),W(Ee,null,Ve(Ae.headers,pe=>(A(),W("th",{key:pe.id,"data-pinned":pe.column.getIsPinned(),colspan:pe.colSpan>1?pe.colSpan:void 0,rowspan:pe.rowSpan>1?pe.rowSpan:void 0,"data-slot":"th",class:Z(u.value.th({class:[n.ui?.th,st(pe.column.columnDef.meta?.class?.th,pe)],pinned:!!pe.column.getIsPinned()})),style:Un([it(pe.column),st(pe.column.columnDef.meta?.style?.th,pe)])},[U(ce.$slots,`${pe.id}-footer`,oe({ref_for:!0},pe.getContext()),()=>[pe.isPlaceholder?X("",!0):(A(),B(y(t_),{key:0,render:pe.column.columnDef.footer,props:pe.getContext()},null,8,["render","props"]))])],14,hCe))),128))],2))),128))],6)):X("",!0)],2)]),_:3}),_(y(Le),oe({ref_key:"rootRef",ref:F,as:e.as},ce.$attrs,{"data-slot":"root",class:u.value.root({class:[n.ui?.root,n.class]})}),{default:S(()=>[y(Re)?(A(),W("div",{key:0,style:Un({height:`${y(Re).getTotalSize()}px`})},[_(y(f))],4)):(A(),B(y(f),{key:1}))]),_:1},16,["as","class"])],64))}}),gCe={class:"max-w-md"},vCe={class:"font-medium"},yCe={class:"text-sm text-gray-500 dark:text-gray-400 mt-1 line-clamp-2"},bCe={class:"flex gap-1"},xCe={class:"flex justify-between items-center px-4 py-3 border-t border-default"},wCe={class:"text-sm text-muted"},kCe={__name:"Index",props:{faqs:Object},setup(e){const n=K(e.faqs.current_page),r=[{accessorKey:"question",header:"Pertanyaan & Jawaban"},{accessorKey:"order",header:"Urutan"},{accessorKey:"is_active",header:"Status"},{accessorKey:"actions",header:"Aksi"}];He(n,s=>{Qe.get("/dashboard/cms/faqs",{page:s},{preserveState:!0,replace:!0})});const o=s=>{confirm(`Yakin ingin menghapus FAQ: "${s.question}"?`)&&Qe.delete(`/dashboard/cms/faqs/${s.id}`)};return(s,a)=>{const i=We,l=pn,c=xr,u=Fr,d=ht;return A(),B($t,{title:"FAQ Management",heading:"Frequently Asked Questions",description:"Kelola pertanyaan yang sering diajukan","page-id":"cms-faqs"},{header:S(()=>[_(i,{color:"primary",icon:"i-lucide-plus",label:"Tambah FAQ",to:"/dashboard/cms/faqs/create"})]),default:S(()=>[_(d,null,{default:S(()=>[_(c,{data:e.faqs.data,columns:r,loading:!1},{"question-cell":S(({row:f})=>[k("div",gCe,[k("p",vCe,q(f.original.question),1),k("p",yCe,q(f.original.answer),1)])]),"order-cell":S(({row:f})=>[_(l,{color:"neutral",variant:"subtle"},{default:S(()=>[J(q(f.original.order),1)]),_:2},1024)]),"is_active-cell":S(({row:f})=>[_(l,{color:f.original.is_active?"success":"neutral",variant:"subtle"},{default:S(()=>[J(q(f.original.is_active?"Aktif":"Nonaktif"),1)]),_:2},1032,["color"])]),"actions-cell":S(({row:f})=>[k("div",bCe,[_(i,{color:"neutral",variant:"ghost",size:"xs",icon:"i-lucide-pencil",to:`/dashboard/cms/faqs/${f.original.id}/edit`},null,8,["to"]),_(i,{color:"error",variant:"ghost",size:"xs",icon:"i-lucide-trash-2",onClick:p=>o(f.original)},null,8,["onClick"])])]),_:1},8,["data"]),k("div",xCe,[k("span",wCe," Showing "+q(e.faqs.from)+" to "+q(e.faqs.to)+" of "+q(e.faqs.total)+" entries ",1),_(u,{modelValue:n.value,"onUpdate:modelValue":a[0]||(a[0]=f=>n.value=f),total:e.faqs.total,"page-count":e.faqs.per_page},null,8,["modelValue","total","page-count"])])]),_:1})]),_:1})}}},_Ce=Object.freeze(Object.defineProperty({__proto__:null,default:kCe},Symbol.toStringTag,{value:"Module"})),SCe={slots:{base:["relative group rounded-md inline-flex items-center focus:outline-none disabled:cursor-not-allowed disabled:opacity-75","transition-colors"],leading:"absolute inset-y-0 start-0 flex items-center",leadingIcon:"shrink-0 text-dimmed",leadingAvatar:"shrink-0",leadingAvatarSize:"",trailing:"absolute inset-y-0 end-0 flex items-center",trailingIcon:"shrink-0 text-dimmed",value:"truncate pointer-events-none",placeholder:"truncate text-dimmed",arrow:"fill-default",content:"max-h-60 w-(--reka-select-trigger-width) bg-default shadow-lg rounded-md ring ring-default overflow-hidden data-[state=open]:animate-[scale-in_100ms_ease-out] data-[state=closed]:animate-[scale-out_100ms_ease-in] origin-(--reka-select-content-transform-origin) pointer-events-auto flex flex-col",viewport:"relative divide-y divide-default scroll-py-1 overflow-y-auto flex-1",group:"p-1 isolate",empty:"text-center text-muted",label:"font-semibold text-highlighted",separator:"-mx-1 my-1 h-px bg-border",item:["group relative w-full flex items-start select-none outline-none before:absolute before:z-[-1] before:inset-px before:rounded-md data-disabled:cursor-not-allowed data-disabled:opacity-75 text-default data-highlighted:not-data-disabled:text-highlighted data-highlighted:not-data-disabled:before:bg-elevated/50","transition-colors before:transition-colors"],itemLeadingIcon:["shrink-0 text-dimmed group-data-highlighted:not-group-data-disabled:text-default","transition-colors"],itemLeadingAvatar:"shrink-0",itemLeadingAvatarSize:"",itemLeadingChip:"shrink-0",itemLeadingChipSize:"",itemTrailing:"ms-auto inline-flex gap-1.5 items-center",itemTrailingIcon:"shrink-0",itemWrapper:"flex-1 flex flex-col min-w-0",itemLabel:"truncate",itemDescription:"truncate text-muted"},variants:{fieldGroup:{horizontal:"not-only:first:rounded-e-none not-only:last:rounded-s-none not-last:not-first:rounded-none focus-visible:z-[1]",vertical:"not-only:first:rounded-b-none not-only:last:rounded-t-none not-last:not-first:rounded-none focus-visible:z-[1]"},size:{xs:{base:"px-2 py-1 text-xs gap-1",leading:"ps-2",trailing:"pe-2",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4",label:"p-1 text-[10px]/3 gap-1",item:"p-1 text-xs gap-1",itemLeadingIcon:"size-4",itemLeadingAvatarSize:"3xs",itemLeadingChip:"size-4",itemLeadingChipSize:"sm",itemTrailingIcon:"size-4",empty:"p-1 text-xs"},sm:{base:"px-2.5 py-1.5 text-xs gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4",label:"p-1.5 text-[10px]/3 gap-1.5",item:"p-1.5 text-xs gap-1.5",itemLeadingIcon:"size-4",itemLeadingAvatarSize:"3xs",itemLeadingChip:"size-4",itemLeadingChipSize:"sm",itemTrailingIcon:"size-4",empty:"p-1.5 text-xs"},md:{base:"px-2.5 py-1.5 text-sm gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5",label:"p-1.5 text-xs gap-1.5",item:"p-1.5 text-sm gap-1.5",itemLeadingIcon:"size-5",itemLeadingAvatarSize:"2xs",itemLeadingChip:"size-5",itemLeadingChipSize:"md",itemTrailingIcon:"size-5",empty:"p-1.5 text-sm"},lg:{base:"px-3 py-2 text-sm gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5",label:"p-2 text-xs gap-2",item:"p-2 text-sm gap-2",itemLeadingIcon:"size-5",itemLeadingAvatarSize:"2xs",itemLeadingChip:"size-5",itemLeadingChipSize:"md",itemTrailingIcon:"size-5",empty:"p-2 text-sm"},xl:{base:"px-3 py-2 text-base gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-6",leadingAvatarSize:"xs",trailingIcon:"size-6",label:"p-2 text-sm gap-2",item:"p-2 text-base gap-2",itemLeadingIcon:"size-6",itemLeadingAvatarSize:"xs",itemLeadingChip:"size-6",itemLeadingChipSize:"lg",itemTrailingIcon:"size-6",empty:"p-2 text-base"}},variant:{outline:"text-highlighted bg-default ring ring-inset ring-accented",soft:"text-highlighted bg-elevated/50 hover:bg-elevated focus:bg-elevated disabled:bg-elevated/50",subtle:"text-highlighted bg-elevated ring ring-inset ring-accented",ghost:"text-highlighted bg-transparent hover:bg-elevated focus:bg-elevated disabled:bg-transparent dark:disabled:bg-transparent",none:"text-highlighted bg-transparent"},color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},leading:{true:""},trailing:{true:""},loading:{true:""},highlight:{true:""},type:{file:"file:me-1.5 file:font-medium file:text-muted file:outline-none"}},compoundVariants:[{color:"primary",variant:["outline","subtle"],class:"focus:ring-2 focus:ring-inset focus:ring-primary"},{color:"secondary",variant:["outline","subtle"],class:"focus:ring-2 focus:ring-inset focus:ring-secondary"},{color:"success",variant:["outline","subtle"],class:"focus:ring-2 focus:ring-inset focus:ring-success"},{color:"info",variant:["outline","subtle"],class:"focus:ring-2 focus:ring-inset focus:ring-info"},{color:"warning",variant:["outline","subtle"],class:"focus:ring-2 focus:ring-inset focus:ring-warning"},{color:"error",variant:["outline","subtle"],class:"focus:ring-2 focus:ring-inset focus:ring-error"},{color:"primary",highlight:!0,class:"ring ring-inset ring-primary"},{color:"secondary",highlight:!0,class:"ring ring-inset ring-secondary"},{color:"success",highlight:!0,class:"ring ring-inset ring-success"},{color:"info",highlight:!0,class:"ring ring-inset ring-info"},{color:"warning",highlight:!0,class:"ring ring-inset ring-warning"},{color:"error",highlight:!0,class:"ring ring-inset ring-error"},{color:"neutral",variant:["outline","subtle"],class:"focus:ring-2 focus:ring-inset focus:ring-inverted"},{color:"neutral",highlight:!0,class:"ring ring-inset ring-inverted"},{leading:!0,size:"xs",class:"ps-7"},{leading:!0,size:"sm",class:"ps-8"},{leading:!0,size:"md",class:"ps-9"},{leading:!0,size:"lg",class:"ps-10"},{leading:!0,size:"xl",class:"ps-11"},{trailing:!0,size:"xs",class:"pe-7"},{trailing:!0,size:"sm",class:"pe-8"},{trailing:!0,size:"md",class:"pe-9"},{trailing:!0,size:"lg",class:"pe-10"},{trailing:!0,size:"xl",class:"pe-11"},{loading:!0,leading:!0,class:{leadingIcon:"animate-spin"}},{loading:!0,leading:!1,trailing:!0,class:{trailingIcon:"animate-spin"}}],defaultVariants:{size:"md",color:"primary",variant:"outline"}},er=Object.assign({inheritAttrs:!1},{__name:"Select",props:{id:{type:String,required:!1},placeholder:{type:String,required:!1},color:{type:null,required:!1},variant:{type:null,required:!1},size:{type:null,required:!1},trailingIcon:{type:null,required:!1},selectedIcon:{type:null,required:!1},content:{type:Object,required:!1},arrow:{type:[Boolean,Object],required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0,default:!0},valueKey:{type:null,required:!1,default:"value"},labelKey:{type:null,required:!1,default:"label"},descriptionKey:{type:null,required:!1,default:"description"},items:{type:null,required:!1},defaultValue:{type:null,required:!1},modelValue:{type:null,required:!1},modelModifiers:{type:Object,required:!1},multiple:{type:Boolean,required:!1},highlight:{type:Boolean,required:!1},autofocus:{type:Boolean,required:!1},autofocusDelay:{type:Number,required:!1,default:0},class:{type:null,required:!1},ui:{type:null,required:!1},open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1},autocomplete:{type:String,required:!1},disabled:{type:Boolean,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1},icon:{type:null,required:!1},avatar:{type:Object,required:!1},leading:{type:Boolean,required:!1},leadingIcon:{type:null,required:!1},trailing:{type:Boolean,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:null,required:!1}},emits:["update:open","change","blur","focus","update:modelValue"],setup(e,{expose:t,emit:n}){const r=e,o=n,s=rn(),a=Bt(),i=fn(Pn(r,"open","defaultOpen","disabled","autocomplete","required","multiple"),o),l=ll(Nt(()=>r.portal)),c=Nt(()=>sr(r.content,{side:"bottom",sideOffset:8,collisionPadding:8,position:"popper"})),u=Nt(()=>r.arrow),{emitFormChange:d,emitFormInput:f,emitFormBlur:p,emitFormFocus:m,size:h,color:g,id:v,name:x,highlight:$,disabled:C,ariaAttrs:M}=jc(r),{orientation:I,size:E}=Ph(r),{isLeading:P,isTrailing:O,leadingIconName:D,trailingIconName:L}=xf(Nt(()=>sr(r,{trailingIcon:a.ui.icons.chevronDown}))),V=H(()=>E.value||h.value),F=H(()=>Ye({extend:Ye(SCe),...a.ui?.select||{}})({color:g.value,variant:r.variant,size:V?.value,loading:r.loading,highlight:$.value,leading:P.value||!!r.avatar||!!s.leading,trailing:O.value||!!s.trailing,fieldGroup:I.value})),z=H(()=>r.items?.length?Sx(r.items)?r.items:[r.items]:[]),N=H(()=>z.value.flatMap(ue=>ue));function ee(ue){if(r.multiple&&Array.isArray(ue)){const Ne=ue.map(Xe=>lb(N.value,Xe,{labelKey:r.labelKey,valueKey:r.valueKey})).filter(Xe=>Xe!=null&&Xe!=="");return Ne.length>0?Ne.join(", "):void 0}return lb(N.value,ue,{labelKey:r.labelKey,valueKey:r.valueKey})}const ne=na("triggerRef");function Y(){r.autofocus&&ne.value?.$el?.focus({focusVisible:!0})}wt(()=>{setTimeout(()=>{Y()},r.autofocusDelay)});function Re(ue){r.modelModifiers?.trim&&(ue=ue?.trim()??null),r.modelModifiers?.number&&(ue=_x(ue)),r.modelModifiers?.nullable&&(ue??=null),r.modelModifiers?.optional&&(ue??=void 0);const Ne=new Event("change",{target:{value:ue}});o("change",Ne),d(),f()}function fe(ue){if(ue){const Ne=new FocusEvent("focus");o("focus",Ne),m()}else{const Ne=new FocusEvent("blur");o("blur",Ne),p()}}function we(ue){return typeof ue=="object"&&ue!==null}return t({triggerRef:Nt(()=>ne.value?.$el)}),(ue,Ne)=>(A(),B(y(Uie),oe({name:y(x)},y(i),{autocomplete:e.autocomplete,disabled:y(C),"default-value":e.defaultValue,"model-value":e.modelValue,"onUpdate:modelValue":Re,"onUpdate:open":fe}),{default:S(({modelValue:Xe,open:st})=>[_(y($le),oe({id:y(v),ref_key:"triggerRef",ref:ne,"data-slot":"base",class:F.value.base({class:[r.ui?.base,r.class]})},{...ue.$attrs,...y(M)}),{default:S(()=>[y(P)||e.avatar||s.leading?(A(),W("span",{key:0,"data-slot":"leading",class:Z(F.value.leading({class:r.ui?.leading}))},[U(ue.$slots,"leading",{modelValue:Xe,open:st,ui:F.value},()=>[y(P)&&y(D)?(A(),B(tt,{key:0,name:y(D),"data-slot":"leadingIcon",class:Z(F.value.leadingIcon({class:r.ui?.leadingIcon}))},null,8,["name","class"])):e.avatar?(A(),B(On,oe({key:1,size:r.ui?.itemLeadingAvatarSize||F.value.itemLeadingAvatarSize()},e.avatar,{"data-slot":"itemLeadingAvatar",class:F.value.itemLeadingAvatar({class:r.ui?.itemLeadingAvatar})}),null,16,["size","class"])):X("",!0)])],2)):X("",!0),U(ue.$slots,"default",{modelValue:Xe,open:st,ui:F.value},()=>[(A(!0),W(Ee,null,Ve([ee(Xe)],it=>(A(),W(Ee,{key:it},[it!=null?(A(),W("span",{key:0,"data-slot":"value",class:Z(F.value.value({class:r.ui?.value}))},q(it),3)):(A(),W("span",{key:1,"data-slot":"placeholder",class:Z(F.value.placeholder({class:r.ui?.placeholder}))},q(e.placeholder??""),3))],64))),128))]),y(O)||s.trailing?(A(),W("span",{key:1,"data-slot":"trailing",class:Z(F.value.trailing({class:r.ui?.trailing}))},[U(ue.$slots,"trailing",{modelValue:Xe,open:st,ui:F.value},()=>[y(L)?(A(),B(tt,{key:0,name:y(L),"data-slot":"trailingIcon",class:Z(F.value.trailingIcon({class:r.ui?.trailingIcon}))},null,8,["name","class"])):X("",!0)])],2)):X("",!0)]),_:2},1040,["id","class"]),_(y(wle),rt(ct(y(l))),{default:S(()=>[_(y(ale),oe({"data-slot":"content",class:F.value.content({class:r.ui?.content})},c.value),{default:S(()=>[U(ue.$slots,"content-top"),k("div",{role:"presentation","data-slot":"viewport",class:Z(F.value.viewport({class:r.ui?.viewport}))},[(A(!0),W(Ee,null,Ve(z.value,(it,ce)=>(A(),B(y(cle),{key:`group-${ce}`,"data-slot":"group",class:Z(F.value.group({class:r.ui?.group}))},{default:S(()=>[(A(!0),W(Ee,null,Ve(it,(ve,Ae)=>(A(),W(Ee,{key:`group-${ce}-${Ae}`},[we(ve)&&ve.type==="label"?(A(),B(y(ble),{key:0,"data-slot":"label",class:Z(F.value.label({class:[r.ui?.label,ve.ui?.label,ve.class]}))},{default:S(()=>[J(q(y(Pt)(ve,r.labelKey)),1)]),_:2},1032,["class"])):we(ve)&&ve.type==="separator"?(A(),B(y(_le),{key:1,"data-slot":"separator",class:Z(F.value.separator({class:[r.ui?.separator,ve.ui?.separator,ve.class]}))},null,8,["class"])):(A(),B(y(ple),{key:2,"data-slot":"item",class:Z(F.value.item({class:[r.ui?.item,we(ve)&&ve.ui?.item,we(ve)&&ve.class]})),disabled:we(ve)&&ve.disabled,value:we(ve)?y(Pt)(ve,r.valueKey):ve,onSelect:pe=>we(ve)&&ve.onSelect?.(pe)},{default:S(()=>[U(ue.$slots,"item",{item:ve,index:Ae,ui:F.value},()=>[U(ue.$slots,"item-leading",{item:ve,index:Ae,ui:F.value},()=>[we(ve)&&ve.icon?(A(),B(tt,{key:0,name:ve.icon,"data-slot":"itemLeadingIcon",class:Z(F.value.itemLeadingIcon({class:[r.ui?.itemLeadingIcon,ve.ui?.itemLeadingIcon]}))},null,8,["name","class"])):we(ve)&&ve.avatar?(A(),B(On,oe({key:1,size:ve.ui?.itemLeadingAvatarSize||r.ui?.itemLeadingAvatarSize||F.value.itemLeadingAvatarSize()},{ref_for:!0},ve.avatar,{"data-slot":"itemLeadingAvatar",class:F.value.itemLeadingAvatar({class:[r.ui?.itemLeadingAvatar,ve.ui?.itemLeadingAvatar]})}),null,16,["size","class"])):we(ve)&&ve.chip?(A(),B(Lx,oe({key:2,size:ve.ui?.itemLeadingChipSize||r.ui?.itemLeadingChipSize||F.value.itemLeadingChipSize(),inset:"",standalone:""},{ref_for:!0},ve.chip,{"data-slot":"itemLeadingChip",class:F.value.itemLeadingChip({class:[r.ui?.itemLeadingChip,ve.ui?.itemLeadingChip]})}),null,16,["size","class"])):X("",!0)]),k("span",{"data-slot":"itemWrapper",class:Z(F.value.itemWrapper({class:[r.ui?.itemWrapper,we(ve)&&ve.ui?.itemWrapper]}))},[_(y(vle),{"data-slot":"itemLabel",class:Z(F.value.itemLabel({class:[r.ui?.itemLabel,we(ve)&&ve.ui?.itemLabel]}))},{default:S(()=>[U(ue.$slots,"item-label",{item:ve,index:Ae},()=>[J(q(we(ve)?y(Pt)(ve,r.labelKey):ve),1)])]),_:2},1032,["class"]),we(ve)&&(y(Pt)(ve,r.descriptionKey)||s["item-description"])?(A(),W("span",{key:0,"data-slot":"itemDescription",class:Z(F.value.itemDescription({class:[r.ui?.itemDescription,we(ve)&&ve.ui?.itemDescription]}))},[U(ue.$slots,"item-description",{item:ve,index:Ae},()=>[J(q(y(Pt)(ve,r.descriptionKey)),1)])],2)):X("",!0)],2),k("span",{"data-slot":"itemTrailing",class:Z(F.value.itemTrailing({class:[r.ui?.itemTrailing,we(ve)&&ve.ui?.itemTrailing]}))},[U(ue.$slots,"item-trailing",{item:ve,index:Ae,ui:F.value}),_(y(hle),{"as-child":""},{default:S(()=>[_(tt,{name:e.selectedIcon||y(a).ui.icons.check,"data-slot":"itemTrailingIcon",class:Z(F.value.itemTrailingIcon({class:[r.ui?.itemTrailingIcon,we(ve)&&ve.ui?.itemTrailingIcon]}))},null,8,["name","class"])]),_:2},1024)],2)])]),_:2},1032,["class","disabled","value","onSelect"]))],64))),128))]),_:2},1032,["class"]))),128))],2),U(ue.$slots,"content-bottom"),e.arrow?(A(),B(y(tle),oe({key:0},u.value,{"data-slot":"arrow",class:F.value.arrow({class:r.ui?.arrow})}),null,16,["class"])):X("",!0)]),_:3},16,["class"])]),_:3},16)]),_:3},16,["name","autocomplete","disabled","default-value","model-value"]))}}),$Ce={class:"space-y-3"},CCe={key:0,class:"relative inline-block"},MCe=["src"],ACe={class:"grid grid-cols-2 gap-6"},TCe={class:"grid grid-cols-2 gap-6"},ECe={class:"flex items-center gap-3 pt-2"},ICe={class:"text-sm"},PCe={class:"flex gap-2 pt-4 border-t"},OCe={__name:"Create",setup(e){const t=["Kegiatan","Fasilitas","Prestasi","Lainnya"],n=Rt({title:"",category:"",description:"",image:null,order:0,is_active:!0}),r=K(null),o=i=>{const l=i.target.files[0];if(l){n.image=l;const c=new FileReader;c.onload=u=>{r.value=u.target.result},c.readAsDataURL(l)}},s=()=>{n.image=null,r.value=null},a=()=>{n.post("/dashboard/cms/galleries",{forceFormData:!0})};return(i,l)=>{const c=We,u=qt,d=bt,f=er,p=Wn,m=ii,h=li,g=ht;return A(),B($t,{title:"Tambah Galeri",heading:"Buat Galeri Baru",description:"Tambahkan foto atau dokumen baru ke galeri","page-id":"cms-galleries-create"},{header:S(()=>[_(c,{color:"neutral",icon:"i-lucide-arrow-left",label:"Kembali",variant:"ghost",to:"/dashboard/cms/galleries"})]),default:S(()=>[_(g,null,{default:S(()=>[_(h,{state:y(n),onSubmit:a,class:"space-y-6 p-4 max-w-3xl mx-auto w-full"},{default:S(()=>[_(u,{label:"Upload Gambar",name:"image",hint:"Format: JPG, PNG, WEBP (Max 2MB)",required:""},{default:S(()=>[k("div",$Ce,[k("input",{type:"file",onChange:o,accept:"image/*",class:"block w-full text-sm file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-primary file:text-white hover:file:bg-primary-600"},null,32),r.value?(A(),W("div",CCe,[k("img",{src:r.value,alt:"Preview",class:"w-full max-w-xs rounded-lg object-cover border border-gray-200 shadow-sm"},null,8,MCe),r.value?(A(),B(c,{key:0,icon:"i-lucide-x",color:"error",size:"xs",class:"absolute top-2 right-2 rounded-full",onClick:s})):X("",!0)])):X("",!0)])]),_:1}),k("div",ACe,[_(u,{label:"Judul Galeri",name:"title",required:""},{default:S(()=>[_(d,{modelValue:y(n).title,"onUpdate:modelValue":l[0]||(l[0]=v=>y(n).title=v),placeholder:"Contoh: Kegiatan Maulid Nabi",size:"lg",class:"w-full"},null,8,["modelValue"])]),_:1}),_(u,{label:"Kategori",name:"category",required:""},{default:S(()=>[_(f,{modelValue:y(n).category,"onUpdate:modelValue":l[1]||(l[1]=v=>y(n).category=v),items:t,placeholder:"Pilih Kategori",size:"lg",class:"w-full"},null,8,["modelValue"])]),_:1})]),_(u,{label:"Deskripsi",name:"description"},{default:S(()=>[_(p,{modelValue:y(n).description,"onUpdate:modelValue":l[2]||(l[2]=v=>y(n).description=v),placeholder:"Tuliskan deskripsi singkat...",rows:4,size:"lg",class:"w-full"},null,8,["modelValue"])]),_:1}),k("div",TCe,[_(u,{label:"Urutan",name:"order"},{default:S(()=>[_(d,{modelValue:y(n).order,"onUpdate:modelValue":l[3]||(l[3]=v=>y(n).order=v),type:"number",min:"0",placeholder:"0",class:"w-full"},null,8,["modelValue"])]),_:1}),_(u,{label:"Status",name:"is_active"},{default:S(()=>[k("div",ECe,[_(m,{modelValue:y(n).is_active,"onUpdate:modelValue":l[4]||(l[4]=v=>y(n).is_active=v)},null,8,["modelValue"]),k("span",ICe,q(y(n).is_active?"Aktif":"Nonaktif"),1)])]),_:1})]),k("div",PCe,[_(c,{type:"submit",label:"Simpan",icon:"i-lucide-save",loading:y(n).processing},null,8,["loading"]),_(c,{label:"Batal",color:"neutral",variant:"outline",to:"/dashboard/cms/galleries"})])]),_:1},8,["state"])]),_:1})]),_:1})}}},RCe=Object.freeze(Object.defineProperty({__proto__:null,default:OCe},Symbol.toStringTag,{value:"Module"})),BCe={class:"space-y-3"},NCe={key:0,class:"mb-2"},DCe=["src"],FCe={key:1,class:"relative inline-block mt-2"},qCe=["src"],zCe={class:"grid grid-cols-2 gap-6"},LCe={class:"grid grid-cols-2 gap-6"},jCe={class:"flex items-center gap-3 pt-2"},VCe={class:"text-sm"},UCe={class:"flex gap-2 pt-4 border-t"},KCe={__name:"Edit",props:{gallery:Object},setup(e){const t=e,n=["Kegiatan","Fasilitas","Prestasi","Lainnya"],r=Rt({title:t.gallery.title,category:t.gallery.category,description:t.gallery.description,image:null,order:t.gallery.order,is_active:!!t.gallery.is_active}),o=K(null),s=l=>{const c=l.target.files[0];if(c){r.image=c;const u=new FileReader;u.onload=d=>{o.value=d.target.result},u.readAsDataURL(c)}},a=()=>{r.image=null,o.value=null},i=()=>{r.transform(l=>({...l,_method:"PUT"})).post(`/dashboard/cms/galleries/${t.gallery.id}`,{forceFormData:!0})};return(l,c)=>{const u=We,d=qt,f=bt,p=er,m=Wn,h=ii,g=li,v=ht;return A(),B($t,{title:"Edit Galeri",heading:"Edit Galeri",description:"Ubah data galeri","page-id":"cms-galleries-edit"},{header:S(()=>[_(u,{color:"neutral",icon:"i-lucide-arrow-left",label:"Kembali",variant:"ghost",to:"/dashboard/cms/galleries"})]),default:S(()=>[_(v,null,{default:S(()=>[_(g,{state:y(r),onSubmit:i,class:"space-y-6 p-4 max-w-3xl mx-auto w-full"},{default:S(()=>[_(d,{label:"Upload Gambar",name:"image",hint:"Format: JPG, PNG, WEBP (Max 2MB)"},{default:S(()=>[k("div",BCe,[!o.value&&e.gallery.image?(A(),W("div",NCe,[k("img",{src:e.gallery.image.startsWith("http")?e.gallery.image:`/storage/${e.gallery.image}`,alt:"Current Image",class:"w-full max-w-xs rounded-lg object-cover border border-gray-200"},null,8,DCe),c[5]||(c[5]=k("p",{class:"text-xs text-gray-500 mt-1"},"Gambar saat ini",-1))])):X("",!0),k("input",{type:"file",onChange:s,accept:"image/*",class:"block w-full text-sm file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-primary file:text-white hover:file:bg-primary-600"},null,32),o.value?(A(),W("div",FCe,[k("img",{src:o.value,alt:"Preview Baru",class:"w-full max-w-xs rounded-lg object-cover border border-gray-200 shadow-sm"},null,8,qCe),_(u,{icon:"i-lucide-x",color:"error",size:"xs",class:"absolute top-2 right-2 rounded-full",onClick:a}),c[6]||(c[6]=k("p",{class:"text-xs text-gray-500 mt-1"},"Preview gambar baru",-1))])):X("",!0)])]),_:1}),k("div",zCe,[_(d,{label:"Judul Galeri",name:"title",required:""},{default:S(()=>[_(f,{modelValue:y(r).title,"onUpdate:modelValue":c[0]||(c[0]=x=>y(r).title=x),placeholder:"Contoh: Kegiatan Maulid Nabi",size:"lg",class:"w-full"},null,8,["modelValue"])]),_:1}),_(d,{label:"Kategori",name:"category",required:""},{default:S(()=>[_(p,{modelValue:y(r).category,"onUpdate:modelValue":c[1]||(c[1]=x=>y(r).category=x),items:n,placeholder:"Pilih Kategori",size:"lg",class:"w-full"},null,8,["modelValue"])]),_:1})]),_(d,{label:"Deskripsi",name:"description"},{default:S(()=>[_(m,{modelValue:y(r).description,"onUpdate:modelValue":c[2]||(c[2]=x=>y(r).description=x),placeholder:"Tuliskan deskripsi singkat...",rows:4,size:"lg",class:"w-full"},null,8,["modelValue"])]),_:1}),k("div",LCe,[_(d,{label:"Urutan",name:"order"},{default:S(()=>[_(f,{modelValue:y(r).order,"onUpdate:modelValue":c[3]||(c[3]=x=>y(r).order=x),type:"number",min:"0",placeholder:"0",class:"w-full"},null,8,["modelValue"])]),_:1}),_(d,{label:"Status",name:"is_active"},{default:S(()=>[k("div",jCe,[_(h,{modelValue:y(r).is_active,"onUpdate:modelValue":c[4]||(c[4]=x=>y(r).is_active=x)},null,8,["modelValue"]),k("span",VCe,q(y(r).is_active?"Aktif":"Nonaktif"),1)])]),_:1})]),k("div",UCe,[_(u,{type:"submit",label:"Simpan Perubahan",icon:"i-lucide-save",loading:y(r).processing},null,8,["loading"]),_(u,{label:"Batal",color:"neutral",variant:"outline",to:"/dashboard/cms/galleries"})])]),_:1},8,["state"])]),_:1})]),_:1})}}},HCe=Object.freeze(Object.defineProperty({__proto__:null,default:KCe},Symbol.toStringTag,{value:"Module"})),WCe={class:"flex justify-between items-center w-full"},GCe={class:"w-48"},JCe={class:"grid grid-cols-4 gap-4 p-4"},YCe=["src","alt"],QCe={class:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex flex-col items-center justify-center gap-2 p-4"},XCe={class:"text-white font-medium text-center text-sm"},ZCe={class:"flex gap-2 mt-2"},eMe={class:"flex justify-between items-center px-4 py-3 border-t border-default"},tMe={class:"text-sm text-muted"},nMe={__name:"Index",props:{galleries:Object,filters:Object},setup(e){const t=e,n=K(t.galleries.current_page),r=K(t.filters.category||""),o=K([{label:"Semua Kategori",value:"all"},{label:"Kegiatan",value:"Kegiatan"},{label:"Fasilitas",value:"Fasilitas"},{label:"Prestasi",value:"Prestasi"},{label:"Lainnya",value:"Lainnya"}]);He(r,a=>{Qe.get("/dashboard/cms/galleries",{page:1,category:a==="all"?void 0:a||void 0},{preserveState:!0,replace:!0})}),He(n,a=>{Qe.get("/dashboard/cms/galleries",{page:a,category:r.value||void 0},{preserveState:!0,replace:!0})});const s=a=>{confirm(`Yakin ingin menghapus galeri "${a.title}"?`)&&Qe.delete(`/dashboard/cms/galleries/${a.id}`)};return(a,i)=>{const l=er,c=We,u=pn,d=Fr,f=ht;return A(),B($t,{title:"Galeri",heading:"Kelola Galeri Foto",description:"Kelola foto dan gambar pondok pesantren","page-id":"cms-galleries"},{header:S(()=>[k("div",WCe,[k("div",GCe,[_(l,{modelValue:r.value,"onUpdate:modelValue":i[0]||(i[0]=p=>r.value=p),items:o.value,placeholder:"Semua Kategori",size:"sm"},null,8,["modelValue","items"])]),_(c,{color:"primary",icon:"i-lucide-plus",label:"Tambah Galeri",to:"/dashboard/cms/galleries/create"})])]),default:S(()=>[_(f,null,{default:S(()=>[k("div",JCe,[(A(!0),W(Ee,null,Ve(e.galleries.data,p=>(A(),W("div",{key:p.id,class:"relative group"},[k("img",{src:p.image.startsWith("http")?p.image:`/storage/${p.image}`,alt:p.title,class:"w-full aspect-square object-cover rounded-lg"},null,8,YCe),k("div",QCe,[k("p",XCe,q(p.title),1),p.category?(A(),B(u,{key:0,color:"primary",variant:"solid"},{default:S(()=>[J(q(p.category),1)]),_:2},1024)):X("",!0),k("div",ZCe,[_(c,{color:"neutral",size:"xs",icon:"i-lucide-pencil",to:`/dashboard/cms/galleries/${p.id}/edit`},null,8,["to"]),_(c,{color:"error",size:"xs",icon:"i-lucide-trash-2",onClick:m=>s(p)},null,8,["onClick"])])])]))),128))]),k("div",eMe,[k("span",tMe," Showing "+q(e.galleries.from)+" to "+q(e.galleries.to)+" of "+q(e.galleries.total)+" entries ",1),_(d,{modelValue:n.value,"onUpdate:modelValue":i[1]||(i[1]=p=>n.value=p),total:e.galleries.total,"page-count":e.galleries.per_page},null,8,["modelValue","total","page-count"])])]),_:1})]),_:1})}}},rMe=Object.freeze(Object.defineProperty({__proto__:null,default:nMe},Symbol.toStringTag,{value:"Module"})),oMe={slots:{root:"relative flex items-start",base:["inline-flex items-center shrink-0 rounded-full border-2 border-transparent focus-visible:outline-2 focus-visible:outline-offset-2 data-[state=unchecked]:bg-accented","transition-[background] duration-200"],container:"flex items-center",thumb:"group pointer-events-none rounded-full bg-default shadow-lg ring-0 transition-transform duration-200 data-[state=unchecked]:translate-x-0 data-[state=unchecked]:rtl:-translate-x-0 flex items-center justify-center",icon:["absolute shrink-0 group-data-[state=unchecked]:text-dimmed opacity-0 size-10/12","transition-[color,opacity] duration-200"],wrapper:"ms-2",label:"block font-medium text-default",description:"text-muted"},variants:{color:{primary:{base:"data-[state=checked]:bg-primary focus-visible:outline-primary",icon:"group-data-[state=checked]:text-primary"},secondary:{base:"data-[state=checked]:bg-secondary focus-visible:outline-secondary",icon:"group-data-[state=checked]:text-secondary"},success:{base:"data-[state=checked]:bg-success focus-visible:outline-success",icon:"group-data-[state=checked]:text-success"},info:{base:"data-[state=checked]:bg-info focus-visible:outline-info",icon:"group-data-[state=checked]:text-info"},warning:{base:"data-[state=checked]:bg-warning focus-visible:outline-warning",icon:"group-data-[state=checked]:text-warning"},error:{base:"data-[state=checked]:bg-error focus-visible:outline-error",icon:"group-data-[state=checked]:text-error"},neutral:{base:"data-[state=checked]:bg-inverted focus-visible:outline-inverted",icon:"group-data-[state=checked]:text-highlighted"}},size:{xs:{base:"w-7",container:"h-4",thumb:"size-3 data-[state=checked]:translate-x-3 data-[state=checked]:rtl:-translate-x-3",wrapper:"text-xs"},sm:{base:"w-8",container:"h-4",thumb:"size-3.5 data-[state=checked]:translate-x-3.5 data-[state=checked]:rtl:-translate-x-3.5",wrapper:"text-xs"},md:{base:"w-9",container:"h-5",thumb:"size-4 data-[state=checked]:translate-x-4 data-[state=checked]:rtl:-translate-x-4",wrapper:"text-sm"},lg:{base:"w-10",container:"h-5",thumb:"size-4.5 data-[state=checked]:translate-x-4.5 data-[state=checked]:rtl:-translate-x-4.5",wrapper:"text-sm"},xl:{base:"w-11",container:"h-6",thumb:"size-5 data-[state=checked]:translate-x-5 data-[state=checked]:rtl:-translate-x-5",wrapper:"text-base"}},checked:{true:{icon:"group-data-[state=checked]:opacity-100"}},unchecked:{true:{icon:"group-data-[state=unchecked]:opacity-100"}},loading:{true:{icon:"animate-spin"}},required:{true:{label:"after:content-['*'] after:ms-0.5 after:text-error"}},disabled:{true:{root:"opacity-75",base:"cursor-not-allowed",label:"cursor-not-allowed",description:"cursor-not-allowed"}}},defaultVariants:{color:"primary",size:"md"}},kV=Object.assign({inheritAttrs:!1},{__name:"Switch",props:bs({as:{type:null,required:!1},color:{type:null,required:!1},size:{type:null,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:null,required:!1},checkedIcon:{type:null,required:!1},uncheckedIcon:{type:null,required:!1},label:{type:String,required:!1},description:{type:String,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},disabled:{type:Boolean,required:!1},id:{type:String,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1},value:{type:String,required:!1},defaultValue:{type:Boolean,required:!1}},{modelValue:{type:Boolean,default:void 0},modelModifiers:{}}),emits:bs(["change"],["update:modelValue"]),setup(e,{emit:t}){const n=e,r=rn(),o=t,s=Yn(e,"modelValue",{type:Boolean,default:void 0}),a=Bt(),i=jn(Pn(n,"required","value","defaultValue")),{id:l,emitFormChange:c,emitFormInput:u,size:d,color:f,name:p,disabled:m,ariaAttrs:h}=jc(n),g=l.value??ol(),v=H(()=>Ye({extend:Ye(oMe),...a.ui?.switch||{}})({size:d.value,color:f.value,required:n.required,loading:n.loading,disabled:m.value||n.loading}));function x($){const C=new Event("change",{target:{value:$}});o("change",C),c(),u()}return($,C)=>(A(),B(y(Le),{as:e.as,"data-slot":"root",class:Z(v.value.root({class:[n.ui?.root,n.class]}))},{default:S(()=>[k("div",{"data-slot":"container",class:Z(v.value.container({class:n.ui?.container}))},[_(y(Jle),oe({id:y(g)},{...y(i),...$.$attrs,...y(h)},{modelValue:s.value,"onUpdate:modelValue":[C[0]||(C[0]=M=>s.value=M),x],name:y(p),disabled:y(m)||e.loading,"data-slot":"base",class:v.value.base({class:n.ui?.base})}),{default:S(()=>[_(y(Qle),{"data-slot":"thumb",class:Z(v.value.thumb({class:n.ui?.thumb}))},{default:S(()=>[e.loading?(A(),B(tt,{key:0,name:e.loadingIcon||y(a).ui.icons.loading,"data-slot":"icon",class:Z(v.value.icon({class:n.ui?.icon,checked:!0,unchecked:!0}))},null,8,["name","class"])):(A(),W(Ee,{key:1},[e.checkedIcon?(A(),B(tt,{key:0,name:e.checkedIcon,"data-slot":"icon",class:Z(v.value.icon({class:n.ui?.icon,checked:!0}))},null,8,["name","class"])):X("",!0),e.uncheckedIcon?(A(),B(tt,{key:1,name:e.uncheckedIcon,"data-slot":"icon",class:Z(v.value.icon({class:n.ui?.icon,unchecked:!0}))},null,8,["name","class"])):X("",!0)],64))]),_:1},8,["class"])]),_:1},16,["id","modelValue","name","disabled","class"])],2),e.label||r.label||e.description||r.description?(A(),W("div",{key:0,"data-slot":"wrapper",class:Z(v.value.wrapper({class:n.ui?.wrapper}))},[e.label||r.label?(A(),B(y(Vd),{key:0,for:y(g),"data-slot":"label",class:Z(v.value.label({class:n.ui?.label}))},{default:S(()=>[U($.$slots,"label",{label:e.label},()=>[J(q(e.label),1)])]),_:3},8,["for","class"])):X("",!0),e.description||r.description?(A(),W("p",{key:1,"data-slot":"description",class:Z(v.value.description({class:n.ui?.description}))},[U($.$slots,"description",{description:e.description},()=>[J(q(e.description),1)])],2)):X("",!0)],2)):X("",!0)]),_:3},8,["as","class"]))}});function Qr(e){this.content=e}Qr.prototype={constructor:Qr,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,o=r.find(e),s=r.content.slice();return o==-1?s.push(n||e,t):(s[o+1]=t,n&&(s[o]=n)),new Qr(s)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new Qr(n)},addToStart:function(e,t){return new Qr([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new Qr(n)},addBefore:function(e,t,n){var r=this.remove(t),o=r.content.slice(),s=r.find(e);return o.splice(s==-1?o.length:s,0,t,n),new Qr(o)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=Qr.from(e),e.size?new Qr(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=Qr.from(e),e.size?new Qr(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=Qr.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};Qr.from=function(e){if(e instanceof Qr)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new Qr(t)};function _V(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let o=e.child(r),s=t.child(r);if(o==s){n+=o.nodeSize;continue}if(!o.sameMarkup(s))return n;if(o.isText&&o.text!=s.text){for(let a=0;o.text[a]==s.text[a];a++)n++;return n}if(o.content.size||s.content.size){let a=_V(o.content,s.content,n+1);if(a!=null)return a}n+=o.nodeSize}}function SV(e,t,n,r){for(let o=e.childCount,s=t.childCount;;){if(o==0||s==0)return o==s?null:{a:n,b:r};let a=e.child(--o),i=t.child(--s),l=a.nodeSize;if(a==i){n-=l,r-=l;continue}if(!a.sameMarkup(i))return{a:n,b:r};if(a.isText&&a.text!=i.text){let c=0,u=Math.min(a.text.length,i.text.length);for(;c<u&&a.text[a.text.length-c-1]==i.text[i.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(a.content.size||i.content.size){let c=SV(a.content,i.content,n-1,r-1);if(c)return c}n-=l,r-=l}}class de{constructor(t,n){if(this.content=t,this.size=n||0,n==null)for(let r=0;r<t.length;r++)this.size+=t[r].nodeSize}nodesBetween(t,n,r,o=0,s){for(let a=0,i=0;i<n;a++){let l=this.content[a],c=i+l.nodeSize;if(c>t&&r(l,o+i,s||null,a)!==!1&&l.content.size){let u=i+1;l.nodesBetween(Math.max(0,t-u),Math.min(l.content.size,n-u),r,o+u)}i=c}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,r,o){let s="",a=!0;return this.nodesBetween(t,n,(i,l)=>{let c=i.isText?i.text.slice(Math.max(t,l)-l,n-l):i.isLeaf?o?typeof o=="function"?o(i):o:i.type.spec.leafText?i.type.spec.leafText(i):"":"";i.isBlock&&(i.isLeaf&&c||i.isTextblock)&&r&&(a?a=!1:s+=r),s+=c},0),s}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,r=t.firstChild,o=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(o[o.length-1]=n.withText(n.text+r.text),s=1);s<t.content.length;s++)o.push(t.content[s]);return new de(o,this.size+t.size)}cut(t,n=this.size){if(t==0&&n==this.size)return this;let r=[],o=0;if(n>t)for(let s=0,a=0;a<n;s++){let i=this.content[s],l=a+i.nodeSize;l>t&&((a<t||l>n)&&(i.isText?i=i.cut(Math.max(0,t-a),Math.min(i.text.length,n-a)):i=i.cut(Math.max(0,t-a-1),Math.min(i.content.size,n-a-1))),r.push(i),o+=i.nodeSize),a=l}return new de(r,o)}cutByIndex(t,n){return t==n?de.empty:t==0&&n==this.content.length?this:new de(this.content.slice(t,n))}replaceChild(t,n){let r=this.content[t];if(r==n)return this;let o=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return o[t]=n,new de(o,s)}addToStart(t){return new de([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new de(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw new RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,r=0;n<this.content.length;n++){let o=this.content[n];t(o,r,n),r+=o.nodeSize}}findDiffStart(t,n=0){return _V(this,t,n)}findDiffEnd(t,n=this.size,r=t.size){return SV(this,t,n,r)}findIndex(t){if(t==0)return mv(0,t);if(t==this.size)return mv(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let n=0,r=0;;n++){let o=this.child(n),s=r+o.nodeSize;if(s>=t)return s==t?mv(n+1,s):mv(n,r);r=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return de.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new de(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return de.empty;let n,r=0;for(let o=0;o<t.length;o++){let s=t[o];r+=s.nodeSize,o&&s.isText&&t[o-1].sameMarkup(s)?(n||(n=t.slice(0,o)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new de(n||t,r)}static from(t){if(!t)return de.empty;if(t instanceof de)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new de([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}de.empty=new de([],0);const n_={index:0,offset:0};function mv(e,t){return n_.index=e,n_.offset=t,n_}function _b(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!_b(e[r],t[r]))return!1}else{for(let r in e)if(!(r in t)||!_b(e[r],t[r]))return!1;for(let r in t)if(!(r in e))return!1}return!0}let Tn=class w${constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,r=!1;for(let o=0;o<t.length;o++){let s=t[o];if(this.eq(s))return t;if(this.type.excludes(s.type))n||(n=t.slice(0,o));else{if(s.type.excludes(this.type))return t;!r&&s.type.rank>this.type.rank&&(n||(n=t.slice(0,o)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=t.slice()),r||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&_b(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=t.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let o=r.create(n.attrs);return r.checkAttrs(o.attrs),o}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(n[r]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return w$.none;if(t instanceof w$)return[t];let n=t.slice();return n.sort((r,o)=>r.type.rank-o.type.rank),n}};Tn.none=[];class Sb extends Error{}class Je{constructor(t,n,r){this.content=t,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let r=CV(this.content,t+this.openStart,n);return r&&new Je(r,this.openStart,this.openEnd)}removeBetween(t,n){return new Je($V(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return Je.empty;let r=n.openStart||0,o=n.openEnd||0;if(typeof r!="number"||typeof o!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Je(de.fromJSON(t,n.content),r,o)}static maxOpen(t,n=!0){let r=0,o=0;for(let s=t.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=t.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)o++;return new Je(t,r,o)}}Je.empty=new Je(de.empty,0,0);function $V(e,t,n){let{index:r,offset:o}=e.findIndex(t),s=e.maybeChild(r),{index:a,offset:i}=e.findIndex(n);if(o==t||s.isText){if(i!=n&&!e.child(a).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=a)throw new RangeError("Removing non-flat range");return e.replaceChild(r,s.copy($V(s.content,t-o-1,n-o-1)))}function CV(e,t,n,r){let{index:o,offset:s}=e.findIndex(t),a=e.maybeChild(o);if(s==t||a.isText)return r&&!r.canReplace(o,o,n)?null:e.cut(0,t).append(n).append(e.cut(t));let i=CV(a.content,t-s-1,n,a);return i&&e.replaceChild(o,a.copy(i))}function sMe(e,t,n){if(n.openStart>e.depth)throw new Sb("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new Sb("Inconsistent open depths");return MV(e,t,n,0)}function MV(e,t,n,r){let o=e.index(r),s=e.node(r);if(o==t.index(r)&&r<e.depth-n.openStart){let a=MV(e,t,n,r+1);return s.copy(s.content.replaceChild(o,a))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&e.depth==r&&t.depth==r){let a=e.parent,i=a.content;return hc(a,i.cut(0,e.parentOffset).append(n.content).append(i.cut(t.parentOffset)))}else{let{start:a,end:i}=aMe(n,e);return hc(s,TV(e,a,i,t,r))}else return hc(s,$b(e,t,r))}function AV(e,t){if(!t.type.compatibleContent(e.type))throw new Sb("Cannot join "+t.type.name+" onto "+e.type.name)}function k$(e,t,n){let r=e.node(n);return AV(r,t.node(n)),r}function mc(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function Rp(e,t,n,r){let o=(t||e).node(n),s=0,a=t?t.index(n):o.childCount;e&&(s=e.index(n),e.depth>n?s++:e.textOffset&&(mc(e.nodeAfter,r),s++));for(let i=s;i<a;i++)mc(o.child(i),r);t&&t.depth==n&&t.textOffset&&mc(t.nodeBefore,r)}function hc(e,t){return e.type.checkContent(t),e.copy(t)}function TV(e,t,n,r,o){let s=e.depth>o&&k$(e,t,o+1),a=r.depth>o&&k$(n,r,o+1),i=[];return Rp(null,e,o,i),s&&a&&t.index(o)==n.index(o)?(AV(s,a),mc(hc(s,TV(e,t,n,r,o+1)),i)):(s&&mc(hc(s,$b(e,t,o+1)),i),Rp(t,n,o,i),a&&mc(hc(a,$b(n,r,o+1)),i)),Rp(r,null,o,i),new de(i)}function $b(e,t,n){let r=[];if(Rp(null,e,n,r),e.depth>n){let o=k$(e,t,n+1);mc(hc(o,$b(e,t,n+1)),r)}return Rp(t,null,n,r),new de(r)}function aMe(e,t){let n=t.depth-e.openStart,o=t.node(n).copy(e.content);for(let s=n-1;s>=0;s--)o=t.node(s).copy(de.from(o));return{start:o.resolveNoCache(e.openStart+n),end:o.resolveNoCache(o.content.size-e.openEnd-n)}}class lm{constructor(t,n,r){this.pos=t,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],o=t.child(n);return r?t.child(n).cut(r):o}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):t==0?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let r=this.path[n*3],o=n==0?0:this.path[n*3-1]+1;for(let s=0;s<t;s++)o+=r.child(s).nodeSize;return o}marks(){let t=this.parent,n=this.index();if(t.content.size==0)return Tn.none;if(this.textOffset)return t.child(n).marks;let r=t.maybeChild(n-1),o=t.maybeChild(n);if(!r){let i=r;r=o,o=i}let s=r.marks;for(var a=0;a<s.length;a++)s[a].type.spec.inclusive===!1&&(!o||!s[a].isInSet(o.marks))&&(s=s[a--].removeFromSet(s));return s}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,o=t.parent.maybeChild(t.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!o||!r[s].isInSet(o.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!n||n(this.node(r))))return new Cb(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");let r=[],o=0,s=n;for(let a=t;;){let{index:i,offset:l}=a.content.findIndex(s),c=s-l;if(r.push(a,i,o+l),!c||(a=a.child(i),a.isText))break;s=c-1,o+=l+1}return new lm(n,r,s)}static resolveCached(t,n){let r=pB.get(t);if(r)for(let s=0;s<r.elts.length;s++){let a=r.elts[s];if(a.pos==n)return a}else pB.set(t,r=new iMe);let o=r.elts[r.i]=lm.resolve(t,n);return r.i=(r.i+1)%lMe,o}}class iMe{constructor(){this.elts=[],this.i=0}}const lMe=12,pB=new WeakMap;class Cb{constructor(t,n,r){this.$from=t,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const uMe=Object.create(null);let Hn=class _${constructor(t,n,r,o=Tn.none){this.type=t,this.attrs=n,this.marks=o,this.content=r||de.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,r,o=0){this.content.nodesBetween(t,n,r,o,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,r,o){return this.content.textBetween(t,n,r,o)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,r){return this.type==t&&_b(this.attrs,n||t.defaultAttrs||uMe)&&Tn.sameSet(this.marks,r||Tn.none)}copy(t=null){return t==this.content?this:new _$(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new _$(this.type,this.attrs,this.content,t)}cut(t,n=this.content.size){return t==0&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,r=!1){if(t==n)return Je.empty;let o=this.resolve(t),s=this.resolve(n),a=r?0:o.sharedDepth(n),i=o.start(a),c=o.node(a).content.cut(o.pos-i,s.pos-i);return new Je(c,o.depth-a,s.depth-a)}replace(t,n,r){return sMe(this.resolve(t),this.resolve(n),r)}nodeAt(t){for(let n=this;;){let{index:r,offset:o}=n.content.findIndex(t);if(n=n.maybeChild(r),!n)return null;if(o==t||n.isText)return n;t-=o+1}}childAfter(t){let{index:n,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(n),index:n,offset:r};let o=this.content.child(n-1);return{node:o,index:n-1,offset:r-o.nodeSize}}resolve(t){return lm.resolveCached(this,t)}resolveNoCache(t){return lm.resolve(this,t)}rangeHasMark(t,n,r){let o=!1;return n>t&&this.nodesBetween(t,n,s=>(r.isInSet(s.marks)&&(o=!0),!o)),o}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),EV(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,r=de.empty,o=0,s=r.childCount){let a=this.contentMatchAt(t).matchFragment(r,o,s),i=a&&a.matchFragment(this.content,n);if(!i||!i.validEnd)return!1;for(let l=o;l<s;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(t,n,r,o){if(o&&!this.type.allowsMarks(o))return!1;let s=this.contentMatchAt(t).matchType(r),a=s&&s.matchFragment(this.content,n);return a?a.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=Tn.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),t=r.addToSet(t)}if(!Tn.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(n=>n.toJSON())),t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(t.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(n.text,r)}let o=de.fromJSON(t,n.content),s=t.nodeType(n.type).create(n.attrs,o,r);return s.type.checkAttrs(s.attrs),s}};Hn.prototype.text=void 0;class Mb extends Hn{constructor(t,n,r,o){if(super(t,n,null,o),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):EV(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new Mb(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new Mb(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return t==0&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function EV(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class Sc{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){let r=new cMe(t,n);if(r.next==null)return Sc.empty;let o=IV(r);r.next&&r.err("Unexpected trailing text");let s=vMe(gMe(o));return yMe(s,r),s}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,r=t.childCount){let o=this;for(let s=n;o&&s<r;s++)o=o.matchType(t.child(s).type);return o}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let r=0;r<t.next.length;r++)if(this.next[n].type==t.next[r].type)return!0;return!1}fillBefore(t,n=!1,r=0){let o=[this];function s(a,i){let l=a.matchFragment(t,r);if(l&&(!n||l.validEnd))return de.from(i.map(c=>c.createAndFill()));for(let c=0;c<a.next.length;c++){let{type:u,next:d}=a.next[c];if(!(u.isText||u.hasRequiredAttrs())&&o.indexOf(d)==-1){o.push(d);let f=s(d,i.concat(u));if(f)return f}}return null}return s(this,[])}findWrapping(t){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==t)return this.wrapCache[r+1];let n=this.computeWrapping(t);return this.wrapCache.push(t,n),n}computeWrapping(t){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let o=r.shift(),s=o.match;if(s.matchType(t)){let a=[];for(let i=o;i.type;i=i.via)a.push(i.type);return a.reverse()}for(let a=0;a<s.next.length;a++){let{type:i,next:l}=s.next[a];!i.isLeaf&&!i.hasRequiredAttrs()&&!(i.name in n)&&(!o.type||l.validEnd)&&(r.push({match:i.contentMatch,type:i,via:o}),n[i.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function n(r){t.push(r);for(let o=0;o<r.next.length;o++)t.indexOf(r.next[o].next)==-1&&n(r.next[o].next)}return n(this),t.map((r,o)=>{let s=o+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)s+=(a?", ":"")+r.next[a].type.name+"->"+t.indexOf(r.next[a].next);return s}).join(`
`)}}Sc.empty=new Sc(!0);class cMe{constructor(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function IV(e){let t=[];do t.push(dMe(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function dMe(e){let t=[];do t.push(fMe(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function fMe(e){let t=hMe(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=pMe(e,t);else break;return t}function mB(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function pMe(e,t){let n=mB(e),r=n;return e.eat(",")&&(e.next!="}"?r=mB(e):r=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function mMe(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let o=[];for(let s in n){let a=n[s];a.isInGroup(t)&&o.push(a)}return o.length==0&&e.err("No node type or group '"+t+"' found"),o}function hMe(e){if(e.eat("(")){let t=IV(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=mMe(e,e.next).map(n=>(e.inline==null?e.inline=n.isInline:e.inline!=n.isInline&&e.err("Mixing inline and block content"),{type:"name",value:n}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function gMe(e){let t=[[]];return o(s(e,0),n()),t;function n(){return t.push([])-1}function r(a,i,l){let c={term:l,to:i};return t[a].push(c),c}function o(a,i){a.forEach(l=>l.to=i)}function s(a,i){if(a.type=="choice")return a.exprs.reduce((l,c)=>l.concat(s(c,i)),[]);if(a.type=="seq")for(let l=0;;l++){let c=s(a.exprs[l],i);if(l==a.exprs.length-1)return c;o(c,i=n())}else if(a.type=="star"){let l=n();return r(i,l),o(s(a.expr,l),l),[r(l)]}else if(a.type=="plus"){let l=n();return o(s(a.expr,i),l),o(s(a.expr,l),l),[r(l)]}else{if(a.type=="opt")return[r(i)].concat(s(a.expr,i));if(a.type=="range"){let l=i;for(let c=0;c<a.min;c++){let u=n();o(s(a.expr,l),u),l=u}if(a.max==-1)o(s(a.expr,l),l);else for(let c=a.min;c<a.max;c++){let u=n();r(l,u),o(s(a.expr,l),u),l=u}return[r(l)]}else{if(a.type=="name")return[r(i,void 0,a.value)];throw new Error("Unknown expr type")}}}}function PV(e,t){return t-e}function hB(e,t){let n=[];return r(t),n.sort(PV);function r(o){let s=e[o];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(o);for(let a=0;a<s.length;a++){let{term:i,to:l}=s[a];!i&&n.indexOf(l)==-1&&r(l)}}}function vMe(e){let t=Object.create(null);return n(hB(e,0));function n(r){let o=[];r.forEach(a=>{e[a].forEach(({term:i,to:l})=>{if(!i)return;let c;for(let u=0;u<o.length;u++)o[u][0]==i&&(c=o[u][1]);hB(e,l).forEach(u=>{c||o.push([i,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let s=t[r.join(",")]=new Sc(r.indexOf(e.length-1)>-1);for(let a=0;a<o.length;a++){let i=o[a][1].sort(PV);s.next.push({type:o[a][0],next:t[i.join(",")]||n(i)})}return s}}function yMe(e,t){for(let n=0,r=[e];n<r.length;n++){let o=r[n],s=!o.validEnd,a=[];for(let i=0;i<o.next.length;i++){let{type:l,next:c}=o.next[i];a.push(l.name),s&&!(l.isText||l.hasRequiredAttrs())&&(s=!1),r.indexOf(c)==-1&&r.push(c)}s&&t.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function OV(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function RV(e,t){let n=Object.create(null);for(let r in e){let o=t&&t[r];if(o===void 0){let s=e[r];if(s.hasDefault)o=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=o}return n}function BV(e,t,n,r){for(let o in t)if(!(o in e))throw new RangeError(`Unsupported attribute ${o} for ${n} of type ${o}`);for(let o in e){let s=e[o];s.validate&&s.validate(t[o])}}function NV(e,t){let n=Object.create(null);if(t)for(let r in t)n[r]=new xMe(e,r,t[r]);return n}let gB=class DV{constructor(t,n,r){this.name=t,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=NV(t,r.attrs),this.defaultAttrs=OV(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Sc.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:RV(this.attrs,t)}create(t=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Hn(this,this.computeAttrs(t),de.from(n),Tn.setFrom(r))}createChecked(t=null,n,r){return n=de.from(n),this.checkContent(n),new Hn(this,this.computeAttrs(t),n,Tn.setFrom(r))}createAndFill(t=null,n,r){if(t=this.computeAttrs(t),n=de.from(n),n.size){let a=this.contentMatch.fillBefore(n);if(!a)return null;n=a.append(n)}let o=this.contentMatch.matchFragment(n),s=o&&o.fillBefore(de.empty,!0);return s?new Hn(this,t,n.append(s),Tn.setFrom(r)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){BV(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let n;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?n&&n.push(t[r]):n||(n=t.slice(0,r));return n?n.length?n:Tn.none:t}static compile(t,n){let r=Object.create(null);t.forEach((s,a)=>r[s]=new DV(s,n,a));let o=n.spec.topNode||"doc";if(!r[o])throw new RangeError("Schema is missing its top node type ('"+o+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function bMe(e,t,n){let r=n.split("|");return o=>{let s=o===null?"null":typeof o;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${t} on type ${e}, got ${s}`)}}class xMe{constructor(t,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?bMe(t,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Ux{constructor(t,n,r,o){this.name=t,this.rank=n,this.schema=r,this.spec=o,this.attrs=NV(t,o.attrs),this.excluded=null;let s=OV(this.attrs);this.instance=s?new Tn(this,s):null}create(t=null){return!t&&this.instance?this.instance:new Tn(this,RV(this.attrs,t))}static compile(t,n){let r=Object.create(null),o=0;return t.forEach((s,a)=>r[s]=new Ux(s,o++,n,a)),r}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}checkAttrs(t){BV(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}class qr{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let o in t)n[o]=t[o];n.nodes=Qr.from(t.nodes),n.marks=Qr.from(t.marks||{}),this.nodes=gB.compile(this.spec.nodes,this),this.marks=Ux.compile(this.spec.marks,this);let r=Object.create(null);for(let o in this.nodes){if(o in this.marks)throw new RangeError(o+" can not be both a node and a mark");let s=this.nodes[o],a=s.spec.content||"",i=s.spec.marks;if(s.contentMatch=r[a]||(r[a]=Sc.parse(a,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=i=="_"?null:i?vB(this,i.split(" ")):i==""||!s.inlineContent?[]:null}for(let o in this.marks){let s=this.marks[o],a=s.spec.excludes;s.excluded=a==null?[s]:a==""?[]:vB(this,a.split(" "))}this.nodeFromJSON=o=>Hn.fromJSON(this,o),this.markFromJSON=o=>Tn.fromJSON(this,o),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,n=null,r,o){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof gB){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(n,r,o)}text(t,n){let r=this.nodes.text;return new Mb(r,r.defaultAttrs,t,Tn.setFrom(n))}mark(t,n){return typeof t=="string"&&(t=this.marks[t]),t.create(n)}nodeType(t){let n=this.nodes[t];if(!n)throw new RangeError("Unknown node type: "+t);return n}}function vB(e,t){let n=[];for(let r=0;r<t.length;r++){let o=t[r],s=e.marks[o],a=s;if(s)n.push(s);else for(let i in e.marks){let l=e.marks[i];(o=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(o)>-1)&&n.push(a=l)}if(!a)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}function wMe(e){return e.tag!=null}function kMe(e){return e.style!=null}class gt{constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(o=>{if(wMe(o))this.tags.push(o);else if(kMe(o)){let s=/[^=]*/.exec(o.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(o)}}),this.normalizeLists=!this.tags.some(o=>{if(!/^(ul|ol)\b/.test(o.tag)||!o.node)return!1;let s=t.nodes[o.node];return s.contentMatch.matchType(s)})}parse(t,n={}){let r=new bB(this,n,!1);return r.addAll(t,Tn.none,n.from,n.to),r.finish()}parseSlice(t,n={}){let r=new bB(this,n,!0);return r.addAll(t,Tn.none,n.from,n.to),Je.maxOpen(r.finish())}matchTag(t,n,r){for(let o=r?this.tags.indexOf(r)+1:0;o<this.tags.length;o++){let s=this.tags[o];if($Me(t,s.tag)&&(s.namespace===void 0||t.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let a=s.getAttrs(t);if(a===!1)continue;s.attrs=a||void 0}return s}}}matchStyle(t,n,r,o){for(let s=o?this.styles.indexOf(o)+1:0;s<this.styles.length;s++){let a=this.styles[s],i=a.style;if(!(i.indexOf(t)!=0||a.context&&!r.matchesContext(a.context)||i.length>t.length&&(i.charCodeAt(t.length)!=61||i.slice(t.length+1)!=n))){if(a.getAttrs){let l=a.getAttrs(n);if(l===!1)continue;a.attrs=l||void 0}return a}}}static schemaRules(t){let n=[];function r(o){let s=o.priority==null?50:o.priority,a=0;for(;a<n.length;a++){let i=n[a];if((i.priority==null?50:i.priority)<s)break}n.splice(a,0,o)}for(let o in t.marks){let s=t.marks[o].spec.parseDOM;s&&s.forEach(a=>{r(a=xB(a)),a.mark||a.ignore||a.clearMark||(a.mark=o)})}for(let o in t.nodes){let s=t.nodes[o].spec.parseDOM;s&&s.forEach(a=>{r(a=xB(a)),a.node||a.ignore||a.mark||(a.node=o)})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new gt(t,gt.schemaRules(t)))}}const FV={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},_Me={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},qV={ol:!0,ul:!0},um=1,S$=2,Bp=4;function yB(e,t,n){return t!=null?(t?um:0)|(t==="full"?S$:0):e&&e.whitespace=="pre"?um|S$:n&~Bp}class hv{constructor(t,n,r,o,s,a){this.type=t,this.attrs=n,this.marks=r,this.solid=o,this.options=a,this.content=[],this.activeMarks=Tn.none,this.match=s||(a&Bp?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(de.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,o;return(o=r.findWrapping(t.type))?(this.match=r,o):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&um)){let r=this.content[this.content.length-1],o;if(r&&r.isText&&(o=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==o[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-o[0].length))}}let n=de.from(this.content);return!t&&this.match&&(n=n.append(this.match.fillBefore(de.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!FV.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class bB{constructor(t,n,r){this.parser=t,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let o=n.topNode,s,a=yB(null,n.preserveWhitespace,0)|(r?Bp:0);o?s=new hv(o.type,o.attrs,Tn.none,!0,n.topMatch||o.type.contentMatch,a):r?s=new hv(null,null,Tn.none,!0,null,a):s=new hv(t.schema.topNodeType,null,Tn.none,!0,null,a),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,n){t.nodeType==3?this.addTextNode(t,n):t.nodeType==1&&this.addElement(t,n)}addTextNode(t,n){let r=t.nodeValue,o=this.top,s=o.options&S$?"full":this.localPreserveWS||(o.options&um)>0,{schema:a}=this.parser;if(s==="full"||o.inlineContext(t)||/[^ \t\r\n\u000c]/.test(r)){if(s)if(s==="full")r=r.replace(/\r\n?/g,`
`);else if(a.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(a.linebreakReplacement.create())){let i=r.split(/\r?\n|\r/);for(let l=0;l<i.length;l++)l&&this.insertNode(a.linebreakReplacement.create(),n,!0),i[l]&&this.insertNode(a.text(i[l]),n,!/\S/.test(i[l]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let i=o.content[o.content.length-1],l=t.previousSibling;(!i||l&&l.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(r=r.slice(1))}r&&this.insertNode(a.text(r),n,!/\S/.test(r)),this.findInText(t)}else this.findInside(t)}addElement(t,n,r){let o=this.localPreserveWS,s=this.top;(t.tagName=="PRE"||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let a=t.nodeName.toLowerCase(),i;qV.hasOwnProperty(a)&&this.parser.normalizeLists&&SMe(t);let l=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(i=this.parser.matchTag(t,this,r));e:if(l?l.ignore:_Me.hasOwnProperty(a))this.findInside(t),this.ignoreFallback(t,n);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(t=l.skip);let c,u=this.needsBlock;if(FV.hasOwnProperty(a))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),c=!0,s.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,n);break e}let d=l&&l.skip?n:this.readStyles(t,n);d&&this.addAll(t,d),c&&this.sync(s),this.needsBlock=u}else{let c=this.readStyles(t,n);c&&this.addElementByRule(t,l,c,l.consuming===!1?i:void 0)}this.localPreserveWS=o}leafFallback(t,n){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),n)}ignoreFallback(t,n){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(t,n){let r=t.style;if(r&&r.length)for(let o=0;o<this.parser.matchedStyles.length;o++){let s=this.parser.matchedStyles[o],a=r.getPropertyValue(s);if(a)for(let i=void 0;;){let l=this.parser.matchStyle(s,a,this,i);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(c=>!l.clearMark(c)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)i=l;else break}}return n}addElementByRule(t,n,r,o){let s,a;if(n.node)if(a=this.parser.schema.nodes[n.node],a.isLeaf)this.insertNode(a.create(n.attrs),r,t.nodeName=="BR")||this.leafFallback(t,r);else{let l=this.enter(a,n.attrs||null,r,n.preserveWhitespace);l&&(s=!0,r=l)}else{let l=this.parser.schema.marks[n.mark];r=r.concat(l.create(n.attrs))}let i=this.top;if(a&&a.isLeaf)this.findInside(t);else if(o)this.addElement(t,r,o);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(l=>this.insertNode(l,r,!1));else{let l=t;typeof n.contentElement=="string"?l=t.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(t):n.contentElement&&(l=n.contentElement),this.findAround(t,l,!0),this.addAll(l,r),this.findAround(t,l,!1)}s&&this.sync(i)&&this.open--}addAll(t,n,r,o){let s=r||0;for(let a=r?t.childNodes[r]:t.firstChild,i=o==null?null:t.childNodes[o];a!=i;a=a.nextSibling,++s)this.findAtPoint(t,s),this.addDOM(a,n);this.findAtPoint(t,s)}findPlace(t,n,r){let o,s;for(let a=this.open,i=0;a>=0;a--){let l=this.nodes[a],c=l.findWrapping(t);if(c&&(!o||o.length>c.length+i)&&(o=c,s=l,!c.length))break;if(l.solid){if(r)break;i+=2}}if(!o)return null;this.sync(s);for(let a=0;a<o.length;a++)n=this.enterInner(o[a],null,n,!1);return n}insertNode(t,n,r){if(t.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(n=this.enterInner(s,null,n))}let o=this.findPlace(t,n,r);if(o){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(t.type));let a=Tn.none;for(let i of o.concat(t.marks))(s.type?s.type.allowsMarkType(i.type):wB(i.type,t.type))&&(a=i.addToSet(a));return s.content.push(t.mark(a)),!0}return!1}enter(t,n,r,o){let s=this.findPlace(t.create(n),r,!1);return s&&(s=this.enterInner(t,n,r,!0,o)),s}enterInner(t,n,r,o=!1,s){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(t);let i=yB(t,s,a.options);a.options&Bp&&a.content.length==0&&(i|=Bp);let l=Tn.none;return r=r.filter(c=>(a.type?a.type.allowsMarkType(c.type):wB(c.type,t))?(l=c.addToSet(l),!1):!0),this.nodes.push(new hv(t,n,l,o,null,i)),this.open++,r}closeExtra(t=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(t){for(let n=this.open;n>=0;n--){if(this.nodes[n]==t)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=um)}return!1}get currentPos(){this.closeExtra();let t=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let o=r.length-1;o>=0;o--)t+=r[o].nodeSize;n&&t++}return t}findAtPoint(t,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&t.nodeType==1&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(t,n,r){if(t!=n&&this.find)for(let o=0;o<this.find.length;o++)this.find[o].pos==null&&t.nodeType==1&&t.contains(this.find[o].node)&&n.compareDocumentPosition(this.find[o].node)&(r?2:4)&&(this.find[o].pos=this.currentPos)}findInText(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let n=t.split("/"),r=this.options.context,o=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(o?0:1),a=(i,l)=>{for(;i>=0;i--){let c=n[i];if(c==""){if(i==n.length-1||i==0)continue;for(;l>=s;l--)if(a(i-1,l))return!0;return!1}else{let u=l>0||l==0&&o?this.nodes[l].type:r&&l>=s?r.node(l-s).type:null;if(!u||u.name!=c&&!u.isInGroup(c))return!1;l--}}return!0};return a(n.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function SMe(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let r=t.nodeType==1?t.nodeName.toLowerCase():null;r&&qV.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):r=="li"?n=t:r&&(n=null)}}function $Me(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function xB(e){let t={};for(let n in e)t[n]=e[n];return t}function wB(e,t){let n=t.schema.nodes;for(let r in n){let o=n[r];if(!o.allowsMarkType(e))continue;let s=[],a=i=>{s.push(i);for(let l=0;l<i.edgeCount;l++){let{type:c,next:u}=i.edge(l);if(c==t||s.indexOf(u)<0&&a(u))return!0}};if(a(o.contentMatch))return!0}}class Vc{constructor(t,n){this.nodes=t,this.marks=n}serializeFragment(t,n={},r){r||(r=r_(n).createDocumentFragment());let o=r,s=[];return t.forEach(a=>{if(s.length||a.marks.length){let i=0,l=0;for(;i<s.length&&l<a.marks.length;){let c=a.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(s[i][0])||c.type.spec.spanning===!1)break;i++,l++}for(;i<s.length;)o=s.pop()[1];for(;l<a.marks.length;){let c=a.marks[l++],u=this.serializeMark(c,a.isInline,n);u&&(s.push([c,o]),o.appendChild(u.dom),o=u.contentDOM||u.dom)}}o.appendChild(this.serializeNodeInner(a,n))}),r}serializeNodeInner(t,n){let{dom:r,contentDOM:o}=ky(r_(n),this.nodes[t.type.name](t),null,t.attrs);if(o){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,o)}return r}serializeNode(t,n={}){let r=this.serializeNodeInner(t,n);for(let o=t.marks.length-1;o>=0;o--){let s=this.serializeMark(t.marks[o],t.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(t,n,r={}){let o=this.marks[t.type.name];return o&&ky(r_(r),o(t,n),null,t.attrs)}static renderSpec(t,n,r=null,o){return ky(t,n,r,o)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new Vc(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let n=kB(t.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(t){return kB(t.marks)}}function kB(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function r_(e){return e.document||window.document}const _B=new WeakMap;function CMe(e){let t=_B.get(e);return t===void 0&&_B.set(e,t=MMe(e)),t}function MMe(e){let t=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")t||(t=[]),t.push(r);else for(let o=0;o<r.length;o++)n(r[o]);else for(let o in r)n(r[o])}return n(e),t}function ky(e,t,n,r){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let o=t[0],s;if(typeof o!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=CMe(r))&&s.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=o.indexOf(" ");a>0&&(n=o.slice(0,a),o=o.slice(a+1));let i,l=n?e.createElementNS(n,o):e.createElement(o),c=t[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let d in c)if(c[d]!=null){let f=d.indexOf(" ");f>0?l.setAttributeNS(d.slice(0,f),d.slice(f+1),c[d]):d=="style"&&l.style?l.style.cssText=c[d]:l.setAttribute(d,c[d])}}for(let d=u;d<t.length;d++){let f=t[d];if(f===0){if(d<t.length-1||d>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:p,contentDOM:m}=ky(e,f,n,r);if(l.appendChild(p),m){if(i)throw new RangeError("Multiple content holes");i=m}}}return{dom:l,contentDOM:i}}const zV=65535,LV=Math.pow(2,16);function AMe(e,t){return e+t*LV}function SB(e){return e&zV}function TMe(e){return(e-(e&zV))/LV}const jV=1,VV=2,_y=4,UV=8;class $${constructor(t,n,r){this.pos=t,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&UV)>0}get deletedBefore(){return(this.delInfo&(jV|_y))>0}get deletedAfter(){return(this.delInfo&(VV|_y))>0}get deletedAcross(){return(this.delInfo&_y)>0}}class Is{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&Is.empty)return Is.empty}recover(t){let n=0,r=SB(t);if(!this.inverted)for(let o=0;o<r;o++)n+=this.ranges[o*3+2]-this.ranges[o*3+1];return this.ranges[r*3]+n+TMe(t)}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,r){let o=0,s=this.inverted?2:1,a=this.inverted?1:2;for(let i=0;i<this.ranges.length;i+=3){let l=this.ranges[i]-(this.inverted?o:0);if(l>t)break;let c=this.ranges[i+s],u=this.ranges[i+a],d=l+c;if(t<=d){let f=c?t==l?-1:t==d?1:n:n,p=l+o+(f<0?0:u);if(r)return p;let m=t==(n<0?l:d)?null:AMe(i/3,t-l),h=t==l?VV:t==d?jV:_y;return(n<0?t!=l:t!=d)&&(h|=UV),new $$(p,h,m)}o+=u-c}return r?t+o:new $$(t+o,0,null)}touches(t,n){let r=0,o=SB(n),s=this.inverted?2:1,a=this.inverted?1:2;for(let i=0;i<this.ranges.length;i+=3){let l=this.ranges[i]-(this.inverted?r:0);if(l>t)break;let c=this.ranges[i+s],u=l+c;if(t<=u&&i==o*3)return!0;r+=this.ranges[i+a]-c}return!1}forEach(t){let n=this.inverted?2:1,r=this.inverted?1:2;for(let o=0,s=0;o<this.ranges.length;o+=3){let a=this.ranges[o],i=a-(this.inverted?s:0),l=a+(this.inverted?0:s),c=this.ranges[o+n],u=this.ranges[o+r];t(i,i+c,l,l+u),s+=u-c}}invert(){return new Is(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?Is.empty:new Is(t<0?[0,-t,0]:[0,0,t])}}Is.empty=new Is([]);class cm{constructor(t,n,r=0,o=t?t.length:0){this.mirror=n,this.from=r,this.to=o,this._maps=t||[],this.ownData=!(t||n)}get maps(){return this._maps}slice(t=0,n=this.maps.length){return new cm(this._maps,this.mirror,t,n)}appendMap(t,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(t),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(t){for(let n=0,r=this._maps.length;n<t._maps.length;n++){let o=t.getMirror(n);this.appendMap(t._maps[n],o!=null&&o<n?r+o:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,r=this._maps.length+t._maps.length;n>=0;n--){let o=t.getMirror(n);this.appendMap(t._maps[n].invert(),o!=null&&o>n?r-o-1:void 0)}}invert(){let t=new cm;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let r=this.from;r<this.to;r++)t=this._maps[r].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,r){let o=0;for(let s=this.from;s<this.to;s++){let a=this._maps[s],i=a.mapResult(t,n);if(i.recover!=null){let l=this.getMirror(s);if(l!=null&&l>s&&l<this.to){s=l,t=this._maps[l].recover(i.recover);continue}}o|=i.delInfo,t=i.pos}return r?t:new $$(t,o,null)}}const o_=Object.create(null);class Ko{getMap(){return Is.empty}merge(t){return null}static fromJSON(t,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=o_[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in o_)throw new RangeError("Duplicate use of step JSON ID "+t);return o_[t]=n,n.prototype.jsonID=t,n}}class vr{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new vr(t,null)}static fail(t){return new vr(null,t)}static fromReplace(t,n,r,o){try{return vr.ok(t.replace(n,r,o))}catch(s){if(s instanceof Sb)return vr.fail(s.message);throw s}}}function TM(e,t,n){let r=[];for(let o=0;o<e.childCount;o++){let s=e.child(o);s.content.size&&(s=s.copy(TM(s.content,t,s))),s.isInline&&(s=t(s,n,o)),r.push(s)}return de.fromArray(r)}class ql extends Ko{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=t.resolve(this.from),o=r.node(r.sharedDepth(this.to)),s=new Je(TM(n.content,(a,i)=>!a.isAtom||!i.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),o),n.openStart,n.openEnd);return vr.fromReplace(t,this.from,this.to,s)}invert(){return new En(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new ql(n.pos,r.pos,this.mark)}merge(t){return t instanceof ql&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new ql(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new ql(n.from,n.to,t.markFromJSON(n.mark))}}Ko.jsonID("addMark",ql);class En extends Ko{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=new Je(TM(n.content,o=>o.mark(this.mark.removeFromSet(o.marks)),t),n.openStart,n.openEnd);return vr.fromReplace(t,this.from,this.to,r)}invert(){return new ql(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new En(n.pos,r.pos,this.mark)}merge(t){return t instanceof En&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new En(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new En(n.from,n.to,t.markFromJSON(n.mark))}}Ko.jsonID("removeMark",En);class zl extends Ko{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return vr.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return vr.fromReplace(t,this.pos,this.pos+1,new Je(de.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let o=0;o<n.marks.length;o++)if(!n.marks[o].isInSet(r))return new zl(this.pos,n.marks[o]);return new zl(this.pos,this.mark)}}return new $c(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new zl(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new zl(n.pos,t.markFromJSON(n.mark))}}Ko.jsonID("addNodeMark",zl);class $c extends Ko{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return vr.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return vr.fromReplace(t,this.pos,this.pos+1,new Je(de.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new zl(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new $c(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new $c(n.pos,t.markFromJSON(n.mark))}}Ko.jsonID("removeNodeMark",$c);class ln extends Ko{constructor(t,n,r,o=!1){super(),this.from=t,this.to=n,this.slice=r,this.structure=o}apply(t){return this.structure&&C$(t,this.from,this.to)?vr.fail("Structure replace would overwrite content"):vr.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new Is([this.from,this.to-this.from,this.slice.size])}invert(t){return new ln(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new ln(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(t){if(!(t instanceof ln)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let n=this.slice.size+t.slice.size==0?Je.empty:new Je(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new ln(this.from,this.to+(t.to-t.from),n,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let n=this.slice.size+t.slice.size==0?Je.empty:new Je(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new ln(t.from,this.to,n,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ln(n.from,n.to,Je.fromJSON(t,n.slice),!!n.structure)}}Ko.jsonID("replace",ln);class un extends Ko{constructor(t,n,r,o,s,a,i=!1){super(),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=o,this.slice=s,this.insert=a,this.structure=i}apply(t){if(this.structure&&(C$(t,this.from,this.gapFrom)||C$(t,this.gapTo,this.to)))return vr.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return vr.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?vr.fromReplace(t,this.from,this.to,r):vr.fail("Content does not fit in gap")}getMap(){return new Is([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new un(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),o=this.from==this.gapFrom?n.pos:t.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:t.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||o<n.pos||s>r.pos?null:new un(n.pos,r.pos,o,s,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new un(n.from,n.to,n.gapFrom,n.gapTo,Je.fromJSON(t,n.slice),n.insert,!!n.structure)}}Ko.jsonID("replaceAround",un);function C$(e,t,n){let r=e.resolve(t),o=n-t,s=r.depth;for(;o>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,o--;if(o>0){let a=r.node(s).maybeChild(r.indexAfter(s));for(;o>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,o--}}return!1}function EMe(e,t,n,r){let o=[],s=[],a,i;e.doc.nodesBetween(t,n,(l,c,u)=>{if(!l.isInline)return;let d=l.marks;if(!r.isInSet(d)&&u.type.allowsMarkType(r.type)){let f=Math.max(c,t),p=Math.min(c+l.nodeSize,n),m=r.addToSet(d);for(let h=0;h<d.length;h++)d[h].isInSet(m)||(a&&a.to==f&&a.mark.eq(d[h])?a.to=p:o.push(a=new En(f,p,d[h])));i&&i.to==f?i.to=p:s.push(i=new ql(f,p,r))}}),o.forEach(l=>e.step(l)),s.forEach(l=>e.step(l))}function IMe(e,t,n,r){let o=[],s=0;e.doc.nodesBetween(t,n,(a,i)=>{if(!a.isInline)return;s++;let l=null;if(r instanceof Ux){let c=a.marks,u;for(;u=r.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else r?r.isInSet(a.marks)&&(l=[r]):l=a.marks;if(l&&l.length){let c=Math.min(i+a.nodeSize,n);for(let u=0;u<l.length;u++){let d=l[u],f;for(let p=0;p<o.length;p++){let m=o[p];m.step==s-1&&d.eq(o[p].style)&&(f=m)}f?(f.to=c,f.step=s):o.push({style:d,from:Math.max(i,t),to:c,step:s})}}}),o.forEach(a=>e.step(new En(a.from,a.to,a.style)))}function EM(e,t,n,r=n.contentMatch,o=!0){let s=e.doc.nodeAt(t),a=[],i=t+1;for(let l=0;l<s.childCount;l++){let c=s.child(l),u=i+c.nodeSize,d=r.matchType(c.type);if(!d)a.push(new ln(i,u,Je.empty));else{r=d;for(let f=0;f<c.marks.length;f++)n.allowsMarkType(c.marks[f].type)||e.step(new En(i,u,c.marks[f]));if(o&&c.isText&&n.whitespace!="pre"){let f,p=/\r?\n|\r/g,m;for(;f=p.exec(c.text);)m||(m=new Je(de.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),a.push(new ln(i+f.index,i+f.index+f[0].length,m))}}i=u}if(!r.validEnd){let l=r.fillBefore(de.empty,!0);e.replace(i,i,new Je(l,0,0))}for(let l=a.length-1;l>=0;l--)e.step(a[l])}function PMe(e,t,n){return(t==0||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function lr(e){let n=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let r=e.depth,o=0,s=0;;--r){let a=e.$from.node(r),i=e.$from.index(r)+o,l=e.$to.indexAfter(r)-s;if(r<e.depth&&a.canReplace(i,l,n))return r;if(r==0||a.type.spec.isolating||!PMe(a,i,l))break;i&&(o=1),l<a.childCount&&(s=1)}return null}function OMe(e,t,n){let{$from:r,$to:o,depth:s}=t,a=r.before(s+1),i=o.after(s+1),l=a,c=i,u=de.empty,d=0;for(let m=s,h=!1;m>n;m--)h||r.index(m)>0?(h=!0,u=de.from(r.node(m).copy(u)),d++):l--;let f=de.empty,p=0;for(let m=s,h=!1;m>n;m--)h||o.after(m+1)<o.end(m)?(h=!0,f=de.from(o.node(m).copy(f)),p++):c++;e.step(new un(l,c,a,i,new Je(u.append(f),d,p),u.size-d,!0))}function Kx(e,t,n=null,r=e){let o=RMe(e,t),s=o&&BMe(r,t);return s?o.map($B).concat({type:t,attrs:n}).concat(s.map($B)):null}function $B(e){return{type:e,attrs:null}}function RMe(e,t){let{parent:n,startIndex:r,endIndex:o}=e,s=n.contentMatchAt(r).findWrapping(t);if(!s)return null;let a=s.length?s[0]:t;return n.canReplaceWith(r,o,a)?s:null}function BMe(e,t){let{parent:n,startIndex:r,endIndex:o}=e,s=n.child(r),a=t.contentMatch.findWrapping(s.type);if(!a)return null;let l=(a.length?a[a.length-1]:t).contentMatch;for(let c=r;l&&c<o;c++)l=l.matchType(n.child(c).type);return!l||!l.validEnd?null:a}function NMe(e,t,n){let r=de.empty;for(let a=n.length-1;a>=0;a--){if(r.size){let i=n[a].type.contentMatch.matchFragment(r);if(!i||!i.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=de.from(n[a].type.create(n[a].attrs,r))}let o=t.start,s=t.end;e.step(new un(o,s,o,s,new Je(r,0,0),n.length,!0))}function DMe(e,t,n,r,o){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=e.steps.length;e.doc.nodesBetween(t,n,(a,i)=>{let l=typeof o=="function"?o(a):o;if(a.isTextblock&&!a.hasMarkup(r,l)&&FMe(e.doc,e.mapping.slice(s).map(i),r)){let c=null;if(r.schema.linebreakReplacement){let p=r.whitespace=="pre",m=!!r.contentMatch.matchType(r.schema.linebreakReplacement);p&&!m?c=!1:!p&&m&&(c=!0)}c===!1&&HV(e,a,i,s),EM(e,e.mapping.slice(s).map(i,1),r,void 0,c===null);let u=e.mapping.slice(s),d=u.map(i,1),f=u.map(i+a.nodeSize,1);return e.step(new un(d,f,d+1,f-1,new Je(de.from(r.create(l,null,a.marks)),0,0),1,!0)),c===!0&&KV(e,a,i,s),!1}})}function KV(e,t,n,r){t.forEach((o,s)=>{if(o.isText){let a,i=/\r?\n|\r/g;for(;a=i.exec(o.text);){let l=e.mapping.slice(r).map(n+1+s+a.index);e.replaceWith(l,l+1,t.type.schema.linebreakReplacement.create())}}})}function HV(e,t,n,r){t.forEach((o,s)=>{if(o.type==o.type.schema.linebreakReplacement){let a=e.mapping.slice(r).map(n+1+s);e.replaceWith(a,a+1,t.type.schema.text(`
`))}})}function FMe(e,t,n){let r=e.resolve(t),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}function qMe(e,t,n,r,o){let s=e.doc.nodeAt(t);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let a=n.create(r,null,o||s.marks);if(s.isLeaf)return e.replaceWith(t,t+s.nodeSize,a);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new un(t,t+s.nodeSize,t+1,t+s.nodeSize-1,new Je(de.from(a),0,0),1,!0))}function ot(e,t,n=1,r){let o=e.resolve(t),s=o.depth-n,a=r&&r[r.length-1]||o.parent;if(s<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!a.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let c=o.depth-1,u=n-2;c>s;c--,u--){let d=o.node(c),f=o.index(c);if(d.type.spec.isolating)return!1;let p=d.content.cutByIndex(f,d.childCount),m=r&&r[u+1];m&&(p=p.replaceChild(0,m.type.create(m.attrs)));let h=r&&r[u]||d;if(!d.canReplace(f+1,d.childCount)||!h.type.validContent(p))return!1}let i=o.indexAfter(s),l=r&&r[0];return o.node(s).canReplaceWith(i,i,l?l.type:o.node(s+1).type)}function zMe(e,t,n=1,r){let o=e.doc.resolve(t),s=de.empty,a=de.empty;for(let i=o.depth,l=o.depth-n,c=n-1;i>l;i--,c--){s=de.from(o.node(i).copy(s));let u=r&&r[c];a=de.from(u?u.type.create(u.attrs,a):o.node(i).copy(a))}e.step(new ln(t,t,new Je(s.append(a),n,n),!0))}function Ht(e,t){let n=e.resolve(t),r=n.index();return WV(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function LMe(e,t){t.content.size||e.type.compatibleContent(t.type);let n=e.contentMatchAt(e.childCount),{linebreakReplacement:r}=e.type.schema;for(let o=0;o<t.childCount;o++){let s=t.child(o),a=s.type==r?e.type.schema.nodes.text:s.type;if(n=n.matchType(a),!n||!e.type.allowsMarks(s.marks))return!1}return n.validEnd}function WV(e,t){return!!(e&&t&&!e.isLeaf&&LMe(e,t))}function on(e,t,n=-1){let r=e.resolve(t);for(let o=r.depth;;o--){let s,a,i=r.index(o);if(o==r.depth?(s=r.nodeBefore,a=r.nodeAfter):n>0?(s=r.node(o+1),i++,a=r.node(o).maybeChild(i)):(s=r.node(o).maybeChild(i-1),a=r.node(o+1)),s&&!s.isTextblock&&WV(s,a)&&r.node(o).canReplace(i,i+1))return t;if(o==0)break;t=n<0?r.before(o):r.after(o)}}function jMe(e,t,n){let r=null,{linebreakReplacement:o}=e.doc.type.schema,s=e.doc.resolve(t-n),a=s.node().type;if(o&&a.inlineContent){let u=a.whitespace=="pre",d=!!a.contentMatch.matchType(o);u&&!d?r=!1:!u&&d&&(r=!0)}let i=e.steps.length;if(r===!1){let u=e.doc.resolve(t+n);HV(e,u.node(),u.before(),i)}a.inlineContent&&EM(e,t+n-1,a,s.node().contentMatchAt(s.index()),r==null);let l=e.mapping.slice(i),c=l.map(t-n);if(e.step(new ln(c,l.map(t+n,-1),Je.empty,!0)),r===!0){let u=e.doc.resolve(c);KV(e,u.node(),u.before(),e.steps.length)}return e}function VMe(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(r.parentOffset==0)for(let o=r.depth-1;o>=0;o--){let s=r.index(o);if(r.node(o).canReplaceWith(s,s,n))return r.before(o+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let o=r.depth-1;o>=0;o--){let s=r.indexAfter(o);if(r.node(o).canReplaceWith(s,s,n))return r.after(o+1);if(s<r.node(o).childCount)return null}return null}function GV(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let o=n.content;for(let s=0;s<n.openStart;s++)o=o.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let a=r.depth;a>=0;a--){let i=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,l=r.index(a)+(i>0?1:0),c=r.node(a),u=!1;if(s==1)u=c.canReplace(l,l,o);else{let d=c.contentMatchAt(l).findWrapping(o.firstChild.type);u=d&&c.canReplaceWith(l,l,d[0])}if(u)return i==0?r.pos:i<0?r.before(a+1):r.after(a+1)}return null}function Hx(e,t,n=t,r=Je.empty){if(t==n&&!r.size)return null;let o=e.resolve(t),s=e.resolve(n);return JV(o,s,r)?new ln(t,n,r):new UMe(o,s,r).fit()}function JV(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}class UMe{constructor(t,n,r){this.$from=t,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=de.empty;for(let o=0;o<=t.depth;o++){let s=t.node(o);this.frontier.push({type:s.type,match:s.contentMatchAt(t.indexAfter(o))})}for(let o=t.depth;o>0;o--)this.placed=de.from(t.node(o).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,o=this.close(t<0?this.$to:r.doc.resolve(t));if(!o)return null;let s=this.placed,a=r.depth,i=o.depth;for(;a&&i&&s.childCount==1;)s=s.firstChild.content,a--,i--;let l=new Je(s,a,i);return t>-1?new un(r.pos,t,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new ln(r.pos,o.pos,l):null}findFittable(){let t=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,o=this.unplaced.openEnd;r<t;r++){let s=n.firstChild;if(n.childCount>1&&(o=0),s.type.spec.isolating&&o<=r){t=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?t:this.unplaced.openStart;r>=0;r--){let o,s=null;r?(s=s_(this.unplaced.content,r-1).firstChild,o=s.content):o=this.unplaced.content;let a=o.firstChild;for(let i=this.depth;i>=0;i--){let{type:l,match:c}=this.frontier[i],u,d=null;if(n==1&&(a?c.matchType(a.type)||(d=c.fillBefore(de.from(a),!1)):s&&l.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:i,parent:s,inject:d};if(n==2&&a&&(u=c.findWrapping(a.type)))return{sliceDepth:r,frontierDepth:i,parent:s,wrap:u};if(s&&c.matchType(s.type))break}}}openMore(){let{content:t,openStart:n,openEnd:r}=this.unplaced,o=s_(t,n);return!o.childCount||o.firstChild.isLeaf?!1:(this.unplaced=new Je(t,n+1,Math.max(r,o.size+n>=t.size-r?n+1:0)),!0)}dropNode(){let{content:t,openStart:n,openEnd:r}=this.unplaced,o=s_(t,n);if(o.childCount<=1&&n>0){let s=t.size-n<=n+o.size;this.unplaced=new Je(mp(t,n-1,1),n-1,s?n-1:r)}else this.unplaced=new Je(mp(t,n,1),n,r)}placeNodes({sliceDepth:t,frontierDepth:n,parent:r,inject:o,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let h=0;h<s.length;h++)this.openFrontierNode(s[h]);let a=this.unplaced,i=r?r.content:a.content,l=a.openStart-t,c=0,u=[],{match:d,type:f}=this.frontier[n];if(o){for(let h=0;h<o.childCount;h++)u.push(o.child(h));d=d.matchFragment(o)}let p=i.size+t-(a.content.size-a.openEnd);for(;c<i.childCount;){let h=i.child(c),g=d.matchType(h.type);if(!g)break;c++,(c>1||l==0||h.content.size)&&(d=g,u.push(YV(h.mark(f.allowedMarks(h.marks)),c==1?l:0,c==i.childCount?p:-1)))}let m=c==i.childCount;m||(p=-1),this.placed=hp(this.placed,n,de.from(u)),this.frontier[n].match=d,m&&p<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let h=0,g=i;h<p;h++){let v=g.lastChild;this.frontier.push({type:v.type,match:v.contentMatchAt(v.childCount)}),g=v.content}this.unplaced=m?t==0?Je.empty:new Je(mp(a.content,t-1,1),t-1,p<0?a.openEnd:t-1):new Je(mp(a.content,t,c),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],n;if(!t.type.isTextblock||!a_(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,o=this.$to.after(r);for(;r>1&&o==this.$to.end(--r);)++o;return o}findCloseLevel(t){e:for(let n=Math.min(this.depth,t.depth);n>=0;n--){let{match:r,type:o}=this.frontier[n],s=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),a=a_(t,n,o,r,s);if(a){for(let i=n-1;i>=0;i--){let{match:l,type:c}=this.frontier[i],u=a_(t,i,c,l,!0);if(!u||u.childCount)continue e}return{depth:n,fit:a,move:s?t.doc.resolve(t.after(n+1)):t}}}}close(t){let n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=hp(this.placed,n.depth,n.fit)),t=n.move;for(let r=n.depth+1;r<=t.depth;r++){let o=t.node(r),s=o.type.contentMatch.fillBefore(o.content,!0,t.index(r));this.openFrontierNode(o.type,o.attrs,s)}return t}openFrontierNode(t,n=null,r){let o=this.frontier[this.depth];o.match=o.match.matchType(t),this.placed=hp(this.placed,this.depth,de.from(t.create(n,r))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(de.empty,!0);n.childCount&&(this.placed=hp(this.placed,this.frontier.length,n))}}function mp(e,t,n){return t==0?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(mp(e.firstChild.content,t-1,n)))}function hp(e,t,n){return t==0?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(hp(e.lastChild.content,t-1,n)))}function s_(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function YV(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,YV(r.firstChild,t-1,r.childCount==1?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(de.empty,!0)))),e.copy(r)}function a_(e,t,n,r,o){let s=e.node(t),a=o?e.indexAfter(t):e.index(t);if(a==s.childCount&&!n.compatibleContent(s.type))return null;let i=r.fillBefore(s.content,!0,a);return i&&!KMe(n,s.content,a)?i:null}function KMe(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}function HMe(e){return e.spec.defining||e.spec.definingForContent}function WMe(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let o=e.doc.resolve(t),s=e.doc.resolve(n);if(JV(o,s,r))return e.step(new ln(t,n,r));let a=XV(o,s);a[a.length-1]==0&&a.pop();let i=-(o.depth+1);a.unshift(i);for(let f=o.depth,p=o.pos-1;f>0;f--,p--){let m=o.node(f).type.spec;if(m.defining||m.definingAsContext||m.isolating)break;a.indexOf(f)>-1?i=f:o.before(f)==p&&a.splice(1,0,-f)}let l=a.indexOf(i),c=[],u=r.openStart;for(let f=r.content,p=0;;p++){let m=f.firstChild;if(c.push(m),p==r.openStart)break;f=m.content}for(let f=u-1;f>=0;f--){let p=c[f],m=HMe(p.type);if(m&&!p.sameMarkup(o.node(Math.abs(i)-1)))u=f;else if(m||!p.type.isTextblock)break}for(let f=r.openStart;f>=0;f--){let p=(f+u+1)%(r.openStart+1),m=c[p];if(m)for(let h=0;h<a.length;h++){let g=a[(h+l)%a.length],v=!0;g<0&&(v=!1,g=-g);let x=o.node(g-1),$=o.index(g-1);if(x.canReplaceWith($,$,m.type,m.marks))return e.replace(o.before(g),v?s.after(g):n,new Je(QV(r.content,0,r.openStart,p),p,r.openEnd))}}let d=e.steps.length;for(let f=a.length-1;f>=0&&(e.replace(t,n,r),!(e.steps.length>d));f--){let p=a[f];p<0||(t=o.before(p),n=s.after(p))}}function QV(e,t,n,r,o){if(t<n){let s=e.firstChild;e=e.replaceChild(0,s.copy(QV(s.content,t+1,n,r,s)))}if(t>r){let s=o.contentMatchAt(0),a=s.fillBefore(e).append(e);e=a.append(s.matchFragment(a).fillBefore(de.empty,!0))}return e}function GMe(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let o=VMe(e.doc,t,r.type);o!=null&&(t=n=o)}e.replaceRange(t,n,new Je(de.from(r),0,0))}function JMe(e,t,n){let r=e.doc.resolve(t),o=e.doc.resolve(n),s=XV(r,o);for(let a=0;a<s.length;a++){let i=s[a],l=a==s.length-1;if(l&&i==0||r.node(i).type.contentMatch.validEnd)return e.delete(r.start(i),o.end(i));if(i>0&&(l||r.node(i-1).canReplace(r.index(i-1),o.indexAfter(i-1))))return e.delete(r.before(i),o.after(i))}for(let a=1;a<=r.depth&&a<=o.depth;a++)if(t-r.start(a)==r.depth-a&&n>r.end(a)&&o.end(a)-n!=o.depth-a&&r.start(a-1)==o.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),o.index(a-1)))return e.delete(r.before(a),n);e.delete(t,n)}function XV(e,t){let n=[],r=Math.min(e.depth,t.depth);for(let o=r;o>=0;o--){let s=e.start(o);if(s<e.pos-(e.depth-o)||t.end(o)>t.pos+(t.depth-o)||e.node(o).type.spec.isolating||t.node(o).type.spec.isolating)break;(s==t.start(o)||o==e.depth&&o==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&o&&t.start(o-1)==s-1)&&n.push(o)}return n}class Id extends Ko{constructor(t,n,r){super(),this.pos=t,this.attr=n,this.value=r}apply(t){let n=t.nodeAt(this.pos);if(!n)return vr.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let o=n.type.create(r,null,n.marks);return vr.fromReplace(t,this.pos,this.pos+1,new Je(de.from(o),0,n.isLeaf?0:1))}getMap(){return Is.empty}invert(t){return new Id(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Id(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Id(n.pos,n.attr,n.value)}}Ko.jsonID("attr",Id);class dm extends Ko{constructor(t,n){super(),this.attr=t,this.value=n}apply(t){let n=Object.create(null);for(let o in t.attrs)n[o]=t.attrs[o];n[this.attr]=this.value;let r=t.type.create(n,t.content,t.marks);return vr.ok(r)}getMap(){return Is.empty}invert(t){return new dm(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new dm(n.attr,n.value)}}Ko.jsonID("docAttr",dm);let Xd=class extends Error{};Xd=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n};Xd.prototype=Object.create(Error.prototype);Xd.prototype.constructor=Xd;Xd.prototype.name="TransformError";class zr{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new cm}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let n=this.maybeStep(t);if(n.failed)throw new Xd(n.failed);return this}maybeStep(t){let n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n}get docChanged(){return this.steps.length>0}addStep(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n}replace(t,n=t,r=Je.empty){let o=Hx(this.doc,t,n,r);return o&&this.step(o),this}replaceWith(t,n,r){return this.replace(t,n,new Je(de.from(r),0,0))}delete(t,n){return this.replace(t,n,Je.empty)}insert(t,n){return this.replaceWith(t,t,n)}replaceRange(t,n,r){return WMe(this,t,n,r),this}replaceRangeWith(t,n,r){return GMe(this,t,n,r),this}deleteRange(t,n){return JMe(this,t,n),this}lift(t,n){return OMe(this,t,n),this}join(t,n=1){return jMe(this,t,n),this}wrap(t,n){return NMe(this,t,n),this}setBlockType(t,n=t,r,o=null){return DMe(this,t,n,r,o),this}setNodeMarkup(t,n,r=null,o){return qMe(this,t,n,r,o),this}setNodeAttribute(t,n,r){return this.step(new Id(t,n,r)),this}setDocAttribute(t,n){return this.step(new dm(t,n)),this}addNodeMark(t,n){return this.step(new zl(t,n)),this}removeNodeMark(t,n){let r=this.doc.nodeAt(t);if(!r)throw new RangeError("No node at position "+t);if(n instanceof Tn)n.isInSet(r.marks)&&this.step(new $c(t,n));else{let o=r.marks,s,a=[];for(;s=n.isInSet(o);)a.push(new $c(t,s)),o=s.removeFromSet(o);for(let i=a.length-1;i>=0;i--)this.step(a[i])}return this}split(t,n=1,r){return zMe(this,t,n,r),this}addMark(t,n,r){return EMe(this,t,n,r),this}removeMark(t,n,r){return IMe(this,t,n,r),this}clearIncompatible(t,n,r){return EM(this,t,n,r),this}}const i_=Object.create(null);class Pe{constructor(t,n,r){this.$anchor=t,this.$head=n,this.ranges=r||[new YMe(t.min(n),t.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let n=0;n<t.length;n++)if(t[n].$from.pos!=t[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=Je.empty){let r=n.content.lastChild,o=null;for(let i=0;i<n.openEnd;i++)o=r,r=r.lastChild;let s=t.steps.length,a=this.ranges;for(let i=0;i<a.length;i++){let{$from:l,$to:c}=a[i],u=t.mapping.slice(s);t.replaceRange(u.map(l.pos),u.map(c.pos),i?Je.empty:n),i==0&&AB(t,s,(r?r.isInline:o&&o.isTextblock)?-1:1)}}replaceWith(t,n){let r=t.steps.length,o=this.ranges;for(let s=0;s<o.length;s++){let{$from:a,$to:i}=o[s],l=t.mapping.slice(r),c=l.map(a.pos),u=l.map(i.pos);s?t.deleteRange(c,u):(t.replaceRangeWith(c,u,n),AB(t,r,n.isInline?-1:1))}}static findFrom(t,n,r=!1){let o=t.parent.inlineContent?new ie(t):bd(t.node(0),t.parent,t.pos,t.index(),n,r);if(o)return o;for(let s=t.depth-1;s>=0;s--){let a=n<0?bd(t.node(0),t.node(s),t.before(s+1),t.index(s),n,r):bd(t.node(0),t.node(s),t.after(s+1),t.index(s)+1,n,r);if(a)return a}return null}static near(t,n=1){return this.findFrom(t,n)||this.findFrom(t,-n)||new Sn(t.node(0))}static atStart(t){return bd(t,t,0,0,1)||new Sn(t)}static atEnd(t){return bd(t,t,t.content.size,t.childCount,-1)||new Sn(t)}static fromJSON(t,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=i_[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in i_)throw new RangeError("Duplicate use of selection JSON ID "+t);return i_[t]=n,n.prototype.jsonID=t,n}getBookmark(){return ie.between(this.$anchor,this.$head).getBookmark()}}Pe.prototype.visible=!0;class YMe{constructor(t,n){this.$from=t,this.$to=n}}let CB=!1;function MB(e){!CB&&!e.parent.inlineContent&&(CB=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class ie extends Pe{constructor(t,n=t){MB(t),MB(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let r=t.resolve(n.map(this.head));if(!r.parent.inlineContent)return Pe.near(r);let o=t.resolve(n.map(this.anchor));return new ie(o.parent.inlineContent?o:r,r)}replace(t,n=Je.empty){if(super.replace(t,n),n==Je.empty){let r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}}eq(t){return t instanceof ie&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new Wx(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new ie(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){let o=t.resolve(n);return new this(o,r==n?o:t.resolve(r))}static between(t,n,r){let o=t.pos-n.pos;if((!r||o)&&(r=o>=0?1:-1),!n.parent.inlineContent){let s=Pe.findFrom(n,r,!0)||Pe.findFrom(n,-r,!0);if(s)n=s.$head;else return Pe.near(n,r)}return t.parent.inlineContent||(o==0?t=n:(t=(Pe.findFrom(t,-r,!0)||Pe.findFrom(t,r,!0)).$anchor,t.pos<n.pos!=o<0&&(t=n))),new ie(t,n)}}Pe.jsonID("text",ie);class Wx{constructor(t,n){this.anchor=t,this.head=n}map(t){return new Wx(t.map(this.anchor),t.map(this.head))}resolve(t){return ie.between(t.resolve(this.anchor),t.resolve(this.head))}}class Ge extends Pe{constructor(t){let n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);super(t,r),this.node=n}map(t,n){let{deleted:r,pos:o}=n.mapResult(this.anchor),s=t.resolve(o);return r?Pe.near(s):new Ge(s)}content(){return new Je(de.from(this.node),0,0)}eq(t){return t instanceof Ge&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new IM(this.anchor)}static fromJSON(t,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Ge(t.resolve(n.anchor))}static create(t,n){return new Ge(t.resolve(n))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}Ge.prototype.visible=!1;Pe.jsonID("node",Ge);class IM{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:r}=t.mapResult(this.anchor);return n?new Wx(r,r):new IM(r)}resolve(t){let n=t.resolve(this.anchor),r=n.nodeAfter;return r&&Ge.isSelectable(r)?new Ge(n):Pe.near(n)}}class Sn extends Pe{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=Je.empty){if(n==Je.empty){t.delete(0,t.doc.content.size);let r=Pe.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new Sn(t)}map(t){return new Sn(t)}eq(t){return t instanceof Sn}getBookmark(){return QMe}}Pe.jsonID("all",Sn);const QMe={map(){return this},resolve(e){return new Sn(e)}};function bd(e,t,n,r,o,s=!1){if(t.inlineContent)return ie.create(e,n);for(let a=r-(o>0?0:1);o>0?a<t.childCount:a>=0;a+=o){let i=t.child(a);if(i.isAtom){if(!s&&Ge.isSelectable(i))return Ge.create(e,n-(o<0?i.nodeSize:0))}else{let l=bd(e,i,n+o,o<0?i.childCount:0,o,s);if(l)return l}n+=i.nodeSize*o}return null}function AB(e,t,n){let r=e.steps.length-1;if(r<t)return;let o=e.steps[r];if(!(o instanceof ln||o instanceof un))return;let s=e.mapping.maps[r],a;s.forEach((i,l,c,u)=>{a==null&&(a=u)}),e.setSelection(Pe.near(e.doc.resolve(a),n))}const TB=1,gv=2,EB=4;class XMe extends zr{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|TB)&~gv,this.storedMarks=null,this}get selectionSet(){return(this.updated&TB)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=gv,this}ensureMarks(t){return Tn.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&gv)>0}addStep(t,n){super.addStep(t,n),this.updated=this.updated&~gv,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,n=!0){let r=this.selection;return n&&(t=t.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Tn.none))),r.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,n,r){let o=this.doc.type.schema;if(n==null)return t?this.replaceSelectionWith(o.text(t),!0):this.deleteSelection();{if(r==null&&(r=n),!t)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let a=this.doc.resolve(n);s=r==n?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,o.text(t,s)),!this.selection.empty&&this.selection.to==n+t.length&&this.setSelection(Pe.near(this.selection.$to)),this}}setMeta(t,n){return this.meta[typeof t=="string"?t:t.key]=n,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=EB,this}get scrolledIntoView(){return(this.updated&EB)>0}}function IB(e,t){return!t||!e?e:e.bind(t)}class gp{constructor(t,n,r){this.name=t,this.init=IB(n.init,r),this.apply=IB(n.apply,r)}}const ZMe=[new gp("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new gp("selection",{init(e,t){return e.selection||Pe.atStart(t.doc)},apply(e){return e.selection}}),new gp("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new gp("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class l_{constructor(t,n){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=ZMe.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new gp(r.key,r.spec.state,r))})}}class Sd{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let o=this.config.plugins[r];if(o.spec.filterTransaction&&!o.spec.filterTransaction.call(o,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let n=[t],r=this.applyInner(t),o=null;for(;;){let s=!1;for(let a=0;a<this.config.plugins.length;a++){let i=this.config.plugins[a];if(i.spec.appendTransaction){let l=o?o[a].n:0,c=o?o[a].state:this,u=l<n.length&&i.spec.appendTransaction.call(i,l?n.slice(l):n,c,r);if(u&&r.filterTransaction(u,a)){if(u.setMeta("appendedTransaction",t),!o){o=[];for(let d=0;d<this.config.plugins.length;d++)o.push(d<a?{state:r,n:n.length}:{state:this,n:0})}n.push(u),r=r.applyInner(u),s=!0}o&&(o[a]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Sd(this.config),r=this.config.fields;for(let o=0;o<r.length;o++){let s=r[o];n[s.name]=s.apply(t,this[s.name],this,n)}return n}get tr(){return new XMe(this)}static create(t){let n=new l_(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new Sd(n);for(let o=0;o<n.fields.length;o++)r[n.fields[o].name]=n.fields[o].init(t,r);return r}reconfigure(t){let n=new l_(this.schema,t.plugins),r=n.fields,o=new Sd(n);for(let s=0;s<r.length;s++){let a=r[s].name;o[a]=this.hasOwnProperty(a)?this[a]:r[s].init(t,o)}return o}toJSON(t){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),t&&typeof t=="object")for(let r in t){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let o=t[r],s=o.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(o,this[o.key]))}return n}static fromJSON(t,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let o=new l_(t.schema,t.plugins),s=new Sd(o);return o.fields.forEach(a=>{if(a.name=="doc")s.doc=Hn.fromJSON(t.schema,n.doc);else if(a.name=="selection")s.selection=Pe.fromJSON(s.doc,n.selection);else if(a.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(r)for(let i in r){let l=r[i],c=l.spec.state;if(l.key==a.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,i)){s[a.name]=c.fromJSON.call(l,t,n[i],s);return}}s[a.name]=a.init(t,s)}}),s}}function ZV(e,t,n){for(let r in e){let o=e[r];o instanceof Function?o=o.bind(t):r=="handleDOMEvents"&&(o=ZV(o,t,{})),n[r]=o}return n}class Se{constructor(t){this.spec=t,this.props={},t.props&&ZV(t.props,this,this.props),this.key=t.key?t.key.key:e4("plugin")}getState(t){return t[this.key]}}const u_=Object.create(null);function e4(e){return e in u_?e+"$"+ ++u_[e]:(u_[e]=0,e+"$")}class Ce{constructor(t="key"){this.key=e4(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const Cr=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function t4(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const Lr=(e,t,n)=>{let r=t4(e,n);if(!r)return!1;let o=PM(r);if(!o){let a=r.blockRange(),i=a&&lr(a);return i==null?!1:(t&&t(e.tr.lift(a,i).scrollIntoView()),!0)}let s=o.nodeBefore;if(o4(e,o,t,-1))return!0;if(r.parent.content.size==0&&(Zd(s,"end")||Ge.isSelectable(s)))for(let a=r.depth;;a--){let i=Hx(e.doc,r.before(a),r.after(a),Je.empty);if(i&&i.slice.size<i.to-i.from){if(t){let l=e.tr.step(i);l.setSelection(Zd(s,"end")?Pe.findFrom(l.doc.resolve(l.mapping.map(o.pos,-1)),-1):Ge.create(l.doc,o.pos-s.nodeSize)),t(l.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return s.isAtom&&o.depth==r.depth-1?(t&&t(e.tr.delete(o.pos-s.nodeSize,o.pos).scrollIntoView()),!0):!1},so=(e,t,n)=>{let r=t4(e,n);if(!r)return!1;let o=PM(r);return o?n4(e,o,t):!1},ao=(e,t,n)=>{let r=r4(e,n);if(!r)return!1;let o=OM(r);return o?n4(e,o,t):!1};function n4(e,t,n){let r=t.nodeBefore,o=r,s=t.pos-1;for(;!o.isTextblock;s--){if(o.type.spec.isolating)return!1;let u=o.lastChild;if(!u)return!1;o=u}let a=t.nodeAfter,i=a,l=t.pos+1;for(;!i.isTextblock;l++){if(i.type.spec.isolating)return!1;let u=i.firstChild;if(!u)return!1;i=u}let c=Hx(e.doc,s,l,Je.empty);if(!c||c.from!=s||c instanceof ln&&c.slice.size>=l-s)return!1;if(n){let u=e.tr.step(c);u.setSelection(ie.create(u.doc,s)),n(u.scrollIntoView())}return!0}function Zd(e,t,n=!1){for(let r=e;r;r=t=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const jr=(e,t,n)=>{let{$head:r,empty:o}=e.selection,s=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;s=PM(r)}let a=s&&s.nodeBefore;return!a||!Ge.isSelectable(a)?!1:(t&&t(e.tr.setSelection(Ge.create(e.doc,s.pos-a.nodeSize)).scrollIntoView()),!0)};function PM(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function r4(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const Vr=(e,t,n)=>{let r=r4(e,n);if(!r)return!1;let o=OM(r);if(!o)return!1;let s=o.nodeAfter;if(o4(e,o,t,1))return!0;if(r.parent.content.size==0&&(Zd(s,"start")||Ge.isSelectable(s))){let a=Hx(e.doc,r.before(),r.after(),Je.empty);if(a&&a.slice.size<a.to-a.from){if(t){let i=e.tr.step(a);i.setSelection(Zd(s,"start")?Pe.findFrom(i.doc.resolve(i.mapping.map(o.pos)),1):Ge.create(i.doc,i.mapping.map(o.pos))),t(i.scrollIntoView())}return!0}}return s.isAtom&&o.depth==r.depth-1?(t&&t(e.tr.delete(o.pos,o.pos+s.nodeSize).scrollIntoView()),!0):!1},Ur=(e,t,n)=>{let{$head:r,empty:o}=e.selection,s=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;s=OM(r)}let a=s&&s.nodeAfter;return!a||!Ge.isSelectable(a)?!1:(t&&t(e.tr.setSelection(Ge.create(e.doc,s.pos)).scrollIntoView()),!0)};function OM(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const io=(e,t)=>{let n=e.selection,r=n instanceof Ge,o;if(r){if(n.node.isTextblock||!Ht(e.doc,n.from))return!1;o=n.from}else if(o=on(e.doc,n.from,-1),o==null)return!1;if(t){let s=e.tr.join(o);r&&s.setSelection(Ge.create(s.doc,o-e.doc.resolve(o).nodeBefore.nodeSize)),t(s.scrollIntoView())}return!0},lo=(e,t)=>{let n=e.selection,r;if(n instanceof Ge){if(n.node.isTextblock||!Ht(e.doc,n.to))return!1;r=n.to}else if(r=on(e.doc,n.to,1),r==null)return!1;return t&&t(e.tr.join(r).scrollIntoView()),!0},uo=(e,t)=>{let{$from:n,$to:r}=e.selection,o=n.blockRange(r),s=o&&lr(o);return s==null?!1:(t&&t(e.tr.lift(o,s).scrollIntoView()),!0)},Kr=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function RM(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const co=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let o=n.node(-1),s=n.indexAfter(-1),a=RM(o.contentMatchAt(s));if(!a||!o.canReplaceWith(s,s,a))return!1;if(t){let i=n.after(),l=e.tr.replaceWith(i,i,a.createAndFill());l.setSelection(Pe.near(l.doc.resolve(i),1)),t(l.scrollIntoView())}return!0},Hr=(e,t)=>{let n=e.selection,{$from:r,$to:o}=n;if(n instanceof Sn||r.parent.inlineContent||o.parent.inlineContent)return!1;let s=RM(o.parent.contentMatchAt(o.indexAfter()));if(!s||!s.isTextblock)return!1;if(t){let a=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,i=e.tr.insert(a,s.createAndFill());i.setSelection(ie.create(i.doc,a+1)),t(i.scrollIntoView())}return!0},Wr=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(ot(e.doc,s))return t&&t(e.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),o=r&&lr(r);return o==null?!1:(t&&t(e.tr.lift(r,o).scrollIntoView()),!0)};function eAe(e){return(t,n)=>{let{$from:r,$to:o}=t.selection;if(t.selection instanceof Ge&&t.selection.node.isBlock)return!r.parentOffset||!ot(t.doc,r.pos)?!1:(n&&n(t.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let s=[],a,i,l=!1,c=!1;for(let p=r.depth;;p--)if(r.node(p).isBlock){l=r.end(p)==r.pos+(r.depth-p),c=r.start(p)==r.pos-(r.depth-p),i=RM(r.node(p-1).contentMatchAt(r.indexAfter(p-1))),s.unshift(l&&i?{type:i}:null),a=p;break}else{if(p==1)return!1;s.unshift(null)}let u=t.tr;(t.selection instanceof ie||t.selection instanceof Sn)&&u.deleteSelection();let d=u.mapping.map(r.pos),f=ot(u.doc,d,s.length,s);if(f||(s[0]=i?{type:i}:null,f=ot(u.doc,d,s.length,s)),!f)return!1;if(u.split(d,s.length,s),!l&&c&&r.node(a).type!=i){let p=u.mapping.map(r.before(a)),m=u.doc.resolve(p);i&&r.node(a-1).canReplaceWith(m.index(),m.index()+1,i)&&u.setNodeMarkup(u.mapping.map(r.before(a)),i)}return n&&n(u.scrollIntoView()),!0}}const tAe=eAe(),fo=(e,t)=>{let{$from:n,to:r}=e.selection,o,s=n.sharedDepth(r);return s==0?!1:(o=n.before(s),t&&t(e.tr.setSelection(Ge.create(e.doc,o))),!0)};function nAe(e,t,n){let r=t.nodeBefore,o=t.nodeAfter,s=t.index();return!r||!o||!r.type.compatibleContent(o.type)?!1:!r.content.size&&t.parent.canReplace(s-1,s)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(s,s+1)||!(o.isTextblock||Ht(e.doc,t.pos))?!1:(n&&n(e.tr.join(t.pos).scrollIntoView()),!0)}function o4(e,t,n,r){let o=t.nodeBefore,s=t.nodeAfter,a,i,l=o.type.spec.isolating||s.type.spec.isolating;if(!l&&nAe(e,t,n))return!0;let c=!l&&t.parent.canReplace(t.index(),t.index()+1);if(c&&(a=(i=o.contentMatchAt(o.childCount)).findWrapping(s.type))&&i.matchType(a[0]||s.type).validEnd){if(n){let p=t.pos+s.nodeSize,m=de.empty;for(let v=a.length-1;v>=0;v--)m=de.from(a[v].create(null,m));m=de.from(o.copy(m));let h=e.tr.step(new un(t.pos-1,p,t.pos,p,new Je(m,1,0),a.length,!0)),g=h.doc.resolve(p+2*a.length);g.nodeAfter&&g.nodeAfter.type==o.type&&Ht(h.doc,g.pos)&&h.join(g.pos),n(h.scrollIntoView())}return!0}let u=s.type.spec.isolating||r>0&&l?null:Pe.findFrom(t,1),d=u&&u.$from.blockRange(u.$to),f=d&&lr(d);if(f!=null&&f>=t.depth)return n&&n(e.tr.lift(d,f).scrollIntoView()),!0;if(c&&Zd(s,"start",!0)&&Zd(o,"end")){let p=o,m=[];for(;m.push(p),!p.isTextblock;)p=p.lastChild;let h=s,g=1;for(;!h.isTextblock;h=h.firstChild)g++;if(p.canReplace(p.childCount,p.childCount,h.content)){if(n){let v=de.empty;for(let $=m.length-1;$>=0;$--)v=de.from(m[$].copy(v));let x=e.tr.step(new un(t.pos-m.length,t.pos+s.nodeSize,t.pos+g,t.pos+s.nodeSize-g,new Je(v,m.length,0),0,!0));n(x.scrollIntoView())}return!0}}return!1}function s4(e){return function(t,n){let r=t.selection,o=e<0?r.$from:r.$to,s=o.depth;for(;o.node(s).isInline;){if(!s)return!1;s--}return o.node(s).isTextblock?(n&&n(t.tr.setSelection(ie.create(t.doc,e<0?o.start(s):o.end(s)))),!0):!1}}const po=s4(-1),mo=s4(1);function ho(e,t=null){return function(n,r){let{$from:o,$to:s}=n.selection,a=o.blockRange(s),i=a&&Kx(a,e,t);return i?(r&&r(n.tr.wrap(a,i).scrollIntoView()),!0):!1}}function cn(e,t=null){return function(n,r){let o=!1;for(let s=0;s<n.selection.ranges.length&&!o;s++){let{$from:{pos:a},$to:{pos:i}}=n.selection.ranges[s];n.doc.nodesBetween(a,i,(l,c)=>{if(o)return!1;if(!(!l.isTextblock||l.hasMarkup(e,t)))if(l.type==e)o=!0;else{let u=n.doc.resolve(c),d=u.index();o=u.parent.canReplaceWith(d,d+1,e)}})}if(!o)return!1;if(r){let s=n.tr;for(let a=0;a<n.selection.ranges.length;a++){let{$from:{pos:i},$to:{pos:l}}=n.selection.ranges[a];s.setBlockType(i,l,e,t)}r(s.scrollIntoView())}return!0}}function BM(...e){return function(t,n,r){for(let o=0;o<e.length;o++)if(e[o](t,n,r))return!0;return!1}}BM(Cr,Lr,jr);BM(Cr,Vr,Ur);BM(Kr,Hr,Wr,tAe);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function go(e,t=null){return function(n,r){let{$from:o,$to:s}=n.selection,a=o.blockRange(s);if(!a)return!1;let i=r?n.tr:null;return rAe(i,a,e,t)?(r&&r(i.scrollIntoView()),!0):!1}}function rAe(e,t,n,r=null){let o=!1,s=t,a=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(n)&&t.startIndex==0){if(t.$from.index(t.depth-1)==0)return!1;let l=a.resolve(t.start-2);s=new Cb(l,l,t.depth),t.endIndex<t.parent.childCount&&(t=new Cb(t.$from,a.resolve(t.$to.end(t.depth)),t.depth)),o=!0}let i=Kx(s,n,r,t);return i?(e&&oAe(e,t,i,o,n),!0):!1}function oAe(e,t,n,r,o){let s=de.empty;for(let u=n.length-1;u>=0;u--)s=de.from(n[u].type.create(n[u].attrs,s));e.step(new un(t.start-(r?2:0),t.end,t.start,t.end,new Je(s,0,0),n.length,!0));let a=0;for(let u=0;u<n.length;u++)n[u].type==o&&(a=u+1);let i=n.length-a,l=t.start+n.length-(r?2:0),c=t.parent;for(let u=t.startIndex,d=t.endIndex,f=!0;u<d;u++,f=!1)!f&&ot(e.doc,l,i)&&(e.split(l,i),l+=2*i),l+=c.child(u).nodeSize;return e}function vo(e){return function(t,n){let{$from:r,$to:o}=t.selection,s=r.blockRange(o,a=>a.childCount>0&&a.firstChild.type==e);return s?n?r.node(s.depth-1).type==e?sAe(t,n,e,s):aAe(t,n,s):!0:!1}}function sAe(e,t,n,r){let o=e.tr,s=r.end,a=r.$to.end(r.depth);s<a&&(o.step(new un(s-1,a,s,a,new Je(de.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Cb(o.doc.resolve(r.$from.pos),o.doc.resolve(a),r.depth));const i=lr(r);if(i==null)return!1;o.lift(r,i);let l=o.doc.resolve(o.mapping.map(s,-1)-1);return Ht(o.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&o.join(l.pos),t(o.scrollIntoView()),!0}function aAe(e,t,n){let r=e.tr,o=n.parent;for(let p=n.end,m=n.endIndex-1,h=n.startIndex;m>h;m--)p-=o.child(m).nodeSize,r.delete(p-1,p+1);let s=r.doc.resolve(n.start),a=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let i=n.startIndex==0,l=n.endIndex==o.childCount,c=s.node(-1),u=s.index(-1);if(!c.canReplace(u+(i?0:1),u+1,a.content.append(l?de.empty:de.from(o))))return!1;let d=s.pos,f=d+a.nodeSize;return r.step(new un(d-(i?1:0),f+(l?1:0),d+1,f-1,new Je((i?de.empty:de.from(o.copy(de.empty))).append(l?de.empty:de.from(o.copy(de.empty))),i?0:1,l?0:1),i?0:1)),t(r.scrollIntoView()),!0}function yo(e){return function(t,n){let{$from:r,$to:o}=t.selection,s=r.blockRange(o,c=>c.childCount>0&&c.firstChild.type==e);if(!s)return!1;let a=s.startIndex;if(a==0)return!1;let i=s.parent,l=i.child(a-1);if(l.type!=e)return!1;if(n){let c=l.lastChild&&l.lastChild.type==i.type,u=de.from(c?e.create():null),d=new Je(de.from(e.create(null,de.from(i.type.create(null,u)))),c?3:1,0),f=s.start,p=s.end;n(t.tr.step(new un(f-(c?3:1),p,f,p,d,1,!0)).scrollIntoView())}return!0}}const Xr=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},ef=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let M$=null;const ji=function(e,t,n){let r=M$||(M$=document.createRange());return r.setEnd(e,n??e.nodeValue.length),r.setStart(e,t||0),r},iAe=function(){M$=null},Cc=function(e,t,n,r){return n&&(PB(e,t,n,r,-1)||PB(e,t,n,r,1))},lAe=/^(img|br|input|textarea|hr)$/i;function PB(e,t,n,r,o){for(var s;;){if(e==n&&t==r)return!0;if(t==(o<0?0:Xs(e))){let a=e.parentNode;if(!a||a.nodeType!=1||Dh(e)||lAe.test(e.nodeName)||e.contentEditable=="false")return!1;t=Xr(e)+(o<0?0:1),e=a}else if(e.nodeType==1){let a=e.childNodes[t+(o<0?-1:0)];if(a.nodeType==1&&a.contentEditable=="false")if(!((s=a.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)t+=o;else return!1;else e=a,t=o<0?Xs(e):0}else return!1}}function Xs(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function uAe(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=Xs(e)}else if(e.parentNode&&!Dh(e))t=Xr(e),e=e.parentNode;else return null}}function cAe(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!Dh(e))t=Xr(e)+1,e=e.parentNode;else return null}}function dAe(e,t,n){for(let r=t==0,o=t==Xs(e);r||o;){if(e==n)return!0;let s=Xr(e);if(e=e.parentNode,!e)return!1;r=r&&s==0,o=o&&s==Xs(e)}}function Dh(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const Gx=function(e){return e.focusNode&&Cc(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function qu(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function fAe(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function pAe(e,t,n){if(e.caretPositionFromPoint)try{let r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:Math.min(Xs(r.offsetNode),r.offset)}}catch{}if(e.caretRangeFromPoint){let r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:Math.min(Xs(r.startContainer),r.startOffset)}}}const ni=typeof navigator<"u"?navigator:null,OB=typeof document<"u"?document:null,su=ni&&ni.userAgent||"",A$=/Edge\/(\d+)/.exec(su),a4=/MSIE \d/.exec(su),T$=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(su),ys=!!(a4||T$||A$),Ul=a4?document.documentMode:T$?+T$[1]:A$?+A$[1]:0,ea=!ys&&/gecko\/(\d+)/i.test(su);ea&&+(/Firefox\/(\d+)/.exec(su)||[0,0])[1];const E$=!ys&&/Chrome\/(\d+)/.exec(su),Ir=!!E$,i4=E$?+E$[1]:0,Eo=!ys&&!!ni&&/Apple Computer/.test(ni.vendor),tf=Eo&&(/Mobile\/\w+/.test(su)||!!ni&&ni.maxTouchPoints>2),Ys=tf||(ni?/Mac/.test(ni.platform):!1),l4=ni?/Win/.test(ni.platform):!1,Hi=/Android \d/.test(su),Fh=!!OB&&"webkitFontSmoothing"in OB.documentElement.style,mAe=Fh?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function hAe(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function Ni(e,t){return typeof e=="number"?e:e[t]}function gAe(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function RB(e,t,n){let r=e.someProp("scrollThreshold")||0,o=e.someProp("scrollMargin")||5,s=e.dom.ownerDocument;for(let a=n||e.dom;a;){if(a.nodeType!=1){a=ef(a);continue}let i=a,l=i==s.body,c=l?hAe(s):gAe(i),u=0,d=0;if(t.top<c.top+Ni(r,"top")?d=-(c.top-t.top+Ni(o,"top")):t.bottom>c.bottom-Ni(r,"bottom")&&(d=t.bottom-t.top>c.bottom-c.top?t.top+Ni(o,"top")-c.top:t.bottom-c.bottom+Ni(o,"bottom")),t.left<c.left+Ni(r,"left")?u=-(c.left-t.left+Ni(o,"left")):t.right>c.right-Ni(r,"right")&&(u=t.right-c.right+Ni(o,"right")),u||d)if(l)s.defaultView.scrollBy(u,d);else{let p=i.scrollLeft,m=i.scrollTop;d&&(i.scrollTop+=d),u&&(i.scrollLeft+=u);let h=i.scrollLeft-p,g=i.scrollTop-m;t={left:t.left-h,top:t.top-g,right:t.right-h,bottom:t.bottom-g}}let f=l?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(f))break;a=f=="absolute"?a.offsetParent:ef(a)}}function vAe(e){let t=e.dom.getBoundingClientRect(),n=Math.max(0,t.top),r,o;for(let s=(t.left+t.right)/2,a=n+1;a<Math.min(innerHeight,t.bottom);a+=5){let i=e.root.elementFromPoint(s,a);if(!i||i==e.dom||!e.dom.contains(i))continue;let l=i.getBoundingClientRect();if(l.top>=n-20){r=i,o=l.top;break}}return{refDOM:r,refTop:o,stack:u4(e.dom)}}function u4(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=ef(r));return t}function yAe({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;c4(n,r==0?0:r-t)}function c4(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:o,left:s}=e[n];r.scrollTop!=o+t&&(r.scrollTop=o+t),r.scrollLeft!=s&&(r.scrollLeft=s)}}let md=null;function bAe(e){if(e.setActive)return e.setActive();if(md)return e.focus(md);let t=u4(e);e.focus(md==null?{get preventScroll(){return md={preventScroll:!0},!0}}:void 0),md||(md=!1,c4(t,0))}function d4(e,t){let n,r=2e8,o,s=0,a=t.top,i=t.top,l,c;for(let u=e.firstChild,d=0;u;u=u.nextSibling,d++){let f;if(u.nodeType==1)f=u.getClientRects();else if(u.nodeType==3)f=ji(u).getClientRects();else continue;for(let p=0;p<f.length;p++){let m=f[p];if(m.top<=a&&m.bottom>=i){a=Math.max(m.bottom,a),i=Math.min(m.top,i);let h=m.left>t.left?m.left-t.left:m.right<t.left?t.left-m.right:0;if(h<r){n=u,r=h,o=h&&n.nodeType==3?{left:m.right<t.left?m.right:m.left,top:t.top}:t,u.nodeType==1&&h&&(s=d+(t.left>=(m.left+m.right)/2?1:0));continue}}else m.top>t.top&&!l&&m.left<=t.left&&m.right>=t.left&&(l=u,c={left:Math.max(m.left,Math.min(m.right,t.left)),top:m.top});!n&&(t.left>=m.right&&t.top>=m.top||t.left>=m.left&&t.top>=m.bottom)&&(s=d+1)}}return!n&&l&&(n=l,o=c,r=0),n&&n.nodeType==3?xAe(n,o):!n||r&&n.nodeType==1?{node:e,offset:s}:d4(n,o)}function xAe(e,t){let n=e.nodeValue.length,r=document.createRange(),o;for(let s=0;s<n;s++){r.setEnd(e,s+1),r.setStart(e,s);let a=Ml(r,1);if(a.top!=a.bottom&&NM(t,a)){o={node:e,offset:s+(t.left>=(a.left+a.right)/2?1:0)};break}}return r.detach(),o||{node:e,offset:0}}function NM(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function wAe(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function kAe(e,t,n){let{node:r,offset:o}=d4(t,n),s=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();s=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return e.docView.posFromDOM(r,o,s)}function _Ae(e,t,n,r){let o=-1;for(let s=t,a=!1;s!=e.dom;){let i=e.docView.nearestDesc(s,!0),l;if(!i)return null;if(i.dom.nodeType==1&&(i.node.isBlock&&i.parent||!i.contentDOM)&&((l=i.dom.getBoundingClientRect()).width||l.height)&&(i.node.isBlock&&i.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(i.dom.nodeName)&&(!a&&l.left>r.left||l.top>r.top?o=i.posBefore:(!a&&l.right<r.left||l.bottom<r.top)&&(o=i.posAfter),a=!0),!i.contentDOM&&o<0&&!i.node.isText))return(i.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?i.posBefore:i.posAfter;s=i.dom.parentNode}return o>-1?o:e.docView.posFromDOM(t,n,-1)}function f4(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let o=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),s=o;;){let a=e.childNodes[s];if(a.nodeType==1){let i=a.getClientRects();for(let l=0;l<i.length;l++){let c=i[l];if(NM(t,c))return f4(a,t,c)}}if((s=(s+1)%r)==o)break}return e}function SAe(e,t){let n=e.dom.ownerDocument,r,o=0,s=pAe(n,t.left,t.top);s&&({node:r,offset:o}=s);let a=(e.root.elementFromPoint?e.root:n).elementFromPoint(t.left,t.top),i;if(!a||!e.dom.contains(a.nodeType!=1?a.parentNode:a)){let c=e.dom.getBoundingClientRect();if(!NM(t,c)||(a=f4(e.dom,t,c),!a))return null}if(Eo)for(let c=a;r&&c;c=ef(c))c.draggable&&(r=void 0);if(a=wAe(a,t),r){if(ea&&r.nodeType==1&&(o=Math.min(o,r.childNodes.length),o<r.childNodes.length)){let u=r.childNodes[o],d;u.nodeName=="IMG"&&(d=u.getBoundingClientRect()).right<=t.left&&d.bottom>t.top&&o++}let c;Fh&&o&&r.nodeType==1&&(c=r.childNodes[o-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=t.top&&o--,r==e.dom&&o==r.childNodes.length-1&&r.lastChild.nodeType==1&&t.top>r.lastChild.getBoundingClientRect().bottom?i=e.state.doc.content.size:(o==0||r.nodeType!=1||r.childNodes[o-1].nodeName!="BR")&&(i=_Ae(e,r,o,t))}i==null&&(i=kAe(e,a,t));let l=e.docView.nearestDesc(a,!0);return{pos:i,inside:l?l.posAtStart-l.border:-1}}function BB(e){return e.top<e.bottom||e.left<e.right}function Ml(e,t){let n=e.getClientRects();if(n.length){let r=n[t<0?0:n.length-1];if(BB(r))return r}return Array.prototype.find.call(n,BB)||e.getBoundingClientRect()}const $Ae=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function p4(e,t,n){let{node:r,offset:o,atom:s}=e.docView.domFromPos(t,n<0?-1:1),a=Fh||ea;if(r.nodeType==3)if(a&&($Ae.test(r.nodeValue)||(n<0?!o:o==r.nodeValue.length))){let l=Ml(ji(r,o,o),n);if(ea&&o&&/\s/.test(r.nodeValue[o-1])&&o<r.nodeValue.length){let c=Ml(ji(r,o-1,o-1),-1);if(c.top==l.top){let u=Ml(ji(r,o,o+1),-1);if(u.top!=l.top)return ip(u,u.left<c.left)}}return l}else{let l=o,c=o,u=n<0?1:-1;return n<0&&!o?(c++,u=-1):n>=0&&o==r.nodeValue.length?(l--,u=1):n<0?l--:c++,ip(Ml(ji(r,l,c),u),u<0)}if(!e.state.doc.resolve(t-(s||0)).parent.inlineContent){if(s==null&&o&&(n<0||o==Xs(r))){let l=r.childNodes[o-1];if(l.nodeType==1)return c_(l.getBoundingClientRect(),!1)}if(s==null&&o<Xs(r)){let l=r.childNodes[o];if(l.nodeType==1)return c_(l.getBoundingClientRect(),!0)}return c_(r.getBoundingClientRect(),n>=0)}if(s==null&&o&&(n<0||o==Xs(r))){let l=r.childNodes[o-1],c=l.nodeType==3?ji(l,Xs(l)-(a?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return ip(Ml(c,1),!1)}if(s==null&&o<Xs(r)){let l=r.childNodes[o];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?ji(l,0,a?0:1):l.nodeType==1?l:null:null;if(c)return ip(Ml(c,-1),!0)}return ip(Ml(r.nodeType==3?ji(r):r,-n),n>=0)}function ip(e,t){if(e.width==0)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function c_(e,t){if(e.height==0)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function m4(e,t,n){let r=e.state,o=e.root.activeElement;r!=t&&e.updateState(t),o!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),o!=e.dom&&o&&o.focus()}}function CAe(e,t,n){let r=t.selection,o=n=="up"?r.$from:r.$to;return m4(e,t,()=>{let{node:s}=e.docView.domFromPos(o.pos,n=="up"?-1:1);for(;;){let i=e.docView.nearestDesc(s,!0);if(!i)break;if(i.node.isBlock){s=i.contentDOM||i.dom;break}s=i.dom.parentNode}let a=p4(e,o.pos,1);for(let i=s.firstChild;i;i=i.nextSibling){let l;if(i.nodeType==1)l=i.getClientRects();else if(i.nodeType==3)l=ji(i,0,i.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(n=="up"?a.top-u.top>(u.bottom-a.top)*2:u.bottom-a.bottom>(a.bottom-u.top)*2))return!1}}return!0})}const MAe=/[\u0590-\u08ac]/;function AAe(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let o=r.parentOffset,s=!o,a=o==r.parent.content.size,i=e.domSelection();return i?!MAe.test(r.parent.textContent)||!i.modify?n=="left"||n=="backward"?s:a:m4(e,t,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:d}=e.domSelectionRange(),f=i.caretBidiLevel;i.modify("move",n,"character");let p=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:m,focusOffset:h}=e.domSelectionRange(),g=m&&!p.contains(m.nodeType==1?m:m.parentNode)||l==m&&c==h;try{i.collapse(u,d),l&&(l!=u||c!=d)&&i.extend&&i.extend(l,c)}catch{}return f!=null&&(i.caretBidiLevel=f),g}):r.pos==r.start()||r.pos==r.end()}let NB=null,DB=null,FB=!1;function TAe(e,t,n){return NB==t&&DB==n?FB:(NB=t,DB=n,FB=n=="up"||n=="down"?CAe(e,t,n):AAe(e,t,n))}const ta=0,qB=1,ju=2,ri=3;class qh{constructor(t,n,r,o){this.parent=t,this.children=n,this.dom=r,this.contentDOM=o,this.dirty=ta,r.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,n,r){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let n=0;n<this.children.length;n++)t+=this.children[n].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let n=0,r=this.posAtStart;;n++){let o=this.children[n];if(o==t)return r;r+=o.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,n,r){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(r<0){let s,a;if(t==this.contentDOM)s=t.childNodes[n-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;s=t.previousSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(a)+a.size:this.posAtStart}else{let s,a;if(t==this.contentDOM)s=t.childNodes[n];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;s=t.nextSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(a):this.posAtEnd}let o;if(t==this.dom&&this.contentDOM)o=n>Xr(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))o=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=t;;s=s.parentNode){if(s==this.dom){o=!1;break}if(s.previousSibling)break}if(o==null&&n==t.childNodes.length)for(let s=t;;s=s.parentNode){if(s==this.dom){o=!0;break}if(s.nextSibling)break}}return o??r>0?this.posAtEnd:this.posAtStart}nearestDesc(t,n=!1){for(let r=!0,o=t;o;o=o.parentNode){let s=this.getDesc(o),a;if(s&&(!n||s.node))if(r&&(a=s.nodeDOM)&&!(a.nodeType==1?a.contains(t.nodeType==1?t:t.parentNode):a==t))r=!1;else return s}}getDesc(t){let n=t.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(t,n,r){for(let o=t;o;o=o.parentNode){let s=this.getDesc(o);if(s)return s.localPosFromDOM(t,n,r)}return-1}descAt(t){for(let n=0,r=0;n<this.children.length;n++){let o=this.children[n],s=r+o.size;if(r==t&&s!=r){for(;!o.border&&o.children.length;)for(let a=0;a<o.children.length;a++){let i=o.children[a];if(i.size){o=i;break}}return o}if(t<s)return o.descAt(t-r-o.border);r=s}}domFromPos(t,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let r=0,o=0;for(let s=0;r<this.children.length;r++){let a=this.children[r],i=s+a.size;if(i>t||a instanceof g4){o=t-s;break}s=i}if(o)return this.children[r].domFromPos(o-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof h4&&s.side>=0;r--);if(n<=0){let s,a=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,a=!1);return s&&n&&a&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?Xr(s.dom)+1:0}}else{let s,a=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,a=!1);return s&&a&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?Xr(s.dom):this.contentDOM.childNodes.length}}}parseRange(t,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let o=-1,s=-1;for(let a=r,i=0;;i++){let l=this.children[i],c=a+l.size;if(o==-1&&t<=c){let u=a+l.border;if(t>=u&&n<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(t,n,u);t=a;for(let d=i;d>0;d--){let f=this.children[d-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){o=Xr(f.dom)+1;break}t-=f.size}o==-1&&(o=0)}if(o>-1&&(c>n||i==this.children.length-1)){n=c;for(let u=i+1;u<this.children.length;u++){let d=this.children[u];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){s=Xr(d.dom);break}n+=d.size}s==-1&&(s=this.contentDOM.childNodes.length);break}a=c}return{node:this.contentDOM,from:t,to:n,fromOffset:o,toOffset:s}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[t<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(t)}domAfterPos(t){let{node:n,offset:r}=this.domFromPos(t,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]}setSelection(t,n,r,o=!1){let s=Math.min(t,n),a=Math.max(t,n);for(let p=0,m=0;p<this.children.length;p++){let h=this.children[p],g=m+h.size;if(s>m&&a<g)return h.setSelection(t-m-h.border,n-m-h.border,r,o);m=g}let i=this.domFromPos(t,t?-1:1),l=n==t?i:this.domFromPos(n,n?-1:1),c=r.root.getSelection(),u=r.domSelectionRange(),d=!1;if((ea||Eo)&&t==n){let{node:p,offset:m}=i;if(p.nodeType==3){if(d=!!(m&&p.nodeValue[m-1]==`
`),d&&m==p.nodeValue.length)for(let h=p,g;h;h=h.parentNode){if(g=h.nextSibling){g.nodeName=="BR"&&(i=l={node:g.parentNode,offset:Xr(g)+1});break}let v=h.pmViewDesc;if(v&&v.node&&v.node.isBlock)break}}else{let h=p.childNodes[m-1];d=h&&(h.nodeName=="BR"||h.contentEditable=="false")}}if(ea&&u.focusNode&&u.focusNode!=l.node&&u.focusNode.nodeType==1){let p=u.focusNode.childNodes[u.focusOffset];p&&p.contentEditable=="false"&&(o=!0)}if(!(o||d&&Eo)&&Cc(i.node,i.offset,u.anchorNode,u.anchorOffset)&&Cc(l.node,l.offset,u.focusNode,u.focusOffset))return;let f=!1;if((c.extend||t==n)&&!(d&&ea)){c.collapse(i.node,i.offset);try{t!=n&&c.extend(l.node,l.offset),f=!0}catch{}}if(!f){if(t>n){let m=i;i=l,l=m}let p=document.createRange();p.setEnd(l.node,l.offset),p.setStart(i.node,i.offset),c.removeAllRanges(),c.addRange(p)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,n){for(let r=0,o=0;o<this.children.length;o++){let s=this.children[o],a=r+s.size;if(r==a?t<=a&&n>=r:t<a&&n>r){let i=r+s.border,l=a-s.border;if(t>=i&&n<=l){this.dirty=t==r||n==a?ju:qB,t==i&&n==l&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=ri:s.markDirty(t-i,n-i);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?ju:ri}r=a}this.dirty=ju}markParentsDirty(){let t=1;for(let n=this.parent;n;n=n.parent,t++){let r=t==1?ju:qB;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(t){return!1}}class h4 extends qh{constructor(t,n,r,o){let s,a=n.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!s)return o;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(a.nodeType!=1){let i=document.createElement("span");i.appendChild(a),a=i}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(t,[],a,null),this.widget=n,this.widget=n,s=this}matchesWidget(t){return this.dirty==ta&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let n=this.widget.spec.stopEvent;return n?n(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class EAe extends qh{constructor(t,n,r,o){super(t,[],n,null),this.textDOM=r,this.text=o}get size(){return this.text.length}localPosFromDOM(t,n){return t!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class Mc extends qh{constructor(t,n,r,o,s){super(t,[],r,o),this.mark=n,this.spec=s}static create(t,n,r,o){let s=o.nodeViews[n.type.name],a=s&&s(n,o,r);return(!a||!a.dom)&&(a=Vc.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new Mc(t,n,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&ri||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=ri&&this.mark.eq(t)}markDirty(t,n){if(super.markDirty(t,n),this.dirty!=ta){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=ta}}slice(t,n,r){let o=Mc.create(this.parent,this.mark,!0,r),s=this.children,a=this.size;n<a&&(s=P$(s,n,a,r)),t>0&&(s=P$(s,0,t,r));for(let i=0;i<s.length;i++)s[i].parent=o;return o.children=s,o}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Kl extends qh{constructor(t,n,r,o,s,a,i,l,c){super(t,[],s,a),this.node=n,this.outerDeco=r,this.innerDeco=o,this.nodeDOM=i}static create(t,n,r,o,s,a){let i=s.nodeViews[n.type.name],l,c=i&&i(n,s,()=>{if(!l)return a;if(l.parent)return l.parent.posBeforeChild(l)},r,o),u=c&&c.dom,d=c&&c.contentDOM;if(n.isText){if(!u)u=document.createTextNode(n.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:d}=Vc.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!d&&!n.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),n.type.spec.draggable&&(u.draggable=!0));let f=u;return u=b4(u,r,n),c?l=new IAe(t,n,r,o,u,d||null,f,c,s,a+1):n.isText?new Jx(t,n,r,o,u,f,s):new Kl(t,n,r,o,u,d||null,f,s,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=()=>de.empty)}return t}matchesNode(t,n,r){return this.dirty==ta&&t.eq(this.node)&&Ab(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,n){let r=this.node.inlineContent,o=n,s=t.composing?this.localCompositionInfo(t,n):null,a=s&&s.pos>-1?s:null,i=s&&s.pos<0,l=new OAe(this,a&&a.node,t);NAe(this.node,this.innerDeco,(c,u,d)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,t):c.type.side>=0&&!d&&l.syncToMarks(u==this.node.childCount?Tn.none:this.node.child(u).marks,r,t),l.placeWidget(c,t,o)},(c,u,d,f)=>{l.syncToMarks(c.marks,r,t);let p;l.findNodeMatch(c,u,d,f)||i&&t.state.selection.from>o&&t.state.selection.to<o+c.nodeSize&&(p=l.findIndexWithChild(s.node))>-1&&l.updateNodeAt(c,u,d,p,t)||l.updateNextNode(c,u,d,t,f,o)||l.addNode(c,u,d,t,o),o+=c.nodeSize}),l.syncToMarks([],r,t),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==ju)&&(a&&this.protectLocalComposition(t,a),v4(this.contentDOM,this.children,t),tf&&DAe(this.dom))}localCompositionInfo(t,n){let{from:r,to:o}=t.state.selection;if(!(t.state.selection instanceof ie)||r<n||o>n+this.node.content.size)return null;let s=t.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let a=s.nodeValue,i=FAe(this.node.content,a,r-n,o-n);return i<0?null:{node:s,pos:i,text:a}}else return{node:s,pos:-1,text:""}}protectLocalComposition(t,{node:n,pos:r,text:o}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let a=new EAe(this,s,n,o);t.input.compositionNodes.push(a),this.children=P$(this.children,r,r+o.length,t,a)}update(t,n,r,o){return this.dirty==ri||!t.sameMarkup(this.node)?!1:(this.updateInner(t,n,r,o),!0)}updateInner(t,n,r,o){this.updateOuterDeco(n),this.node=t,this.innerDeco=r,this.contentDOM&&this.updateChildren(o,this.posAtStart),this.dirty=ta}updateOuterDeco(t){if(Ab(t,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=y4(this.dom,this.nodeDOM,I$(this.outerDeco,this.node,n),I$(t,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function zB(e,t,n,r,o){b4(r,t,e);let s=new Kl(void 0,e,t,n,r,r,r,o,0);return s.contentDOM&&s.updateChildren(o,0),s}class Jx extends Kl{constructor(t,n,r,o,s,a,i){super(t,n,r,o,s,null,a,i,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,n,r,o){return this.dirty==ri||this.dirty!=ta&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=ta||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,o.trackWrites==this.nodeDOM&&(o.trackWrites=null)),this.node=t,this.dirty=ta,!0)}inParent(){let t=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(t,n,r)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,n,r){let o=this.node.cut(t,n),s=document.createTextNode(o.text);return new Jx(this.parent,o,this.outerDeco,this.innerDeco,s,s,r)}markDirty(t,n){super.markDirty(t,n),this.dom!=this.nodeDOM&&(t==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=ri)}get domAtom(){return!1}isText(t){return this.node.text==t}}class g4 extends qh{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==ta&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class IAe extends Kl{constructor(t,n,r,o,s,a,i,l,c,u){super(t,n,r,o,s,a,i,c,u),this.spec=l}update(t,n,r,o){if(this.dirty==ri)return!1;if(this.spec.update&&(this.node.type==t.type||this.spec.multiType)){let s=this.spec.update(t,n,r);return s&&this.updateInner(t,n,r,o),s}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,n,r,o)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,n,r,o){this.spec.setSelection?this.spec.setSelection(t,n,r.root):super.setSelection(t,n,r,o)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function v4(e,t,n){let r=e.firstChild,o=!1;for(let s=0;s<t.length;s++){let a=t[s],i=a.dom;if(i.parentNode==e){for(;i!=r;)r=LB(r),o=!0;r=r.nextSibling}else o=!0,e.insertBefore(i,r);if(a instanceof Mc){let l=r?r.previousSibling:e.lastChild;v4(a.contentDOM,a.children,n),r=l?l.nextSibling:e.firstChild}}for(;r;)r=LB(r),o=!0;o&&n.trackWrites==e&&(n.trackWrites=null)}const Np=function(e){e&&(this.nodeName=e)};Np.prototype=Object.create(null);const Vu=[new Np];function I$(e,t,n){if(e.length==0)return Vu;let r=n?Vu[0]:new Np,o=[r];for(let s=0;s<e.length;s++){let a=e[s].type.attrs;if(a){a.nodeName&&o.push(r=new Np(a.nodeName));for(let i in a){let l=a[i];l!=null&&(n&&o.length==1&&o.push(r=new Np(t.isInline?"span":"div")),i=="class"?r.class=(r.class?r.class+" ":"")+l:i=="style"?r.style=(r.style?r.style+";":"")+l:i!="nodeName"&&(r[i]=l))}}}return o}function y4(e,t,n,r){if(n==Vu&&r==Vu)return t;let o=t;for(let s=0;s<r.length;s++){let a=r[s],i=n[s];if(s){let l;i&&i.nodeName==a.nodeName&&o!=e&&(l=o.parentNode)&&l.nodeName.toLowerCase()==a.nodeName||(l=document.createElement(a.nodeName),l.pmIsDeco=!0,l.appendChild(o),i=Vu[0]),o=l}PAe(o,i||Vu[0],a)}return o}function PAe(e,t,n){for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&e.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],o=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)o.indexOf(r[s])==-1&&e.classList.remove(r[s]);for(let s=0;s<o.length;s++)r.indexOf(o[s])==-1&&e.classList.add(o[s]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,o;for(;o=r.exec(t.style);)e.style.removeProperty(o[1])}n.style&&(e.style.cssText+=n.style)}}function b4(e,t,n){return y4(e,e,Vu,I$(t,n,e.nodeType!=1))}function Ab(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function LB(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class OAe{constructor(t,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=RAe(t.node.content,t)}destroyBetween(t,n){if(t!=n){for(let r=t;r<n;r++)this.top.children[r].destroy();this.top.children.splice(t,n-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,n,r){let o=0,s=this.stack.length>>1,a=Math.min(s,t.length);for(;o<a&&(o==s-1?this.top:this.stack[o+1<<1]).matchesMark(t[o])&&t[o].type.spec.spanning!==!1;)o++;for(;o<s;)this.destroyRest(),this.top.dirty=ta,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<t.length;){this.stack.push(this.top,this.index+1);let i=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(t[s])&&!this.isLocked(c.dom)){i=l;break}}if(i>-1)i>this.index&&(this.changed=!0,this.destroyBetween(this.index,i)),this.top=this.top.children[this.index];else{let l=Mc.create(this.top,t[s],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,s++}}findNodeMatch(t,n,r,o){let s=-1,a;if(o>=this.preMatch.index&&(a=this.preMatch.matches[o-this.preMatch.index]).parent==this.top&&a.matchesNode(t,n,r))s=this.top.children.indexOf(a,this.index);else for(let i=this.index,l=Math.min(this.top.children.length,i+5);i<l;i++){let c=this.top.children[i];if(c.matchesNode(t,n,r)&&!this.preMatch.matched.has(c)){s=i;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(t,n,r,o,s){let a=this.top.children[o];return a.dirty==ri&&a.dom==a.contentDOM&&(a.dirty=ju),a.update(t,n,r,s)?(this.destroyBetween(this.index,o),this.index++,!0):!1}findIndexWithChild(t){for(;;){let n=t.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=t.pmViewDesc;if(r){for(let o=this.index;o<this.top.children.length;o++)if(this.top.children[o]==r)return o}return-1}t=n}}updateNextNode(t,n,r,o,s,a){for(let i=this.index;i<this.top.children.length;i++){let l=this.top.children[i];if(l instanceof Kl){let c=this.preMatch.matched.get(l);if(c!=null&&c!=s)return!1;let u=l.dom,d,f=this.isLocked(u)&&!(t.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==t.text&&l.dirty!=ri&&Ab(n,l.outerDeco));if(!f&&l.update(t,n,r,o))return this.destroyBetween(this.index,i),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!f&&(d=this.recreateWrapper(l,t,n,r,o,a)))return this.destroyBetween(this.index,i),this.top.children[this.index]=d,d.contentDOM&&(d.dirty=ju,d.updateChildren(o,a+1),d.dirty=ta),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,n,r,o,s,a){if(t.dirty||n.isAtom||!t.children.length||!t.node.content.eq(n.content)||!Ab(r,t.outerDeco)||!o.eq(t.innerDeco))return null;let i=Kl.create(this.top,n,r,o,s,a);if(i.contentDOM){i.children=t.children,t.children=[];for(let l of i.children)l.parent=i}return t.destroy(),i}addNode(t,n,r,o,s){let a=Kl.create(this.top,t,n,r,o,s);a.contentDOM&&a.updateChildren(o,s+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(t,n,r){let o=this.index<this.top.children.length?this.top.children[this.index]:null;if(o&&o.matchesWidget(t)&&(t==o.widget||!o.widget.type.toDOM.parentNode))this.index++;else{let s=new h4(this.top,t,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],n=this.top;for(;t instanceof Mc;)n=t,t=n.children[n.children.length-1];(!t||!(t instanceof Jx)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((Eo||Ir)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(t,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(t))this.index++;else{let r=document.createElement(t);t=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),t=="BR"&&(r.className="ProseMirror-trailingBreak");let o=new g4(this.top,[],r,null);n!=this.top?n.children.push(o):n.children.splice(this.index++,0,o),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function RAe(e,t){let n=t,r=n.children.length,o=e.childCount,s=new Map,a=[];e:for(;o>0;){let i;for(;;)if(r){let c=n.children[r-1];if(c instanceof Mc)n=c,r=c.children.length;else{i=c,r--;break}}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=i.node;if(l){if(l!=e.child(o-1))break;--o,s.set(i,o),a.push(i)}}return{index:o,matched:s,matches:a.reverse()}}function BAe(e,t){return e.type.side-t.type.side}function NAe(e,t,n,r){let o=t.locals(e),s=0;if(o.length==0){for(let c=0;c<e.childCount;c++){let u=e.child(c);r(u,o,t.forChild(s,u),c),s+=u.nodeSize}return}let a=0,i=[],l=null;for(let c=0;;){let u,d;for(;a<o.length&&o[a].to==s;){let g=o[a++];g.widget&&(u?(d||(d=[u])).push(g):u=g)}if(u)if(d){d.sort(BAe);for(let g=0;g<d.length;g++)n(d[g],c,!!l)}else n(u,c,!!l);let f,p;if(l)p=-1,f=l,l=null;else if(c<e.childCount)p=c,f=e.child(c++);else break;for(let g=0;g<i.length;g++)i[g].to<=s&&i.splice(g--,1);for(;a<o.length&&o[a].from<=s&&o[a].to>s;)i.push(o[a++]);let m=s+f.nodeSize;if(f.isText){let g=m;a<o.length&&o[a].from<g&&(g=o[a].from);for(let v=0;v<i.length;v++)i[v].to<g&&(g=i[v].to);g<m&&(l=f.cut(g-s),f=f.cut(0,g-s),m=g,p=-1)}else for(;a<o.length&&o[a].to<m;)a++;let h=f.isInline&&!f.isLeaf?i.filter(g=>!g.inline):i.slice();r(f,h,t.forChild(s,f),p),s=m}}function DAe(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function FAe(e,t,n,r){for(let o=0,s=0;o<e.childCount&&s<=r;){let a=e.child(o++),i=s;if(s+=a.nodeSize,!a.isText)continue;let l=a.text;for(;o<e.childCount;){let c=e.child(o++);if(s+=c.nodeSize,!c.isText)break;l+=c.text}if(s>=n){if(s>=r&&l.slice(r-t.length-i,r-i)==t)return r-t.length;let c=i<r?l.lastIndexOf(t,r-i-1):-1;if(c>=0&&c+t.length+i>=n)return i+c;if(n==r&&l.length>=r+t.length-i&&l.slice(r-i,r-i+t.length)==t)return r}}return-1}function P$(e,t,n,r,o){let s=[];for(let a=0,i=0;a<e.length;a++){let l=e[a],c=i,u=i+=l.size;c>=n||u<=t?s.push(l):(c<t&&s.push(l.slice(0,t-c,r)),o&&(s.push(o),o=void 0),u>n&&s.push(l.slice(n-c,l.size,r)))}return s}function DM(e,t=null){let n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let o=e.docView.nearestDesc(n.focusNode),s=o&&o.size==0,a=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let i=r.resolve(a),l,c;if(Gx(n)){for(l=a;o&&!o.node;)o=o.parent;let d=o.node;if(o&&d.isAtom&&Ge.isSelectable(d)&&o.parent&&!(d.isInline&&dAe(n.focusNode,n.focusOffset,o.dom))){let f=o.posBefore;c=new Ge(a==f?i:r.resolve(f))}}else{if(n instanceof e.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let d=a,f=a;for(let p=0;p<n.rangeCount;p++){let m=n.getRangeAt(p);d=Math.min(d,e.docView.posFromDOM(m.startContainer,m.startOffset,1)),f=Math.max(f,e.docView.posFromDOM(m.endContainer,m.endOffset,-1))}if(d<0)return null;[l,a]=f==e.state.selection.anchor?[f,d]:[d,f],i=r.resolve(a)}else l=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let u=r.resolve(l);if(!c){let d=t=="pointer"||e.state.selection.head<i.pos&&!s?1:-1;c=FM(e,u,i,d)}return c}function x4(e){return e.editable?e.hasFocus():k4(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Gi(e,t=!1){let n=e.state.selection;if(w4(e,n),!!x4(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&Ir){let r=e.domSelectionRange(),o=e.domObserver.currentSelection;if(r.anchorNode&&o.anchorNode&&Cc(r.anchorNode,r.anchorOffset,o.anchorNode,o.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)zAe(e);else{let{anchor:r,head:o}=n,s,a;jB&&!(n instanceof ie)&&(n.$from.parent.inlineContent||(s=VB(e,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(a=VB(e,n.to))),e.docView.setSelection(r,o,e,t),jB&&(s&&UB(s),a&&UB(a)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&qAe(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const jB=Eo||Ir&&i4<63;function VB(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),o=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(Eo&&o&&o.contentEditable=="false")return d_(o);if((!o||o.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(o)return d_(o);if(s)return d_(s)}}function d_(e){return e.contentEditable="true",Eo&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function UB(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function qAe(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,o=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=o)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!x4(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function zAe(e){let t=e.domSelection();if(!t)return;let n=e.cursorWrapper.dom,r=n.nodeName=="IMG";r?t.collapse(n.parentNode,Xr(n)+1):t.collapse(n,0),!r&&!e.state.selection.visible&&ys&&Ul<=11&&(n.disabled=!0,n.disabled=!1)}function w4(e,t){if(t instanceof Ge){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(KB(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else KB(e)}function KB(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function FM(e,t,n,r){return e.someProp("createSelectionBetween",o=>o(e,t,n))||ie.between(t,n,r)}function HB(e){return e.editable&&!e.hasFocus()?!1:k4(e)}function k4(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function LAe(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return Cc(t.node,t.offset,n.anchorNode,n.anchorOffset)}function O$(e,t){let{$anchor:n,$head:r}=e.selection,o=t>0?n.max(r):n.min(r),s=o.parent.inlineContent?o.depth?e.doc.resolve(t>0?o.after():o.before()):null:o;return s&&Pe.findFrom(s,t)}function Il(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function WB(e,t,n){let r=e.state.selection;if(r instanceof ie)if(n.indexOf("s")>-1){let{$head:o}=r,s=o.textOffset?null:t<0?o.nodeBefore:o.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let a=e.state.doc.resolve(o.pos+s.nodeSize*(t<0?-1:1));return Il(e,new ie(r.$anchor,a))}else if(r.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let o=O$(e.state,t);return o&&o instanceof Ge?Il(e,o):!1}else if(!(Ys&&n.indexOf("m")>-1)){let o=r.$head,s=o.textOffset?null:t<0?o.nodeBefore:o.nodeAfter,a;if(!s||s.isText)return!1;let i=t<0?o.pos-s.nodeSize:o.pos;return s.isAtom||(a=e.docView.descAt(i))&&!a.contentDOM?Ge.isSelectable(s)?Il(e,new Ge(t<0?e.state.doc.resolve(o.pos-s.nodeSize):o)):Fh?Il(e,new ie(e.state.doc.resolve(t<0?i:i+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Ge&&r.node.isInline)return Il(e,new ie(t>0?r.$to:r.$from));{let o=O$(e.state,t);return o?Il(e,o):!1}}}function Tb(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function Dp(e,t){let n=e.pmViewDesc;return n&&n.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function hd(e,t){return t<0?jAe(e):VAe(e)}function jAe(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let o,s,a=!1;for(ea&&n.nodeType==1&&r<Tb(n)&&Dp(n.childNodes[r],-1)&&(a=!0);;)if(r>0){if(n.nodeType!=1)break;{let i=n.childNodes[r-1];if(Dp(i,-1))o=n,s=--r;else if(i.nodeType==3)n=i,r=n.nodeValue.length;else break}}else{if(_4(n))break;{let i=n.previousSibling;for(;i&&Dp(i,-1);)o=n.parentNode,s=Xr(i),i=i.previousSibling;if(i)n=i,r=Tb(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}a?R$(e,n,r):o&&R$(e,o,s)}function VAe(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let o=Tb(n),s,a;for(;;)if(r<o){if(n.nodeType!=1)break;let i=n.childNodes[r];if(Dp(i,1))s=n,a=++r;else break}else{if(_4(n))break;{let i=n.nextSibling;for(;i&&Dp(i,1);)s=i.parentNode,a=Xr(i)+1,i=i.nextSibling;if(i)n=i,r=0,o=Tb(n);else{if(n=n.parentNode,n==e.dom)break;r=o=0}}}s&&R$(e,s,a)}function _4(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function UAe(e,t){for(;e&&t==e.childNodes.length&&!Dh(e);)t=Xr(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=0}}function KAe(e,t){for(;e&&!t&&!Dh(e);)t=Xr(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=e.childNodes.length}}function R$(e,t,n){if(t.nodeType!=3){let s,a;(a=UAe(t,n))?(t=a,n=0):(s=KAe(t,n))&&(t=s,n=s.nodeValue.length)}let r=e.domSelection();if(!r)return;if(Gx(r)){let s=document.createRange();s.setEnd(t,n),s.setStart(t,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:o}=e;setTimeout(()=>{e.state==o&&Gi(e)},50)}function GB(e,t){let n=e.state.doc.resolve(t);if(!(Ir||l4)&&n.parent.inlineContent){let o=e.coordsAtPos(t);if(t>n.start()){let s=e.coordsAtPos(t-1),a=(s.top+s.bottom)/2;if(a>o.top&&a<o.bottom&&Math.abs(s.left-o.left)>1)return s.left<o.left?"ltr":"rtl"}if(t<n.end()){let s=e.coordsAtPos(t+1),a=(s.top+s.bottom)/2;if(a>o.top&&a<o.bottom&&Math.abs(s.left-o.left)>1)return s.left>o.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function JB(e,t,n){let r=e.state.selection;if(r instanceof ie&&!r.empty||n.indexOf("s")>-1||Ys&&n.indexOf("m")>-1)return!1;let{$from:o,$to:s}=r;if(!o.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let a=O$(e.state,t);if(a&&a instanceof Ge)return Il(e,a)}if(!o.parent.inlineContent){let a=t<0?o:s,i=r instanceof Sn?Pe.near(a,t):Pe.findFrom(a,t);return i?Il(e,i):!1}return!1}function YB(e,t){if(!(e.state.selection instanceof ie))return!0;let{$head:n,$anchor:r,empty:o}=e.state.selection;if(!n.sameParent(r))return!0;if(!o)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let s=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let a=e.state.tr;return t<0?a.delete(n.pos-s.nodeSize,n.pos):a.delete(n.pos,n.pos+s.nodeSize),e.dispatch(a),!0}return!1}function QB(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function HAe(e){if(!Eo||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&t.nodeType==1&&n==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let r=t.firstChild;QB(e,r,"true"),setTimeout(()=>QB(e,r,"false"),20)}return!1}function WAe(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function GAe(e,t){let n=t.keyCode,r=WAe(t);if(n==8||Ys&&n==72&&r=="c")return YB(e,-1)||hd(e,-1);if(n==46&&!t.shiftKey||Ys&&n==68&&r=="c")return YB(e,1)||hd(e,1);if(n==13||n==27)return!0;if(n==37||Ys&&n==66&&r=="c"){let o=n==37?GB(e,e.state.selection.from)=="ltr"?-1:1:-1;return WB(e,o,r)||hd(e,o)}else if(n==39||Ys&&n==70&&r=="c"){let o=n==39?GB(e,e.state.selection.from)=="ltr"?1:-1:1;return WB(e,o,r)||hd(e,o)}else{if(n==38||Ys&&n==80&&r=="c")return JB(e,-1,r)||hd(e,-1);if(n==40||Ys&&n==78&&r=="c")return HAe(e)||JB(e,1,r)||hd(e,1);if(r==(Ys?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function qM(e,t){e.someProp("transformCopied",p=>{t=p(t,e)});let n=[],{content:r,openStart:o,openEnd:s}=t;for(;o>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){o--,s--;let p=r.firstChild;n.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),r=p.content}let a=e.someProp("clipboardSerializer")||Vc.fromSchema(e.state.schema),i=T4(),l=i.createElement("div");l.appendChild(a.serializeFragment(r,{document:i}));let c=l.firstChild,u,d=0;for(;c&&c.nodeType==1&&(u=A4[c.nodeName.toLowerCase()]);){for(let p=u.length-1;p>=0;p--){let m=i.createElement(u[p]);for(;l.firstChild;)m.appendChild(l.firstChild);l.appendChild(m),d++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${o} ${s}${d?` -${d}`:""} ${JSON.stringify(n)}`);let f=e.someProp("clipboardTextSerializer",p=>p(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:l,text:f,slice:t}}function S4(e,t,n,r,o){let s=o.parent.type.spec.code,a,i;if(!n&&!t)return null;let l=!!t&&(r||s||!n);if(l){if(e.someProp("transformPastedText",f=>{t=f(t,s||r,e)}),s)return i=new Je(de.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0),e.someProp("transformPasted",f=>{i=f(i,e,!0)}),i;let d=e.someProp("clipboardTextParser",f=>f(t,o,r,e));if(d)i=d;else{let f=o.marks(),{schema:p}=e.state,m=Vc.fromSchema(p);a=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(h=>{let g=a.appendChild(document.createElement("p"));h&&g.appendChild(m.serializeNode(p.text(h,f)))})}}else e.someProp("transformPastedHTML",d=>{n=d(n,e)}),a=XAe(n),Fh&&ZAe(a);let c=a&&a.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let f=a.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;a=f}if(i||(i=(e.someProp("clipboardParser")||e.someProp("domParser")||gt.fromSchema(e.state.schema)).parseSlice(a,{preserveWhitespace:!!(l||u),context:o,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!JAe.test(f.parentNode.nodeName)?{ignore:!0}:null}})),u)i=eTe(XB(i,+u[1],+u[2]),u[4]);else if(i=Je.maxOpen(YAe(i.content,o),!0),i.openStart||i.openEnd){let d=0,f=0;for(let p=i.content.firstChild;d<i.openStart&&!p.type.spec.isolating;d++,p=p.firstChild);for(let p=i.content.lastChild;f<i.openEnd&&!p.type.spec.isolating;f++,p=p.lastChild);i=XB(i,d,f)}return e.someProp("transformPasted",d=>{i=d(i,e,l)}),i}const JAe=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function YAe(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let o=t.node(n).contentMatchAt(t.index(n)),s,a=[];if(e.forEach(i=>{if(!a)return;let l=o.findWrapping(i.type),c;if(!l)return a=null;if(c=a.length&&s.length&&C4(l,s,i,a[a.length-1],0))a[a.length-1]=c;else{a.length&&(a[a.length-1]=M4(a[a.length-1],s.length));let u=$4(i,l);a.push(u),o=o.matchType(u.type),s=l}}),a)return de.from(a)}return e}function $4(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,de.from(e));return e}function C4(e,t,n,r,o){if(o<e.length&&o<t.length&&e[o]==t[o]){let s=C4(e,t,n,r.lastChild,o+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(o==e.length-1?n.type:e[o+1]))return r.copy(r.content.append(de.from($4(n,e,o+1))))}}function M4(e,t){if(t==0)return e;let n=e.content.replaceChild(e.childCount-1,M4(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(de.empty,!0);return e.copy(n.append(r))}function B$(e,t,n,r,o,s){let a=t<0?e.firstChild:e.lastChild,i=a.content;return e.childCount>1&&(s=0),o<r-1&&(i=B$(i,t,n,r,o+1,s)),o>=n&&(i=t<0?a.contentMatchAt(0).fillBefore(i,s<=o).append(i):i.append(a.contentMatchAt(a.childCount).fillBefore(de.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,a.copy(i))}function XB(e,t,n){return t<e.openStart&&(e=new Je(B$(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new Je(B$(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const A4={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let ZB=null;function T4(){return ZB||(ZB=document.implementation.createHTMLDocument("title"))}let f_=null;function QAe(e){let t=window.trustedTypes;return t?(f_||(f_=t.defaultPolicy||t.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),f_.createHTML(e)):e}function XAe(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n=T4().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(e),o;if((o=r&&A4[r[1].toLowerCase()])&&(e=o.map(s=>"<"+s+">").join("")+e+o.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=QAe(e),o)for(let s=0;s<o.length;s++)n=n.querySelector(o[s])||n;return n}function ZAe(e){let t=e.querySelectorAll(Ir?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}function eTe(e,t){if(!e.size)return e;let n=e.content.firstChild.type.schema,r;try{r=JSON.parse(t)}catch{return e}let{content:o,openStart:s,openEnd:a}=e;for(let i=r.length-2;i>=0;i-=2){let l=n.nodes[r[i]];if(!l||l.hasRequiredAttrs())break;o=de.from(l.create(r[i+1],o)),s++,a++}return new Je(o,s,a)}const ss={},as={},tTe={touchstart:!0,touchmove:!0};class nTe{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function rTe(e){for(let t in ss){let n=ss[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=r=>{sTe(e,r)&&!zM(e,r)&&(e.editable||!(r.type in as))&&n(e,r)},tTe[t]?{passive:!0}:void 0)}Eo&&e.dom.addEventListener("input",()=>null),N$(e)}function Ll(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function oTe(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function N$(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=r=>zM(e,r))})}function zM(e,t){return e.someProp("handleDOMEvents",n=>{let r=n[t.type];return r?r(e,t)||t.defaultPrevented:!1})}function sTe(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function aTe(e,t){!zM(e,t)&&ss[t.type]&&(e.editable||!(t.type in as))&&ss[t.type](e,t)}as.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=n.keyCode==16||n.shiftKey,!I4(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!(Hi&&Ir&&n.keyCode==13)))if(n.keyCode!=229&&e.domObserver.forceFlush(),tf&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();e.input.lastIOSEnter=r,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==r&&(e.someProp("handleKeyDown",o=>o(e,qu(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",r=>r(e,n))||GAe(e,n)?n.preventDefault():Ll(e,"key")};as.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};as.keypress=(e,t)=>{let n=t;if(I4(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||Ys&&n.metaKey)return;if(e.someProp("handleKeyPress",o=>o(e,n))){n.preventDefault();return}let r=e.state.selection;if(!(r instanceof ie)||!r.$from.sameParent(r.$to)){let o=String.fromCharCode(n.charCode),s=()=>e.state.tr.insertText(o).scrollIntoView();!/[\r\n]/.test(o)&&!e.someProp("handleTextInput",a=>a(e,r.$from.pos,r.$to.pos,o,s))&&e.dispatch(s()),n.preventDefault()}};function Yx(e){return{left:e.clientX,top:e.clientY}}function iTe(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}function LM(e,t,n,r,o){if(r==-1)return!1;let s=e.state.doc.resolve(r);for(let a=s.depth+1;a>0;a--)if(e.someProp(t,i=>a>s.depth?i(e,n,s.nodeAfter,s.before(a),o,!0):i(e,n,s.node(a),s.before(a),o,!1)))return!0;return!1}function Pd(e,t,n){if(e.focused||e.focus(),e.state.selection.eq(t))return;let r=e.state.tr.setSelection(t);r.setMeta("pointer",!0),e.dispatch(r)}function lTe(e,t){if(t==-1)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return r&&r.isAtom&&Ge.isSelectable(r)?(Pd(e,new Ge(n)),!0):!1}function uTe(e,t){if(t==-1)return!1;let n=e.state.selection,r,o;n instanceof Ge&&(r=n.node);let s=e.state.doc.resolve(t);for(let a=s.depth+1;a>0;a--){let i=a>s.depth?s.nodeAfter:s.node(a);if(Ge.isSelectable(i)){r&&n.$from.depth>0&&a>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?o=s.before(n.$from.depth):o=s.before(a);break}}return o!=null?(Pd(e,Ge.create(e.state.doc,o)),!0):!1}function cTe(e,t,n,r,o){return LM(e,"handleClickOn",t,n,r)||e.someProp("handleClick",s=>s(e,t,r))||(o?uTe(e,n):lTe(e,n))}function dTe(e,t,n,r){return LM(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",o=>o(e,t,r))}function fTe(e,t,n,r){return LM(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",o=>o(e,t,r))||pTe(e,n,r)}function pTe(e,t,n){if(n.button!=0)return!1;let r=e.state.doc;if(t==-1)return r.inlineContent?(Pd(e,ie.create(r,0,r.content.size)),!0):!1;let o=r.resolve(t);for(let s=o.depth+1;s>0;s--){let a=s>o.depth?o.nodeAfter:o.node(s),i=o.before(s);if(a.inlineContent)Pd(e,ie.create(r,i+1,i+1+a.content.size));else if(Ge.isSelectable(a))Pd(e,Ge.create(r,i));else continue;return!0}}function jM(e){return Eb(e)}const E4=Ys?"metaKey":"ctrlKey";ss.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=jM(e),o=Date.now(),s="singleClick";o-e.input.lastClick.time<500&&iTe(n,e.input.lastClick)&&!n[E4]&&e.input.lastClick.button==n.button&&(e.input.lastClick.type=="singleClick"?s="doubleClick":e.input.lastClick.type=="doubleClick"&&(s="tripleClick")),e.input.lastClick={time:o,x:n.clientX,y:n.clientY,type:s,button:n.button};let a=e.posAtCoords(Yx(n));a&&(s=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new mTe(e,a,n,!!r)):(s=="doubleClick"?dTe:fTe)(e,a.pos,a.inside,n)?n.preventDefault():Ll(e,"pointer"))};class mTe{constructor(t,n,r,o){this.view=t,this.pos=n,this.event=r,this.flushed=o,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!r[E4],this.allowDefault=r.shiftKey;let s,a;if(n.inside>-1)s=t.state.doc.nodeAt(n.inside),a=n.inside;else{let u=t.state.doc.resolve(n.pos);s=u.parent,a=u.depth?u.before():0}const i=o?null:r.target,l=i?t.docView.nearestDesc(i,!0):null;this.target=l&&l.nodeDOM.nodeType==1?l.nodeDOM:null;let{selection:c}=t.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||c instanceof Ge&&c.from<=a&&c.to>a)&&(this.mightDrag={node:s,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&ea&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ll(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Gi(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Yx(t))),this.updateAllowDefault(t),this.allowDefault||!n?Ll(this.view,"pointer"):cTe(this.view,n.pos,n.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||Eo&&this.mightDrag&&!this.mightDrag.node.isAtom||Ir&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Pd(this.view,Pe.near(this.view.state.doc.resolve(n.pos))),t.preventDefault()):Ll(this.view,"pointer")}move(t){this.updateAllowDefault(t),Ll(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}ss.touchstart=e=>{e.input.lastTouch=Date.now(),jM(e),Ll(e,"pointer")};ss.touchmove=e=>{e.input.lastTouch=Date.now(),Ll(e,"pointer")};ss.contextmenu=e=>jM(e);function I4(e,t){return e.composing?!0:Eo&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const hTe=Hi?5e3:-1;as.compositionstart=as.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$to;if(t.selection instanceof ie&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)||Ir&&l4&&gTe(e)))e.markCursor=e.state.storedMarks||n.marks(),Eb(e,!0),e.markCursor=null;else if(Eb(e,!t.selection.empty),ea&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=e.domSelectionRange();for(let o=r.focusNode,s=r.focusOffset;o&&o.nodeType==1&&s!=0;){let a=s<0?o.lastChild:o.childNodes[s-1];if(!a)break;if(a.nodeType==3){let i=e.domSelection();i&&i.collapse(a,a.nodeValue.length);break}else o=a,s=-1}}e.input.composing=!0}P4(e,hTe)};function gTe(e){let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(!t||t.nodeType!=1||n>=t.childNodes.length)return!1;let r=t.childNodes[n];return r.nodeType==1&&r.contentEditable=="false"}as.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,P4(e,20))};function P4(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>Eb(e),t))}function O4(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=yTe());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function vTe(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=uAe(t.focusNode,t.focusOffset),r=cAe(t.focusNode,t.focusOffset);if(n&&r&&n!=r){let o=r.pmViewDesc,s=e.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!o||!o.isText(r.nodeValue))return r;if(e.input.compositionNode==r){let a=n.pmViewDesc;if(!(!a||!a.isText(n.nodeValue)))return r}}return n||r}function yTe(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function Eb(e,t=!1){if(!(Hi&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),O4(e),t||e.docView&&e.docView.dirty){let n=DM(e),r=e.state.selection;return n&&!n.eq(r)?e.dispatch(e.state.tr.setSelection(n)):(e.markCursor||t)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?e.dispatch(e.state.tr.deleteSelection()):e.updateState(e.state),!0}return!1}}function bTe(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),o=document.createRange();o.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}const fm=ys&&Ul<15||tf&&mAe<604;ss.copy=as.cut=(e,t)=>{let n=t,r=e.state.selection,o=n.type=="cut";if(r.empty)return;let s=fm?null:n.clipboardData,a=r.content(),{dom:i,text:l}=qM(e,a);s?(n.preventDefault(),s.clearData(),s.setData("text/html",i.innerHTML),s.setData("text/plain",l)):bTe(e,i),o&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function xTe(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function wTe(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let o=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?pm(e,r.value,null,o,t):pm(e,r.textContent,r.innerHTML,o,t)},50)}function pm(e,t,n,r,o){let s=S4(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",l=>l(e,o,s||Je.empty)))return!0;if(!s)return!1;let a=xTe(s),i=a?e.state.tr.replaceSelectionWith(a,r):e.state.tr.replaceSelection(s);return e.dispatch(i.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function R4(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}as.paste=(e,t)=>{let n=t;if(e.composing&&!Hi)return;let r=fm?null:n.clipboardData,o=e.input.shiftKey&&e.input.lastKeyCode!=45;r&&pm(e,R4(r),r.getData("text/html"),o,n)?n.preventDefault():wTe(e,n)};class B4{constructor(t,n,r){this.slice=t,this.move=n,this.node=r}}const kTe=Ys?"altKey":"ctrlKey";function N4(e,t){let n=e.someProp("dragCopies",r=>!r(t));return n??!t[kTe]}ss.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let o=e.state.selection,s=o.empty?null:e.posAtCoords(Yx(n)),a;if(!(s&&s.pos>=o.from&&s.pos<=(o instanceof Ge?o.to-1:o.to))){if(r&&r.mightDrag)a=Ge.create(e.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let d=e.docView.nearestDesc(n.target,!0);d&&d.node.type.spec.draggable&&d!=e.docView&&(a=Ge.create(e.state.doc,d.posBefore))}}let i=(a||e.state.selection).content(),{dom:l,text:c,slice:u}=qM(e,i);(!n.dataTransfer.files.length||!Ir||i4>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(fm?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",fm||n.dataTransfer.setData("text/plain",c),e.dragging=new B4(u,N4(e,n),a)};ss.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};as.dragover=as.dragenter=(e,t)=>t.preventDefault();as.drop=(e,t)=>{try{_Te(e,t,e.dragging)}finally{e.dragging=null}};function _Te(e,t,n){if(!t.dataTransfer)return;let r=e.posAtCoords(Yx(t));if(!r)return;let o=e.state.doc.resolve(r.pos),s=n&&n.slice;s?e.someProp("transformPasted",p=>{s=p(s,e,!1)}):s=S4(e,R4(t.dataTransfer),fm?null:t.dataTransfer.getData("text/html"),!1,o);let a=!!(n&&N4(e,t));if(e.someProp("handleDrop",p=>p(e,t,s||Je.empty,a))){t.preventDefault();return}if(!s)return;t.preventDefault();let i=s?GV(e.state.doc,o.pos,s):o.pos;i==null&&(i=o.pos);let l=e.state.tr;if(a){let{node:p}=n;p?p.replace(l):l.deleteSelection()}let c=l.mapping.map(i),u=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,d=l.doc;if(u?l.replaceRangeWith(c,c,s.content.firstChild):l.replaceRange(c,c,s),l.doc.eq(d))return;let f=l.doc.resolve(c);if(u&&Ge.isSelectable(s.content.firstChild)&&f.nodeAfter&&f.nodeAfter.sameMarkup(s.content.firstChild))l.setSelection(new Ge(f));else{let p=l.mapping.map(i);l.mapping.maps[l.mapping.maps.length-1].forEach((m,h,g,v)=>p=v),l.setSelection(FM(e,f,l.doc.resolve(p)))}e.focus(),e.dispatch(l.setMeta("uiEvent","drop"))}ss.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&Gi(e)},20))};ss.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};ss.beforeinput=(e,t)=>{if(Ir&&Hi&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:r}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=r||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",s=>s(e,qu(8,"Backspace")))))return;let{$cursor:o}=e.state.selection;o&&o.pos>0&&e.dispatch(e.state.tr.delete(o.pos-1,o.pos).scrollIntoView())},50)}};for(let e in as)ss[e]=as[e];function mm(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class Ib{constructor(t,n){this.toDOM=t,this.spec=n||gc,this.side=this.spec.side||0}map(t,n,r,o){let{pos:s,deleted:a}=t.mapResult(n.from+o,this.side<0?-1:1);return a?null:new ns(s-r,s-r,this)}valid(){return!0}eq(t){return this==t||t instanceof Ib&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&mm(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class Hl{constructor(t,n){this.attrs=t,this.spec=n||gc}map(t,n,r,o){let s=t.map(n.from+o,this.spec.inclusiveStart?-1:1)-r,a=t.map(n.to+o,this.spec.inclusiveEnd?1:-1)-r;return s>=a?null:new ns(s,a,this)}valid(t,n){return n.from<n.to}eq(t){return this==t||t instanceof Hl&&mm(this.attrs,t.attrs)&&mm(this.spec,t.spec)}static is(t){return t.type instanceof Hl}destroy(){}}class VM{constructor(t,n){this.attrs=t,this.spec=n||gc}map(t,n,r,o){let s=t.mapResult(n.from+o,1);if(s.deleted)return null;let a=t.mapResult(n.to+o,-1);return a.deleted||a.pos<=s.pos?null:new ns(s.pos-r,a.pos-r,this)}valid(t,n){let{index:r,offset:o}=t.content.findIndex(n.from),s;return o==n.from&&!(s=t.child(r)).isText&&o+s.nodeSize==n.to}eq(t){return this==t||t instanceof VM&&mm(this.attrs,t.attrs)&&mm(this.spec,t.spec)}destroy(){}}class ns{constructor(t,n,r){this.from=t,this.to=n,this.type=r}copy(t,n){return new ns(t,n,this.type)}eq(t,n=0){return this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to}map(t,n,r){return this.type.map(t,this,n,r)}static widget(t,n,r){return new ns(t,t,new Ib(n,r))}static inline(t,n,r,o){return new ns(t,n,new Hl(r,o))}static node(t,n,r,o){return new ns(t,n,new VM(r,o))}get spec(){return this.type.spec}get inline(){return this.type instanceof Hl}get widget(){return this.type instanceof Ib}}const xd=[],gc={};class Xn{constructor(t,n){this.local=t.length?t:xd,this.children=n.length?n:xd}static create(t,n){return n.length?Pb(n,t,0,gc):$o}find(t,n,r){let o=[];return this.findInner(t??0,n??1e9,o,0,r),o}findInner(t,n,r,o,s){for(let a=0;a<this.local.length;a++){let i=this.local[a];i.from<=n&&i.to>=t&&(!s||s(i.spec))&&r.push(i.copy(i.from+o,i.to+o))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<n&&this.children[a+1]>t){let i=this.children[a]+1;this.children[a+2].findInner(t-i,n-i,r,o+i,s)}}map(t,n,r){return this==$o||t.maps.length==0?this:this.mapInner(t,n,0,0,r||gc)}mapInner(t,n,r,o,s){let a;for(let i=0;i<this.local.length;i++){let l=this.local[i].map(t,r,o);l&&l.type.valid(n,l)?(a||(a=[])).push(l):s.onRemove&&s.onRemove(this.local[i].spec)}return this.children.length?STe(this.children,a||[],t,n,r,o,s):a?new Xn(a.sort(vc),xd):$o}add(t,n){return n.length?this==$o?Xn.create(t,n):this.addInner(t,n,0):this}addInner(t,n,r){let o,s=0;t.forEach((i,l)=>{let c=l+r,u;if(u=F4(n,i,c)){for(o||(o=this.children.slice());s<o.length&&o[s]<l;)s+=3;o[s]==l?o[s+2]=o[s+2].addInner(i,u,c+1):o.splice(s,0,l,l+i.nodeSize,Pb(u,i,c+1,gc)),s+=3}});let a=D4(s?q4(n):n,-r);for(let i=0;i<a.length;i++)a[i].type.valid(t,a[i])||a.splice(i--,1);return new Xn(a.length?this.local.concat(a).sort(vc):this.local,o||this.children)}remove(t){return t.length==0||this==$o?this:this.removeInner(t,0)}removeInner(t,n){let r=this.children,o=this.local;for(let s=0;s<r.length;s+=3){let a,i=r[s]+n,l=r[s+1]+n;for(let u=0,d;u<t.length;u++)(d=t[u])&&d.from>i&&d.to<l&&(t[u]=null,(a||(a=[])).push(d));if(!a)continue;r==this.children&&(r=this.children.slice());let c=r[s+2].removeInner(a,i+1);c!=$o?r[s+2]=c:(r.splice(s,3),s-=3)}if(o.length){for(let s=0,a;s<t.length;s++)if(a=t[s])for(let i=0;i<o.length;i++)o[i].eq(a,n)&&(o==this.local&&(o=this.local.slice()),o.splice(i--,1))}return r==this.children&&o==this.local?this:o.length||r.length?new Xn(o,r):$o}forChild(t,n){if(this==$o)return this;if(n.isLeaf)return Xn.empty;let r,o;for(let i=0;i<this.children.length;i+=3)if(this.children[i]>=t){this.children[i]==t&&(r=this.children[i+2]);break}let s=t+1,a=s+n.content.size;for(let i=0;i<this.local.length;i++){let l=this.local[i];if(l.from<a&&l.to>s&&l.type instanceof Hl){let c=Math.max(s,l.from)-s,u=Math.min(a,l.to)-s;c<u&&(o||(o=[])).push(l.copy(c,u))}}if(o){let i=new Xn(o.sort(vc),xd);return r?new Bl([i,r]):i}return r||$o}eq(t){if(this==t)return!0;if(!(t instanceof Xn)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0}locals(t){return UM(this.localsInner(t))}localsInner(t){if(this==$o)return xd;if(t.inlineContent||!this.local.some(Hl.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Hl||n.push(this.local[r]);return n}forEachSet(t){t(this)}}Xn.empty=new Xn([],[]);Xn.removeOverlap=UM;const $o=Xn.empty;class Bl{constructor(t){this.members=t}map(t,n){const r=this.members.map(o=>o.map(t,n,gc));return Bl.from(r)}forChild(t,n){if(n.isLeaf)return Xn.empty;let r=[];for(let o=0;o<this.members.length;o++){let s=this.members[o].forChild(t,n);s!=$o&&(s instanceof Bl?r=r.concat(s.members):r.push(s))}return Bl.from(r)}eq(t){if(!(t instanceof Bl)||t.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}locals(t){let n,r=!0;for(let o=0;o<this.members.length;o++){let s=this.members[o].localsInner(t);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let a=0;a<s.length;a++)n.push(s[a])}}return n?UM(r?n:n.sort(vc)):xd}static from(t){switch(t.length){case 0:return $o;case 1:return t[0];default:return new Bl(t.every(n=>n instanceof Xn)?t:t.reduce((n,r)=>n.concat(r instanceof Xn?r:r.members),[]))}}forEachSet(t){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(t)}}function STe(e,t,n,r,o,s,a){let i=e.slice();for(let c=0,u=s;c<n.maps.length;c++){let d=0;n.maps[c].forEach((f,p,m,h)=>{let g=h-m-(p-f);for(let v=0;v<i.length;v+=3){let x=i[v+1];if(x<0||f>x+u-d)continue;let $=i[v]+u-d;p>=$?i[v+1]=f<=$?-2:-1:f>=u&&g&&(i[v]+=g,i[v+1]+=g)}d+=g}),u=n.maps[c].map(u,-1)}let l=!1;for(let c=0;c<i.length;c+=3)if(i[c+1]<0){if(i[c+1]==-2){l=!0,i[c+1]=-1;continue}let u=n.map(e[c]+s),d=u-o;if(d<0||d>=r.content.size){l=!0;continue}let f=n.map(e[c+1]+s,-1),p=f-o,{index:m,offset:h}=r.content.findIndex(d),g=r.maybeChild(m);if(g&&h==d&&h+g.nodeSize==p){let v=i[c+2].mapInner(n,g,u+1,e[c]+s+1,a);v!=$o?(i[c]=d,i[c+1]=p,i[c+2]=v):(i[c+1]=-2,l=!0)}else l=!0}if(l){let c=$Te(i,e,t,n,o,s,a),u=Pb(c,r,0,a);t=u.local;for(let d=0;d<i.length;d+=3)i[d+1]<0&&(i.splice(d,3),d-=3);for(let d=0,f=0;d<u.children.length;d+=3){let p=u.children[d];for(;f<i.length&&i[f]<p;)f+=3;i.splice(f,0,u.children[d],u.children[d+1],u.children[d+2])}}return new Xn(t.sort(vc),i)}function D4(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let o=e[r];n.push(new ns(o.from+t,o.to+t,o.type))}return n}function $Te(e,t,n,r,o,s,a){function i(l,c){for(let u=0;u<l.local.length;u++){let d=l.local[u].map(r,o,c);d?n.push(d):a.onRemove&&a.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)i(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<e.length;l+=3)e[l+1]==-1&&i(e[l+2],t[l]+s+1);return n}function F4(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,o=null;for(let s=0,a;s<e.length;s++)(a=e[s])&&a.from>n&&a.to<r&&((o||(o=[])).push(a),e[s]=null);return o}function q4(e){let t=[];for(let n=0;n<e.length;n++)e[n]!=null&&t.push(e[n]);return t}function Pb(e,t,n,r){let o=[],s=!1;t.forEach((i,l)=>{let c=F4(e,i,l+n);if(c){s=!0;let u=Pb(c,i,n+l+1,r);u!=$o&&o.push(l,l+i.nodeSize,u)}});let a=D4(s?q4(e):e,-n).sort(vc);for(let i=0;i<a.length;i++)a[i].type.valid(t,a[i])||(r.onRemove&&r.onRemove(a[i].spec),a.splice(i--,1));return a.length||o.length?new Xn(a,o):$o}function vc(e,t){return e.from-t.from||e.to-t.to}function UM(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let o=n+1;o<t.length;o++){let s=t[o];if(s.from==r.from){s.to!=r.to&&(t==e&&(t=e.slice()),t[o]=s.copy(s.from,r.to),eN(t,o+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,s.from),eN(t,o,r.copy(s.from,r.to)));break}}}return t}function eN(e,t,n){for(;t<e.length&&vc(n,e[t])>0;)t++;e.splice(t,0,n)}function p_(e){let t=[];return e.someProp("decorations",n=>{let r=n(e.state);r&&r!=$o&&t.push(r)}),e.cursorWrapper&&t.push(Xn.create(e.state.doc,[e.cursorWrapper.deco])),Bl.from(t)}const CTe={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},MTe=ys&&Ul<=11;class ATe{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class TTe{constructor(t,n){this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new ATe,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let o=0;o<r.length;o++)this.queue.push(r[o]);ys&&Ul<=11&&r.some(o=>o.type=="childList"&&o.removedNodes.length||o.type=="characterData"&&o.oldValue.length>o.target.nodeValue.length)?this.flushSoon():this.flush()}),MTe&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,CTe)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(HB(this.view)){if(this.suppressingSelectionUpdates)return Gi(this.view);if(ys&&Ul<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&Cc(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let n=new Set,r;for(let s=t.focusNode;s;s=ef(s))n.add(s);for(let s=t.anchorNode;s;s=ef(s))if(n.has(s)){r=s;break}let o=r&&this.view.docView.nearestDesc(r);if(o&&o.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=t.domSelectionRange(),o=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&HB(t)&&!this.ignoreSelectionChange(r),s=-1,a=-1,i=!1,l=[];if(t.editable)for(let u=0;u<n.length;u++){let d=this.registerMutation(n[u],l);d&&(s=s<0?d.from:Math.min(d.from,s),a=a<0?d.to:Math.max(d.to,a),d.typeOver&&(i=!0))}if(ea&&l.length){let u=l.filter(d=>d.nodeName=="BR");if(u.length==2){let[d,f]=u;d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let f of u){let p=f.parentNode;p&&p.nodeName=="LI"&&(!d||PTe(t,d)!=p)&&f.remove()}}}else if((Ir||Eo)&&l.some(u=>u.nodeName=="BR")&&(t.input.lastKeyCode==8||t.input.lastKeyCode==46)){for(let u of l)if(u.nodeName=="BR"&&u.parentNode){let d=u.nextSibling;d&&d.nodeType==1&&d.contentEditable=="false"&&u.parentNode.removeChild(u)}}let c=null;s<0&&o&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&Gx(r)&&(c=DM(t))&&c.eq(Pe.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,Gi(t),this.currentSelection.set(r),t.scrollToSelection()):(s>-1||o)&&(s>-1&&(t.docView.markDirty(s,a),ETe(t)),this.handleDOMChange(s,a,i,l),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(r)||Gi(t),this.currentSelection.set(r))}registerMutation(t,n){if(n.indexOf(t.target)>-1)return null;let r=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(r==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!r||r.ignoreMutation(t))return null;if(t.type=="childList"){for(let u=0;u<t.addedNodes.length;u++){let d=t.addedNodes[u];n.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};let o=t.previousSibling,s=t.nextSibling;if(ys&&Ul<=11&&t.addedNodes.length)for(let u=0;u<t.addedNodes.length;u++){let{previousSibling:d,nextSibling:f}=t.addedNodes[u];(!d||Array.prototype.indexOf.call(t.addedNodes,d)<0)&&(o=d),(!f||Array.prototype.indexOf.call(t.addedNodes,f)<0)&&(s=f)}let a=o&&o.parentNode==t.target?Xr(o)+1:0,i=r.localPosFromDOM(t.target,a,-1),l=s&&s.parentNode==t.target?Xr(s):t.target.childNodes.length,c=r.localPosFromDOM(t.target,l,1);return{from:i,to:c}}else return t.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=t.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let tN=new WeakMap,nN=!1;function ETe(e){if(!tN.has(e)&&(tN.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=ea,nN)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),nN=!0}}function rN(e,t){let n=t.startContainer,r=t.startOffset,o=t.endContainer,s=t.endOffset,a=e.domAtPos(e.state.selection.anchor);return Cc(a.node,a.offset,o,s)&&([n,r,o,s]=[o,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:o,focusOffset:s}}function ITe(e,t){if(t.getComposedRanges){let o=t.getComposedRanges(e.root)[0];if(o)return rN(e,o)}let n;function r(o){o.preventDefault(),o.stopImmediatePropagation(),n=o.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",r,!0),n?rN(e,n):null}function PTe(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let r=e.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function OTe(e,t,n){let{node:r,fromOffset:o,toOffset:s,from:a,to:i}=e.docView.parseRange(t,n),l=e.domSelectionRange(),c,u=l.anchorNode;if(u&&e.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],Gx(l)||c.push({node:l.focusNode,offset:l.focusOffset})),Ir&&e.input.lastKeyCode===8)for(let g=s;g>o;g--){let v=r.childNodes[g-1],x=v.pmViewDesc;if(v.nodeName=="BR"&&!x){s=g;break}if(!x||x.size)break}let d=e.state.doc,f=e.someProp("domParser")||gt.fromSchema(e.state.schema),p=d.resolve(a),m=null,h=f.parse(r,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:o,to:s,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:RTe,context:p});if(c&&c[0].pos!=null){let g=c[0].pos,v=c[1]&&c[1].pos;v==null&&(v=g),m={anchor:g+a,head:v+a}}return{doc:h,sel:m,from:a,to:i}}function RTe(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(Eo&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(e.parentNode.lastChild==e||Eo&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const BTe=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function NTe(e,t,n,r,o){let s=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let E=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,P=DM(e,E);if(P&&!e.state.selection.eq(P)){if(Ir&&Hi&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",D=>D(e,qu(13,"Enter"))))return;let O=e.state.tr.setSelection(P);E=="pointer"?O.setMeta("pointer",!0):E=="key"&&O.scrollIntoView(),s&&O.setMeta("composition",s),e.dispatch(O)}return}let a=e.state.doc.resolve(t),i=a.sharedDepth(n);t=a.before(i+1),n=e.state.doc.resolve(n).after(i+1);let l=e.state.selection,c=OTe(e,t,n),u=e.state.doc,d=u.slice(c.from,c.to),f,p;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(f=e.state.selection.to,p="end"):(f=e.state.selection.from,p="start"),e.input.lastKeyCode=null;let m=qTe(d.content,c.doc.content,c.from,f,p);if(m&&e.input.domChangeCount++,(tf&&e.input.lastIOSEnter>Date.now()-225||Hi)&&o.some(E=>E.nodeType==1&&!BTe.test(E.nodeName))&&(!m||m.endA>=m.endB)&&e.someProp("handleKeyDown",E=>E(e,qu(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!m)if(r&&l instanceof ie&&!l.empty&&l.$head.sameParent(l.$anchor)&&!e.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))m={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let E=oN(e,e.state.doc,c.sel);if(E&&!E.eq(e.state.selection)){let P=e.state.tr.setSelection(E);s&&P.setMeta("composition",s),e.dispatch(P)}}return}e.state.selection.from<e.state.selection.to&&m.start==m.endB&&e.state.selection instanceof ie&&(m.start>e.state.selection.from&&m.start<=e.state.selection.from+2&&e.state.selection.from>=c.from?m.start=e.state.selection.from:m.endA<e.state.selection.to&&m.endA>=e.state.selection.to-2&&e.state.selection.to<=c.to&&(m.endB+=e.state.selection.to-m.endA,m.endA=e.state.selection.to)),ys&&Ul<=11&&m.endB==m.start+1&&m.endA==m.start&&m.start>c.from&&c.doc.textBetween(m.start-c.from-1,m.start-c.from+1)==" "&&(m.start--,m.endA--,m.endB--);let h=c.doc.resolveNoCache(m.start-c.from),g=c.doc.resolveNoCache(m.endB-c.from),v=u.resolve(m.start),x=h.sameParent(g)&&h.parent.inlineContent&&v.end()>=m.endA;if((tf&&e.input.lastIOSEnter>Date.now()-225&&(!x||o.some(E=>E.nodeName=="DIV"||E.nodeName=="P"))||!x&&h.pos<c.doc.content.size&&(!h.sameParent(g)||!h.parent.inlineContent)&&h.pos<g.pos&&!/\S/.test(c.doc.textBetween(h.pos,g.pos,"","")))&&e.someProp("handleKeyDown",E=>E(e,qu(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>m.start&&FTe(u,m.start,m.endA,h,g)&&e.someProp("handleKeyDown",E=>E(e,qu(8,"Backspace")))){Hi&&Ir&&e.domObserver.suppressSelectionUpdates();return}Ir&&m.endB==m.start&&(e.input.lastChromeDelete=Date.now()),Hi&&!x&&h.start()!=g.start()&&g.parentOffset==0&&h.depth==g.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==m.endA&&(m.endB-=2,g=c.doc.resolveNoCache(m.endB-c.from),setTimeout(()=>{e.someProp("handleKeyDown",function(E){return E(e,qu(13,"Enter"))})},20));let $=m.start,C=m.endA,M=E=>{let P=E||e.state.tr.replace($,C,c.doc.slice(m.start-c.from,m.endB-c.from));if(c.sel){let O=oN(e,P.doc,c.sel);O&&!(Ir&&e.composing&&O.empty&&(m.start!=m.endB||e.input.lastChromeDelete<Date.now()-100)&&(O.head==$||O.head==P.mapping.map(C)-1)||ys&&O.empty&&O.head==$)&&P.setSelection(O)}return s&&P.setMeta("composition",s),P.scrollIntoView()},I;if(x)if(h.pos==g.pos){ys&&Ul<=11&&h.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>Gi(e),20));let E=M(e.state.tr.delete($,C)),P=u.resolve(m.start).marksAcross(u.resolve(m.endA));P&&E.ensureMarks(P),e.dispatch(E)}else if(m.endA==m.endB&&(I=DTe(h.parent.content.cut(h.parentOffset,g.parentOffset),v.parent.content.cut(v.parentOffset,m.endA-v.start())))){let E=M(e.state.tr);I.type=="add"?E.addMark($,C,I.mark):E.removeMark($,C,I.mark),e.dispatch(E)}else if(h.parent.child(h.index()).isText&&h.index()==g.index()-(g.textOffset?0:1)){let E=h.parent.textBetween(h.parentOffset,g.parentOffset),P=()=>M(e.state.tr.insertText(E,$,C));e.someProp("handleTextInput",O=>O(e,$,C,E,P))||e.dispatch(P())}else e.dispatch(M());else e.dispatch(M())}function oN(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:FM(e,t.resolve(n.anchor),t.resolve(n.head))}function DTe(e,t){let n=e.firstChild.marks,r=t.firstChild.marks,o=n,s=r,a,i,l;for(let u=0;u<r.length;u++)o=r[u].removeFromSet(o);for(let u=0;u<n.length;u++)s=n[u].removeFromSet(s);if(o.length==1&&s.length==0)i=o[0],a="add",l=u=>u.mark(i.addToSet(u.marks));else if(o.length==0&&s.length==1)i=s[0],a="remove",l=u=>u.mark(i.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<t.childCount;u++)c.push(l(t.child(u)));if(de.from(c).eq(e))return{mark:i,type:a}}function FTe(e,t,n,r,o){if(n-t<=o.pos-r.pos||m_(r,!0,!1)<o.pos)return!1;let s=e.resolve(t);if(!r.parent.isTextblock){let i=s.nodeAfter;return i!=null&&n==t+i.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let a=e.resolve(m_(s,!0,!0));return!a.parent.isTextblock||a.pos>n||m_(a,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function m_(e,t,n){let r=e.depth,o=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,o++,t=!1;if(n){let s=e.node(r).maybeChild(e.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,o++}return o}function qTe(e,t,n,r,o){let s=e.findDiffStart(t,n);if(s==null)return null;let{a,b:i}=e.findDiffEnd(t,n+e.size,n+t.size);if(o=="end"){let l=Math.max(0,s-Math.min(a,i));r-=a+l-s}if(a<s&&e.size<t.size){let l=r<=s&&r>=a?s-r:0;s-=l,s&&s<t.size&&sN(t.textBetween(s-1,s+1))&&(s+=l?1:-1),i=s+(i-a),a=s}else if(i<s){let l=r<=s&&r>=i?s-r:0;s-=l,s&&s<e.size&&sN(e.textBetween(s-1,s+1))&&(s+=l?1:-1),a=s+(a-i),i=s}return{start:s,endA:a,endB:i}}function sN(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class z4{constructor(t,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new nTe,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(cN),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=lN(this),iN(this),this.nodeViews=uN(this),this.docView=zB(this.state.doc,aN(this),p_(this),this.dom,this),this.domObserver=new TTe(this,(r,o,s,a)=>NTe(this,r,o,s,a)),this.domObserver.start(),rTe(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let n in t)this._props[n]=t[n];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&N$(this);let n=this._props;this._props=t,t.plugins&&(t.plugins.forEach(cN),this.directPlugins=t.plugins),this.updateStateInner(t.state,n)}setProps(t){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in t)n[r]=t[r];this.update(n)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,n){var r;let o=this.state,s=!1,a=!1;t.storedMarks&&this.composing&&(O4(this),a=!0),this.state=t;let i=o.plugins!=t.plugins||this._props.plugins!=n.plugins;if(i||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let p=uN(this);LTe(p,this.nodeViews)&&(this.nodeViews=p,s=!0)}(i||n.handleDOMEvents!=this._props.handleDOMEvents)&&N$(this),this.editable=lN(this),iN(this);let l=p_(this),c=aN(this),u=o.plugins!=t.plugins&&!o.doc.eq(t.doc)?"reset":t.scrollToSelection>o.scrollToSelection?"to selection":"preserve",d=s||!this.docView.matchesNode(t.doc,c,l);(d||!t.selection.eq(o.selection))&&(a=!0);let f=u=="preserve"&&a&&this.dom.style.overflowAnchor==null&&vAe(this);if(a){this.domObserver.stop();let p=d&&(ys||Ir)&&!this.composing&&!o.selection.empty&&!t.selection.empty&&zTe(o.selection,t.selection);if(d){let m=Ir?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=vTe(this)),(s||!this.docView.update(t.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=zB(t.doc,c,l,this.dom,this)),m&&!this.trackWrites&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&LAe(this))?Gi(this,p):(w4(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(o),!((r=this.dragging)===null||r===void 0)&&r.node&&!o.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,o),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():f&&yAe(f)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!(!t||!this.dom.contains(t.nodeType==1?t:t.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Ge){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&RB(this,n.getBoundingClientRect(),t)}else RB(this,this.coordsAtPos(this.state.selection.head,1),t)}}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,t)}}updateDraggedNode(t,n){let r=t.node,o=-1;if(this.state.doc.nodeAt(r.from)==r.node)o=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(o=s)}this.dragging=new B4(t.slice,t.move,o<0?void 0:Ge.create(this.state.doc,o))}someProp(t,n){let r=this._props&&this._props[t],o;if(r!=null&&(o=n?n(r):r))return o;for(let a=0;a<this.directPlugins.length;a++){let i=this.directPlugins[a].props[t];if(i!=null&&(o=n?n(i):i))return o}let s=this.state.plugins;if(s)for(let a=0;a<s.length;a++){let i=s[a].props[t];if(i!=null&&(o=n?n(i):i))return o}}hasFocus(){if(ys){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&bAe(this.dom),Gi(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return t||document}updateRoot(){this._root=null}posAtCoords(t){return SAe(this,t)}coordsAtPos(t,n=1){return p4(this,t,n)}domAtPos(t,n=0){return this.docView.domFromPos(t,n)}nodeDOM(t){let n=this.docView.descAt(t);return n?n.nodeDOM:null}posAtDOM(t,n,r=-1){let o=this.docView.posFromDOM(t,n,r);if(o==null)throw new RangeError("DOM position not inside the editor");return o}endOfTextblock(t,n){return TAe(this,n||this.state,t)}pasteHTML(t,n){return pm(this,"",t,!1,n||new ClipboardEvent("paste"))}pasteText(t,n){return pm(this,t,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(t){return qM(this,t)}destroy(){this.docView&&(oTe(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],p_(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,iAe())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return aTe(this,t)}domSelectionRange(){let t=this.domSelection();return t?Eo&&this.root.nodeType===11&&fAe(this.dom.ownerDocument)==this.dom&&ITe(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}z4.prototype.dispatch=function(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))};function aN(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(e.state)),n)for(let r in n)r=="class"?t.class+=" "+n[r]:r=="style"?t.style=(t.style?t.style+";":"")+n[r]:!t[r]&&r!="contenteditable"&&r!="nodeName"&&(t[r]=String(n[r]))}),t.translate||(t.translate="no"),[ns.node(0,e.state.doc.content.size,t)]}function iN(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:ns.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function lN(e){return!e.someProp("editable",t=>t(e.state)===!1)}function zTe(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function uN(e){let t=Object.create(null);function n(r){for(let o in r)Object.prototype.hasOwnProperty.call(t,o)||(t[o]=r[o])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function LTe(e,t){let n=0,r=0;for(let o in e){if(e[o]!=t[o])return!0;n++}for(let o in t)r++;return n!=r}function cN(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var eu={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Ob={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},jTe=typeof navigator<"u"&&/Mac/.test(navigator.platform),VTe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Zr=0;Zr<10;Zr++)eu[48+Zr]=eu[96+Zr]=String(Zr);for(var Zr=1;Zr<=24;Zr++)eu[Zr+111]="F"+Zr;for(var Zr=65;Zr<=90;Zr++)eu[Zr]=String.fromCharCode(Zr+32),Ob[Zr]=String.fromCharCode(Zr);for(var h_ in eu)Ob.hasOwnProperty(h_)||(Ob[h_]=eu[h_]);function UTe(e){var t=jTe&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||VTe&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?Ob:eu)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const KTe=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),HTe=typeof navigator<"u"&&/Win/.test(navigator.platform);function WTe(e){let t=e.split(/-(?!$)/),n=t[t.length-1];n=="Space"&&(n=" ");let r,o,s,a;for(let i=0;i<t.length-1;i++){let l=t[i];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))o=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))KTe?a=!0:o=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),o&&(n="Ctrl-"+n),a&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function GTe(e){let t=Object.create(null);for(let n in e)t[WTe(n)]=e[n];return t}function g_(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function JTe(e){return new Se({props:{handleKeyDown:L4(e)}})}function L4(e){let t=GTe(e);return function(n,r){let o=UTe(r),s,a=t[g_(o,r)];if(a&&a(n.state,n.dispatch,n))return!0;if(o.length==1&&o!=" "){if(r.shiftKey){let i=t[g_(o,r,!1)];if(i&&i(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(HTe&&r.ctrlKey&&r.altKey)&&(s=eu[r.keyCode])&&s!=o){let i=t[g_(s,r)];if(i&&i(n.state,n.dispatch,n))return!0}}return!1}}var YTe=Object.defineProperty,KM=(e,t)=>{for(var n in t)YTe(e,n,{get:t[n],enumerable:!0})};function Qx(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:o}=n,{storedMarks:s}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return s},get selection(){return r},get doc(){return o},get tr(){return r=n.selection,o=n.doc,s=n.storedMarks,n}}}var Xx=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:n,state:r}=this,{view:o}=n,{tr:s}=r,a=this.buildProps(s);return Object.fromEntries(Object.entries(t).map(([i,l])=>[i,(...u)=>{const d=l(...u)(a);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(s),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,n=!0){const{rawCommands:r,editor:o,state:s}=this,{view:a}=o,i=[],l=!!t,c=t||s.tr,u=()=>(!l&&n&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(c),i.every(f=>f===!0)),d={...Object.fromEntries(Object.entries(r).map(([f,p])=>[f,(...h)=>{const g=this.buildProps(c,n),v=p(...h)(g);return i.push(v),d}])),run:u};return d}createCan(t){const{rawCommands:n,state:r}=this,o=!1,s=t||r.tr,a=this.buildProps(s,o);return{...Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...u)=>c(...u)({...a,dispatch:void 0})])),chain:()=>this.createChain(s,o)}}buildProps(t,n=!0){const{rawCommands:r,editor:o,state:s}=this,{view:a}=o,i={tr:t,editor:o,view:a,state:Qx({state:s,transaction:t}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(t,n),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...u)=>c(...u)(i)]))}};return i}},j4={};KM(j4,{blur:()=>QTe,clearContent:()=>XTe,clearNodes:()=>ZTe,command:()=>eEe,createParagraphNear:()=>tEe,cut:()=>nEe,deleteCurrentNode:()=>rEe,deleteNode:()=>oEe,deleteRange:()=>sEe,deleteSelection:()=>aEe,enter:()=>iEe,exitCode:()=>lEe,extendMarkRange:()=>uEe,first:()=>cEe,focus:()=>fEe,forEach:()=>pEe,insertContent:()=>mEe,insertContentAt:()=>vEe,joinBackward:()=>xEe,joinDown:()=>bEe,joinForward:()=>wEe,joinItemBackward:()=>kEe,joinItemForward:()=>_Ee,joinTextblockBackward:()=>SEe,joinTextblockForward:()=>$Ee,joinUp:()=>yEe,keyboardShortcut:()=>MEe,lift:()=>AEe,liftEmptyBlock:()=>TEe,liftListItem:()=>EEe,newlineInCode:()=>IEe,resetAttributes:()=>PEe,scrollIntoView:()=>OEe,selectAll:()=>REe,selectNodeBackward:()=>BEe,selectNodeForward:()=>NEe,selectParentNode:()=>DEe,selectTextblockEnd:()=>FEe,selectTextblockStart:()=>qEe,setContent:()=>zEe,setMark:()=>aIe,setMeta:()=>iIe,setNode:()=>lIe,setNodeSelection:()=>uIe,setTextDirection:()=>cIe,setTextSelection:()=>dIe,sinkListItem:()=>fIe,splitBlock:()=>pIe,splitListItem:()=>mIe,toggleList:()=>hIe,toggleMark:()=>gIe,toggleNode:()=>vIe,toggleWrap:()=>yIe,undoInputRule:()=>bIe,unsetAllMarks:()=>xIe,unsetMark:()=>wIe,unsetTextDirection:()=>kIe,updateAttributes:()=>_Ie,wrapIn:()=>SIe,wrapInList:()=>$Ie});var QTe=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),XTe=(e=!0)=>({commands:t})=>t.setContent("",{emitUpdate:e}),ZTe=()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:o}=r;return n&&o.forEach(({$from:s,$to:a})=>{e.doc.nodesBetween(s.pos,a.pos,(i,l)=>{if(i.type.isText)return;const{doc:c,mapping:u}=t,d=c.resolve(u.map(l)),f=c.resolve(u.map(l+i.nodeSize)),p=d.blockRange(f);if(!p)return;const m=lr(p);if(i.type.isTextblock){const{defaultType:h}=d.parent.contentMatchAt(d.index());t.setNodeMarkup(p.start,h)}(m||m===0)&&t.lift(p,m)})}),!0},eEe=e=>t=>e(t),tEe=()=>({state:e,dispatch:t})=>Hr(e,t),nEe=(e,t)=>({editor:n,tr:r})=>{const{state:o}=n,s=o.doc.slice(e.from,e.to);r.deleteRange(e.from,e.to);const a=r.mapping.map(t);return r.insert(a,s.content),r.setSelection(new ie(r.doc.resolve(Math.max(a-1,0)))),!0},rEe=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;const o=e.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===r.type){if(t){const i=o.before(s),l=o.after(s);e.delete(i,l).scrollIntoView()}return!0}return!1};function Br(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}var oEe=e=>({tr:t,state:n,dispatch:r})=>{const o=Br(e,n.schema),s=t.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===o){if(r){const l=s.before(a),c=s.after(a);t.delete(l,c).scrollIntoView()}return!0}return!1},sEe=e=>({tr:t,dispatch:n})=>{const{from:r,to:o}=e;return n&&t.delete(r,o),!0},aEe=()=>({state:e,dispatch:t})=>Cr(e,t),iEe=()=>({commands:e})=>e.keyboardShortcut("Enter"),lEe=()=>({state:e,dispatch:t})=>co(e,t);function HM(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function Rb(e,t,n={strict:!0}){const r=Object.keys(t);return r.length?r.every(o=>n.strict?t[o]===e[o]:HM(t[o])?t[o].test(e[o]):t[o]===e[o]):!0}function V4(e,t,n={}){return e.find(r=>r.type===t&&Rb(Object.fromEntries(Object.keys(n).map(o=>[o,r.attrs[o]])),n))}function dN(e,t,n={}){return!!V4(e,t,n)}function U4(e,t,n){var r;if(!e||!t)return;let o=e.parent.childAfter(e.parentOffset);if((!o.node||!o.node.marks.some(u=>u.type===t))&&(o=e.parent.childBefore(e.parentOffset)),!o.node||!o.node.marks.some(u=>u.type===t)||(n=n||((r=o.node.marks[0])==null?void 0:r.attrs),!V4([...o.node.marks],t,n)))return;let a=o.index,i=e.start()+o.offset,l=a+1,c=i+o.node.nodeSize;for(;a>0&&dN([...e.parent.child(a-1).marks],t,n);)a-=1,i-=e.parent.child(a).nodeSize;for(;l<e.parent.childCount&&dN([...e.parent.child(l).marks],t,n);)c+=e.parent.child(l).nodeSize,l+=1;return{from:i,to:c}}function dl(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}var uEe=(e,t={})=>({tr:n,state:r,dispatch:o})=>{const s=dl(e,r.schema),{doc:a,selection:i}=n,{$from:l,from:c,to:u}=i;if(o){const d=U4(l,s,t);if(d&&d.from<=c&&d.to>=u){const f=ie.create(a,d.from,d.to);n.setSelection(f)}}return!0},cEe=e=>t=>{const n=typeof e=="function"?e(t):e;for(let r=0;r<n.length;r+=1)if(n[r](t))return!0;return!1};function K4(e){return e instanceof ie}function Uu(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function H4(e,t=null){if(!t)return null;const n=Pe.atStart(e),r=Pe.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return r;const o=n.from,s=r.to;return t==="all"?ie.create(e,Uu(0,o,s),Uu(e.content.size,o,s)):ie.create(e,Uu(t,o,s),Uu(t,o,s))}function fN(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Bb(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function dEe(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}var fEe=(e=null,t={})=>({editor:n,view:r,tr:o,dispatch:s})=>{t={scrollIntoView:!0,...t};const a=()=>{(Bb()||fN())&&r.dom.focus(),dEe()&&!Bb()&&!fN()&&r.dom.focus({preventScroll:!0}),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),t?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&e===null||e===!1)return!0;if(s&&e===null&&!K4(n.state.selection))return a(),!0;const i=H4(o.doc,e)||n.state.selection,l=n.state.selection.eq(i);return s&&(l||o.setSelection(i),l&&o.storedMarks&&o.setStoredMarks(o.storedMarks),a()),!0},pEe=(e,t)=>n=>e.every((r,o)=>t(r,{...n,index:o})),mEe=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),W4=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const r=t[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):r.nodeType===1&&W4(r)}return e};function vv(e){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t=`<body>${e}</body>`,n=new window.DOMParser().parseFromString(t,"text/html").body;return W4(n)}function hm(e,t,n){if(e instanceof Hn||e instanceof de)return e;n={slice:!0,parseOptions:{},...n};const r=typeof e=="object"&&e!==null,o=typeof e=="string";if(r)try{if(Array.isArray(e)&&e.length>0)return de.fromArray(e.map(i=>t.nodeFromJSON(i)));const a=t.nodeFromJSON(e);return n.errorOnInvalidContent&&a.check(),a}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",s),hm("",t,n)}if(o){if(n.errorOnInvalidContent){let a=!1,i="";const l=new qr({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(a=!0,i=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?gt.fromSchema(l).parseSlice(vv(e),n.parseOptions):gt.fromSchema(l).parse(vv(e),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${i}`)})}const s=gt.fromSchema(t);return n.slice?s.parseSlice(vv(e),n.parseOptions).content:s.parse(vv(e),n.parseOptions)}return hm("",t,n)}function hEe(e,t,n){const r=e.steps.length-1;if(r<t)return;const o=e.steps[r];if(!(o instanceof ln||o instanceof un))return;const s=e.mapping.maps[r];let a=0;s.forEach((i,l,c,u)=>{a===0&&(a=u)}),e.setSelection(Pe.near(e.doc.resolve(a),n))}var gEe=e=>!("type"in e),vEe=(e,t,n)=>({tr:r,dispatch:o,editor:s})=>{var a;if(o){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let i;const l=g=>{s.emit("contentError",{editor:s,error:g,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{hm(t,s.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(g){l(g)}try{i=hm(t,s.schema,{parseOptions:c,errorOnInvalidContent:(a=n.errorOnInvalidContent)!=null?a:s.options.enableContentCheck})}catch(g){return l(g),!1}let{from:u,to:d}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},f=!0,p=!0;if((gEe(i)?i:[i]).forEach(g=>{g.check(),f=f?g.isText&&g.marks.length===0:!1,p=p?g.isBlock:!1}),u===d&&p){const{parent:g}=r.doc.resolve(u);g.isTextblock&&!g.type.spec.code&&!g.childCount&&(u-=1,d+=1)}let h;if(f){if(Array.isArray(t))h=t.map(g=>g.text||"").join("");else if(t instanceof de){let g="";t.forEach(v=>{v.text&&(g+=v.text)}),h=g}else typeof t=="object"&&t&&t.text?h=t.text:h=t;r.insertText(h,u,d)}else{h=i;const g=r.doc.resolve(u),v=g.node(),x=g.parentOffset===0,$=v.isText||v.isTextblock,C=v.content.size>0;x&&$&&C&&(u=Math.max(0,u-1)),r.replaceWith(u,d,h)}n.updateSelection&&hEe(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:u,text:h}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:u,text:h})}return!0},yEe=()=>({state:e,dispatch:t})=>io(e,t),bEe=()=>({state:e,dispatch:t})=>lo(e,t),xEe=()=>({state:e,dispatch:t})=>Lr(e,t),wEe=()=>({state:e,dispatch:t})=>Vr(e,t),kEe=()=>({state:e,dispatch:t,tr:n})=>{try{const r=on(e.doc,e.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},_Ee=()=>({state:e,dispatch:t,tr:n})=>{try{const r=on(e.doc,e.selection.$from.pos,1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},SEe=()=>({state:e,dispatch:t})=>so(e,t),$Ee=()=>({state:e,dispatch:t})=>ao(e,t);function G4(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function CEe(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let r,o,s,a;for(let i=0;i<t.length-1;i+=1){const l=t[i];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))o=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))Bb()||G4()?a=!0:o=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),o&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}var MEe=e=>({editor:t,view:n,tr:r,dispatch:o})=>{const s=CEe(e).split(/-(?!$)/),a=s.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),i=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,i))});return l?.steps.forEach(c=>{const u=c.map(r.mapping);u&&o&&r.maybeStep(u)}),!0};function gm(e,t,n={}){const{from:r,to:o,empty:s}=e.selection,a=t?Br(t,e.schema):null,i=[];e.doc.nodesBetween(r,o,(d,f)=>{if(d.isText)return;const p=Math.max(r,f),m=Math.min(o,f+d.nodeSize);i.push({node:d,from:p,to:m})});const l=o-r,c=i.filter(d=>a?a.name===d.node.type.name:!0).filter(d=>Rb(d.node.attrs,n,{strict:!1}));return s?!!c.length:c.reduce((d,f)=>d+f.to-f.from,0)>=l}var AEe=(e,t={})=>({state:n,dispatch:r})=>{const o=Br(e,n.schema);return gm(n,o,t)?uo(n,r):!1},TEe=()=>({state:e,dispatch:t})=>Wr(e,t),EEe=e=>({state:t,dispatch:n})=>{const r=Br(e,t.schema);return vo(r)(t,n)},IEe=()=>({state:e,dispatch:t})=>Kr(e,t);function Zx(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function pN(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((r,o)=>(n.includes(o)||(r[o]=e[o]),r),{})}var PEe=(e,t)=>({tr:n,state:r,dispatch:o})=>{let s=null,a=null;const i=Zx(typeof e=="string"?e:e.name,r.schema);if(!i)return!1;i==="node"&&(s=Br(e,r.schema)),i==="mark"&&(a=dl(e,r.schema));let l=!1;return n.selection.ranges.forEach(c=>{r.doc.nodesBetween(c.$from.pos,c.$to.pos,(u,d)=>{s&&s===u.type&&(l=!0,o&&n.setNodeMarkup(d,void 0,pN(u.attrs,t))),a&&u.marks.length&&u.marks.forEach(f=>{a===f.type&&(l=!0,o&&n.addMark(d,d+u.nodeSize,a.create(pN(f.attrs,t))))})})}),l},OEe=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),REe=()=>({tr:e,dispatch:t})=>{if(t){const n=new Sn(e.doc);e.setSelection(n)}return!0},BEe=()=>({state:e,dispatch:t})=>jr(e,t),NEe=()=>({state:e,dispatch:t})=>Ur(e,t),DEe=()=>({state:e,dispatch:t})=>fo(e,t),FEe=()=>({state:e,dispatch:t})=>mo(e,t),qEe=()=>({state:e,dispatch:t})=>po(e,t);function D$(e,t,n={},r={}){return hm(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var zEe=(e,{errorOnInvalidContent:t,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:o,tr:s,dispatch:a,commands:i})=>{const{doc:l}=s;if(r.preserveWhitespace!=="full"){const c=D$(e,o.schema,r,{errorOnInvalidContent:t??o.options.enableContentCheck});return a&&s.replaceWith(0,l.content.size,c).setMeta("preventUpdate",!n),!0}return a&&s.setMeta("preventUpdate",!n),i.insertContentAt({from:0,to:l.content.size},e,{parseOptions:r,errorOnInvalidContent:t??o.options.enableContentCheck})};function J4(e,t){const n=dl(t,e.schema),{from:r,to:o,empty:s}=e.selection,a=[];s?(e.storedMarks&&a.push(...e.storedMarks),a.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,o,l=>{a.push(...l.marks)});const i=a.find(l=>l.type.name===n.name);return i?{...i.attrs}:{}}function LEe(e,t){const n=new zr(e);return t.forEach(r=>{r.steps.forEach(o=>{n.step(o)})}),n}function jEe(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function VEe(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function WM(e){return t=>VEe(t.$from,e)}function vt(e,t,n){return e.config[t]===void 0&&e.parent?vt(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind({...n,parent:e.parent?vt(e.parent,t,n):null}):e.config[t]}function GM(e){return e.map(t=>{const n={name:t.name,options:t.options,storage:t.storage},r=vt(t,"addExtensions",n);return r?[t,...GM(r())]:t}).flat(10)}function JM(e,t){const n=Vc.fromSchema(t).serializeFragment(e),o=document.implementation.createHTMLDocument().createElement("div");return o.appendChild(n),o.innerHTML}function Y4(e){return typeof e=="function"}function Jn(e,t=void 0,...n){return Y4(e)?t?e.bind(t)(...n):e(...n):e}function UEe(e={}){return Object.keys(e).length===0&&e.constructor===Object}function nf(e){const t=e.filter(o=>o.type==="extension"),n=e.filter(o=>o.type==="node"),r=e.filter(o=>o.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:r}}function Q4(e){const t=[],{nodeExtensions:n,markExtensions:r}=nf(e),o=[...n,...r],s={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(a=>{const i={name:a.name,options:a.options,storage:a.storage,extensions:o},l=vt(a,"addGlobalAttributes",i);if(!l)return;l().forEach(u=>{u.types.forEach(d=>{Object.entries(u.attributes).forEach(([f,p])=>{t.push({type:d,name:f,attribute:{...s,...p}})})})})}),o.forEach(a=>{const i={name:a.name,options:a.options,storage:a.storage},l=vt(a,"addAttributes",i);if(!l)return;const c=l();Object.entries(c).forEach(([u,d])=>{const f={...s,...d};typeof f?.default=="function"&&(f.default=f.default()),f?.isRequired&&f?.default===void 0&&delete f.default,t.push({type:a.name,name:u,attribute:f})})}),t}function KEe(...e){return e.filter(t=>!!t).reduce((t,n)=>{const r={...t};return Object.entries(n).forEach(([o,s])=>{if(!r[o]){r[o]=s;return}if(o==="class"){const i=s?String(s).split(" "):[],l=r[o]?r[o].split(" "):[],c=i.filter(u=>!l.includes(u));r[o]=[...l,...c].join(" ")}else if(o==="style"){const i=s?s.split(";").map(u=>u.trim()).filter(Boolean):[],l=r[o]?r[o].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;l.forEach(u=>{const[d,f]=u.split(":").map(p=>p.trim());c.set(d,f)}),i.forEach(u=>{const[d,f]=u.split(":").map(p=>p.trim());c.set(d,f)}),r[o]=Array.from(c.entries()).map(([u,d])=>`${u}: ${d}`).join("; ")}else r[o]=s}),r},{})}function Nb(e,t){return t.filter(n=>n.type===e.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(e.attrs)||{}:{[n.name]:e.attrs[n.name]}).reduce((n,r)=>KEe(n,r),{})}function HEe(e){return typeof e!="string"?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):e==="true"?!0:e==="false"?!1:e}function mN(e,t){return"style"in e?e:{...e,getAttrs:n=>{const r=e.getAttrs?e.getAttrs(n):e.attrs;if(r===!1)return!1;const o=t.reduce((s,a)=>{const i=a.attribute.parseHTML?a.attribute.parseHTML(n):HEe(n.getAttribute(a.name));return i==null?s:{...s,[a.name]:i}},{});return{...r,...o}}}}function hN(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>t==="attrs"&&UEe(n)?!1:n!=null))}function gN(e){var t,n;const r={};return!((t=e?.attribute)!=null&&t.isRequired)&&"default"in(e?.attribute||{})&&(r.default=e.attribute.default),((n=e?.attribute)==null?void 0:n.validate)!==void 0&&(r.validate=e.attribute.validate),[e.name,r]}function WEe(e,t){var n;const r=Q4(e),{nodeExtensions:o,markExtensions:s}=nf(e),a=(n=o.find(c=>vt(c,"topNode")))==null?void 0:n.name,i=Object.fromEntries(o.map(c=>{const u=r.filter(v=>v.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:t},f=e.reduce((v,x)=>{const $=vt(x,"extendNodeSchema",d);return{...v,...$?$(c):{}}},{}),p=hN({...f,content:Jn(vt(c,"content",d)),marks:Jn(vt(c,"marks",d)),group:Jn(vt(c,"group",d)),inline:Jn(vt(c,"inline",d)),atom:Jn(vt(c,"atom",d)),selectable:Jn(vt(c,"selectable",d)),draggable:Jn(vt(c,"draggable",d)),code:Jn(vt(c,"code",d)),whitespace:Jn(vt(c,"whitespace",d)),linebreakReplacement:Jn(vt(c,"linebreakReplacement",d)),defining:Jn(vt(c,"defining",d)),isolating:Jn(vt(c,"isolating",d)),attrs:Object.fromEntries(u.map(gN))}),m=Jn(vt(c,"parseHTML",d));m&&(p.parseDOM=m.map(v=>mN(v,u)));const h=vt(c,"renderHTML",d);h&&(p.toDOM=v=>h({node:v,HTMLAttributes:Nb(v,u)}));const g=vt(c,"renderText",d);return g&&(p.toText=g),[c.name,p]})),l=Object.fromEntries(s.map(c=>{const u=r.filter(g=>g.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:t},f=e.reduce((g,v)=>{const x=vt(v,"extendMarkSchema",d);return{...g,...x?x(c):{}}},{}),p=hN({...f,inclusive:Jn(vt(c,"inclusive",d)),excludes:Jn(vt(c,"excludes",d)),group:Jn(vt(c,"group",d)),spanning:Jn(vt(c,"spanning",d)),code:Jn(vt(c,"code",d)),attrs:Object.fromEntries(u.map(gN))}),m=Jn(vt(c,"parseHTML",d));m&&(p.parseDOM=m.map(g=>mN(g,u)));const h=vt(c,"renderHTML",d);return h&&(p.toDOM=g=>h({mark:g,HTMLAttributes:Nb(g,u)})),[c.name,p]}));return new qr({topNode:a,nodes:i,marks:l})}function GEe(e){const t=e.filter((n,r)=>e.indexOf(n)!==r);return Array.from(new Set(t))}function Db(e){return e.sort((n,r)=>{const o=vt(n,"priority")||100,s=vt(r,"priority")||100;return o>s?-1:o<s?1:0})}function X4(e){const t=Db(GM(e)),n=GEe(t.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),t}function Z4(e,t,n){const{from:r,to:o}=t,{blockSeparator:s=`

`,textSerializers:a={}}=n||{};let i="";return e.nodesBetween(r,o,(l,c,u,d)=>{var f;l.isBlock&&c>r&&(i+=s);const p=a?.[l.type.name];if(p)return u&&(i+=p({node:l,pos:c,parent:u,index:d,range:t})),!1;l.isText&&(i+=(f=l?.text)==null?void 0:f.slice(Math.max(r,c)-c,o-c))}),i}function JEe(e,t){const n={from:0,to:e.content.size};return Z4(e,n,t)}function e8(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}function YEe(e,t){const n=Br(t,e.schema),{from:r,to:o}=e.selection,s=[];e.doc.nodesBetween(r,o,i=>{s.push(i)});const a=s.reverse().find(i=>i.type.name===n.name);return a?{...a.attrs}:{}}function QEe(e,t){const n=Zx(typeof t=="string"?t:t.name,e.schema);return n==="node"?YEe(e,t):n==="mark"?J4(e,t):{}}function XEe(e,t=JSON.stringify){const n={};return e.filter(r=>{const o=t(r);return Object.prototype.hasOwnProperty.call(n,o)?!1:n[o]=!0})}function ZEe(e){const t=XEe(e);return t.length===1?t:t.filter((n,r)=>!t.filter((s,a)=>a!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function eIe(e){const{mapping:t,steps:n}=e,r=[];return t.maps.forEach((o,s)=>{const a=[];if(o.ranges.length)o.forEach((i,l)=>{a.push({from:i,to:l})});else{const{from:i,to:l}=n[s];if(i===void 0||l===void 0)return;a.push({from:i,to:l})}a.forEach(({from:i,to:l})=>{const c=t.slice(s).map(i,-1),u=t.slice(s).map(l),d=t.invert().map(c,-1),f=t.invert().map(u);r.push({oldRange:{from:d,to:f},newRange:{from:c,to:u}})})}),ZEe(r)}function yv(e,t){return t.nodes[e]||t.marks[e]||null}function Sy(e,t,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const o=e.find(s=>s.type===t&&s.name===r);return o?o.attribute.keepOnSplit:!1}))}var tIe=(e,t=500)=>{let n="";const r=e.parentOffset;return e.parent.nodesBetween(Math.max(0,r-t),r,(o,s,a,i)=>{var l,c;const u=((c=(l=o.type.spec).toText)==null?void 0:c.call(l,{node:o,pos:s,parent:a,index:i}))||o.textContent||"%leaf%";n+=o.isAtom&&!o.isText?u:u.slice(0,Math.max(0,r-s))}),n};function F$(e,t,n={}){const{empty:r,ranges:o}=e.selection,s=t?dl(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(d=>s?s.name===d.type.name:!0).find(d=>Rb(d.attrs,n,{strict:!1}));let a=0;const i=[];if(o.forEach(({$from:d,$to:f})=>{const p=d.pos,m=f.pos;e.doc.nodesBetween(p,m,(h,g)=>{if(!h.isText&&!h.marks.length)return;const v=Math.max(p,g),x=Math.min(m,g+h.nodeSize),$=x-v;a+=$,i.push(...h.marks.map(C=>({mark:C,from:v,to:x})))})}),a===0)return!1;const l=i.filter(d=>s?s.name===d.mark.type.name:!0).filter(d=>Rb(d.mark.attrs,n,{strict:!1})).reduce((d,f)=>d+f.to-f.from,0),c=i.filter(d=>s?d.mark.type!==s&&d.mark.type.excludes(s):!0).reduce((d,f)=>d+f.to-f.from,0);return(l>0?l+c:l)>=a}function nIe(e,t,n={}){if(!t)return gm(e,null,n)||F$(e,null,n);const r=Zx(t,e.schema);return r==="node"?gm(e,t,n):r==="mark"?F$(e,t,n):!1}function vN(e,t){return Array.isArray(t)?t.some(n=>(typeof n=="string"?n:n.name)===e.name):t}function yN(e,t){const{nodeExtensions:n}=nf(t),r=n.find(a=>a.name===e);if(!r)return!1;const o={name:r.name,options:r.options,storage:r.storage},s=Jn(vt(r,"group",o));return typeof s!="string"?!1:s.split(" ").includes("list")}function YM(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((r=e.text)!=null?r:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let o=!0;return e.content.forEach(s=>{o!==!1&&(YM(s,{ignoreWhitespace:n,checkChildren:t})||(o=!1))}),o}return!1}var t8=class n8{constructor(t){this.position=t}static fromJSON(t){return new n8(t.position)}toJSON(){return{position:this.position}}};function rIe(e,t){const n=t.mapping.mapResult(e.position);return{position:new t8(n.pos),mapResult:n}}function oIe(e){return new t8(e)}function sIe(e,t,n){var r;const{selection:o}=t;let s=null;if(K4(o)&&(s=o.$cursor),s){const i=(r=e.storedMarks)!=null?r:s.marks();return s.parent.type.allowsMarkType(n)&&(!!n.isInSet(i)||!i.some(c=>c.type.excludes(n)))}const{ranges:a}=o;return a.some(({$from:i,$to:l})=>{let c=i.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(i.pos,l.pos,(u,d,f)=>{if(c)return!1;if(u.isInline){const p=!f||f.type.allowsMarkType(n),m=!!n.isInSet(u.marks)||!u.marks.some(h=>h.type.excludes(n));c=p&&m}return!c}),c})}var aIe=(e,t={})=>({tr:n,state:r,dispatch:o})=>{const{selection:s}=n,{empty:a,ranges:i}=s,l=dl(e,r.schema);if(o)if(a){const c=J4(r,l);n.addStoredMark(l.create({...c,...t}))}else i.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;r.doc.nodesBetween(u,d,(f,p)=>{const m=Math.max(p,u),h=Math.min(p+f.nodeSize,d);f.marks.find(v=>v.type===l)?f.marks.forEach(v=>{l===v.type&&n.addMark(m,h,l.create({...v.attrs,...t}))}):n.addMark(m,h,l.create(t))})});return sIe(r,n,l)},iIe=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),lIe=(e,t={})=>({state:n,dispatch:r,chain:o})=>{const s=Br(e,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),s.isTextblock?o().command(({commands:i})=>cn(s,{...a,...t})(n)?!0:i.clearNodes()).command(({state:i})=>cn(s,{...a,...t})(i,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},uIe=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,o=Uu(e,0,r.content.size),s=Ge.create(r,o);t.setSelection(s)}return!0},cIe=(e,t)=>({tr:n,state:r,dispatch:o})=>{const{selection:s}=r;let a,i;return typeof t=="number"?(a=t,i=t):t&&"from"in t&&"to"in t?(a=t.from,i=t.to):(a=s.from,i=s.to),o&&n.doc.nodesBetween(a,i,(l,c)=>{l.isText||n.setNodeMarkup(c,void 0,{...l.attrs,dir:e})}),!0},dIe=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,{from:o,to:s}=typeof e=="number"?{from:e,to:e}:e,a=ie.atStart(r).from,i=ie.atEnd(r).to,l=Uu(o,a,i),c=Uu(s,a,i),u=ie.create(r,l,c);t.setSelection(u)}return!0},fIe=e=>({state:t,dispatch:n})=>{const r=Br(e,t.schema);return yo(r)(t,n)};function bN(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(o=>t?.includes(o.type.name));e.tr.ensureMarks(r)}}var pIe=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:o})=>{const{selection:s,doc:a}=t,{$from:i,$to:l}=s,c=o.extensionManager.attributes,u=Sy(c,i.node().type.name,i.node().attrs);if(s instanceof Ge&&s.node.isBlock)return!i.parentOffset||!ot(a,i.pos)?!1:(r&&(e&&bN(n,o.extensionManager.splittableMarks),t.split(i.pos).scrollIntoView()),!0);if(!i.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,f=i.depth===0?void 0:jEe(i.node(-1).contentMatchAt(i.indexAfter(-1)));let p=d&&f?[{type:f,attrs:u}]:void 0,m=ot(t.doc,t.mapping.map(i.pos),1,p);if(!p&&!m&&ot(t.doc,t.mapping.map(i.pos),1,f?[{type:f}]:void 0)&&(m=!0,p=f?[{type:f,attrs:u}]:void 0),r){if(m&&(s instanceof ie&&t.deleteSelection(),t.split(t.mapping.map(i.pos),1,p),f&&!d&&!i.parentOffset&&i.parent.type!==f)){const h=t.mapping.map(i.before()),g=t.doc.resolve(h);i.node(-1).canReplaceWith(g.index(),g.index()+1,f)&&t.setNodeMarkup(t.mapping.map(i.before()),f)}e&&bN(n,o.extensionManager.splittableMarks),t.scrollIntoView()}return m},mIe=(e,t={})=>({tr:n,state:r,dispatch:o,editor:s})=>{var a;const i=Br(e,r.schema),{$from:l,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const d=l.node(-1);if(d.type!==i)return!1;const f=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==i||l.index(-2)!==l.node(-2).childCount-1)return!1;if(o){let v=de.empty;const x=l.index(-1)?1:l.index(-2)?2:3;for(let P=l.depth-x;P>=l.depth-3;P-=1)v=de.from(l.node(P).copy(v));const $=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,C={...Sy(f,l.node().type.name,l.node().attrs),...t},M=((a=i.contentMatch.defaultType)==null?void 0:a.createAndFill(C))||void 0;v=v.append(de.from(i.createAndFill(null,M)||void 0));const I=l.before(l.depth-(x-1));n.replace(I,l.after(-$),new Je(v,4-x,0));let E=-1;n.doc.nodesBetween(I,n.doc.content.size,(P,O)=>{if(E>-1)return!1;P.isTextblock&&P.content.size===0&&(E=O+1)}),E>-1&&n.setSelection(ie.near(n.doc.resolve(E))),n.scrollIntoView()}return!0}const p=c.pos===l.end()?d.contentMatchAt(0).defaultType:null,m={...Sy(f,d.type.name,d.attrs),...t},h={...Sy(f,l.node().type.name,l.node().attrs),...t};n.delete(l.pos,c.pos);const g=p?[{type:i,attrs:m},{type:p,attrs:h}]:[{type:i,attrs:m}];if(!ot(n.doc,l.pos,2))return!1;if(o){const{selection:v,storedMarks:x}=r,{splittableMarks:$}=s.extensionManager,C=x||v.$to.parentOffset&&v.$from.marks();if(n.split(l.pos,2,g).scrollIntoView(),!C||!o)return!0;const M=C.filter(I=>$.includes(I.type.name));n.ensureMarks(M)}return!0},v_=(e,t)=>{const n=WM(a=>a.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const o=e.doc.nodeAt(r);return n.node.type===o?.type&&Ht(e.doc,n.pos)&&e.join(n.pos),!0},y_=(e,t)=>{const n=WM(a=>a.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const o=e.doc.nodeAt(r);return n.node.type===o?.type&&Ht(e.doc,r)&&e.join(r),!0},hIe=(e,t,n,r={})=>({editor:o,tr:s,state:a,dispatch:i,chain:l,commands:c,can:u})=>{const{extensions:d,splittableMarks:f}=o.extensionManager,p=Br(e,a.schema),m=Br(t,a.schema),{selection:h,storedMarks:g}=a,{$from:v,$to:x}=h,$=v.blockRange(x),C=g||h.$to.parentOffset&&h.$from.marks();if(!$)return!1;const M=WM(I=>yN(I.type.name,d))(h);if($.depth>=1&&M&&$.depth-M.depth<=1){if(M.node.type===p)return c.liftListItem(m);if(yN(M.node.type.name,d)&&p.validContent(M.node.content)&&i)return l().command(()=>(s.setNodeMarkup(M.pos,p),!0)).command(()=>v_(s,p)).command(()=>y_(s,p)).run()}return!n||!C||!i?l().command(()=>u().wrapInList(p,r)?!0:c.clearNodes()).wrapInList(p,r).command(()=>v_(s,p)).command(()=>y_(s,p)).run():l().command(()=>{const I=u().wrapInList(p,r),E=C.filter(P=>f.includes(P.type.name));return s.ensureMarks(E),I?!0:c.clearNodes()}).wrapInList(p,r).command(()=>v_(s,p)).command(()=>y_(s,p)).run()},gIe=(e,t={},n={})=>({state:r,commands:o})=>{const{extendEmptyMarkRange:s=!1}=n,a=dl(e,r.schema);return F$(r,a,t)?o.unsetMark(a,{extendEmptyMarkRange:s}):o.setMark(a,t)},vIe=(e,t,n={})=>({state:r,commands:o})=>{const s=Br(e,r.schema),a=Br(t,r.schema),i=gm(r,s,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),i?o.setNode(a,l):o.setNode(s,{...l,...n})},yIe=(e,t={})=>({state:n,commands:r})=>{const o=Br(e,n.schema);return gm(n,o,t)?r.lift(o):r.wrapIn(o,t)},bIe=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const o=n[r];let s;if(o.spec.isInputRules&&(s=o.getState(e))){if(t){const a=e.tr,i=s.transform;for(let l=i.steps.length-1;l>=0;l-=1)a.step(i.steps[l].invert(i.docs[l]));if(s.text){const l=a.doc.resolve(s.from).marks();a.replaceWith(s.from,s.to,e.schema.text(s.text,l))}else a.delete(s.from,s.to)}return!0}}return!1},xIe=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:o}=n;return r||t&&o.forEach(s=>{e.removeMark(s.$from.pos,s.$to.pos)}),!0},wIe=(e,t={})=>({tr:n,state:r,dispatch:o})=>{var s;const{extendEmptyMarkRange:a=!1}=t,{selection:i}=n,l=dl(e,r.schema),{$from:c,empty:u,ranges:d}=i;if(!o)return!0;if(u&&a){let{from:f,to:p}=i;const m=(s=c.marks().find(g=>g.type===l))==null?void 0:s.attrs,h=U4(c,l,m);h&&(f=h.from,p=h.to),n.removeMark(f,p,l)}else d.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,l)});return n.removeStoredMark(l),!0},kIe=e=>({tr:t,state:n,dispatch:r})=>{const{selection:o}=n;let s,a;return typeof e=="number"?(s=e,a=e):e&&"from"in e&&"to"in e?(s=e.from,a=e.to):(s=o.from,a=o.to),r&&t.doc.nodesBetween(s,a,(i,l)=>{if(i.isText)return;const c={...i.attrs};delete c.dir,t.setNodeMarkup(l,void 0,c)}),!0},_Ie=(e,t={})=>({tr:n,state:r,dispatch:o})=>{let s=null,a=null;const i=Zx(typeof e=="string"?e:e.name,r.schema);if(!i)return!1;i==="node"&&(s=Br(e,r.schema)),i==="mark"&&(a=dl(e,r.schema));let l=!1;return n.selection.ranges.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;let f,p,m,h;n.selection.empty?r.doc.nodesBetween(u,d,(g,v)=>{s&&s===g.type&&(l=!0,m=Math.max(v,u),h=Math.min(v+g.nodeSize,d),f=v,p=g)}):r.doc.nodesBetween(u,d,(g,v)=>{v<u&&s&&s===g.type&&(l=!0,m=Math.max(v,u),h=Math.min(v+g.nodeSize,d),f=v,p=g),v>=u&&v<=d&&(s&&s===g.type&&(l=!0,o&&n.setNodeMarkup(v,void 0,{...g.attrs,...t})),a&&g.marks.length&&g.marks.forEach(x=>{if(a===x.type&&(l=!0,o)){const $=Math.max(v,u),C=Math.min(v+g.nodeSize,d);n.addMark($,C,a.create({...x.attrs,...t}))}}))}),p&&(f!==void 0&&o&&n.setNodeMarkup(f,void 0,{...p.attrs,...t}),a&&p.marks.length&&p.marks.forEach(g=>{a===g.type&&o&&n.addMark(m,h,a.create({...g.attrs,...t}))}))}),l},SIe=(e,t={})=>({state:n,dispatch:r})=>{const o=Br(e,n.schema);return ho(o,t)(n,r)},$Ie=(e,t={})=>({state:n,dispatch:r})=>{const o=Br(e,n.schema);return go(o,t)(n,r)},CIe=class{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const n=this.callbacks[e];return n&&n.forEach(r=>r.apply(this,t)),this}off(e,t){const n=this.callbacks[e];return n&&(t?this.callbacks[e]=n.filter(r=>r!==t):delete this.callbacks[e]),this}once(e,t){const n=(...r)=>{this.off(e,n),t.apply(this,r)};return this.on(e,n)}removeAllListeners(){this.callbacks={}}},MIe=(e,t)=>{if(HM(t))return t.exec(e);const n=t(e);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=e,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function bv(e){var t;const{editor:n,from:r,to:o,text:s,rules:a,plugin:i}=e,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||(t=c.nodeBefore||c.nodeAfter)!=null&&t.marks.find(f=>f.type.spec.code))return!1;let u=!1;const d=tIe(c)+s;return a.forEach(f=>{if(u)return;const p=MIe(d,f.find);if(!p)return;const m=l.state.tr,h=Qx({state:l.state,transaction:m}),g={from:r-(p[0].length-s.length),to:o},{commands:v,chain:x,can:$}=new Xx({editor:n,state:h});f.handler({state:h,range:g,match:p,commands:v,chain:x,can:$})===null||!m.steps.length||(f.undoable&&m.setMeta(i,{transform:m,from:r,to:o,text:s}),l.dispatch(m),u=!0)}),u}function AIe(e){const{editor:t,rules:n}=e,r=new Se({state:{init(){return null},apply(o,s,a){const i=o.getMeta(r);if(i)return i;const l=o.getMeta("applyInputRules");return l&&setTimeout(()=>{let{text:u}=l;typeof u=="string"?u=u:u=JM(de.from(u),a.schema);const{from:d}=l,f=d+u.length;bv({editor:t,from:d,to:f,text:u,rules:n,plugin:r})}),o.selectionSet||o.docChanged?null:s}},props:{handleTextInput(o,s,a,i){return bv({editor:t,from:s,to:a,text:i,rules:n,plugin:r})},handleDOMEvents:{compositionend:o=>(setTimeout(()=>{const{$cursor:s}=o.state.selection;s&&bv({editor:t,from:s.pos,to:s.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(o,s){if(s.key!=="Enter")return!1;const{$cursor:a}=o.state.selection;return a?bv({editor:t,from:a.pos,to:a.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function TIe(e){return Object.prototype.toString.call(e).slice(8,-1)}function xv(e){return TIe(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function r8(e,t){const n={...e};return xv(e)&&xv(t)&&Object.keys(t).forEach(r=>{xv(t[r])&&xv(e[r])?n[r]=r8(e[r],t[r]):n[r]=t[r]}),n}var o8=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...Jn(vt(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Jn(vt(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const n=this.extend({...this.config,addOptions:()=>r8(this.options,t)});return n.name=this.name,n.parent=this.parent,n}extend(t={}){const n=new this.constructor({...this.config,...t});return n.parent=this,this.child=n,n.name="name"in t?t.name:n.parent.name,n}},EIe=class s8 extends o8{constructor(){super(...arguments),this.type="mark"}static create(t={}){const n=typeof t=="function"?t():t;return new s8(n)}static handleExit({editor:t,mark:n}){const{tr:r}=t.state,o=t.state.selection.$from;if(o.pos===o.end()){const a=o.marks();if(!!!a.find(c=>c?.type.name===n.name))return!1;const l=a.find(c=>c?.type.name===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",o.pos),t.view.dispatch(r),!0}return!1}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}};function IIe(e){return typeof e=="number"}var PIe=(e,t,n)=>{if(HM(t))return[...e.matchAll(t)];const r=t(e,n);return r?r.map(o=>{const s=[o.text];return s.index=o.index,s.input=e,s.data=o.data,o.replaceWith&&(o.text.includes(o.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(o.replaceWith)),s}):[]};function OIe(e){const{editor:t,state:n,from:r,to:o,rule:s,pasteEvent:a,dropEvent:i}=e,{commands:l,chain:c,can:u}=new Xx({editor:t,state:n}),d=[];return n.doc.nodesBetween(r,o,(p,m)=>{var h,g,v,x,$;if((g=(h=p.type)==null?void 0:h.spec)!=null&&g.code||!(p.isText||p.isTextblock||p.isInline))return;const C=($=(x=(v=p.content)==null?void 0:v.size)!=null?x:p.nodeSize)!=null?$:0,M=Math.max(r,m),I=Math.min(o,m+C);if(M>=I)return;const E=p.isText?p.text||"":p.textBetween(M-m,I-m,void 0,"");PIe(E,s.find,a).forEach(O=>{if(O.index===void 0)return;const D=M+O.index+1,L=D+O[0].length,V={from:n.tr.mapping.map(D),to:n.tr.mapping.map(L)},F=s.handler({state:n,range:V,match:O,commands:l,chain:c,can:u,pasteEvent:a,dropEvent:i});d.push(F)})}),d.every(p=>p!==null)}var wv=null,RIe=e=>{var t;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(t=n.clipboardData)==null||t.setData("text/html",e),n};function BIe(e){const{editor:t,rules:n}=e;let r=null,o=!1,s=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,i;try{i=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{i=null}const l=({state:u,from:d,to:f,rule:p,pasteEvt:m})=>{const h=u.tr,g=Qx({state:u,transaction:h});if(!(!OIe({editor:t,state:g,from:Math.max(d-1,0),to:f.b-1,rule:p,pasteEvent:m,dropEvent:i})||!h.steps.length)){try{i=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{i=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,h}};return n.map(u=>new Se({view(d){const f=m=>{var h;r=(h=d.dom.parentElement)!=null&&h.contains(m.target)?d.dom.parentElement:null,r&&(wv=t)},p=()=>{wv&&(wv=null)};return window.addEventListener("dragstart",f),window.addEventListener("dragend",p),{destroy(){window.removeEventListener("dragstart",f),window.removeEventListener("dragend",p)}}},props:{handleDOMEvents:{drop:(d,f)=>{if(s=r===d.dom.parentElement,i=f,!s){const p=wv;p?.isEditable&&setTimeout(()=>{const m=p.state.selection;m&&p.commands.deleteRange({from:m.from,to:m.to})},10)}return!1},paste:(d,f)=>{var p;const m=(p=f.clipboardData)==null?void 0:p.getData("text/html");return a=f,o=!!m?.includes("data-pm-slice"),!1}}},appendTransaction:(d,f,p)=>{const m=d[0],h=m.getMeta("uiEvent")==="paste"&&!o,g=m.getMeta("uiEvent")==="drop"&&!s,v=m.getMeta("applyPasteRules"),x=!!v;if(!h&&!g&&!x)return;if(x){let{text:M}=v;typeof M=="string"?M=M:M=JM(de.from(M),p.schema);const{from:I}=v,E=I+M.length,P=RIe(M);return l({rule:u,state:p,from:I,to:{b:E},pasteEvt:P})}const $=f.doc.content.findDiffStart(p.doc.content),C=f.doc.content.findDiffEnd(p.doc.content);if(!(!IIe($)||!C||$===C.b))return l({rule:u,state:p,from:$,to:C,pasteEvt:a})}}))}var ew=class{constructor(e,t){this.splittableMarks=[],this.editor=t,this.baseExtensions=e,this.extensions=X4(e),this.schema=WEe(this.extensions,t),this.setupExtensions()}get commands(){return this.extensions.reduce((e,t)=>{const n={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:yv(t.name,this.schema)},r=vt(t,"addCommands",n);return r?{...e,...r()}:e},{})}get plugins(){const{editor:e}=this;return Db([...this.extensions].reverse()).flatMap(r=>{const o={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:e,type:yv(r.name,this.schema)},s=[],a=vt(r,"addKeyboardShortcuts",o);let i={};if(r.type==="mark"&&vt(r,"exitable",o)&&(i.ArrowRight=()=>EIe.handleExit({editor:e,mark:r})),a){const f=Object.fromEntries(Object.entries(a()).map(([p,m])=>[p,()=>m({editor:e})]));i={...i,...f}}const l=JTe(i);s.push(l);const c=vt(r,"addInputRules",o);if(vN(r,e.options.enableInputRules)&&c){const f=c();if(f&&f.length){const p=AIe({editor:e,rules:f}),m=Array.isArray(p)?p:[p];s.push(...m)}}const u=vt(r,"addPasteRules",o);if(vN(r,e.options.enablePasteRules)&&u){const f=u();if(f&&f.length){const p=BIe({editor:e,rules:f});s.push(...p)}}const d=vt(r,"addProseMirrorPlugins",o);if(d){const f=d();s.push(...f)}return s})}get attributes(){return Q4(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=nf(this.extensions);return Object.fromEntries(t.filter(n=>!!vt(n,"addNodeView")).map(n=>{const r=this.attributes.filter(l=>l.type===n.name),o={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:e,type:Br(n.name,this.schema)},s=vt(n,"addNodeView",o);if(!s)return[];const a=s();if(!a)return[];const i=(l,c,u,d,f)=>{const p=Nb(l,r);return a({node:l,view:c,getPos:u,decorations:d,innerDecorations:f,editor:e,extension:n,HTMLAttributes:p})};return[n.name,i]}))}dispatchTransaction(e){const{editor:t}=this;return Db([...this.extensions].reverse()).reduceRight((r,o)=>{const s={name:o.name,options:o.options,storage:this.editor.extensionStorage[o.name],editor:t,type:yv(o.name,this.schema)},a=vt(o,"dispatchTransaction",s);return a?i=>{a.call(s,{transaction:i,next:r})}:r},e)}get markViews(){const{editor:e}=this,{markExtensions:t}=nf(this.extensions);return Object.fromEntries(t.filter(n=>!!vt(n,"addMarkView")).map(n=>{const r=this.attributes.filter(i=>i.type===n.name),o={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:e,type:dl(n.name,this.schema)},s=vt(n,"addMarkView",o);if(!s)return[];const a=(i,l,c)=>{const u=Nb(i,r);return s()({mark:i,view:l,inline:c,editor:e,extension:n,HTMLAttributes:u,updateAttributes:d=>{JIe(i,e,d)}})};return[n.name,a]}))}setupExtensions(){const e=this.extensions;this.editor.extensionStorage=Object.fromEntries(e.map(t=>[t.name,t.storage])),e.forEach(t=>{var n;const r={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:yv(t.name,this.schema)};t.type==="mark"&&((n=Jn(vt(t,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(t.name);const o=vt(t,"onBeforeCreate",r),s=vt(t,"onCreate",r),a=vt(t,"onUpdate",r),i=vt(t,"onSelectionUpdate",r),l=vt(t,"onTransaction",r),c=vt(t,"onFocus",r),u=vt(t,"onBlur",r),d=vt(t,"onDestroy",r);o&&this.editor.on("beforeCreate",o),s&&this.editor.on("create",s),a&&this.editor.on("update",a),i&&this.editor.on("selectionUpdate",i),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),u&&this.editor.on("blur",u),d&&this.editor.on("destroy",d)})}};ew.resolve=X4;ew.sort=Db;ew.flatten=GM;var NIe={};KM(NIe,{ClipboardTextSerializer:()=>i8,Commands:()=>l8,Delete:()=>u8,Drop:()=>c8,Editable:()=>d8,FocusEvents:()=>p8,Keymap:()=>m8,Paste:()=>h8,Tabindex:()=>g8,TextDirection:()=>v8,focusEventsPluginKey:()=>f8});var ui=class a8 extends o8{constructor(){super(...arguments),this.type="extension"}static create(t={}){const n=typeof t=="function"?t():t;return new a8(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},i8=ui.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Se({key:new Ce("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:o}=t,{ranges:s}=o,a=Math.min(...s.map(u=>u.$from.pos)),i=Math.max(...s.map(u=>u.$to.pos)),l=e8(n);return Z4(r,{from:a,to:i},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),l8=ui.create({name:"commands",addCommands(){return{...j4}}}),u8=ui.create({name:"delete",onUpdate({transaction:e,appendedTransactions:t}){var n,r,o;const s=()=>{var a,i,l,c;if((c=(l=(i=(a=this.editor.options.coreExtensionOptions)==null?void 0:a.delete)==null?void 0:i.filterTransaction)==null?void 0:l.call(i,e))!=null?c:e.getMeta("y-sync$"))return;const u=LEe(e.before,[e,...t]);eIe(u).forEach(p=>{u.mapping.mapResult(p.oldRange.from).deletedAfter&&u.mapping.mapResult(p.oldRange.to).deletedBefore&&u.before.nodesBetween(p.oldRange.from,p.oldRange.to,(m,h)=>{const g=h+m.nodeSize-2,v=p.oldRange.from<=h&&g<=p.oldRange.to;this.editor.emit("delete",{type:"node",node:m,from:h,to:g,newFrom:u.mapping.map(h),newTo:u.mapping.map(g),deletedRange:p.oldRange,newRange:p.newRange,partial:!v,editor:this.editor,transaction:e,combinedTransform:u})})});const f=u.mapping;u.steps.forEach((p,m)=>{var h,g;if(p instanceof En){const v=f.slice(m).map(p.from,-1),x=f.slice(m).map(p.to),$=f.invert().map(v,-1),C=f.invert().map(x),M=(h=u.doc.nodeAt(v-1))==null?void 0:h.marks.some(E=>E.eq(p.mark)),I=(g=u.doc.nodeAt(x))==null?void 0:g.marks.some(E=>E.eq(p.mark));this.editor.emit("delete",{type:"mark",mark:p.mark,from:p.from,to:p.to,deletedRange:{from:$,to:C},newRange:{from:v,to:x},partial:!!(I||M),editor:this.editor,transaction:e,combinedTransform:u})}})};(o=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||o?setTimeout(s,0):s()}}),c8=ui.create({name:"drop",addProseMirrorPlugins(){return[new Se({key:new Ce("tiptapDrop"),props:{handleDrop:(e,t,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:r})}}})]}}),d8=ui.create({name:"editable",addProseMirrorPlugins(){return[new Se({key:new Ce("editable"),props:{editable:()=>this.editor.options.editable}})]}}),f8=new Ce("focusEvents"),p8=ui.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new Se({key:f8,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),m8=ui.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:i})=>{const{selection:l,doc:c}=i,{empty:u,$anchor:d}=l,{pos:f,parent:p}=d,m=d.parent.isTextblock&&f>0?i.doc.resolve(f-1):d,h=m.parent.type.spec.isolating,g=d.pos-d.parentOffset,v=h&&m.parent.childCount===1?g===d.pos:Pe.atStart(c).from===f;return!u||!p.type.isTextblock||p.textContent.length||!v||v&&d.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},o={...r},s={...r,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Bb()||G4()?s:o},addProseMirrorPlugins(){return[new Se({key:new Ce("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(h=>h.getMeta("composition")))return;const r=e.some(h=>h.docChanged)&&!t.doc.eq(n.doc),o=e.some(h=>h.getMeta("preventClearDocument"));if(!r||o)return;const{empty:s,from:a,to:i}=t.selection,l=Pe.atStart(t.doc).from,c=Pe.atEnd(t.doc).to;if(s||!(a===l&&i===c)||!YM(n.doc))return;const f=n.tr,p=Qx({state:n,transaction:f}),{commands:m}=new Xx({editor:this.editor,state:p});if(m.clearNodes(),!!f.steps.length)return f}})]}}),h8=ui.create({name:"paste",addProseMirrorPlugins(){return[new Se({key:new Ce("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),g8=ui.create({name:"tabindex",addProseMirrorPlugins(){return[new Se({key:new Ce("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),v8=ui.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:e}=nf(this.extensions);return[{types:e.filter(t=>t.name!=="text").map(t=>t.name),attributes:{dir:{default:this.options.direction,parseHTML:t=>{const n=t.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:t=>t.dir?{dir:t.dir}:{}}}}]},addProseMirrorPlugins(){return[new Se({key:new Ce("textDirection"),props:{attributes:()=>{const e=this.options.direction;return e?{dir:e}:{}}}})]}}),DIe=class wd{constructor(t,n,r=!1,o=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=t,this.editor=n,this.currentNode=o}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var t;return(t=this.actualDepth)!=null?t:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(t){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},t)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(t);return new wd(n,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new wd(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new wd(t,this.editor)}get children(){const t=[];return this.node.content.forEach((n,r)=>{const o=n.isBlock&&!n.isTextblock,s=n.isAtom&&!n.isText,a=this.pos+r+(s?0:1);if(a<0||a>this.resolvedPos.doc.nodeSize-2)return;const i=this.resolvedPos.doc.resolve(a);if(!o&&i.depth<=this.depth)return;const l=new wd(i,this.editor,o,o?n:null);o&&(l.actualDepth=this.depth+1),t.push(new wd(i,this.editor,o,o?n:null))}),t}get firstChild(){return this.children[0]||null}get lastChild(){const t=this.children;return t[t.length-1]||null}closest(t,n={}){let r=null,o=this.parent;for(;o&&!r;){if(o.node.type.name===t)if(Object.keys(n).length>0){const s=o.node.attrs,a=Object.keys(n);for(let i=0;i<a.length;i+=1){const l=a[i];if(s[l]!==n[l])break}}else r=o;o=o.parent}return r}querySelector(t,n={}){return this.querySelectorAll(t,n,!0)[0]||null}querySelectorAll(t,n={},r=!1){let o=[];if(!this.children||this.children.length===0)return o;const s=Object.keys(n);return this.children.forEach(a=>{r&&o.length>0||(a.node.type.name===t&&s.every(l=>n[l]===a.node.attrs[l])&&o.push(a),!(r&&o.length>0)&&(o=o.concat(a.querySelectorAll(t,n,r))))}),o}setAttribute(t){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...t}),this.editor.view.dispatch(n)}},FIe=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function qIe(e,t,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const o=document.createElement("style");return t&&o.setAttribute("nonce",t),o.setAttribute("data-tiptap-style",""),o.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(o),o}var zIe=class extends CIe{constructor(t={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:o})=>{throw o},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null,enableExtensionDispatchTransaction:!0},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:rIe,createMappablePosition:oIe},this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:o,slice:s,moved:a})=>this.options.onDrop(o,s,a)),this.on("paste",({event:o,slice:s})=>this.options.onPaste(o,s)),this.on("delete",this.options.onDelete);const n=this.createDoc(),r=H4(n,this.options.autofocus);this.editorState=Sd.create({doc:n,schema:this.schema,selection:r||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t?.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=qIe(FIe,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,n=!0){this.setOptions({editable:t}),n&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,n)=>{if(this.editorView)return this.editorView[n];if(n==="state")return this.editorState;if(n in t)return Reflect.get(t,n);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${n}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,n){const r=Y4(n)?n(t,[...this.state.plugins]):[...this.state.plugins,t],o=this.state.reconfigure({plugins:r});return this.view.updateState(o),o}unregisterPlugin(t){if(this.isDestroyed)return;const n=this.state.plugins;let r=n;if([].concat(t).forEach(s=>{const a=typeof s=="string"?`${s}$`:s.key;r=r.filter(i=>!i.key.startsWith(a))}),n.length===r.length)return;const o=this.state.reconfigure({plugins:r});return this.view.updateState(o),o}createExtensionManager(){var t,n;const o=[...this.options.enableCoreExtensions?[d8,i8.configure({blockSeparator:(n=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:n.blockSeparator}),l8,p8,m8,g8,c8,h8,u8,v8.configure({direction:this.options.textDirection})].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s?.type));this.extensionManager=new ew(o,this)}createCommandManager(){this.commandManager=new Xx({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=D$(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(n){if(!(n instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(n.message))throw n;this.emit("contentError",{editor:this,error:n,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(r=>r.name!=="collaboration"),this.createExtensionManager()}}),t=D$(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){const{editorProps:n,enableExtensionDispatchTransaction:r}=this.options,o=n.dispatchTransaction||this.dispatchTransaction.bind(this),s=r?this.extensionManager.dispatchTransaction(o):o;this.editorView=new z4(t,{...n,attributes:{role:"textbox",...n?.attributes},dispatchTransaction:s,state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const a=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(a),this.prependClass(),this.injectCSS();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(u=>{var d;return(d=this.capturedTransaction)==null?void 0:d.step(u)});return}const{state:n,transactions:r}=this.state.applyTransaction(t),o=!this.state.selection.eq(n.selection),s=r.includes(t),a=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:n}),!s)return;this.view.updateState(n),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:r.slice(1)}),o&&this.emit("selectionUpdate",{editor:this,transaction:t});const i=r.findLast(u=>u.getMeta("focus")||u.getMeta("blur")),l=i?.getMeta("focus"),c=i?.getMeta("blur");l&&this.emit("focus",{editor:this,event:l.event,transaction:i}),c&&this.emit("blur",{editor:this,event:c.event,transaction:i}),!(t.getMeta("preventUpdate")||!r.some(u=>u.docChanged)||a.doc.eq(n.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:r.slice(1)})}getAttributes(t){return QEe(this.state,t)}isActive(t,n){const r=typeof t=="string"?t:null,o=typeof t=="string"?n:t;return nIe(this.state,r,o)}getJSON(){return this.state.doc.toJSON()}getHTML(){return JM(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:n=`

`,textSerializers:r={}}=t||{};return JEe(this.state.doc,{blockSeparator:n,textSerializers:{...e8(this.schema),...r}})}get isEmpty(){return YM(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,n;return(n=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?n:!0}$node(t,n){var r;return((r=this.$doc)==null?void 0:r.querySelector(t,n))||null}$nodes(t,n){var r;return((r=this.$doc)==null?void 0:r.querySelectorAll(t,n))||null}$pos(t){const n=this.state.doc.resolve(t);return new DIe(n,this)}get $doc(){return this.$pos(0)}},LIe={};KM(LIe,{createAtomBlockMarkdownSpec:()=>jIe,createBlockMarkdownSpec:()=>VIe,createInlineMarkdownSpec:()=>HIe,parseAttributes:()=>QM,parseIndentedBlocks:()=>WIe,renderNestedMarkdownContent:()=>GIe,serializeAttributes:()=>XM});function QM(e){if(!e?.trim())return{};const t={},n=[],r=e.replace(/["']([^"']*)["']/g,c=>(n.push(c),`__QUOTED_${n.length-1}__`)),o=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(o){const c=o.map(u=>u.trim().slice(1));t.class=c.join(" ")}const s=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);s&&(t.id=s[1]);const a=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(a)).forEach(([,c,u])=>{var d;const f=parseInt(((d=u.match(/__QUOTED_(\d+)__/))==null?void 0:d[1])||"0",10),p=n[f];p&&(t[c]=p.slice(1,-1))});const l=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return l&&l.split(/\s+/).filter(Boolean).forEach(u=>{u.match(/^[a-zA-Z][\w-]*$/)&&(t[u]=!0)}),t}function XM(e){if(!e||Object.keys(e).length===0)return"";const t=[];return e.class&&String(e.class).split(/\s+/).filter(Boolean).forEach(r=>t.push(`.${r}`)),e.id&&t.push(`#${e.id}`),Object.entries(e).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?t.push(n):r!==!1&&r!=null&&t.push(`${n}="${String(r)}"`))}),t.join(" ")}function jIe(e){const{nodeName:t,name:n,parseAttributes:r=QM,serializeAttributes:o=XM,defaultAttributes:s={},requiredAttributes:a=[],allowedAttributes:i}=e,l=n||t,c=u=>{if(!i)return u;const d={};return i.forEach(f=>{f in u&&(d[f]=u[f])}),d};return{parseMarkdown:(u,d)=>{const f={...s,...u.attributes};return d.createNode(t,f,[])},markdownTokenizer:{name:t,level:"block",start(u){var d;const f=new RegExp(`^:::${l}(?:\\s|$)`,"m"),p=(d=u.match(f))==null?void 0:d.index;return p!==void 0?p:-1},tokenize(u,d,f){const p=new RegExp(`^:::${l}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),m=u.match(p);if(!m)return;const h=m[1]||"",g=r(h);if(!a.find(x=>!(x in g)))return{type:t,raw:m[0],attributes:g}}},renderMarkdown:u=>{const d=c(u.attrs||{}),f=o(d),p=f?` {${f}}`:"";return`:::${l}${p} :::`}}}function VIe(e){const{nodeName:t,name:n,getContent:r,parseAttributes:o=QM,serializeAttributes:s=XM,defaultAttributes:a={},content:i="block",allowedAttributes:l}=e,c=n||t,u=d=>{if(!l)return d;const f={};return l.forEach(p=>{p in d&&(f[p]=d[p])}),f};return{parseMarkdown:(d,f)=>{let p;if(r){const h=r(d);p=typeof h=="string"?[{type:"text",text:h}]:h}else i==="block"?p=f.parseChildren(d.tokens||[]):p=f.parseInline(d.tokens||[]);const m={...a,...d.attributes};return f.createNode(t,m,p)},markdownTokenizer:{name:t,level:"block",start(d){var f;const p=new RegExp(`^:::${c}`,"m"),m=(f=d.match(p))==null?void 0:f.index;return m!==void 0?m:-1},tokenize(d,f,p){var m;const h=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),g=d.match(h);if(!g)return;const[v,x=""]=g,$=o(x);let C=1;const M=v.length;let I="";const E=/^:::([\w-]*)(\s.*)?/gm,P=d.slice(M);for(E.lastIndex=0;;){const O=E.exec(P);if(O===null)break;const D=O.index,L=O[1];if(!((m=O[2])!=null&&m.endsWith(":::"))){if(L)C+=1;else if(C-=1,C===0){const V=P.slice(0,D);I=V.trim();const F=d.slice(0,M+D+O[0].length);let z=[];if(I)if(i==="block")for(z=p.blockTokens(V),z.forEach(N=>{N.text&&(!N.tokens||N.tokens.length===0)&&(N.tokens=p.inlineTokens(N.text))});z.length>0;){const N=z[z.length-1];if(N.type==="paragraph"&&(!N.text||N.text.trim()===""))z.pop();else break}else z=p.inlineTokens(I);return{type:t,raw:F,attributes:$,content:I,tokens:z}}}}}},renderMarkdown:(d,f)=>{const p=u(d.attrs||{}),m=s(p),h=m?` {${m}}`:"",g=f.renderChildren(d.content||[],`

`);return`:::${c}${h}

${g}

:::`}}}function UIe(e){if(!e.trim())return{};const t={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(e);for(;r!==null;){const[,o,s,a]=r;t[o]=s||a,r=n.exec(e)}return t}function KIe(e){return Object.entries(e).filter(([,t])=>t!=null).map(([t,n])=>`${t}="${n}"`).join(" ")}function HIe(e){const{nodeName:t,name:n,getContent:r,parseAttributes:o=UIe,serializeAttributes:s=KIe,defaultAttributes:a={},selfClosing:i=!1,allowedAttributes:l}=e,c=n||t,u=f=>{if(!l)return f;const p={};return l.forEach(m=>{const h=typeof m=="string"?m:m.name,g=typeof m=="string"?void 0:m.skipIfDefault;if(h in f){const v=f[h];if(g!==void 0&&v===g)return;p[h]=v}}),p},d=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(f,p)=>{const m={...a,...f.attributes};if(i)return p.createNode(t,m);const h=r?r(f):f.content||"";return h?p.createNode(t,m,[p.createTextNode(h)]):p.createNode(t,m,[])},markdownTokenizer:{name:t,level:"inline",start(f){const p=i?new RegExp(`\\[${d}\\s*[^\\]]*\\]`):new RegExp(`\\[${d}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${d}\\]`),m=f.match(p),h=m?.index;return h!==void 0?h:-1},tokenize(f,p,m){const h=i?new RegExp(`^\\[${d}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${d}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${d}\\]`),g=f.match(h);if(!g)return;let v="",x="";if(i){const[,C]=g;x=C}else{const[,C,M]=g;x=C,v=M||""}const $=o(x.trim());return{type:t,raw:g[0],content:v.trim(),attributes:$}}},renderMarkdown:f=>{let p="";r?p=r(f):f.content&&f.content.length>0&&(p=f.content.filter(v=>v.type==="text").map(v=>v.text).join(""));const m=u(f.attrs||{}),h=s(m),g=h?` ${h}`:"";return i?`[${c}${g}]`:`[${c}${g}]${p}[/${c}]`}}}function WIe(e,t,n){var r,o,s,a;const i=e.split(`
`),l=[];let c="",u=0;const d=t.baseIndentSize||2;for(;u<i.length;){const f=i[u],p=f.match(t.itemPattern);if(!p){if(l.length>0)break;if(f.trim()===""){u+=1,c=`${c}${f}
`;continue}else return}const m=t.extractItemData(p),{indentLevel:h,mainContent:g}=m;c=`${c}${f}
`;const v=[g];for(u+=1;u<i.length;){const M=i[u];if(M.trim()===""){const E=i.slice(u+1).findIndex(D=>D.trim()!=="");if(E===-1)break;if((((o=(r=i[u+1+E].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:o.length)||0)>h){v.push(M),c=`${c}${M}
`,u+=1;continue}else break}if((((a=(s=M.match(/^(\s*)/))==null?void 0:s[1])==null?void 0:a.length)||0)>h)v.push(M),c=`${c}${M}
`,u+=1;else break}let x;const $=v.slice(1);if($.length>0){const M=$.map(I=>I.slice(h+d)).join(`
`);M.trim()&&(t.customNestedParser?x=t.customNestedParser(M):x=n.blockTokens(M))}const C=t.createToken(m,x);l.push(C)}if(l.length!==0)return{items:l,raw:c}}function GIe(e,t,n,r){if(!e||!Array.isArray(e.content))return"";const o=typeof n=="function"?n(r):n,[s,...a]=e.content,i=t.renderChildren([s]),l=[`${o}${i}`];return a&&a.length>0&&a.forEach(c=>{const u=t.renderChildren([c]);if(u){const d=u.split(`
`).map(f=>f?t.indent(f):"").join(`
`);l.push(d)}}),l.join(`
`)}function JIe(e,t,n={}){const{state:r}=t,{doc:o,tr:s}=r,a=e;o.descendants((i,l)=>{const c=s.mapping.map(l),u=s.mapping.map(l)+i.nodeSize;let d=null;if(i.marks.forEach(p=>{if(p!==a)return!1;d=p}),!d)return;let f=!1;if(Object.keys(n).forEach(p=>{n[p]!==d.attrs[p]&&(f=!0)}),f){const p=e.type.create({...e.attrs,...n});s.removeMark(c,u,e.type),s.addMark(c,u,p)}}),s.docChanged&&t.view.dispatch(s)}function xN(e){return af((t,n)=>({get(){return t(),e},set(r){e=r,requestAnimationFrame(()=>{requestAnimationFrame(()=>{n()})})}}))}var YIe=class extends zIe{constructor(e={}){return super(e),this.contentComponent=null,this.appContext=null,this.reactiveState=xN(this.view.state),this.reactiveExtensionStorage=xN(this.extensionStorage),this.on("beforeTransaction",({nextState:t})=>{this.reactiveState.value=t,this.reactiveExtensionStorage.value=this.extensionStorage}),Rd(this)}get state(){return this.reactiveState?this.reactiveState.value:this.view.state}get storage(){return this.reactiveExtensionStorage?this.reactiveExtensionStorage.value:super.storage}registerPlugin(e,t){const n=super.registerPlugin(e,t);return this.reactiveState&&(this.reactiveState.value=n),n}unregisterPlugin(e){const t=super.unregisterPlugin(e);return this.reactiveState&&t&&(this.reactiveState.value=t),t}},QIe=le({name:"EditorContent",props:{editor:{default:null,type:Object}},setup(e){const t=K(),n=ir();return Cn(()=>{const r=e.editor;r&&r.options.element&&t.value&&St(()=>{var o;if(!t.value||!((o=r.view.dom)!=null&&o.parentNode))return;const s=y(t.value);t.value.append(...r.view.dom.parentNode.childNodes),r.contentComponent=n.ctx._,n&&(r.appContext={...n.appContext,provides:n.provides}),r.setOptions({element:s}),r.createNodeViews()})}),Tc(()=>{const r=e.editor;r&&(r.contentComponent=null,r.appContext=null)}),{rootEl:t}},render(){return Or("div",{ref:e=>{this.rootEl=e}})}}),XIe=(e={})=>{const t=yr();return wt(()=>{t.value=new YIe(e)}),Tc(()=>{var n,r,o,s;const a=(r=(n=t.value)==null?void 0:n.view.dom)==null?void 0:r.parentNode,i=a?.cloneNode(!0);(o=a?.parentNode)==null||o.replaceChild(i,a),(s=t.value)==null||s.destroy()}),t},ZIe=Object.defineProperty,ZM=(e,t)=>{for(var n in t)ZIe(e,n,{get:t[n],enumerable:!0})};function y8(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:o}=n,{storedMarks:s}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return s},get selection(){return r},get doc(){return o},get tr(){return r=n.selection,o=n.doc,s=n.storedMarks,n}}}var ePe=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:n,state:r}=this,{view:o}=n,{tr:s}=r,a=this.buildProps(s);return Object.fromEntries(Object.entries(t).map(([i,l])=>[i,(...u)=>{const d=l(...u)(a);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(s),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,n=!0){const{rawCommands:r,editor:o,state:s}=this,{view:a}=o,i=[],l=!!t,c=t||s.tr,u=()=>(!l&&n&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(c),i.every(f=>f===!0)),d={...Object.fromEntries(Object.entries(r).map(([f,p])=>[f,(...h)=>{const g=this.buildProps(c,n),v=p(...h)(g);return i.push(v),d}])),run:u};return d}createCan(t){const{rawCommands:n,state:r}=this,o=!1,s=t||r.tr,a=this.buildProps(s,o);return{...Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...u)=>c(...u)({...a,dispatch:void 0})])),chain:()=>this.createChain(s,o)}}buildProps(t,n=!0){const{rawCommands:r,editor:o,state:s}=this,{view:a}=o,i={tr:t,editor:o,view:a,state:y8({state:s,transaction:t}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(t,n),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...u)=>c(...u)(i)]))}};return i}},b8={};ZM(b8,{blur:()=>tPe,clearContent:()=>nPe,clearNodes:()=>rPe,command:()=>oPe,createParagraphNear:()=>sPe,cut:()=>aPe,deleteCurrentNode:()=>iPe,deleteNode:()=>lPe,deleteRange:()=>uPe,deleteSelection:()=>cPe,enter:()=>dPe,exitCode:()=>fPe,extendMarkRange:()=>mPe,first:()=>hPe,focus:()=>yPe,forEach:()=>bPe,insertContent:()=>xPe,insertContentAt:()=>_Pe,joinBackward:()=>CPe,joinDown:()=>$Pe,joinForward:()=>MPe,joinItemBackward:()=>APe,joinItemForward:()=>TPe,joinTextblockBackward:()=>EPe,joinTextblockForward:()=>IPe,joinUp:()=>SPe,keyboardShortcut:()=>OPe,lift:()=>RPe,liftEmptyBlock:()=>BPe,liftListItem:()=>NPe,newlineInCode:()=>DPe,resetAttributes:()=>FPe,scrollIntoView:()=>qPe,selectAll:()=>zPe,selectNodeBackward:()=>LPe,selectNodeForward:()=>jPe,selectParentNode:()=>VPe,selectTextblockEnd:()=>UPe,selectTextblockStart:()=>KPe,setContent:()=>WPe,setMark:()=>l2e,setMeta:()=>u2e,setNode:()=>c2e,setNodeSelection:()=>d2e,setTextDirection:()=>f2e,setTextSelection:()=>p2e,sinkListItem:()=>m2e,splitBlock:()=>h2e,splitListItem:()=>g2e,toggleList:()=>v2e,toggleMark:()=>y2e,toggleNode:()=>b2e,toggleWrap:()=>x2e,undoInputRule:()=>w2e,unsetAllMarks:()=>k2e,unsetMark:()=>_2e,unsetTextDirection:()=>S2e,updateAttributes:()=>$2e,wrapIn:()=>C2e,wrapInList:()=>M2e});var tPe=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),nPe=(e=!0)=>({commands:t})=>t.setContent("",{emitUpdate:e}),rPe=()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:o}=r;return n&&o.forEach(({$from:s,$to:a})=>{e.doc.nodesBetween(s.pos,a.pos,(i,l)=>{if(i.type.isText)return;const{doc:c,mapping:u}=t,d=c.resolve(u.map(l)),f=c.resolve(u.map(l+i.nodeSize)),p=d.blockRange(f);if(!p)return;const m=lr(p);if(i.type.isTextblock){const{defaultType:h}=d.parent.contentMatchAt(d.index());t.setNodeMarkup(p.start,h)}(m||m===0)&&t.lift(p,m)})}),!0},oPe=e=>t=>e(t),sPe=()=>({state:e,dispatch:t})=>Hr(e,t),aPe=(e,t)=>({editor:n,tr:r})=>{const{state:o}=n,s=o.doc.slice(e.from,e.to);r.deleteRange(e.from,e.to);const a=r.mapping.map(t);return r.insert(a,s.content),r.setSelection(new ie(r.doc.resolve(Math.max(a-1,0)))),!0},iPe=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;const o=e.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===r.type){if(t){const i=o.before(s),l=o.after(s);e.delete(i,l).scrollIntoView()}return!0}return!1};function Io(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}var lPe=e=>({tr:t,state:n,dispatch:r})=>{const o=Io(e,n.schema),s=t.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===o){if(r){const l=s.before(a),c=s.after(a);t.delete(l,c).scrollIntoView()}return!0}return!1},uPe=e=>({tr:t,dispatch:n})=>{const{from:r,to:o}=e;return n&&t.delete(r,o),!0},cPe=()=>({state:e,dispatch:t})=>Cr(e,t),dPe=()=>({commands:e})=>e.keyboardShortcut("Enter"),fPe=()=>({state:e,dispatch:t})=>co(e,t);function pPe(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function Fb(e,t,n={strict:!0}){const r=Object.keys(t);return r.length?r.every(o=>n.strict?t[o]===e[o]:pPe(t[o])?t[o].test(e[o]):t[o]===e[o]):!0}function x8(e,t,n={}){return e.find(r=>r.type===t&&Fb(Object.fromEntries(Object.keys(n).map(o=>[o,r.attrs[o]])),n))}function wN(e,t,n={}){return!!x8(e,t,n)}function w8(e,t,n){var r;if(!e||!t)return;let o=e.parent.childAfter(e.parentOffset);if((!o.node||!o.node.marks.some(u=>u.type===t))&&(o=e.parent.childBefore(e.parentOffset)),!o.node||!o.node.marks.some(u=>u.type===t)||(n=n||((r=o.node.marks[0])==null?void 0:r.attrs),!x8([...o.node.marks],t,n)))return;let a=o.index,i=e.start()+o.offset,l=a+1,c=i+o.node.nodeSize;for(;a>0&&wN([...e.parent.child(a-1).marks],t,n);)a-=1,i-=e.parent.child(a).nodeSize;for(;l<e.parent.childCount&&wN([...e.parent.child(l).marks],t,n);)c+=e.parent.child(l).nodeSize,l+=1;return{from:i,to:c}}function au(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}var mPe=(e,t={})=>({tr:n,state:r,dispatch:o})=>{const s=au(e,r.schema),{doc:a,selection:i}=n,{$from:l,from:c,to:u}=i;if(o){const d=w8(l,s,t);if(d&&d.from<=c&&d.to>=u){const f=ie.create(a,d.from,d.to);n.setSelection(f)}}return!0},hPe=e=>t=>{const n=typeof e=="function"?e(t):e;for(let r=0;r<n.length;r+=1)if(n[r](t))return!0;return!1};function k8(e){return e instanceof ie}function Ku(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function gPe(e,t=null){if(!t)return null;const n=Pe.atStart(e),r=Pe.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return r;const o=n.from,s=r.to;return t==="all"?ie.create(e,Ku(0,o,s),Ku(e.content.size,o,s)):ie.create(e,Ku(t,o,s),Ku(t,o,s))}function kN(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function qb(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function vPe(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}var yPe=(e=null,t={})=>({editor:n,view:r,tr:o,dispatch:s})=>{t={scrollIntoView:!0,...t};const a=()=>{(qb()||kN())&&r.dom.focus(),vPe()&&!qb()&&!kN()&&r.dom.focus({preventScroll:!0}),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),t?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&e===null||e===!1)return!0;if(s&&e===null&&!k8(n.state.selection))return a(),!0;const i=gPe(o.doc,e)||n.state.selection,l=n.state.selection.eq(i);return s&&(l||o.setSelection(i),l&&o.storedMarks&&o.setStoredMarks(o.storedMarks),a()),!0},bPe=(e,t)=>n=>e.every((r,o)=>t(r,{...n,index:o})),xPe=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),_8=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const r=t[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):r.nodeType===1&&_8(r)}return e};function kv(e){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t=`<body>${e}</body>`,n=new window.DOMParser().parseFromString(t,"text/html").body;return _8(n)}function vm(e,t,n){if(e instanceof Hn||e instanceof de)return e;n={slice:!0,parseOptions:{},...n};const r=typeof e=="object"&&e!==null,o=typeof e=="string";if(r)try{if(Array.isArray(e)&&e.length>0)return de.fromArray(e.map(i=>t.nodeFromJSON(i)));const a=t.nodeFromJSON(e);return n.errorOnInvalidContent&&a.check(),a}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",s),vm("",t,n)}if(o){if(n.errorOnInvalidContent){let a=!1,i="";const l=new qr({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(a=!0,i=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?gt.fromSchema(l).parseSlice(kv(e),n.parseOptions):gt.fromSchema(l).parse(kv(e),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${i}`)})}const s=gt.fromSchema(t);return n.slice?s.parseSlice(kv(e),n.parseOptions).content:s.parse(kv(e),n.parseOptions)}return vm("",t,n)}function wPe(e,t,n){const r=e.steps.length-1;if(r<t)return;const o=e.steps[r];if(!(o instanceof ln||o instanceof un))return;const s=e.mapping.maps[r];let a=0;s.forEach((i,l,c,u)=>{a===0&&(a=u)}),e.setSelection(Pe.near(e.doc.resolve(a),n))}var kPe=e=>!("type"in e),_Pe=(e,t,n)=>({tr:r,dispatch:o,editor:s})=>{var a;if(o){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let i;const l=g=>{s.emit("contentError",{editor:s,error:g,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{vm(t,s.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(g){l(g)}try{i=vm(t,s.schema,{parseOptions:c,errorOnInvalidContent:(a=n.errorOnInvalidContent)!=null?a:s.options.enableContentCheck})}catch(g){return l(g),!1}let{from:u,to:d}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},f=!0,p=!0;if((kPe(i)?i:[i]).forEach(g=>{g.check(),f=f?g.isText&&g.marks.length===0:!1,p=p?g.isBlock:!1}),u===d&&p){const{parent:g}=r.doc.resolve(u);g.isTextblock&&!g.type.spec.code&&!g.childCount&&(u-=1,d+=1)}let h;if(f){if(Array.isArray(t))h=t.map(g=>g.text||"").join("");else if(t instanceof de){let g="";t.forEach(v=>{v.text&&(g+=v.text)}),h=g}else typeof t=="object"&&t&&t.text?h=t.text:h=t;r.insertText(h,u,d)}else{h=i;const g=r.doc.resolve(u),v=g.node(),x=g.parentOffset===0,$=v.isText||v.isTextblock,C=v.content.size>0;x&&$&&C&&(u=Math.max(0,u-1)),r.replaceWith(u,d,h)}n.updateSelection&&wPe(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:u,text:h}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:u,text:h})}return!0},SPe=()=>({state:e,dispatch:t})=>io(e,t),$Pe=()=>({state:e,dispatch:t})=>lo(e,t),CPe=()=>({state:e,dispatch:t})=>Lr(e,t),MPe=()=>({state:e,dispatch:t})=>Vr(e,t),APe=()=>({state:e,dispatch:t,tr:n})=>{try{const r=on(e.doc,e.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},TPe=()=>({state:e,dispatch:t,tr:n})=>{try{const r=on(e.doc,e.selection.$from.pos,1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},EPe=()=>({state:e,dispatch:t})=>so(e,t),IPe=()=>({state:e,dispatch:t})=>ao(e,t);function S8(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function PPe(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let r,o,s,a;for(let i=0;i<t.length-1;i+=1){const l=t[i];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))o=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))qb()||S8()?a=!0:o=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),o&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}var OPe=e=>({editor:t,view:n,tr:r,dispatch:o})=>{const s=PPe(e).split(/-(?!$)/),a=s.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),i=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,i))});return l?.steps.forEach(c=>{const u=c.map(r.mapping);u&&o&&r.maybeStep(u)}),!0};function eA(e,t,n={}){const{from:r,to:o,empty:s}=e.selection,a=t?Io(t,e.schema):null,i=[];e.doc.nodesBetween(r,o,(d,f)=>{if(d.isText)return;const p=Math.max(r,f),m=Math.min(o,f+d.nodeSize);i.push({node:d,from:p,to:m})});const l=o-r,c=i.filter(d=>a?a.name===d.node.type.name:!0).filter(d=>Fb(d.node.attrs,n,{strict:!1}));return s?!!c.length:c.reduce((d,f)=>d+f.to-f.from,0)>=l}var RPe=(e,t={})=>({state:n,dispatch:r})=>{const o=Io(e,n.schema);return eA(n,o,t)?uo(n,r):!1},BPe=()=>({state:e,dispatch:t})=>Wr(e,t),NPe=e=>({state:t,dispatch:n})=>{const r=Io(e,t.schema);return vo(r)(t,n)},DPe=()=>({state:e,dispatch:t})=>Kr(e,t);function $8(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function _N(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((r,o)=>(n.includes(o)||(r[o]=e[o]),r),{})}var FPe=(e,t)=>({tr:n,state:r,dispatch:o})=>{let s=null,a=null;const i=$8(typeof e=="string"?e:e.name,r.schema);if(!i)return!1;i==="node"&&(s=Io(e,r.schema)),i==="mark"&&(a=au(e,r.schema));let l=!1;return n.selection.ranges.forEach(c=>{r.doc.nodesBetween(c.$from.pos,c.$to.pos,(u,d)=>{s&&s===u.type&&(l=!0,o&&n.setNodeMarkup(d,void 0,_N(u.attrs,t))),a&&u.marks.length&&u.marks.forEach(f=>{a===f.type&&(l=!0,o&&n.addMark(d,d+u.nodeSize,a.create(_N(f.attrs,t))))})})}),l},qPe=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),zPe=()=>({tr:e,dispatch:t})=>{if(t){const n=new Sn(e.doc);e.setSelection(n)}return!0},LPe=()=>({state:e,dispatch:t})=>jr(e,t),jPe=()=>({state:e,dispatch:t})=>Ur(e,t),VPe=()=>({state:e,dispatch:t})=>fo(e,t),UPe=()=>({state:e,dispatch:t})=>mo(e,t),KPe=()=>({state:e,dispatch:t})=>po(e,t);function HPe(e,t,n={},r={}){return vm(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var WPe=(e,{errorOnInvalidContent:t,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:o,tr:s,dispatch:a,commands:i})=>{const{doc:l}=s;if(r.preserveWhitespace!=="full"){const c=HPe(e,o.schema,r,{errorOnInvalidContent:t??o.options.enableContentCheck});return a&&s.replaceWith(0,l.content.size,c).setMeta("preventUpdate",!n),!0}return a&&s.setMeta("preventUpdate",!n),i.insertContentAt({from:0,to:l.content.size},e,{parseOptions:r,errorOnInvalidContent:t??o.options.enableContentCheck})};function GPe(e,t){const n=au(t,e.schema),{from:r,to:o,empty:s}=e.selection,a=[];s?(e.storedMarks&&a.push(...e.storedMarks),a.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,o,l=>{a.push(...l.marks)});const i=a.find(l=>l.type.name===n.name);return i?{...i.attrs}:{}}function JPe(e,t){const n=new zr(e);return t.forEach(r=>{r.steps.forEach(o=>{n.step(o)})}),n}function YPe(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function QPe(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function tA(e){return t=>QPe(t.$from,e)}function ym(e,t,n){return e.config[t]===void 0&&e.parent?ym(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind({...n,parent:e.parent?ym(e.parent,t,n):null}):e.config[t]}function XPe(e){return typeof e=="function"}function zb(e,t=void 0,...n){return XPe(e)?t?e.bind(t)(...n):e(...n):e}function C8(e){const t=e.filter(o=>o.type==="extension"),n=e.filter(o=>o.type==="node"),r=e.filter(o=>o.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:r}}function ZPe(...e){return e.filter(t=>!!t).reduce((t,n)=>{const r={...t};return Object.entries(n).forEach(([o,s])=>{if(!r[o]){r[o]=s;return}if(o==="class"){const i=s?String(s).split(" "):[],l=r[o]?r[o].split(" "):[],c=i.filter(u=>!l.includes(u));r[o]=[...l,...c].join(" ")}else if(o==="style"){const i=s?s.split(";").map(u=>u.trim()).filter(Boolean):[],l=r[o]?r[o].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;l.forEach(u=>{const[d,f]=u.split(":").map(p=>p.trim());c.set(d,f)}),i.forEach(u=>{const[d,f]=u.split(":").map(p=>p.trim());c.set(d,f)}),r[o]=Array.from(c.entries()).map(([u,d])=>`${u}: ${d}`).join("; ")}else r[o]=s}),r},{})}function e2e(e,t,n){const{from:r,to:o}=t,{blockSeparator:s=`

`,textSerializers:a={}}=n||{};let i="";return e.nodesBetween(r,o,(l,c,u,d)=>{var f;l.isBlock&&c>r&&(i+=s);const p=a?.[l.type.name];if(p)return u&&(i+=p({node:l,pos:c,parent:u,index:d,range:t})),!1;l.isText&&(i+=(f=l?.text)==null?void 0:f.slice(Math.max(r,c)-c,o-c))}),i}function t2e(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}function n2e(e,t=JSON.stringify){const n={};return e.filter(r=>{const o=t(r);return Object.prototype.hasOwnProperty.call(n,o)?!1:n[o]=!0})}function r2e(e){const t=n2e(e);return t.length===1?t:t.filter((n,r)=>!t.filter((s,a)=>a!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function o2e(e){const{mapping:t,steps:n}=e,r=[];return t.maps.forEach((o,s)=>{const a=[];if(o.ranges.length)o.forEach((i,l)=>{a.push({from:i,to:l})});else{const{from:i,to:l}=n[s];if(i===void 0||l===void 0)return;a.push({from:i,to:l})}a.forEach(({from:i,to:l})=>{const c=t.slice(s).map(i,-1),u=t.slice(s).map(l),d=t.invert().map(c,-1),f=t.invert().map(u);r.push({oldRange:{from:d,to:f},newRange:{from:c,to:u}})})}),r2e(r)}function $y(e,t,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const o=e.find(s=>s.type===t&&s.name===r);return o?o.attribute.keepOnSplit:!1}))}function s2e(e,t,n={}){const{empty:r,ranges:o}=e.selection,s=t?au(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(d=>s?s.name===d.type.name:!0).find(d=>Fb(d.attrs,n,{strict:!1}));let a=0;const i=[];if(o.forEach(({$from:d,$to:f})=>{const p=d.pos,m=f.pos;e.doc.nodesBetween(p,m,(h,g)=>{if(!h.isText&&!h.marks.length)return;const v=Math.max(p,g),x=Math.min(m,g+h.nodeSize),$=x-v;a+=$,i.push(...h.marks.map(C=>({mark:C,from:v,to:x})))})}),a===0)return!1;const l=i.filter(d=>s?s.name===d.mark.type.name:!0).filter(d=>Fb(d.mark.attrs,n,{strict:!1})).reduce((d,f)=>d+f.to-f.from,0),c=i.filter(d=>s?d.mark.type!==s&&d.mark.type.excludes(s):!0).reduce((d,f)=>d+f.to-f.from,0);return(l>0?l+c:l)>=a}function SN(e,t){const{nodeExtensions:n}=C8(t),r=n.find(a=>a.name===e);if(!r)return!1;const o={name:r.name,options:r.options,storage:r.storage},s=zb(ym(r,"group",o));return typeof s!="string"?!1:s.split(" ").includes("list")}function M8(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((r=e.text)!=null?r:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let o=!0;return e.content.forEach(s=>{o!==!1&&(M8(s,{ignoreWhitespace:n,checkChildren:t})||(o=!1))}),o}return!1}function a2e(e){return e instanceof Ge}function i2e(e,t,n){var r;const{selection:o}=t;let s=null;if(k8(o)&&(s=o.$cursor),s){const i=(r=e.storedMarks)!=null?r:s.marks();return s.parent.type.allowsMarkType(n)&&(!!n.isInSet(i)||!i.some(c=>c.type.excludes(n)))}const{ranges:a}=o;return a.some(({$from:i,$to:l})=>{let c=i.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(i.pos,l.pos,(u,d,f)=>{if(c)return!1;if(u.isInline){const p=!f||f.type.allowsMarkType(n),m=!!n.isInSet(u.marks)||!u.marks.some(h=>h.type.excludes(n));c=p&&m}return!c}),c})}var l2e=(e,t={})=>({tr:n,state:r,dispatch:o})=>{const{selection:s}=n,{empty:a,ranges:i}=s,l=au(e,r.schema);if(o)if(a){const c=GPe(r,l);n.addStoredMark(l.create({...c,...t}))}else i.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;r.doc.nodesBetween(u,d,(f,p)=>{const m=Math.max(p,u),h=Math.min(p+f.nodeSize,d);f.marks.find(v=>v.type===l)?f.marks.forEach(v=>{l===v.type&&n.addMark(m,h,l.create({...v.attrs,...t}))}):n.addMark(m,h,l.create(t))})});return i2e(r,n,l)},u2e=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),c2e=(e,t={})=>({state:n,dispatch:r,chain:o})=>{const s=Io(e,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),s.isTextblock?o().command(({commands:i})=>cn(s,{...a,...t})(n)?!0:i.clearNodes()).command(({state:i})=>cn(s,{...a,...t})(i,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},d2e=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,o=Ku(e,0,r.content.size),s=Ge.create(r,o);t.setSelection(s)}return!0},f2e=(e,t)=>({tr:n,state:r,dispatch:o})=>{const{selection:s}=r;let a,i;return typeof t=="number"?(a=t,i=t):t&&"from"in t&&"to"in t?(a=t.from,i=t.to):(a=s.from,i=s.to),o&&n.doc.nodesBetween(a,i,(l,c)=>{l.isText||n.setNodeMarkup(c,void 0,{...l.attrs,dir:e})}),!0},p2e=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,{from:o,to:s}=typeof e=="number"?{from:e,to:e}:e,a=ie.atStart(r).from,i=ie.atEnd(r).to,l=Ku(o,a,i),c=Ku(s,a,i),u=ie.create(r,l,c);t.setSelection(u)}return!0},m2e=e=>({state:t,dispatch:n})=>{const r=Io(e,t.schema);return yo(r)(t,n)};function $N(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(o=>t?.includes(o.type.name));e.tr.ensureMarks(r)}}var h2e=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:o})=>{const{selection:s,doc:a}=t,{$from:i,$to:l}=s,c=o.extensionManager.attributes,u=$y(c,i.node().type.name,i.node().attrs);if(s instanceof Ge&&s.node.isBlock)return!i.parentOffset||!ot(a,i.pos)?!1:(r&&(e&&$N(n,o.extensionManager.splittableMarks),t.split(i.pos).scrollIntoView()),!0);if(!i.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,f=i.depth===0?void 0:YPe(i.node(-1).contentMatchAt(i.indexAfter(-1)));let p=d&&f?[{type:f,attrs:u}]:void 0,m=ot(t.doc,t.mapping.map(i.pos),1,p);if(!p&&!m&&ot(t.doc,t.mapping.map(i.pos),1,f?[{type:f}]:void 0)&&(m=!0,p=f?[{type:f,attrs:u}]:void 0),r){if(m&&(s instanceof ie&&t.deleteSelection(),t.split(t.mapping.map(i.pos),1,p),f&&!d&&!i.parentOffset&&i.parent.type!==f)){const h=t.mapping.map(i.before()),g=t.doc.resolve(h);i.node(-1).canReplaceWith(g.index(),g.index()+1,f)&&t.setNodeMarkup(t.mapping.map(i.before()),f)}e&&$N(n,o.extensionManager.splittableMarks),t.scrollIntoView()}return m},g2e=(e,t={})=>({tr:n,state:r,dispatch:o,editor:s})=>{var a;const i=Io(e,r.schema),{$from:l,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const d=l.node(-1);if(d.type!==i)return!1;const f=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==i||l.index(-2)!==l.node(-2).childCount-1)return!1;if(o){let v=de.empty;const x=l.index(-1)?1:l.index(-2)?2:3;for(let P=l.depth-x;P>=l.depth-3;P-=1)v=de.from(l.node(P).copy(v));const $=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,C={...$y(f,l.node().type.name,l.node().attrs),...t},M=((a=i.contentMatch.defaultType)==null?void 0:a.createAndFill(C))||void 0;v=v.append(de.from(i.createAndFill(null,M)||void 0));const I=l.before(l.depth-(x-1));n.replace(I,l.after(-$),new Je(v,4-x,0));let E=-1;n.doc.nodesBetween(I,n.doc.content.size,(P,O)=>{if(E>-1)return!1;P.isTextblock&&P.content.size===0&&(E=O+1)}),E>-1&&n.setSelection(ie.near(n.doc.resolve(E))),n.scrollIntoView()}return!0}const p=c.pos===l.end()?d.contentMatchAt(0).defaultType:null,m={...$y(f,d.type.name,d.attrs),...t},h={...$y(f,l.node().type.name,l.node().attrs),...t};n.delete(l.pos,c.pos);const g=p?[{type:i,attrs:m},{type:p,attrs:h}]:[{type:i,attrs:m}];if(!ot(n.doc,l.pos,2))return!1;if(o){const{selection:v,storedMarks:x}=r,{splittableMarks:$}=s.extensionManager,C=x||v.$to.parentOffset&&v.$from.marks();if(n.split(l.pos,2,g).scrollIntoView(),!C||!o)return!0;const M=C.filter(I=>$.includes(I.type.name));n.ensureMarks(M)}return!0},b_=(e,t)=>{const n=tA(a=>a.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const o=e.doc.nodeAt(r);return n.node.type===o?.type&&Ht(e.doc,n.pos)&&e.join(n.pos),!0},x_=(e,t)=>{const n=tA(a=>a.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const o=e.doc.nodeAt(r);return n.node.type===o?.type&&Ht(e.doc,r)&&e.join(r),!0},v2e=(e,t,n,r={})=>({editor:o,tr:s,state:a,dispatch:i,chain:l,commands:c,can:u})=>{const{extensions:d,splittableMarks:f}=o.extensionManager,p=Io(e,a.schema),m=Io(t,a.schema),{selection:h,storedMarks:g}=a,{$from:v,$to:x}=h,$=v.blockRange(x),C=g||h.$to.parentOffset&&h.$from.marks();if(!$)return!1;const M=tA(I=>SN(I.type.name,d))(h);if($.depth>=1&&M&&$.depth-M.depth<=1){if(M.node.type===p)return c.liftListItem(m);if(SN(M.node.type.name,d)&&p.validContent(M.node.content)&&i)return l().command(()=>(s.setNodeMarkup(M.pos,p),!0)).command(()=>b_(s,p)).command(()=>x_(s,p)).run()}return!n||!C||!i?l().command(()=>u().wrapInList(p,r)?!0:c.clearNodes()).wrapInList(p,r).command(()=>b_(s,p)).command(()=>x_(s,p)).run():l().command(()=>{const I=u().wrapInList(p,r),E=C.filter(P=>f.includes(P.type.name));return s.ensureMarks(E),I?!0:c.clearNodes()}).wrapInList(p,r).command(()=>b_(s,p)).command(()=>x_(s,p)).run()},y2e=(e,t={},n={})=>({state:r,commands:o})=>{const{extendEmptyMarkRange:s=!1}=n,a=au(e,r.schema);return s2e(r,a,t)?o.unsetMark(a,{extendEmptyMarkRange:s}):o.setMark(a,t)},b2e=(e,t,n={})=>({state:r,commands:o})=>{const s=Io(e,r.schema),a=Io(t,r.schema),i=eA(r,s,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),i?o.setNode(a,l):o.setNode(s,{...l,...n})},x2e=(e,t={})=>({state:n,commands:r})=>{const o=Io(e,n.schema);return eA(n,o,t)?r.lift(o):r.wrapIn(o,t)},w2e=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const o=n[r];let s;if(o.spec.isInputRules&&(s=o.getState(e))){if(t){const a=e.tr,i=s.transform;for(let l=i.steps.length-1;l>=0;l-=1)a.step(i.steps[l].invert(i.docs[l]));if(s.text){const l=a.doc.resolve(s.from).marks();a.replaceWith(s.from,s.to,e.schema.text(s.text,l))}else a.delete(s.from,s.to)}return!0}}return!1},k2e=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:o}=n;return r||t&&o.forEach(s=>{e.removeMark(s.$from.pos,s.$to.pos)}),!0},_2e=(e,t={})=>({tr:n,state:r,dispatch:o})=>{var s;const{extendEmptyMarkRange:a=!1}=t,{selection:i}=n,l=au(e,r.schema),{$from:c,empty:u,ranges:d}=i;if(!o)return!0;if(u&&a){let{from:f,to:p}=i;const m=(s=c.marks().find(g=>g.type===l))==null?void 0:s.attrs,h=w8(c,l,m);h&&(f=h.from,p=h.to),n.removeMark(f,p,l)}else d.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,l)});return n.removeStoredMark(l),!0},S2e=e=>({tr:t,state:n,dispatch:r})=>{const{selection:o}=n;let s,a;return typeof e=="number"?(s=e,a=e):e&&"from"in e&&"to"in e?(s=e.from,a=e.to):(s=o.from,a=o.to),r&&t.doc.nodesBetween(s,a,(i,l)=>{if(i.isText)return;const c={...i.attrs};delete c.dir,t.setNodeMarkup(l,void 0,c)}),!0},$2e=(e,t={})=>({tr:n,state:r,dispatch:o})=>{let s=null,a=null;const i=$8(typeof e=="string"?e:e.name,r.schema);if(!i)return!1;i==="node"&&(s=Io(e,r.schema)),i==="mark"&&(a=au(e,r.schema));let l=!1;return n.selection.ranges.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;let f,p,m,h;n.selection.empty?r.doc.nodesBetween(u,d,(g,v)=>{s&&s===g.type&&(l=!0,m=Math.max(v,u),h=Math.min(v+g.nodeSize,d),f=v,p=g)}):r.doc.nodesBetween(u,d,(g,v)=>{v<u&&s&&s===g.type&&(l=!0,m=Math.max(v,u),h=Math.min(v+g.nodeSize,d),f=v,p=g),v>=u&&v<=d&&(s&&s===g.type&&(l=!0,o&&n.setNodeMarkup(v,void 0,{...g.attrs,...t})),a&&g.marks.length&&g.marks.forEach(x=>{if(a===x.type&&(l=!0,o)){const $=Math.max(v,u),C=Math.min(v+g.nodeSize,d);n.addMark($,C,a.create({...x.attrs,...t}))}}))}),p&&(f!==void 0&&o&&n.setNodeMarkup(f,void 0,{...p.attrs,...t}),a&&p.marks.length&&p.marks.forEach(g=>{a===g.type&&o&&n.addMark(m,h,a.create({...g.attrs,...t}))}))}),l},C2e=(e,t={})=>({state:n,dispatch:r})=>{const o=Io(e,n.schema);return ho(o,t)(n,r)},M2e=(e,t={})=>({state:n,dispatch:r})=>{const o=Io(e,n.schema);return go(o,t)(n,r)},A2e=class{constructor(t){var n;this.find=t.find,this.handler=t.handler,this.undoable=(n=t.undoable)!=null?n:!0}};function T2e(e){return Object.prototype.toString.call(e).slice(8,-1)}function _v(e){return T2e(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function A8(e,t){const n={...e};return _v(e)&&_v(t)&&Object.keys(t).forEach(r=>{_v(t[r])&&_v(e[r])?n[r]=A8(e[r],t[r]):n[r]=t[r]}),n}var T8=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...zb(ym(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...zb(ym(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const n=this.extend({...this.config,addOptions:()=>A8(this.options,t)});return n.name=this.name,n.parent=this.parent,n}extend(t={}){const n=new this.constructor({...this.config,...t});return n.parent=this,this.child=n,n.name="name"in t?t.name:n.parent.name,n}},E2e={};ZM(E2e,{ClipboardTextSerializer:()=>I2e,Commands:()=>P2e,Delete:()=>O2e,Drop:()=>R2e,Editable:()=>B2e,FocusEvents:()=>N2e,Keymap:()=>D2e,Paste:()=>F2e,Tabindex:()=>q2e,TextDirection:()=>z2e,focusEventsPluginKey:()=>I8});var Ta=class E8 extends T8{constructor(){super(...arguments),this.type="extension"}static create(t={}){const n=typeof t=="function"?t():t;return new E8(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},I2e=Ta.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Se({key:new Ce("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:o}=t,{ranges:s}=o,a=Math.min(...s.map(u=>u.$from.pos)),i=Math.max(...s.map(u=>u.$to.pos)),l=t2e(n);return e2e(r,{from:a,to:i},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),P2e=Ta.create({name:"commands",addCommands(){return{...b8}}}),O2e=Ta.create({name:"delete",onUpdate({transaction:e,appendedTransactions:t}){var n,r,o;const s=()=>{var a,i,l,c;if((c=(l=(i=(a=this.editor.options.coreExtensionOptions)==null?void 0:a.delete)==null?void 0:i.filterTransaction)==null?void 0:l.call(i,e))!=null?c:e.getMeta("y-sync$"))return;const u=JPe(e.before,[e,...t]);o2e(u).forEach(p=>{u.mapping.mapResult(p.oldRange.from).deletedAfter&&u.mapping.mapResult(p.oldRange.to).deletedBefore&&u.before.nodesBetween(p.oldRange.from,p.oldRange.to,(m,h)=>{const g=h+m.nodeSize-2,v=p.oldRange.from<=h&&g<=p.oldRange.to;this.editor.emit("delete",{type:"node",node:m,from:h,to:g,newFrom:u.mapping.map(h),newTo:u.mapping.map(g),deletedRange:p.oldRange,newRange:p.newRange,partial:!v,editor:this.editor,transaction:e,combinedTransform:u})})});const f=u.mapping;u.steps.forEach((p,m)=>{var h,g;if(p instanceof En){const v=f.slice(m).map(p.from,-1),x=f.slice(m).map(p.to),$=f.invert().map(v,-1),C=f.invert().map(x),M=(h=u.doc.nodeAt(v-1))==null?void 0:h.marks.some(E=>E.eq(p.mark)),I=(g=u.doc.nodeAt(x))==null?void 0:g.marks.some(E=>E.eq(p.mark));this.editor.emit("delete",{type:"mark",mark:p.mark,from:p.from,to:p.to,deletedRange:{from:$,to:C},newRange:{from:v,to:x},partial:!!(I||M),editor:this.editor,transaction:e,combinedTransform:u})}})};(o=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||o?setTimeout(s,0):s()}}),R2e=Ta.create({name:"drop",addProseMirrorPlugins(){return[new Se({key:new Ce("tiptapDrop"),props:{handleDrop:(e,t,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:r})}}})]}}),B2e=Ta.create({name:"editable",addProseMirrorPlugins(){return[new Se({key:new Ce("editable"),props:{editable:()=>this.editor.options.editable}})]}}),I8=new Ce("focusEvents"),N2e=Ta.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new Se({key:I8,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),D2e=Ta.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:i})=>{const{selection:l,doc:c}=i,{empty:u,$anchor:d}=l,{pos:f,parent:p}=d,m=d.parent.isTextblock&&f>0?i.doc.resolve(f-1):d,h=m.parent.type.spec.isolating,g=d.pos-d.parentOffset,v=h&&m.parent.childCount===1?g===d.pos:Pe.atStart(c).from===f;return!u||!p.type.isTextblock||p.textContent.length||!v||v&&d.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},o={...r},s={...r,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return qb()||S8()?s:o},addProseMirrorPlugins(){return[new Se({key:new Ce("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(h=>h.getMeta("composition")))return;const r=e.some(h=>h.docChanged)&&!t.doc.eq(n.doc),o=e.some(h=>h.getMeta("preventClearDocument"));if(!r||o)return;const{empty:s,from:a,to:i}=t.selection,l=Pe.atStart(t.doc).from,c=Pe.atEnd(t.doc).to;if(s||!(a===l&&i===c)||!M8(n.doc))return;const f=n.tr,p=y8({state:n,transaction:f}),{commands:m}=new ePe({editor:this.editor,state:p});if(m.clearNodes(),!!f.steps.length)return f}})]}}),F2e=Ta.create({name:"paste",addProseMirrorPlugins(){return[new Se({key:new Ce("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),q2e=Ta.create({name:"tabindex",addProseMirrorPlugins(){return[new Se({key:new Ce("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),z2e=Ta.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:e}=C8(this.extensions);return[{types:e.filter(t=>t.name!=="text").map(t=>t.name),attributes:{dir:{default:this.options.direction,parseHTML:t=>{const n=t.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:t=>t.dir?{dir:t.dir}:{}}}}]},addProseMirrorPlugins(){return[new Se({key:new Ce("textDirection"),props:{attributes:()=>{const e=this.options.direction;return e?{dir:e}:{}}}})]}});function L2e(e){return new A2e({find:e.find,handler:({state:t,range:n,match:r})=>{const o=zb(e.getAttributes,void 0,r)||{},{tr:s}=t,a=n.from;let i=n.to;const l=e.type.create(o);if(r[1]){const c=r[0].lastIndexOf(r[1]);let u=a+c;u>i?u=i:i=u+r[1].length;const d=r[0][r[0].length-1];s.insertText(d,a+r[0].length-1),s.replaceWith(u,i,l)}else if(r[0]){const c=e.type.isInline?a:a-1;s.insert(c,e.type.create(o)).delete(s.mapping.map(a),s.mapping.map(i))}s.scrollIntoView()},undoable:e.undoable})}function j2e(e,t){const{selection:n}=e,{$from:r}=n;if(n instanceof Ge){const s=r.index();return r.parent.canReplaceWith(s,s+1,t)}let o=r.depth;for(;o>=0;){const s=r.index(o);if(r.node(o).contentMatchAt(s).matchType(t))return!0;o-=1}return!1}var V2e={};ZM(V2e,{createAtomBlockMarkdownSpec:()=>U2e,createBlockMarkdownSpec:()=>K2e,createInlineMarkdownSpec:()=>G2e,parseAttributes:()=>nA,parseIndentedBlocks:()=>J2e,renderNestedMarkdownContent:()=>Y2e,serializeAttributes:()=>rA});function nA(e){if(!e?.trim())return{};const t={},n=[],r=e.replace(/["']([^"']*)["']/g,c=>(n.push(c),`__QUOTED_${n.length-1}__`)),o=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(o){const c=o.map(u=>u.trim().slice(1));t.class=c.join(" ")}const s=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);s&&(t.id=s[1]);const a=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(a)).forEach(([,c,u])=>{var d;const f=parseInt(((d=u.match(/__QUOTED_(\d+)__/))==null?void 0:d[1])||"0",10),p=n[f];p&&(t[c]=p.slice(1,-1))});const l=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return l&&l.split(/\s+/).filter(Boolean).forEach(u=>{u.match(/^[a-zA-Z][\w-]*$/)&&(t[u]=!0)}),t}function rA(e){if(!e||Object.keys(e).length===0)return"";const t=[];return e.class&&String(e.class).split(/\s+/).filter(Boolean).forEach(r=>t.push(`.${r}`)),e.id&&t.push(`#${e.id}`),Object.entries(e).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?t.push(n):r!==!1&&r!=null&&t.push(`${n}="${String(r)}"`))}),t.join(" ")}function U2e(e){const{nodeName:t,name:n,parseAttributes:r=nA,serializeAttributes:o=rA,defaultAttributes:s={},requiredAttributes:a=[],allowedAttributes:i}=e,l=n||t,c=u=>{if(!i)return u;const d={};return i.forEach(f=>{f in u&&(d[f]=u[f])}),d};return{parseMarkdown:(u,d)=>{const f={...s,...u.attributes};return d.createNode(t,f,[])},markdownTokenizer:{name:t,level:"block",start(u){var d;const f=new RegExp(`^:::${l}(?:\\s|$)`,"m"),p=(d=u.match(f))==null?void 0:d.index;return p!==void 0?p:-1},tokenize(u,d,f){const p=new RegExp(`^:::${l}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),m=u.match(p);if(!m)return;const h=m[1]||"",g=r(h);if(!a.find(x=>!(x in g)))return{type:t,raw:m[0],attributes:g}}},renderMarkdown:u=>{const d=c(u.attrs||{}),f=o(d),p=f?` {${f}}`:"";return`:::${l}${p} :::`}}}function K2e(e){const{nodeName:t,name:n,getContent:r,parseAttributes:o=nA,serializeAttributes:s=rA,defaultAttributes:a={},content:i="block",allowedAttributes:l}=e,c=n||t,u=d=>{if(!l)return d;const f={};return l.forEach(p=>{p in d&&(f[p]=d[p])}),f};return{parseMarkdown:(d,f)=>{let p;if(r){const h=r(d);p=typeof h=="string"?[{type:"text",text:h}]:h}else i==="block"?p=f.parseChildren(d.tokens||[]):p=f.parseInline(d.tokens||[]);const m={...a,...d.attributes};return f.createNode(t,m,p)},markdownTokenizer:{name:t,level:"block",start(d){var f;const p=new RegExp(`^:::${c}`,"m"),m=(f=d.match(p))==null?void 0:f.index;return m!==void 0?m:-1},tokenize(d,f,p){var m;const h=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),g=d.match(h);if(!g)return;const[v,x=""]=g,$=o(x);let C=1;const M=v.length;let I="";const E=/^:::([\w-]*)(\s.*)?/gm,P=d.slice(M);for(E.lastIndex=0;;){const O=E.exec(P);if(O===null)break;const D=O.index,L=O[1];if(!((m=O[2])!=null&&m.endsWith(":::"))){if(L)C+=1;else if(C-=1,C===0){const V=P.slice(0,D);I=V.trim();const F=d.slice(0,M+D+O[0].length);let z=[];if(I)if(i==="block")for(z=p.blockTokens(V),z.forEach(N=>{N.text&&(!N.tokens||N.tokens.length===0)&&(N.tokens=p.inlineTokens(N.text))});z.length>0;){const N=z[z.length-1];if(N.type==="paragraph"&&(!N.text||N.text.trim()===""))z.pop();else break}else z=p.inlineTokens(I);return{type:t,raw:F,attributes:$,content:I,tokens:z}}}}}},renderMarkdown:(d,f)=>{const p=u(d.attrs||{}),m=s(p),h=m?` {${m}}`:"",g=f.renderChildren(d.content||[],`

`);return`:::${c}${h}

${g}

:::`}}}function H2e(e){if(!e.trim())return{};const t={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(e);for(;r!==null;){const[,o,s,a]=r;t[o]=s||a,r=n.exec(e)}return t}function W2e(e){return Object.entries(e).filter(([,t])=>t!=null).map(([t,n])=>`${t}="${n}"`).join(" ")}function G2e(e){const{nodeName:t,name:n,getContent:r,parseAttributes:o=H2e,serializeAttributes:s=W2e,defaultAttributes:a={},selfClosing:i=!1,allowedAttributes:l}=e,c=n||t,u=f=>{if(!l)return f;const p={};return l.forEach(m=>{const h=typeof m=="string"?m:m.name,g=typeof m=="string"?void 0:m.skipIfDefault;if(h in f){const v=f[h];if(g!==void 0&&v===g)return;p[h]=v}}),p},d=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(f,p)=>{const m={...a,...f.attributes};if(i)return p.createNode(t,m);const h=r?r(f):f.content||"";return h?p.createNode(t,m,[p.createTextNode(h)]):p.createNode(t,m,[])},markdownTokenizer:{name:t,level:"inline",start(f){const p=i?new RegExp(`\\[${d}\\s*[^\\]]*\\]`):new RegExp(`\\[${d}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${d}\\]`),m=f.match(p),h=m?.index;return h!==void 0?h:-1},tokenize(f,p,m){const h=i?new RegExp(`^\\[${d}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${d}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${d}\\]`),g=f.match(h);if(!g)return;let v="",x="";if(i){const[,C]=g;x=C}else{const[,C,M]=g;x=C,v=M||""}const $=o(x.trim());return{type:t,raw:g[0],content:v.trim(),attributes:$}}},renderMarkdown:f=>{let p="";r?p=r(f):f.content&&f.content.length>0&&(p=f.content.filter(v=>v.type==="text").map(v=>v.text).join(""));const m=u(f.attrs||{}),h=s(m),g=h?` ${h}`:"";return i?`[${c}${g}]`:`[${c}${g}]${p}[/${c}]`}}}function J2e(e,t,n){var r,o,s,a;const i=e.split(`
`),l=[];let c="",u=0;const d=t.baseIndentSize||2;for(;u<i.length;){const f=i[u],p=f.match(t.itemPattern);if(!p){if(l.length>0)break;if(f.trim()===""){u+=1,c=`${c}${f}
`;continue}else return}const m=t.extractItemData(p),{indentLevel:h,mainContent:g}=m;c=`${c}${f}
`;const v=[g];for(u+=1;u<i.length;){const M=i[u];if(M.trim()===""){const E=i.slice(u+1).findIndex(D=>D.trim()!=="");if(E===-1)break;if((((o=(r=i[u+1+E].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:o.length)||0)>h){v.push(M),c=`${c}${M}
`,u+=1;continue}else break}if((((a=(s=M.match(/^(\s*)/))==null?void 0:s[1])==null?void 0:a.length)||0)>h)v.push(M),c=`${c}${M}
`,u+=1;else break}let x;const $=v.slice(1);if($.length>0){const M=$.map(I=>I.slice(h+d)).join(`
`);M.trim()&&(t.customNestedParser?x=t.customNestedParser(M):x=n.blockTokens(M))}const C=t.createToken(m,x);l.push(C)}if(l.length!==0)return{items:l,raw:c}}function Y2e(e,t,n,r){if(!e||!Array.isArray(e.content))return"";const o=typeof n=="function"?n(r):n,[s,...a]=e.content,i=t.renderChildren([s]),l=[`${o}${i}`];return a&&a.length>0&&a.forEach(c=>{const u=t.renderChildren([c]);if(u){const d=u.split(`
`).map(f=>f?t.indent(f):"").join(`
`);l.push(d)}}),l.join(`
`)}var Q2e=class P8 extends T8{constructor(){super(...arguments),this.type="node"}static create(t={}){const n=typeof t=="function"?t():t;return new P8(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},X2e=Object.defineProperty,oA=(e,t)=>{for(var n in t)X2e(e,n,{get:t[n],enumerable:!0})};function O8(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:o}=n,{storedMarks:s}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return s},get selection(){return r},get doc(){return o},get tr(){return r=n.selection,o=n.doc,s=n.storedMarks,n}}}var Z2e=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:n,state:r}=this,{view:o}=n,{tr:s}=r,a=this.buildProps(s);return Object.fromEntries(Object.entries(t).map(([i,l])=>[i,(...u)=>{const d=l(...u)(a);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(s),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,n=!0){const{rawCommands:r,editor:o,state:s}=this,{view:a}=o,i=[],l=!!t,c=t||s.tr,u=()=>(!l&&n&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(c),i.every(f=>f===!0)),d={...Object.fromEntries(Object.entries(r).map(([f,p])=>[f,(...h)=>{const g=this.buildProps(c,n),v=p(...h)(g);return i.push(v),d}])),run:u};return d}createCan(t){const{rawCommands:n,state:r}=this,o=!1,s=t||r.tr,a=this.buildProps(s,o);return{...Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...u)=>c(...u)({...a,dispatch:void 0})])),chain:()=>this.createChain(s,o)}}buildProps(t,n=!0){const{rawCommands:r,editor:o,state:s}=this,{view:a}=o,i={tr:t,editor:o,view:a,state:O8({state:s,transaction:t}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(t,n),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...u)=>c(...u)(i)]))}};return i}},R8={};oA(R8,{blur:()=>eOe,clearContent:()=>tOe,clearNodes:()=>nOe,command:()=>rOe,createParagraphNear:()=>oOe,cut:()=>sOe,deleteCurrentNode:()=>aOe,deleteNode:()=>iOe,deleteRange:()=>lOe,deleteSelection:()=>uOe,enter:()=>cOe,exitCode:()=>dOe,extendMarkRange:()=>pOe,first:()=>mOe,focus:()=>vOe,forEach:()=>yOe,insertContent:()=>bOe,insertContentAt:()=>kOe,joinBackward:()=>$Oe,joinDown:()=>SOe,joinForward:()=>COe,joinItemBackward:()=>MOe,joinItemForward:()=>AOe,joinTextblockBackward:()=>TOe,joinTextblockForward:()=>EOe,joinUp:()=>_Oe,keyboardShortcut:()=>POe,lift:()=>OOe,liftEmptyBlock:()=>ROe,liftListItem:()=>BOe,newlineInCode:()=>NOe,resetAttributes:()=>DOe,scrollIntoView:()=>FOe,selectAll:()=>qOe,selectNodeBackward:()=>zOe,selectNodeForward:()=>LOe,selectParentNode:()=>jOe,selectTextblockEnd:()=>VOe,selectTextblockStart:()=>UOe,setContent:()=>HOe,setMark:()=>aRe,setMeta:()=>iRe,setNode:()=>lRe,setNodeSelection:()=>uRe,setTextDirection:()=>cRe,setTextSelection:()=>dRe,sinkListItem:()=>fRe,splitBlock:()=>pRe,splitListItem:()=>mRe,toggleList:()=>hRe,toggleMark:()=>gRe,toggleNode:()=>vRe,toggleWrap:()=>yRe,undoInputRule:()=>bRe,unsetAllMarks:()=>xRe,unsetMark:()=>wRe,unsetTextDirection:()=>kRe,updateAttributes:()=>_Re,wrapIn:()=>SRe,wrapInList:()=>$Re});var eOe=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),tOe=(e=!0)=>({commands:t})=>t.setContent("",{emitUpdate:e}),nOe=()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:o}=r;return n&&o.forEach(({$from:s,$to:a})=>{e.doc.nodesBetween(s.pos,a.pos,(i,l)=>{if(i.type.isText)return;const{doc:c,mapping:u}=t,d=c.resolve(u.map(l)),f=c.resolve(u.map(l+i.nodeSize)),p=d.blockRange(f);if(!p)return;const m=lr(p);if(i.type.isTextblock){const{defaultType:h}=d.parent.contentMatchAt(d.index());t.setNodeMarkup(p.start,h)}(m||m===0)&&t.lift(p,m)})}),!0},rOe=e=>t=>e(t),oOe=()=>({state:e,dispatch:t})=>Hr(e,t),sOe=(e,t)=>({editor:n,tr:r})=>{const{state:o}=n,s=o.doc.slice(e.from,e.to);r.deleteRange(e.from,e.to);const a=r.mapping.map(t);return r.insert(a,s.content),r.setSelection(new ie(r.doc.resolve(Math.max(a-1,0)))),!0},aOe=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;const o=e.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===r.type){if(t){const i=o.before(s),l=o.after(s);e.delete(i,l).scrollIntoView()}return!0}return!1};function Po(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}var iOe=e=>({tr:t,state:n,dispatch:r})=>{const o=Po(e,n.schema),s=t.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===o){if(r){const l=s.before(a),c=s.after(a);t.delete(l,c).scrollIntoView()}return!0}return!1},lOe=e=>({tr:t,dispatch:n})=>{const{from:r,to:o}=e;return n&&t.delete(r,o),!0},uOe=()=>({state:e,dispatch:t})=>Cr(e,t),cOe=()=>({commands:e})=>e.keyboardShortcut("Enter"),dOe=()=>({state:e,dispatch:t})=>co(e,t);function fOe(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function Lb(e,t,n={strict:!0}){const r=Object.keys(t);return r.length?r.every(o=>n.strict?t[o]===e[o]:fOe(t[o])?t[o].test(e[o]):t[o]===e[o]):!0}function B8(e,t,n={}){return e.find(r=>r.type===t&&Lb(Object.fromEntries(Object.keys(n).map(o=>[o,r.attrs[o]])),n))}function CN(e,t,n={}){return!!B8(e,t,n)}function N8(e,t,n){var r;if(!e||!t)return;let o=e.parent.childAfter(e.parentOffset);if((!o.node||!o.node.marks.some(u=>u.type===t))&&(o=e.parent.childBefore(e.parentOffset)),!o.node||!o.node.marks.some(u=>u.type===t)||(n=n||((r=o.node.marks[0])==null?void 0:r.attrs),!B8([...o.node.marks],t,n)))return;let a=o.index,i=e.start()+o.offset,l=a+1,c=i+o.node.nodeSize;for(;a>0&&CN([...e.parent.child(a-1).marks],t,n);)a-=1,i-=e.parent.child(a).nodeSize;for(;l<e.parent.childCount&&CN([...e.parent.child(l).marks],t,n);)c+=e.parent.child(l).nodeSize,l+=1;return{from:i,to:c}}function iu(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}var pOe=(e,t={})=>({tr:n,state:r,dispatch:o})=>{const s=iu(e,r.schema),{doc:a,selection:i}=n,{$from:l,from:c,to:u}=i;if(o){const d=N8(l,s,t);if(d&&d.from<=c&&d.to>=u){const f=ie.create(a,d.from,d.to);n.setSelection(f)}}return!0},mOe=e=>t=>{const n=typeof e=="function"?e(t):e;for(let r=0;r<n.length;r+=1)if(n[r](t))return!0;return!1};function D8(e){return e instanceof ie}function Hu(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function hOe(e,t=null){if(!t)return null;const n=Pe.atStart(e),r=Pe.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return r;const o=n.from,s=r.to;return t==="all"?ie.create(e,Hu(0,o,s),Hu(e.content.size,o,s)):ie.create(e,Hu(t,o,s),Hu(t,o,s))}function MN(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function jb(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function gOe(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}var vOe=(e=null,t={})=>({editor:n,view:r,tr:o,dispatch:s})=>{t={scrollIntoView:!0,...t};const a=()=>{(jb()||MN())&&r.dom.focus(),gOe()&&!jb()&&!MN()&&r.dom.focus({preventScroll:!0}),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),t?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&e===null||e===!1)return!0;if(s&&e===null&&!D8(n.state.selection))return a(),!0;const i=hOe(o.doc,e)||n.state.selection,l=n.state.selection.eq(i);return s&&(l||o.setSelection(i),l&&o.storedMarks&&o.setStoredMarks(o.storedMarks),a()),!0},yOe=(e,t)=>n=>e.every((r,o)=>t(r,{...n,index:o})),bOe=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),F8=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const r=t[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):r.nodeType===1&&F8(r)}return e};function Sv(e){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t=`<body>${e}</body>`,n=new window.DOMParser().parseFromString(t,"text/html").body;return F8(n)}function bm(e,t,n){if(e instanceof Hn||e instanceof de)return e;n={slice:!0,parseOptions:{},...n};const r=typeof e=="object"&&e!==null,o=typeof e=="string";if(r)try{if(Array.isArray(e)&&e.length>0)return de.fromArray(e.map(i=>t.nodeFromJSON(i)));const a=t.nodeFromJSON(e);return n.errorOnInvalidContent&&a.check(),a}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",s),bm("",t,n)}if(o){if(n.errorOnInvalidContent){let a=!1,i="";const l=new qr({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(a=!0,i=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?gt.fromSchema(l).parseSlice(Sv(e),n.parseOptions):gt.fromSchema(l).parse(Sv(e),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${i}`)})}const s=gt.fromSchema(t);return n.slice?s.parseSlice(Sv(e),n.parseOptions).content:s.parse(Sv(e),n.parseOptions)}return bm("",t,n)}function xOe(e,t,n){const r=e.steps.length-1;if(r<t)return;const o=e.steps[r];if(!(o instanceof ln||o instanceof un))return;const s=e.mapping.maps[r];let a=0;s.forEach((i,l,c,u)=>{a===0&&(a=u)}),e.setSelection(Pe.near(e.doc.resolve(a),n))}var wOe=e=>!("type"in e),kOe=(e,t,n)=>({tr:r,dispatch:o,editor:s})=>{var a;if(o){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let i;const l=g=>{s.emit("contentError",{editor:s,error:g,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{bm(t,s.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(g){l(g)}try{i=bm(t,s.schema,{parseOptions:c,errorOnInvalidContent:(a=n.errorOnInvalidContent)!=null?a:s.options.enableContentCheck})}catch(g){return l(g),!1}let{from:u,to:d}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},f=!0,p=!0;if((wOe(i)?i:[i]).forEach(g=>{g.check(),f=f?g.isText&&g.marks.length===0:!1,p=p?g.isBlock:!1}),u===d&&p){const{parent:g}=r.doc.resolve(u);g.isTextblock&&!g.type.spec.code&&!g.childCount&&(u-=1,d+=1)}let h;if(f){if(Array.isArray(t))h=t.map(g=>g.text||"").join("");else if(t instanceof de){let g="";t.forEach(v=>{v.text&&(g+=v.text)}),h=g}else typeof t=="object"&&t&&t.text?h=t.text:h=t;r.insertText(h,u,d)}else{h=i;const g=r.doc.resolve(u),v=g.node(),x=g.parentOffset===0,$=v.isText||v.isTextblock,C=v.content.size>0;x&&$&&C&&(u=Math.max(0,u-1)),r.replaceWith(u,d,h)}n.updateSelection&&xOe(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:u,text:h}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:u,text:h})}return!0},_Oe=()=>({state:e,dispatch:t})=>io(e,t),SOe=()=>({state:e,dispatch:t})=>lo(e,t),$Oe=()=>({state:e,dispatch:t})=>Lr(e,t),COe=()=>({state:e,dispatch:t})=>Vr(e,t),MOe=()=>({state:e,dispatch:t,tr:n})=>{try{const r=on(e.doc,e.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},AOe=()=>({state:e,dispatch:t,tr:n})=>{try{const r=on(e.doc,e.selection.$from.pos,1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},TOe=()=>({state:e,dispatch:t})=>so(e,t),EOe=()=>({state:e,dispatch:t})=>ao(e,t);function q8(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function IOe(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let r,o,s,a;for(let i=0;i<t.length-1;i+=1){const l=t[i];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))o=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))jb()||q8()?a=!0:o=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),o&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}var POe=e=>({editor:t,view:n,tr:r,dispatch:o})=>{const s=IOe(e).split(/-(?!$)/),a=s.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),i=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,i))});return l?.steps.forEach(c=>{const u=c.map(r.mapping);u&&o&&r.maybeStep(u)}),!0};function sA(e,t,n={}){const{from:r,to:o,empty:s}=e.selection,a=t?Po(t,e.schema):null,i=[];e.doc.nodesBetween(r,o,(d,f)=>{if(d.isText)return;const p=Math.max(r,f),m=Math.min(o,f+d.nodeSize);i.push({node:d,from:p,to:m})});const l=o-r,c=i.filter(d=>a?a.name===d.node.type.name:!0).filter(d=>Lb(d.node.attrs,n,{strict:!1}));return s?!!c.length:c.reduce((d,f)=>d+f.to-f.from,0)>=l}var OOe=(e,t={})=>({state:n,dispatch:r})=>{const o=Po(e,n.schema);return sA(n,o,t)?uo(n,r):!1},ROe=()=>({state:e,dispatch:t})=>Wr(e,t),BOe=e=>({state:t,dispatch:n})=>{const r=Po(e,t.schema);return vo(r)(t,n)},NOe=()=>({state:e,dispatch:t})=>Kr(e,t);function z8(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function AN(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((r,o)=>(n.includes(o)||(r[o]=e[o]),r),{})}var DOe=(e,t)=>({tr:n,state:r,dispatch:o})=>{let s=null,a=null;const i=z8(typeof e=="string"?e:e.name,r.schema);if(!i)return!1;i==="node"&&(s=Po(e,r.schema)),i==="mark"&&(a=iu(e,r.schema));let l=!1;return n.selection.ranges.forEach(c=>{r.doc.nodesBetween(c.$from.pos,c.$to.pos,(u,d)=>{s&&s===u.type&&(l=!0,o&&n.setNodeMarkup(d,void 0,AN(u.attrs,t))),a&&u.marks.length&&u.marks.forEach(f=>{a===f.type&&(l=!0,o&&n.addMark(d,d+u.nodeSize,a.create(AN(f.attrs,t))))})})}),l},FOe=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),qOe=()=>({tr:e,dispatch:t})=>{if(t){const n=new Sn(e.doc);e.setSelection(n)}return!0},zOe=()=>({state:e,dispatch:t})=>jr(e,t),LOe=()=>({state:e,dispatch:t})=>Ur(e,t),jOe=()=>({state:e,dispatch:t})=>fo(e,t),VOe=()=>({state:e,dispatch:t})=>mo(e,t),UOe=()=>({state:e,dispatch:t})=>po(e,t);function KOe(e,t,n={},r={}){return bm(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var HOe=(e,{errorOnInvalidContent:t,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:o,tr:s,dispatch:a,commands:i})=>{const{doc:l}=s;if(r.preserveWhitespace!=="full"){const c=KOe(e,o.schema,r,{errorOnInvalidContent:t??o.options.enableContentCheck});return a&&s.replaceWith(0,l.content.size,c).setMeta("preventUpdate",!n),!0}return a&&s.setMeta("preventUpdate",!n),i.insertContentAt({from:0,to:l.content.size},e,{parseOptions:r,errorOnInvalidContent:t??o.options.enableContentCheck})};function WOe(e,t){const n=iu(t,e.schema),{from:r,to:o,empty:s}=e.selection,a=[];s?(e.storedMarks&&a.push(...e.storedMarks),a.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,o,l=>{a.push(...l.marks)});const i=a.find(l=>l.type.name===n.name);return i?{...i.attrs}:{}}function GOe(e,t){const n=new zr(e);return t.forEach(r=>{r.steps.forEach(o=>{n.step(o)})}),n}function JOe(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function YOe(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function aA(e){return t=>YOe(t.$from,e)}function xm(e,t,n){return e.config[t]===void 0&&e.parent?xm(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind({...n,parent:e.parent?xm(e.parent,t,n):null}):e.config[t]}function QOe(e){return typeof e=="function"}function Vb(e,t=void 0,...n){return QOe(e)?t?e.bind(t)(...n):e(...n):e}function L8(e){const t=e.filter(o=>o.type==="extension"),n=e.filter(o=>o.type==="node"),r=e.filter(o=>o.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:r}}function XOe(...e){return e.filter(t=>!!t).reduce((t,n)=>{const r={...t};return Object.entries(n).forEach(([o,s])=>{if(!r[o]){r[o]=s;return}if(o==="class"){const i=s?String(s).split(" "):[],l=r[o]?r[o].split(" "):[],c=i.filter(u=>!l.includes(u));r[o]=[...l,...c].join(" ")}else if(o==="style"){const i=s?s.split(";").map(u=>u.trim()).filter(Boolean):[],l=r[o]?r[o].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;l.forEach(u=>{const[d,f]=u.split(":").map(p=>p.trim());c.set(d,f)}),i.forEach(u=>{const[d,f]=u.split(":").map(p=>p.trim());c.set(d,f)}),r[o]=Array.from(c.entries()).map(([u,d])=>`${u}: ${d}`).join("; ")}else r[o]=s}),r},{})}function ZOe(e,t,n){const{from:r,to:o}=t,{blockSeparator:s=`

`,textSerializers:a={}}=n||{};let i="";return e.nodesBetween(r,o,(l,c,u,d)=>{var f;l.isBlock&&c>r&&(i+=s);const p=a?.[l.type.name];if(p)return u&&(i+=p({node:l,pos:c,parent:u,index:d,range:t})),!1;l.isText&&(i+=(f=l?.text)==null?void 0:f.slice(Math.max(r,c)-c,o-c))}),i}function eRe(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}function tRe(e,t=JSON.stringify){const n={};return e.filter(r=>{const o=t(r);return Object.prototype.hasOwnProperty.call(n,o)?!1:n[o]=!0})}function nRe(e){const t=tRe(e);return t.length===1?t:t.filter((n,r)=>!t.filter((s,a)=>a!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function rRe(e){const{mapping:t,steps:n}=e,r=[];return t.maps.forEach((o,s)=>{const a=[];if(o.ranges.length)o.forEach((i,l)=>{a.push({from:i,to:l})});else{const{from:i,to:l}=n[s];if(i===void 0||l===void 0)return;a.push({from:i,to:l})}a.forEach(({from:i,to:l})=>{const c=t.slice(s).map(i,-1),u=t.slice(s).map(l),d=t.invert().map(c,-1),f=t.invert().map(u);r.push({oldRange:{from:d,to:f},newRange:{from:c,to:u}})})}),nRe(r)}function Cy(e,t,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const o=e.find(s=>s.type===t&&s.name===r);return o?o.attribute.keepOnSplit:!1}))}function oRe(e,t,n={}){const{empty:r,ranges:o}=e.selection,s=t?iu(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(d=>s?s.name===d.type.name:!0).find(d=>Lb(d.attrs,n,{strict:!1}));let a=0;const i=[];if(o.forEach(({$from:d,$to:f})=>{const p=d.pos,m=f.pos;e.doc.nodesBetween(p,m,(h,g)=>{if(!h.isText&&!h.marks.length)return;const v=Math.max(p,g),x=Math.min(m,g+h.nodeSize),$=x-v;a+=$,i.push(...h.marks.map(C=>({mark:C,from:v,to:x})))})}),a===0)return!1;const l=i.filter(d=>s?s.name===d.mark.type.name:!0).filter(d=>Lb(d.mark.attrs,n,{strict:!1})).reduce((d,f)=>d+f.to-f.from,0),c=i.filter(d=>s?d.mark.type!==s&&d.mark.type.excludes(s):!0).reduce((d,f)=>d+f.to-f.from,0);return(l>0?l+c:l)>=a}function TN(e,t){const{nodeExtensions:n}=L8(t),r=n.find(a=>a.name===e);if(!r)return!1;const o={name:r.name,options:r.options,storage:r.storage},s=Vb(xm(r,"group",o));return typeof s!="string"?!1:s.split(" ").includes("list")}function j8(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((r=e.text)!=null?r:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let o=!0;return e.content.forEach(s=>{o!==!1&&(j8(s,{ignoreWhitespace:n,checkChildren:t})||(o=!1))}),o}return!1}function sRe(e,t,n){var r;const{selection:o}=t;let s=null;if(D8(o)&&(s=o.$cursor),s){const i=(r=e.storedMarks)!=null?r:s.marks();return s.parent.type.allowsMarkType(n)&&(!!n.isInSet(i)||!i.some(c=>c.type.excludes(n)))}const{ranges:a}=o;return a.some(({$from:i,$to:l})=>{let c=i.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(i.pos,l.pos,(u,d,f)=>{if(c)return!1;if(u.isInline){const p=!f||f.type.allowsMarkType(n),m=!!n.isInSet(u.marks)||!u.marks.some(h=>h.type.excludes(n));c=p&&m}return!c}),c})}var aRe=(e,t={})=>({tr:n,state:r,dispatch:o})=>{const{selection:s}=n,{empty:a,ranges:i}=s,l=iu(e,r.schema);if(o)if(a){const c=WOe(r,l);n.addStoredMark(l.create({...c,...t}))}else i.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;r.doc.nodesBetween(u,d,(f,p)=>{const m=Math.max(p,u),h=Math.min(p+f.nodeSize,d);f.marks.find(v=>v.type===l)?f.marks.forEach(v=>{l===v.type&&n.addMark(m,h,l.create({...v.attrs,...t}))}):n.addMark(m,h,l.create(t))})});return sRe(r,n,l)},iRe=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),lRe=(e,t={})=>({state:n,dispatch:r,chain:o})=>{const s=Po(e,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),s.isTextblock?o().command(({commands:i})=>cn(s,{...a,...t})(n)?!0:i.clearNodes()).command(({state:i})=>cn(s,{...a,...t})(i,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},uRe=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,o=Hu(e,0,r.content.size),s=Ge.create(r,o);t.setSelection(s)}return!0},cRe=(e,t)=>({tr:n,state:r,dispatch:o})=>{const{selection:s}=r;let a,i;return typeof t=="number"?(a=t,i=t):t&&"from"in t&&"to"in t?(a=t.from,i=t.to):(a=s.from,i=s.to),o&&n.doc.nodesBetween(a,i,(l,c)=>{l.isText||n.setNodeMarkup(c,void 0,{...l.attrs,dir:e})}),!0},dRe=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,{from:o,to:s}=typeof e=="number"?{from:e,to:e}:e,a=ie.atStart(r).from,i=ie.atEnd(r).to,l=Hu(o,a,i),c=Hu(s,a,i),u=ie.create(r,l,c);t.setSelection(u)}return!0},fRe=e=>({state:t,dispatch:n})=>{const r=Po(e,t.schema);return yo(r)(t,n)};function EN(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(o=>t?.includes(o.type.name));e.tr.ensureMarks(r)}}var pRe=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:o})=>{const{selection:s,doc:a}=t,{$from:i,$to:l}=s,c=o.extensionManager.attributes,u=Cy(c,i.node().type.name,i.node().attrs);if(s instanceof Ge&&s.node.isBlock)return!i.parentOffset||!ot(a,i.pos)?!1:(r&&(e&&EN(n,o.extensionManager.splittableMarks),t.split(i.pos).scrollIntoView()),!0);if(!i.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,f=i.depth===0?void 0:JOe(i.node(-1).contentMatchAt(i.indexAfter(-1)));let p=d&&f?[{type:f,attrs:u}]:void 0,m=ot(t.doc,t.mapping.map(i.pos),1,p);if(!p&&!m&&ot(t.doc,t.mapping.map(i.pos),1,f?[{type:f}]:void 0)&&(m=!0,p=f?[{type:f,attrs:u}]:void 0),r){if(m&&(s instanceof ie&&t.deleteSelection(),t.split(t.mapping.map(i.pos),1,p),f&&!d&&!i.parentOffset&&i.parent.type!==f)){const h=t.mapping.map(i.before()),g=t.doc.resolve(h);i.node(-1).canReplaceWith(g.index(),g.index()+1,f)&&t.setNodeMarkup(t.mapping.map(i.before()),f)}e&&EN(n,o.extensionManager.splittableMarks),t.scrollIntoView()}return m},mRe=(e,t={})=>({tr:n,state:r,dispatch:o,editor:s})=>{var a;const i=Po(e,r.schema),{$from:l,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const d=l.node(-1);if(d.type!==i)return!1;const f=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==i||l.index(-2)!==l.node(-2).childCount-1)return!1;if(o){let v=de.empty;const x=l.index(-1)?1:l.index(-2)?2:3;for(let P=l.depth-x;P>=l.depth-3;P-=1)v=de.from(l.node(P).copy(v));const $=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,C={...Cy(f,l.node().type.name,l.node().attrs),...t},M=((a=i.contentMatch.defaultType)==null?void 0:a.createAndFill(C))||void 0;v=v.append(de.from(i.createAndFill(null,M)||void 0));const I=l.before(l.depth-(x-1));n.replace(I,l.after(-$),new Je(v,4-x,0));let E=-1;n.doc.nodesBetween(I,n.doc.content.size,(P,O)=>{if(E>-1)return!1;P.isTextblock&&P.content.size===0&&(E=O+1)}),E>-1&&n.setSelection(ie.near(n.doc.resolve(E))),n.scrollIntoView()}return!0}const p=c.pos===l.end()?d.contentMatchAt(0).defaultType:null,m={...Cy(f,d.type.name,d.attrs),...t},h={...Cy(f,l.node().type.name,l.node().attrs),...t};n.delete(l.pos,c.pos);const g=p?[{type:i,attrs:m},{type:p,attrs:h}]:[{type:i,attrs:m}];if(!ot(n.doc,l.pos,2))return!1;if(o){const{selection:v,storedMarks:x}=r,{splittableMarks:$}=s.extensionManager,C=x||v.$to.parentOffset&&v.$from.marks();if(n.split(l.pos,2,g).scrollIntoView(),!C||!o)return!0;const M=C.filter(I=>$.includes(I.type.name));n.ensureMarks(M)}return!0},w_=(e,t)=>{const n=aA(a=>a.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const o=e.doc.nodeAt(r);return n.node.type===o?.type&&Ht(e.doc,n.pos)&&e.join(n.pos),!0},k_=(e,t)=>{const n=aA(a=>a.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const o=e.doc.nodeAt(r);return n.node.type===o?.type&&Ht(e.doc,r)&&e.join(r),!0},hRe=(e,t,n,r={})=>({editor:o,tr:s,state:a,dispatch:i,chain:l,commands:c,can:u})=>{const{extensions:d,splittableMarks:f}=o.extensionManager,p=Po(e,a.schema),m=Po(t,a.schema),{selection:h,storedMarks:g}=a,{$from:v,$to:x}=h,$=v.blockRange(x),C=g||h.$to.parentOffset&&h.$from.marks();if(!$)return!1;const M=aA(I=>TN(I.type.name,d))(h);if($.depth>=1&&M&&$.depth-M.depth<=1){if(M.node.type===p)return c.liftListItem(m);if(TN(M.node.type.name,d)&&p.validContent(M.node.content)&&i)return l().command(()=>(s.setNodeMarkup(M.pos,p),!0)).command(()=>w_(s,p)).command(()=>k_(s,p)).run()}return!n||!C||!i?l().command(()=>u().wrapInList(p,r)?!0:c.clearNodes()).wrapInList(p,r).command(()=>w_(s,p)).command(()=>k_(s,p)).run():l().command(()=>{const I=u().wrapInList(p,r),E=C.filter(P=>f.includes(P.type.name));return s.ensureMarks(E),I?!0:c.clearNodes()}).wrapInList(p,r).command(()=>w_(s,p)).command(()=>k_(s,p)).run()},gRe=(e,t={},n={})=>({state:r,commands:o})=>{const{extendEmptyMarkRange:s=!1}=n,a=iu(e,r.schema);return oRe(r,a,t)?o.unsetMark(a,{extendEmptyMarkRange:s}):o.setMark(a,t)},vRe=(e,t,n={})=>({state:r,commands:o})=>{const s=Po(e,r.schema),a=Po(t,r.schema),i=sA(r,s,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),i?o.setNode(a,l):o.setNode(s,{...l,...n})},yRe=(e,t={})=>({state:n,commands:r})=>{const o=Po(e,n.schema);return sA(n,o,t)?r.lift(o):r.wrapIn(o,t)},bRe=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const o=n[r];let s;if(o.spec.isInputRules&&(s=o.getState(e))){if(t){const a=e.tr,i=s.transform;for(let l=i.steps.length-1;l>=0;l-=1)a.step(i.steps[l].invert(i.docs[l]));if(s.text){const l=a.doc.resolve(s.from).marks();a.replaceWith(s.from,s.to,e.schema.text(s.text,l))}else a.delete(s.from,s.to)}return!0}}return!1},xRe=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:o}=n;return r||t&&o.forEach(s=>{e.removeMark(s.$from.pos,s.$to.pos)}),!0},wRe=(e,t={})=>({tr:n,state:r,dispatch:o})=>{var s;const{extendEmptyMarkRange:a=!1}=t,{selection:i}=n,l=iu(e,r.schema),{$from:c,empty:u,ranges:d}=i;if(!o)return!0;if(u&&a){let{from:f,to:p}=i;const m=(s=c.marks().find(g=>g.type===l))==null?void 0:s.attrs,h=N8(c,l,m);h&&(f=h.from,p=h.to),n.removeMark(f,p,l)}else d.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,l)});return n.removeStoredMark(l),!0},kRe=e=>({tr:t,state:n,dispatch:r})=>{const{selection:o}=n;let s,a;return typeof e=="number"?(s=e,a=e):e&&"from"in e&&"to"in e?(s=e.from,a=e.to):(s=o.from,a=o.to),r&&t.doc.nodesBetween(s,a,(i,l)=>{if(i.isText)return;const c={...i.attrs};delete c.dir,t.setNodeMarkup(l,void 0,c)}),!0},_Re=(e,t={})=>({tr:n,state:r,dispatch:o})=>{let s=null,a=null;const i=z8(typeof e=="string"?e:e.name,r.schema);if(!i)return!1;i==="node"&&(s=Po(e,r.schema)),i==="mark"&&(a=iu(e,r.schema));let l=!1;return n.selection.ranges.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;let f,p,m,h;n.selection.empty?r.doc.nodesBetween(u,d,(g,v)=>{s&&s===g.type&&(l=!0,m=Math.max(v,u),h=Math.min(v+g.nodeSize,d),f=v,p=g)}):r.doc.nodesBetween(u,d,(g,v)=>{v<u&&s&&s===g.type&&(l=!0,m=Math.max(v,u),h=Math.min(v+g.nodeSize,d),f=v,p=g),v>=u&&v<=d&&(s&&s===g.type&&(l=!0,o&&n.setNodeMarkup(v,void 0,{...g.attrs,...t})),a&&g.marks.length&&g.marks.forEach(x=>{if(a===x.type&&(l=!0,o)){const $=Math.max(v,u),C=Math.min(v+g.nodeSize,d);n.addMark($,C,a.create({...x.attrs,...t}))}}))}),p&&(f!==void 0&&o&&n.setNodeMarkup(f,void 0,{...p.attrs,...t}),a&&p.marks.length&&p.marks.forEach(g=>{a===g.type&&o&&n.addMark(m,h,a.create({...g.attrs,...t}))}))}),l},SRe=(e,t={})=>({state:n,dispatch:r})=>{const o=Po(e,n.schema);return ho(o,t)(n,r)},$Re=(e,t={})=>({state:n,dispatch:r})=>{const o=Po(e,n.schema);return go(o,t)(n,r)},CRe=class{constructor(t){var n;this.find=t.find,this.handler=t.handler,this.undoable=(n=t.undoable)!=null?n:!0}};function MRe(e){return Object.prototype.toString.call(e).slice(8,-1)}function $v(e){return MRe(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function V8(e,t){const n={...e};return $v(e)&&$v(t)&&Object.keys(t).forEach(r=>{$v(t[r])&&$v(e[r])?n[r]=V8(e[r],t[r]):n[r]=t[r]}),n}var U8=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...Vb(xm(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Vb(xm(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const n=this.extend({...this.config,addOptions:()=>V8(this.options,t)});return n.name=this.name,n.parent=this.parent,n}extend(t={}){const n=new this.constructor({...this.config,...t});return n.parent=this,this.child=n,n.name="name"in t?t.name:n.parent.name,n}},ARe={};oA(ARe,{ClipboardTextSerializer:()=>TRe,Commands:()=>ERe,Delete:()=>IRe,Drop:()=>PRe,Editable:()=>ORe,FocusEvents:()=>RRe,Keymap:()=>BRe,Paste:()=>NRe,Tabindex:()=>DRe,TextDirection:()=>FRe,focusEventsPluginKey:()=>H8});var ci=class K8 extends U8{constructor(){super(...arguments),this.type="extension"}static create(t={}){const n=typeof t=="function"?t():t;return new K8(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},TRe=ci.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Se({key:new Ce("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:o}=t,{ranges:s}=o,a=Math.min(...s.map(u=>u.$from.pos)),i=Math.max(...s.map(u=>u.$to.pos)),l=eRe(n);return ZOe(r,{from:a,to:i},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),ERe=ci.create({name:"commands",addCommands(){return{...R8}}}),IRe=ci.create({name:"delete",onUpdate({transaction:e,appendedTransactions:t}){var n,r,o;const s=()=>{var a,i,l,c;if((c=(l=(i=(a=this.editor.options.coreExtensionOptions)==null?void 0:a.delete)==null?void 0:i.filterTransaction)==null?void 0:l.call(i,e))!=null?c:e.getMeta("y-sync$"))return;const u=GOe(e.before,[e,...t]);rRe(u).forEach(p=>{u.mapping.mapResult(p.oldRange.from).deletedAfter&&u.mapping.mapResult(p.oldRange.to).deletedBefore&&u.before.nodesBetween(p.oldRange.from,p.oldRange.to,(m,h)=>{const g=h+m.nodeSize-2,v=p.oldRange.from<=h&&g<=p.oldRange.to;this.editor.emit("delete",{type:"node",node:m,from:h,to:g,newFrom:u.mapping.map(h),newTo:u.mapping.map(g),deletedRange:p.oldRange,newRange:p.newRange,partial:!v,editor:this.editor,transaction:e,combinedTransform:u})})});const f=u.mapping;u.steps.forEach((p,m)=>{var h,g;if(p instanceof En){const v=f.slice(m).map(p.from,-1),x=f.slice(m).map(p.to),$=f.invert().map(v,-1),C=f.invert().map(x),M=(h=u.doc.nodeAt(v-1))==null?void 0:h.marks.some(E=>E.eq(p.mark)),I=(g=u.doc.nodeAt(x))==null?void 0:g.marks.some(E=>E.eq(p.mark));this.editor.emit("delete",{type:"mark",mark:p.mark,from:p.from,to:p.to,deletedRange:{from:$,to:C},newRange:{from:v,to:x},partial:!!(I||M),editor:this.editor,transaction:e,combinedTransform:u})}})};(o=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||o?setTimeout(s,0):s()}}),PRe=ci.create({name:"drop",addProseMirrorPlugins(){return[new Se({key:new Ce("tiptapDrop"),props:{handleDrop:(e,t,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:r})}}})]}}),ORe=ci.create({name:"editable",addProseMirrorPlugins(){return[new Se({key:new Ce("editable"),props:{editable:()=>this.editor.options.editable}})]}}),H8=new Ce("focusEvents"),RRe=ci.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new Se({key:H8,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),BRe=ci.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:i})=>{const{selection:l,doc:c}=i,{empty:u,$anchor:d}=l,{pos:f,parent:p}=d,m=d.parent.isTextblock&&f>0?i.doc.resolve(f-1):d,h=m.parent.type.spec.isolating,g=d.pos-d.parentOffset,v=h&&m.parent.childCount===1?g===d.pos:Pe.atStart(c).from===f;return!u||!p.type.isTextblock||p.textContent.length||!v||v&&d.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},o={...r},s={...r,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return jb()||q8()?s:o},addProseMirrorPlugins(){return[new Se({key:new Ce("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(h=>h.getMeta("composition")))return;const r=e.some(h=>h.docChanged)&&!t.doc.eq(n.doc),o=e.some(h=>h.getMeta("preventClearDocument"));if(!r||o)return;const{empty:s,from:a,to:i}=t.selection,l=Pe.atStart(t.doc).from,c=Pe.atEnd(t.doc).to;if(s||!(a===l&&i===c)||!j8(n.doc))return;const f=n.tr,p=O8({state:n,transaction:f}),{commands:m}=new Z2e({editor:this.editor,state:p});if(m.clearNodes(),!!f.steps.length)return f}})]}}),NRe=ci.create({name:"paste",addProseMirrorPlugins(){return[new Se({key:new Ce("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),DRe=ci.create({name:"tabindex",addProseMirrorPlugins(){return[new Se({key:new Ce("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),FRe=ci.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:e}=L8(this.extensions);return[{types:e.filter(t=>t.name!=="text").map(t=>t.name),attributes:{dir:{default:this.options.direction,parseHTML:t=>{const n=t.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:t=>t.dir?{dir:t.dir}:{}}}}]},addProseMirrorPlugins(){return[new Se({key:new Ce("textDirection"),props:{attributes:()=>{const e=this.options.direction;return e?{dir:e}:{}}}})]}});function qRe(e){return new CRe({find:e.find,handler:({state:t,range:n,match:r,chain:o})=>{const s=Vb(e.getAttributes,void 0,r)||{},a=t.tr.delete(n.from,n.to),l=a.doc.resolve(n.from).blockRange(),c=l&&Kx(l,e.type,s);if(!c)return null;if(a.wrap(l,c),e.keepMarks&&e.editor){const{selection:d,storedMarks:f}=t,{splittableMarks:p}=e.editor.extensionManager,m=f||d.$to.parentOffset&&d.$from.marks();if(m){const h=m.filter(g=>p.includes(g.type.name));a.ensureMarks(h)}}if(e.keepAttributes){const d=e.type.name==="bulletList"||e.type.name==="orderedList"?"listItem":"taskList";o().updateAttributes(d,s).run()}const u=a.doc.resolve(n.from-1).nodeBefore;u&&u.type===e.type&&Ht(a.doc,n.from-1)&&(!e.joinPredicate||e.joinPredicate(r,u))&&a.join(n.from-1)},undoable:e.undoable})}var zRe={};oA(zRe,{createAtomBlockMarkdownSpec:()=>LRe,createBlockMarkdownSpec:()=>jRe,createInlineMarkdownSpec:()=>KRe,parseAttributes:()=>iA,parseIndentedBlocks:()=>HRe,renderNestedMarkdownContent:()=>WRe,serializeAttributes:()=>lA});function iA(e){if(!e?.trim())return{};const t={},n=[],r=e.replace(/["']([^"']*)["']/g,c=>(n.push(c),`__QUOTED_${n.length-1}__`)),o=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(o){const c=o.map(u=>u.trim().slice(1));t.class=c.join(" ")}const s=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);s&&(t.id=s[1]);const a=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(a)).forEach(([,c,u])=>{var d;const f=parseInt(((d=u.match(/__QUOTED_(\d+)__/))==null?void 0:d[1])||"0",10),p=n[f];p&&(t[c]=p.slice(1,-1))});const l=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return l&&l.split(/\s+/).filter(Boolean).forEach(u=>{u.match(/^[a-zA-Z][\w-]*$/)&&(t[u]=!0)}),t}function lA(e){if(!e||Object.keys(e).length===0)return"";const t=[];return e.class&&String(e.class).split(/\s+/).filter(Boolean).forEach(r=>t.push(`.${r}`)),e.id&&t.push(`#${e.id}`),Object.entries(e).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?t.push(n):r!==!1&&r!=null&&t.push(`${n}="${String(r)}"`))}),t.join(" ")}function LRe(e){const{nodeName:t,name:n,parseAttributes:r=iA,serializeAttributes:o=lA,defaultAttributes:s={},requiredAttributes:a=[],allowedAttributes:i}=e,l=n||t,c=u=>{if(!i)return u;const d={};return i.forEach(f=>{f in u&&(d[f]=u[f])}),d};return{parseMarkdown:(u,d)=>{const f={...s,...u.attributes};return d.createNode(t,f,[])},markdownTokenizer:{name:t,level:"block",start(u){var d;const f=new RegExp(`^:::${l}(?:\\s|$)`,"m"),p=(d=u.match(f))==null?void 0:d.index;return p!==void 0?p:-1},tokenize(u,d,f){const p=new RegExp(`^:::${l}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),m=u.match(p);if(!m)return;const h=m[1]||"",g=r(h);if(!a.find(x=>!(x in g)))return{type:t,raw:m[0],attributes:g}}},renderMarkdown:u=>{const d=c(u.attrs||{}),f=o(d),p=f?` {${f}}`:"";return`:::${l}${p} :::`}}}function jRe(e){const{nodeName:t,name:n,getContent:r,parseAttributes:o=iA,serializeAttributes:s=lA,defaultAttributes:a={},content:i="block",allowedAttributes:l}=e,c=n||t,u=d=>{if(!l)return d;const f={};return l.forEach(p=>{p in d&&(f[p]=d[p])}),f};return{parseMarkdown:(d,f)=>{let p;if(r){const h=r(d);p=typeof h=="string"?[{type:"text",text:h}]:h}else i==="block"?p=f.parseChildren(d.tokens||[]):p=f.parseInline(d.tokens||[]);const m={...a,...d.attributes};return f.createNode(t,m,p)},markdownTokenizer:{name:t,level:"block",start(d){var f;const p=new RegExp(`^:::${c}`,"m"),m=(f=d.match(p))==null?void 0:f.index;return m!==void 0?m:-1},tokenize(d,f,p){var m;const h=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),g=d.match(h);if(!g)return;const[v,x=""]=g,$=o(x);let C=1;const M=v.length;let I="";const E=/^:::([\w-]*)(\s.*)?/gm,P=d.slice(M);for(E.lastIndex=0;;){const O=E.exec(P);if(O===null)break;const D=O.index,L=O[1];if(!((m=O[2])!=null&&m.endsWith(":::"))){if(L)C+=1;else if(C-=1,C===0){const V=P.slice(0,D);I=V.trim();const F=d.slice(0,M+D+O[0].length);let z=[];if(I)if(i==="block")for(z=p.blockTokens(V),z.forEach(N=>{N.text&&(!N.tokens||N.tokens.length===0)&&(N.tokens=p.inlineTokens(N.text))});z.length>0;){const N=z[z.length-1];if(N.type==="paragraph"&&(!N.text||N.text.trim()===""))z.pop();else break}else z=p.inlineTokens(I);return{type:t,raw:F,attributes:$,content:I,tokens:z}}}}}},renderMarkdown:(d,f)=>{const p=u(d.attrs||{}),m=s(p),h=m?` {${m}}`:"",g=f.renderChildren(d.content||[],`

`);return`:::${c}${h}

${g}

:::`}}}function VRe(e){if(!e.trim())return{};const t={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(e);for(;r!==null;){const[,o,s,a]=r;t[o]=s||a,r=n.exec(e)}return t}function URe(e){return Object.entries(e).filter(([,t])=>t!=null).map(([t,n])=>`${t}="${n}"`).join(" ")}function KRe(e){const{nodeName:t,name:n,getContent:r,parseAttributes:o=VRe,serializeAttributes:s=URe,defaultAttributes:a={},selfClosing:i=!1,allowedAttributes:l}=e,c=n||t,u=f=>{if(!l)return f;const p={};return l.forEach(m=>{const h=typeof m=="string"?m:m.name,g=typeof m=="string"?void 0:m.skipIfDefault;if(h in f){const v=f[h];if(g!==void 0&&v===g)return;p[h]=v}}),p},d=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(f,p)=>{const m={...a,...f.attributes};if(i)return p.createNode(t,m);const h=r?r(f):f.content||"";return h?p.createNode(t,m,[p.createTextNode(h)]):p.createNode(t,m,[])},markdownTokenizer:{name:t,level:"inline",start(f){const p=i?new RegExp(`\\[${d}\\s*[^\\]]*\\]`):new RegExp(`\\[${d}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${d}\\]`),m=f.match(p),h=m?.index;return h!==void 0?h:-1},tokenize(f,p,m){const h=i?new RegExp(`^\\[${d}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${d}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${d}\\]`),g=f.match(h);if(!g)return;let v="",x="";if(i){const[,C]=g;x=C}else{const[,C,M]=g;x=C,v=M||""}const $=o(x.trim());return{type:t,raw:g[0],content:v.trim(),attributes:$}}},renderMarkdown:f=>{let p="";r?p=r(f):f.content&&f.content.length>0&&(p=f.content.filter(v=>v.type==="text").map(v=>v.text).join(""));const m=u(f.attrs||{}),h=s(m),g=h?` ${h}`:"";return i?`[${c}${g}]`:`[${c}${g}]${p}[/${c}]`}}}function HRe(e,t,n){var r,o,s,a;const i=e.split(`
`),l=[];let c="",u=0;const d=t.baseIndentSize||2;for(;u<i.length;){const f=i[u],p=f.match(t.itemPattern);if(!p){if(l.length>0)break;if(f.trim()===""){u+=1,c=`${c}${f}
`;continue}else return}const m=t.extractItemData(p),{indentLevel:h,mainContent:g}=m;c=`${c}${f}
`;const v=[g];for(u+=1;u<i.length;){const M=i[u];if(M.trim()===""){const E=i.slice(u+1).findIndex(D=>D.trim()!=="");if(E===-1)break;if((((o=(r=i[u+1+E].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:o.length)||0)>h){v.push(M),c=`${c}${M}
`,u+=1;continue}else break}if((((a=(s=M.match(/^(\s*)/))==null?void 0:s[1])==null?void 0:a.length)||0)>h)v.push(M),c=`${c}${M}
`,u+=1;else break}let x;const $=v.slice(1);if($.length>0){const M=$.map(I=>I.slice(h+d)).join(`
`);M.trim()&&(t.customNestedParser?x=t.customNestedParser(M):x=n.blockTokens(M))}const C=t.createToken(m,x);l.push(C)}if(l.length!==0)return{items:l,raw:c}}function WRe(e,t,n,r){if(!e||!Array.isArray(e.content))return"";const o=typeof n=="function"?n(r):n,[s,...a]=e.content,i=t.renderChildren([s]),l=[`${o}${i}`];return a&&a.length>0&&a.forEach(c=>{const u=t.renderChildren([c]);if(u){const d=u.split(`
`).map(f=>f?t.indent(f):"").join(`
`);l.push(d)}}),l.join(`
`)}var GRe=class W8 extends U8{constructor(){super(...arguments),this.type="node"}static create(t={}){const n=typeof t=="function"?t():t;return new W8(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},IN=(e,t)=>{if(e==="slot")return 0;if(e instanceof Function)return e(t);const{children:n,...r}=t??{};if(e==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[e,r,n]},JRe=/^\s*>\s$/,YRe=GRe.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:e}){return IN("blockquote",{...XOe(this.options.HTMLAttributes,e),children:IN("slot",{})})},parseMarkdown:(e,t)=>t.createNode("blockquote",void 0,t.parseChildren(e.tokens||[])),renderMarkdown:(e,t)=>{if(!e.content)return"";const n=">",r=[];return e.content.forEach(o=>{const i=t.renderChildren([o]).split(`
`).map(l=>l.trim()===""?n:`${n} ${l}`);r.push(i.join(`
`))}),r.join(`
${n}
`)},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[qRe({find:JRe,type:this.type})]}}),QRe=Object.defineProperty,uA=(e,t)=>{for(var n in t)QRe(e,n,{get:t[n],enumerable:!0})};function G8(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:o}=n,{storedMarks:s}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return s},get selection(){return r},get doc(){return o},get tr(){return r=n.selection,o=n.doc,s=n.storedMarks,n}}}var XRe=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:n,state:r}=this,{view:o}=n,{tr:s}=r,a=this.buildProps(s);return Object.fromEntries(Object.entries(t).map(([i,l])=>[i,(...u)=>{const d=l(...u)(a);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(s),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,n=!0){const{rawCommands:r,editor:o,state:s}=this,{view:a}=o,i=[],l=!!t,c=t||s.tr,u=()=>(!l&&n&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(c),i.every(f=>f===!0)),d={...Object.fromEntries(Object.entries(r).map(([f,p])=>[f,(...h)=>{const g=this.buildProps(c,n),v=p(...h)(g);return i.push(v),d}])),run:u};return d}createCan(t){const{rawCommands:n,state:r}=this,o=!1,s=t||r.tr,a=this.buildProps(s,o);return{...Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...u)=>c(...u)({...a,dispatch:void 0})])),chain:()=>this.createChain(s,o)}}buildProps(t,n=!0){const{rawCommands:r,editor:o,state:s}=this,{view:a}=o,i={tr:t,editor:o,view:a,state:G8({state:s,transaction:t}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(t,n),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...u)=>c(...u)(i)]))}};return i}},J8={};uA(J8,{blur:()=>ZRe,clearContent:()=>eBe,clearNodes:()=>tBe,command:()=>nBe,createParagraphNear:()=>rBe,cut:()=>oBe,deleteCurrentNode:()=>sBe,deleteNode:()=>aBe,deleteRange:()=>iBe,deleteSelection:()=>lBe,enter:()=>uBe,exitCode:()=>cBe,extendMarkRange:()=>fBe,first:()=>pBe,focus:()=>gBe,forEach:()=>vBe,insertContent:()=>yBe,insertContentAt:()=>wBe,joinBackward:()=>SBe,joinDown:()=>_Be,joinForward:()=>$Be,joinItemBackward:()=>CBe,joinItemForward:()=>MBe,joinTextblockBackward:()=>ABe,joinTextblockForward:()=>TBe,joinUp:()=>kBe,keyboardShortcut:()=>IBe,lift:()=>PBe,liftEmptyBlock:()=>OBe,liftListItem:()=>RBe,newlineInCode:()=>BBe,resetAttributes:()=>NBe,scrollIntoView:()=>DBe,selectAll:()=>FBe,selectNodeBackward:()=>qBe,selectNodeForward:()=>zBe,selectParentNode:()=>LBe,selectTextblockEnd:()=>jBe,selectTextblockStart:()=>VBe,setContent:()=>KBe,setMark:()=>sNe,setMeta:()=>aNe,setNode:()=>iNe,setNodeSelection:()=>lNe,setTextDirection:()=>uNe,setTextSelection:()=>cNe,sinkListItem:()=>dNe,splitBlock:()=>fNe,splitListItem:()=>pNe,toggleList:()=>mNe,toggleMark:()=>hNe,toggleNode:()=>gNe,toggleWrap:()=>vNe,undoInputRule:()=>yNe,unsetAllMarks:()=>bNe,unsetMark:()=>xNe,unsetTextDirection:()=>wNe,updateAttributes:()=>kNe,wrapIn:()=>_Ne,wrapInList:()=>SNe});var ZRe=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),eBe=(e=!0)=>({commands:t})=>t.setContent("",{emitUpdate:e}),tBe=()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:o}=r;return n&&o.forEach(({$from:s,$to:a})=>{e.doc.nodesBetween(s.pos,a.pos,(i,l)=>{if(i.type.isText)return;const{doc:c,mapping:u}=t,d=c.resolve(u.map(l)),f=c.resolve(u.map(l+i.nodeSize)),p=d.blockRange(f);if(!p)return;const m=lr(p);if(i.type.isTextblock){const{defaultType:h}=d.parent.contentMatchAt(d.index());t.setNodeMarkup(p.start,h)}(m||m===0)&&t.lift(p,m)})}),!0},nBe=e=>t=>e(t),rBe=()=>({state:e,dispatch:t})=>Hr(e,t),oBe=(e,t)=>({editor:n,tr:r})=>{const{state:o}=n,s=o.doc.slice(e.from,e.to);r.deleteRange(e.from,e.to);const a=r.mapping.map(t);return r.insert(a,s.content),r.setSelection(new ie(r.doc.resolve(Math.max(a-1,0)))),!0},sBe=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;const o=e.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===r.type){if(t){const i=o.before(s),l=o.after(s);e.delete(i,l).scrollIntoView()}return!0}return!1};function Oo(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}var aBe=e=>({tr:t,state:n,dispatch:r})=>{const o=Oo(e,n.schema),s=t.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===o){if(r){const l=s.before(a),c=s.after(a);t.delete(l,c).scrollIntoView()}return!0}return!1},iBe=e=>({tr:t,dispatch:n})=>{const{from:r,to:o}=e;return n&&t.delete(r,o),!0},lBe=()=>({state:e,dispatch:t})=>Cr(e,t),uBe=()=>({commands:e})=>e.keyboardShortcut("Enter"),cBe=()=>({state:e,dispatch:t})=>co(e,t);function dBe(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function Ub(e,t,n={strict:!0}){const r=Object.keys(t);return r.length?r.every(o=>n.strict?t[o]===e[o]:dBe(t[o])?t[o].test(e[o]):t[o]===e[o]):!0}function Y8(e,t,n={}){return e.find(r=>r.type===t&&Ub(Object.fromEntries(Object.keys(n).map(o=>[o,r.attrs[o]])),n))}function PN(e,t,n={}){return!!Y8(e,t,n)}function cA(e,t,n){var r;if(!e||!t)return;let o=e.parent.childAfter(e.parentOffset);if((!o.node||!o.node.marks.some(u=>u.type===t))&&(o=e.parent.childBefore(e.parentOffset)),!o.node||!o.node.marks.some(u=>u.type===t)||(n=n||((r=o.node.marks[0])==null?void 0:r.attrs),!Y8([...o.node.marks],t,n)))return;let a=o.index,i=e.start()+o.offset,l=a+1,c=i+o.node.nodeSize;for(;a>0&&PN([...e.parent.child(a-1).marks],t,n);)a-=1,i-=e.parent.child(a).nodeSize;for(;l<e.parent.childCount&&PN([...e.parent.child(l).marks],t,n);)c+=e.parent.child(l).nodeSize,l+=1;return{from:i,to:c}}function lu(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}var fBe=(e,t={})=>({tr:n,state:r,dispatch:o})=>{const s=lu(e,r.schema),{doc:a,selection:i}=n,{$from:l,from:c,to:u}=i;if(o){const d=cA(l,s,t);if(d&&d.from<=c&&d.to>=u){const f=ie.create(a,d.from,d.to);n.setSelection(f)}}return!0},pBe=e=>t=>{const n=typeof e=="function"?e(t):e;for(let r=0;r<n.length;r+=1)if(n[r](t))return!0;return!1};function Q8(e){return e instanceof ie}function Wu(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function mBe(e,t=null){if(!t)return null;const n=Pe.atStart(e),r=Pe.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return r;const o=n.from,s=r.to;return t==="all"?ie.create(e,Wu(0,o,s),Wu(e.content.size,o,s)):ie.create(e,Wu(t,o,s),Wu(t,o,s))}function ON(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Kb(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function hBe(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}var gBe=(e=null,t={})=>({editor:n,view:r,tr:o,dispatch:s})=>{t={scrollIntoView:!0,...t};const a=()=>{(Kb()||ON())&&r.dom.focus(),hBe()&&!Kb()&&!ON()&&r.dom.focus({preventScroll:!0}),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),t?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&e===null||e===!1)return!0;if(s&&e===null&&!Q8(n.state.selection))return a(),!0;const i=mBe(o.doc,e)||n.state.selection,l=n.state.selection.eq(i);return s&&(l||o.setSelection(i),l&&o.storedMarks&&o.setStoredMarks(o.storedMarks),a()),!0},vBe=(e,t)=>n=>e.every((r,o)=>t(r,{...n,index:o})),yBe=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),X8=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const r=t[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):r.nodeType===1&&X8(r)}return e};function Cv(e){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t=`<body>${e}</body>`,n=new window.DOMParser().parseFromString(t,"text/html").body;return X8(n)}function wm(e,t,n){if(e instanceof Hn||e instanceof de)return e;n={slice:!0,parseOptions:{},...n};const r=typeof e=="object"&&e!==null,o=typeof e=="string";if(r)try{if(Array.isArray(e)&&e.length>0)return de.fromArray(e.map(i=>t.nodeFromJSON(i)));const a=t.nodeFromJSON(e);return n.errorOnInvalidContent&&a.check(),a}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",s),wm("",t,n)}if(o){if(n.errorOnInvalidContent){let a=!1,i="";const l=new qr({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(a=!0,i=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?gt.fromSchema(l).parseSlice(Cv(e),n.parseOptions):gt.fromSchema(l).parse(Cv(e),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${i}`)})}const s=gt.fromSchema(t);return n.slice?s.parseSlice(Cv(e),n.parseOptions).content:s.parse(Cv(e),n.parseOptions)}return wm("",t,n)}function bBe(e,t,n){const r=e.steps.length-1;if(r<t)return;const o=e.steps[r];if(!(o instanceof ln||o instanceof un))return;const s=e.mapping.maps[r];let a=0;s.forEach((i,l,c,u)=>{a===0&&(a=u)}),e.setSelection(Pe.near(e.doc.resolve(a),n))}var xBe=e=>!("type"in e),wBe=(e,t,n)=>({tr:r,dispatch:o,editor:s})=>{var a;if(o){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let i;const l=g=>{s.emit("contentError",{editor:s,error:g,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{wm(t,s.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(g){l(g)}try{i=wm(t,s.schema,{parseOptions:c,errorOnInvalidContent:(a=n.errorOnInvalidContent)!=null?a:s.options.enableContentCheck})}catch(g){return l(g),!1}let{from:u,to:d}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},f=!0,p=!0;if((xBe(i)?i:[i]).forEach(g=>{g.check(),f=f?g.isText&&g.marks.length===0:!1,p=p?g.isBlock:!1}),u===d&&p){const{parent:g}=r.doc.resolve(u);g.isTextblock&&!g.type.spec.code&&!g.childCount&&(u-=1,d+=1)}let h;if(f){if(Array.isArray(t))h=t.map(g=>g.text||"").join("");else if(t instanceof de){let g="";t.forEach(v=>{v.text&&(g+=v.text)}),h=g}else typeof t=="object"&&t&&t.text?h=t.text:h=t;r.insertText(h,u,d)}else{h=i;const g=r.doc.resolve(u),v=g.node(),x=g.parentOffset===0,$=v.isText||v.isTextblock,C=v.content.size>0;x&&$&&C&&(u=Math.max(0,u-1)),r.replaceWith(u,d,h)}n.updateSelection&&bBe(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:u,text:h}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:u,text:h})}return!0},kBe=()=>({state:e,dispatch:t})=>io(e,t),_Be=()=>({state:e,dispatch:t})=>lo(e,t),SBe=()=>({state:e,dispatch:t})=>Lr(e,t),$Be=()=>({state:e,dispatch:t})=>Vr(e,t),CBe=()=>({state:e,dispatch:t,tr:n})=>{try{const r=on(e.doc,e.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},MBe=()=>({state:e,dispatch:t,tr:n})=>{try{const r=on(e.doc,e.selection.$from.pos,1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},ABe=()=>({state:e,dispatch:t})=>so(e,t),TBe=()=>({state:e,dispatch:t})=>ao(e,t);function Z8(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function EBe(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let r,o,s,a;for(let i=0;i<t.length-1;i+=1){const l=t[i];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))o=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))Kb()||Z8()?a=!0:o=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),o&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}var IBe=e=>({editor:t,view:n,tr:r,dispatch:o})=>{const s=EBe(e).split(/-(?!$)/),a=s.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),i=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,i))});return l?.steps.forEach(c=>{const u=c.map(r.mapping);u&&o&&r.maybeStep(u)}),!0};function dA(e,t,n={}){const{from:r,to:o,empty:s}=e.selection,a=t?Oo(t,e.schema):null,i=[];e.doc.nodesBetween(r,o,(d,f)=>{if(d.isText)return;const p=Math.max(r,f),m=Math.min(o,f+d.nodeSize);i.push({node:d,from:p,to:m})});const l=o-r,c=i.filter(d=>a?a.name===d.node.type.name:!0).filter(d=>Ub(d.node.attrs,n,{strict:!1}));return s?!!c.length:c.reduce((d,f)=>d+f.to-f.from,0)>=l}var PBe=(e,t={})=>({state:n,dispatch:r})=>{const o=Oo(e,n.schema);return dA(n,o,t)?uo(n,r):!1},OBe=()=>({state:e,dispatch:t})=>Wr(e,t),RBe=e=>({state:t,dispatch:n})=>{const r=Oo(e,t.schema);return vo(r)(t,n)},BBe=()=>({state:e,dispatch:t})=>Kr(e,t);function e5(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function RN(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((r,o)=>(n.includes(o)||(r[o]=e[o]),r),{})}var NBe=(e,t)=>({tr:n,state:r,dispatch:o})=>{let s=null,a=null;const i=e5(typeof e=="string"?e:e.name,r.schema);if(!i)return!1;i==="node"&&(s=Oo(e,r.schema)),i==="mark"&&(a=lu(e,r.schema));let l=!1;return n.selection.ranges.forEach(c=>{r.doc.nodesBetween(c.$from.pos,c.$to.pos,(u,d)=>{s&&s===u.type&&(l=!0,o&&n.setNodeMarkup(d,void 0,RN(u.attrs,t))),a&&u.marks.length&&u.marks.forEach(f=>{a===f.type&&(l=!0,o&&n.addMark(d,d+u.nodeSize,a.create(RN(f.attrs,t))))})})}),l},DBe=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),FBe=()=>({tr:e,dispatch:t})=>{if(t){const n=new Sn(e.doc);e.setSelection(n)}return!0},qBe=()=>({state:e,dispatch:t})=>jr(e,t),zBe=()=>({state:e,dispatch:t})=>Ur(e,t),LBe=()=>({state:e,dispatch:t})=>fo(e,t),jBe=()=>({state:e,dispatch:t})=>mo(e,t),VBe=()=>({state:e,dispatch:t})=>po(e,t);function UBe(e,t,n={},r={}){return wm(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var KBe=(e,{errorOnInvalidContent:t,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:o,tr:s,dispatch:a,commands:i})=>{const{doc:l}=s;if(r.preserveWhitespace!=="full"){const c=UBe(e,o.schema,r,{errorOnInvalidContent:t??o.options.enableContentCheck});return a&&s.replaceWith(0,l.content.size,c).setMeta("preventUpdate",!n),!0}return a&&s.setMeta("preventUpdate",!n),i.insertContentAt({from:0,to:l.content.size},e,{parseOptions:r,errorOnInvalidContent:t??o.options.enableContentCheck})};function HBe(e,t){const n=lu(t,e.schema),{from:r,to:o,empty:s}=e.selection,a=[];s?(e.storedMarks&&a.push(...e.storedMarks),a.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,o,l=>{a.push(...l.marks)});const i=a.find(l=>l.type.name===n.name);return i?{...i.attrs}:{}}function WBe(e,t){const n=new zr(e);return t.forEach(r=>{r.steps.forEach(o=>{n.step(o)})}),n}function GBe(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function JBe(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function fA(e){return t=>JBe(t.$from,e)}function km(e,t,n){return e.config[t]===void 0&&e.parent?km(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind({...n,parent:e.parent?km(e.parent,t,n):null}):e.config[t]}function YBe(e){return typeof e=="function"}function _m(e,t=void 0,...n){return YBe(e)?t?e.bind(t)(...n):e(...n):e}function t5(e){const t=e.filter(o=>o.type==="extension"),n=e.filter(o=>o.type==="node"),r=e.filter(o=>o.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:r}}function QBe(...e){return e.filter(t=>!!t).reduce((t,n)=>{const r={...t};return Object.entries(n).forEach(([o,s])=>{if(!r[o]){r[o]=s;return}if(o==="class"){const i=s?String(s).split(" "):[],l=r[o]?r[o].split(" "):[],c=i.filter(u=>!l.includes(u));r[o]=[...l,...c].join(" ")}else if(o==="style"){const i=s?s.split(";").map(u=>u.trim()).filter(Boolean):[],l=r[o]?r[o].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;l.forEach(u=>{const[d,f]=u.split(":").map(p=>p.trim());c.set(d,f)}),i.forEach(u=>{const[d,f]=u.split(":").map(p=>p.trim());c.set(d,f)}),r[o]=Array.from(c.entries()).map(([u,d])=>`${u}: ${d}`).join("; ")}else r[o]=s}),r},{})}function XBe(e,t,n){const{from:r,to:o}=t,{blockSeparator:s=`

`,textSerializers:a={}}=n||{};let i="";return e.nodesBetween(r,o,(l,c,u,d)=>{var f;l.isBlock&&c>r&&(i+=s);const p=a?.[l.type.name];if(p)return u&&(i+=p({node:l,pos:c,parent:u,index:d,range:t})),!1;l.isText&&(i+=(f=l?.text)==null?void 0:f.slice(Math.max(r,c)-c,o-c))}),i}function ZBe(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}function eNe(e,t=JSON.stringify){const n={};return e.filter(r=>{const o=t(r);return Object.prototype.hasOwnProperty.call(n,o)?!1:n[o]=!0})}function tNe(e){const t=eNe(e);return t.length===1?t:t.filter((n,r)=>!t.filter((s,a)=>a!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function nNe(e){const{mapping:t,steps:n}=e,r=[];return t.maps.forEach((o,s)=>{const a=[];if(o.ranges.length)o.forEach((i,l)=>{a.push({from:i,to:l})});else{const{from:i,to:l}=n[s];if(i===void 0||l===void 0)return;a.push({from:i,to:l})}a.forEach(({from:i,to:l})=>{const c=t.slice(s).map(i,-1),u=t.slice(s).map(l),d=t.invert().map(c,-1),f=t.invert().map(u);r.push({oldRange:{from:d,to:f},newRange:{from:c,to:u}})})}),tNe(r)}function n5(e,t,n){const r=[];return e===t?n.resolve(e).marks().forEach(o=>{const s=n.resolve(e),a=cA(s,o.type);a&&r.push({mark:o,...a})}):n.nodesBetween(e,t,(o,s)=>{!o||o?.nodeSize===void 0||r.push(...o.marks.map(a=>({from:s,to:s+o.nodeSize,mark:a})))}),r}function My(e,t,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const o=e.find(s=>s.type===t&&s.name===r);return o?o.attribute.keepOnSplit:!1}))}function rNe(e,t,n={}){const{empty:r,ranges:o}=e.selection,s=t?lu(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(d=>s?s.name===d.type.name:!0).find(d=>Ub(d.attrs,n,{strict:!1}));let a=0;const i=[];if(o.forEach(({$from:d,$to:f})=>{const p=d.pos,m=f.pos;e.doc.nodesBetween(p,m,(h,g)=>{if(!h.isText&&!h.marks.length)return;const v=Math.max(p,g),x=Math.min(m,g+h.nodeSize),$=x-v;a+=$,i.push(...h.marks.map(C=>({mark:C,from:v,to:x})))})}),a===0)return!1;const l=i.filter(d=>s?s.name===d.mark.type.name:!0).filter(d=>Ub(d.mark.attrs,n,{strict:!1})).reduce((d,f)=>d+f.to-f.from,0),c=i.filter(d=>s?d.mark.type!==s&&d.mark.type.excludes(s):!0).reduce((d,f)=>d+f.to-f.from,0);return(l>0?l+c:l)>=a}function BN(e,t){const{nodeExtensions:n}=t5(t),r=n.find(a=>a.name===e);if(!r)return!1;const o={name:r.name,options:r.options,storage:r.storage},s=_m(km(r,"group",o));return typeof s!="string"?!1:s.split(" ").includes("list")}function r5(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((r=e.text)!=null?r:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let o=!0;return e.content.forEach(s=>{o!==!1&&(r5(s,{ignoreWhitespace:n,checkChildren:t})||(o=!1))}),o}return!1}function oNe(e,t,n){var r;const{selection:o}=t;let s=null;if(Q8(o)&&(s=o.$cursor),s){const i=(r=e.storedMarks)!=null?r:s.marks();return s.parent.type.allowsMarkType(n)&&(!!n.isInSet(i)||!i.some(c=>c.type.excludes(n)))}const{ranges:a}=o;return a.some(({$from:i,$to:l})=>{let c=i.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(i.pos,l.pos,(u,d,f)=>{if(c)return!1;if(u.isInline){const p=!f||f.type.allowsMarkType(n),m=!!n.isInSet(u.marks)||!u.marks.some(h=>h.type.excludes(n));c=p&&m}return!c}),c})}var sNe=(e,t={})=>({tr:n,state:r,dispatch:o})=>{const{selection:s}=n,{empty:a,ranges:i}=s,l=lu(e,r.schema);if(o)if(a){const c=HBe(r,l);n.addStoredMark(l.create({...c,...t}))}else i.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;r.doc.nodesBetween(u,d,(f,p)=>{const m=Math.max(p,u),h=Math.min(p+f.nodeSize,d);f.marks.find(v=>v.type===l)?f.marks.forEach(v=>{l===v.type&&n.addMark(m,h,l.create({...v.attrs,...t}))}):n.addMark(m,h,l.create(t))})});return oNe(r,n,l)},aNe=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),iNe=(e,t={})=>({state:n,dispatch:r,chain:o})=>{const s=Oo(e,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),s.isTextblock?o().command(({commands:i})=>cn(s,{...a,...t})(n)?!0:i.clearNodes()).command(({state:i})=>cn(s,{...a,...t})(i,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},lNe=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,o=Wu(e,0,r.content.size),s=Ge.create(r,o);t.setSelection(s)}return!0},uNe=(e,t)=>({tr:n,state:r,dispatch:o})=>{const{selection:s}=r;let a,i;return typeof t=="number"?(a=t,i=t):t&&"from"in t&&"to"in t?(a=t.from,i=t.to):(a=s.from,i=s.to),o&&n.doc.nodesBetween(a,i,(l,c)=>{l.isText||n.setNodeMarkup(c,void 0,{...l.attrs,dir:e})}),!0},cNe=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,{from:o,to:s}=typeof e=="number"?{from:e,to:e}:e,a=ie.atStart(r).from,i=ie.atEnd(r).to,l=Wu(o,a,i),c=Wu(s,a,i),u=ie.create(r,l,c);t.setSelection(u)}return!0},dNe=e=>({state:t,dispatch:n})=>{const r=Oo(e,t.schema);return yo(r)(t,n)};function NN(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(o=>t?.includes(o.type.name));e.tr.ensureMarks(r)}}var fNe=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:o})=>{const{selection:s,doc:a}=t,{$from:i,$to:l}=s,c=o.extensionManager.attributes,u=My(c,i.node().type.name,i.node().attrs);if(s instanceof Ge&&s.node.isBlock)return!i.parentOffset||!ot(a,i.pos)?!1:(r&&(e&&NN(n,o.extensionManager.splittableMarks),t.split(i.pos).scrollIntoView()),!0);if(!i.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,f=i.depth===0?void 0:GBe(i.node(-1).contentMatchAt(i.indexAfter(-1)));let p=d&&f?[{type:f,attrs:u}]:void 0,m=ot(t.doc,t.mapping.map(i.pos),1,p);if(!p&&!m&&ot(t.doc,t.mapping.map(i.pos),1,f?[{type:f}]:void 0)&&(m=!0,p=f?[{type:f,attrs:u}]:void 0),r){if(m&&(s instanceof ie&&t.deleteSelection(),t.split(t.mapping.map(i.pos),1,p),f&&!d&&!i.parentOffset&&i.parent.type!==f)){const h=t.mapping.map(i.before()),g=t.doc.resolve(h);i.node(-1).canReplaceWith(g.index(),g.index()+1,f)&&t.setNodeMarkup(t.mapping.map(i.before()),f)}e&&NN(n,o.extensionManager.splittableMarks),t.scrollIntoView()}return m},pNe=(e,t={})=>({tr:n,state:r,dispatch:o,editor:s})=>{var a;const i=Oo(e,r.schema),{$from:l,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const d=l.node(-1);if(d.type!==i)return!1;const f=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==i||l.index(-2)!==l.node(-2).childCount-1)return!1;if(o){let v=de.empty;const x=l.index(-1)?1:l.index(-2)?2:3;for(let P=l.depth-x;P>=l.depth-3;P-=1)v=de.from(l.node(P).copy(v));const $=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,C={...My(f,l.node().type.name,l.node().attrs),...t},M=((a=i.contentMatch.defaultType)==null?void 0:a.createAndFill(C))||void 0;v=v.append(de.from(i.createAndFill(null,M)||void 0));const I=l.before(l.depth-(x-1));n.replace(I,l.after(-$),new Je(v,4-x,0));let E=-1;n.doc.nodesBetween(I,n.doc.content.size,(P,O)=>{if(E>-1)return!1;P.isTextblock&&P.content.size===0&&(E=O+1)}),E>-1&&n.setSelection(ie.near(n.doc.resolve(E))),n.scrollIntoView()}return!0}const p=c.pos===l.end()?d.contentMatchAt(0).defaultType:null,m={...My(f,d.type.name,d.attrs),...t},h={...My(f,l.node().type.name,l.node().attrs),...t};n.delete(l.pos,c.pos);const g=p?[{type:i,attrs:m},{type:p,attrs:h}]:[{type:i,attrs:m}];if(!ot(n.doc,l.pos,2))return!1;if(o){const{selection:v,storedMarks:x}=r,{splittableMarks:$}=s.extensionManager,C=x||v.$to.parentOffset&&v.$from.marks();if(n.split(l.pos,2,g).scrollIntoView(),!C||!o)return!0;const M=C.filter(I=>$.includes(I.type.name));n.ensureMarks(M)}return!0},__=(e,t)=>{const n=fA(a=>a.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const o=e.doc.nodeAt(r);return n.node.type===o?.type&&Ht(e.doc,n.pos)&&e.join(n.pos),!0},S_=(e,t)=>{const n=fA(a=>a.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const o=e.doc.nodeAt(r);return n.node.type===o?.type&&Ht(e.doc,r)&&e.join(r),!0},mNe=(e,t,n,r={})=>({editor:o,tr:s,state:a,dispatch:i,chain:l,commands:c,can:u})=>{const{extensions:d,splittableMarks:f}=o.extensionManager,p=Oo(e,a.schema),m=Oo(t,a.schema),{selection:h,storedMarks:g}=a,{$from:v,$to:x}=h,$=v.blockRange(x),C=g||h.$to.parentOffset&&h.$from.marks();if(!$)return!1;const M=fA(I=>BN(I.type.name,d))(h);if($.depth>=1&&M&&$.depth-M.depth<=1){if(M.node.type===p)return c.liftListItem(m);if(BN(M.node.type.name,d)&&p.validContent(M.node.content)&&i)return l().command(()=>(s.setNodeMarkup(M.pos,p),!0)).command(()=>__(s,p)).command(()=>S_(s,p)).run()}return!n||!C||!i?l().command(()=>u().wrapInList(p,r)?!0:c.clearNodes()).wrapInList(p,r).command(()=>__(s,p)).command(()=>S_(s,p)).run():l().command(()=>{const I=u().wrapInList(p,r),E=C.filter(P=>f.includes(P.type.name));return s.ensureMarks(E),I?!0:c.clearNodes()}).wrapInList(p,r).command(()=>__(s,p)).command(()=>S_(s,p)).run()},hNe=(e,t={},n={})=>({state:r,commands:o})=>{const{extendEmptyMarkRange:s=!1}=n,a=lu(e,r.schema);return rNe(r,a,t)?o.unsetMark(a,{extendEmptyMarkRange:s}):o.setMark(a,t)},gNe=(e,t,n={})=>({state:r,commands:o})=>{const s=Oo(e,r.schema),a=Oo(t,r.schema),i=dA(r,s,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),i?o.setNode(a,l):o.setNode(s,{...l,...n})},vNe=(e,t={})=>({state:n,commands:r})=>{const o=Oo(e,n.schema);return dA(n,o,t)?r.lift(o):r.wrapIn(o,t)},yNe=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const o=n[r];let s;if(o.spec.isInputRules&&(s=o.getState(e))){if(t){const a=e.tr,i=s.transform;for(let l=i.steps.length-1;l>=0;l-=1)a.step(i.steps[l].invert(i.docs[l]));if(s.text){const l=a.doc.resolve(s.from).marks();a.replaceWith(s.from,s.to,e.schema.text(s.text,l))}else a.delete(s.from,s.to)}return!0}}return!1},bNe=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:o}=n;return r||t&&o.forEach(s=>{e.removeMark(s.$from.pos,s.$to.pos)}),!0},xNe=(e,t={})=>({tr:n,state:r,dispatch:o})=>{var s;const{extendEmptyMarkRange:a=!1}=t,{selection:i}=n,l=lu(e,r.schema),{$from:c,empty:u,ranges:d}=i;if(!o)return!0;if(u&&a){let{from:f,to:p}=i;const m=(s=c.marks().find(g=>g.type===l))==null?void 0:s.attrs,h=cA(c,l,m);h&&(f=h.from,p=h.to),n.removeMark(f,p,l)}else d.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,l)});return n.removeStoredMark(l),!0},wNe=e=>({tr:t,state:n,dispatch:r})=>{const{selection:o}=n;let s,a;return typeof e=="number"?(s=e,a=e):e&&"from"in e&&"to"in e?(s=e.from,a=e.to):(s=o.from,a=o.to),r&&t.doc.nodesBetween(s,a,(i,l)=>{if(i.isText)return;const c={...i.attrs};delete c.dir,t.setNodeMarkup(l,void 0,c)}),!0},kNe=(e,t={})=>({tr:n,state:r,dispatch:o})=>{let s=null,a=null;const i=e5(typeof e=="string"?e:e.name,r.schema);if(!i)return!1;i==="node"&&(s=Oo(e,r.schema)),i==="mark"&&(a=lu(e,r.schema));let l=!1;return n.selection.ranges.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;let f,p,m,h;n.selection.empty?r.doc.nodesBetween(u,d,(g,v)=>{s&&s===g.type&&(l=!0,m=Math.max(v,u),h=Math.min(v+g.nodeSize,d),f=v,p=g)}):r.doc.nodesBetween(u,d,(g,v)=>{v<u&&s&&s===g.type&&(l=!0,m=Math.max(v,u),h=Math.min(v+g.nodeSize,d),f=v,p=g),v>=u&&v<=d&&(s&&s===g.type&&(l=!0,o&&n.setNodeMarkup(v,void 0,{...g.attrs,...t})),a&&g.marks.length&&g.marks.forEach(x=>{if(a===x.type&&(l=!0,o)){const $=Math.max(v,u),C=Math.min(v+g.nodeSize,d);n.addMark($,C,a.create({...x.attrs,...t}))}}))}),p&&(f!==void 0&&o&&n.setNodeMarkup(f,void 0,{...p.attrs,...t}),a&&p.marks.length&&p.marks.forEach(g=>{a===g.type&&o&&n.addMark(m,h,a.create({...g.attrs,...t}))}))}),l},_Ne=(e,t={})=>({state:n,dispatch:r})=>{const o=Oo(e,n.schema);return ho(o,t)(n,r)},SNe=(e,t={})=>({state:n,dispatch:r})=>{const o=Oo(e,n.schema);return go(o,t)(n,r)},$Ne=class{constructor(t){var n;this.find=t.find,this.handler=t.handler,this.undoable=(n=t.undoable)!=null?n:!0}};function CNe(e){return Object.prototype.toString.call(e).slice(8,-1)}function Mv(e){return CNe(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function o5(e,t){const n={...e};return Mv(e)&&Mv(t)&&Object.keys(t).forEach(r=>{Mv(t[r])&&Mv(e[r])?n[r]=o5(e[r],t[r]):n[r]=t[r]}),n}var s5=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{..._m(km(this,"addOptions",{name:this.name}))||{}}}get storage(){return{..._m(km(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const n=this.extend({...this.config,addOptions:()=>o5(this.options,t)});return n.name=this.name,n.parent=this.parent,n}extend(t={}){const n=new this.constructor({...this.config,...t});return n.parent=this,this.child=n,n.name="name"in t?t.name:n.parent.name,n}},MNe=class a5 extends s5{constructor(){super(...arguments),this.type="mark"}static create(t={}){const n=typeof t=="function"?t():t;return new a5(n)}static handleExit({editor:t,mark:n}){const{tr:r}=t.state,o=t.state.selection.$from;if(o.pos===o.end()){const a=o.marks();if(!!!a.find(c=>c?.type.name===n.name))return!1;const l=a.find(c=>c?.type.name===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",o.pos),t.view.dispatch(r),!0}return!1}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},ANe=class{constructor(t){this.find=t.find,this.handler=t.handler}},TNe={};uA(TNe,{ClipboardTextSerializer:()=>ENe,Commands:()=>INe,Delete:()=>PNe,Drop:()=>ONe,Editable:()=>RNe,FocusEvents:()=>BNe,Keymap:()=>NNe,Paste:()=>DNe,Tabindex:()=>FNe,TextDirection:()=>qNe,focusEventsPluginKey:()=>l5});var di=class i5 extends s5{constructor(){super(...arguments),this.type="extension"}static create(t={}){const n=typeof t=="function"?t():t;return new i5(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},ENe=di.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Se({key:new Ce("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:o}=t,{ranges:s}=o,a=Math.min(...s.map(u=>u.$from.pos)),i=Math.max(...s.map(u=>u.$to.pos)),l=ZBe(n);return XBe(r,{from:a,to:i},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),INe=di.create({name:"commands",addCommands(){return{...J8}}}),PNe=di.create({name:"delete",onUpdate({transaction:e,appendedTransactions:t}){var n,r,o;const s=()=>{var a,i,l,c;if((c=(l=(i=(a=this.editor.options.coreExtensionOptions)==null?void 0:a.delete)==null?void 0:i.filterTransaction)==null?void 0:l.call(i,e))!=null?c:e.getMeta("y-sync$"))return;const u=WBe(e.before,[e,...t]);nNe(u).forEach(p=>{u.mapping.mapResult(p.oldRange.from).deletedAfter&&u.mapping.mapResult(p.oldRange.to).deletedBefore&&u.before.nodesBetween(p.oldRange.from,p.oldRange.to,(m,h)=>{const g=h+m.nodeSize-2,v=p.oldRange.from<=h&&g<=p.oldRange.to;this.editor.emit("delete",{type:"node",node:m,from:h,to:g,newFrom:u.mapping.map(h),newTo:u.mapping.map(g),deletedRange:p.oldRange,newRange:p.newRange,partial:!v,editor:this.editor,transaction:e,combinedTransform:u})})});const f=u.mapping;u.steps.forEach((p,m)=>{var h,g;if(p instanceof En){const v=f.slice(m).map(p.from,-1),x=f.slice(m).map(p.to),$=f.invert().map(v,-1),C=f.invert().map(x),M=(h=u.doc.nodeAt(v-1))==null?void 0:h.marks.some(E=>E.eq(p.mark)),I=(g=u.doc.nodeAt(x))==null?void 0:g.marks.some(E=>E.eq(p.mark));this.editor.emit("delete",{type:"mark",mark:p.mark,from:p.from,to:p.to,deletedRange:{from:$,to:C},newRange:{from:v,to:x},partial:!!(I||M),editor:this.editor,transaction:e,combinedTransform:u})}})};(o=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||o?setTimeout(s,0):s()}}),ONe=di.create({name:"drop",addProseMirrorPlugins(){return[new Se({key:new Ce("tiptapDrop"),props:{handleDrop:(e,t,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:r})}}})]}}),RNe=di.create({name:"editable",addProseMirrorPlugins(){return[new Se({key:new Ce("editable"),props:{editable:()=>this.editor.options.editable}})]}}),l5=new Ce("focusEvents"),BNe=di.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new Se({key:l5,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),NNe=di.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:i})=>{const{selection:l,doc:c}=i,{empty:u,$anchor:d}=l,{pos:f,parent:p}=d,m=d.parent.isTextblock&&f>0?i.doc.resolve(f-1):d,h=m.parent.type.spec.isolating,g=d.pos-d.parentOffset,v=h&&m.parent.childCount===1?g===d.pos:Pe.atStart(c).from===f;return!u||!p.type.isTextblock||p.textContent.length||!v||v&&d.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},o={...r},s={...r,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Kb()||Z8()?s:o},addProseMirrorPlugins(){return[new Se({key:new Ce("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(h=>h.getMeta("composition")))return;const r=e.some(h=>h.docChanged)&&!t.doc.eq(n.doc),o=e.some(h=>h.getMeta("preventClearDocument"));if(!r||o)return;const{empty:s,from:a,to:i}=t.selection,l=Pe.atStart(t.doc).from,c=Pe.atEnd(t.doc).to;if(s||!(a===l&&i===c)||!r5(n.doc))return;const f=n.tr,p=G8({state:n,transaction:f}),{commands:m}=new XRe({editor:this.editor,state:p});if(m.clearNodes(),!!f.steps.length)return f}})]}}),DNe=di.create({name:"paste",addProseMirrorPlugins(){return[new Se({key:new Ce("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),FNe=di.create({name:"tabindex",addProseMirrorPlugins(){return[new Se({key:new Ce("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),qNe=di.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:e}=t5(this.extensions);return[{types:e.filter(t=>t.name!=="text").map(t=>t.name),attributes:{dir:{default:this.options.direction,parseHTML:t=>{const n=t.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:t=>t.dir?{dir:t.dir}:{}}}}]},addProseMirrorPlugins(){return[new Se({key:new Ce("textDirection"),props:{attributes:()=>{const e=this.options.direction;return e?{dir:e}:{}}}})]}});function DN(e){return new $Ne({find:e.find,handler:({state:t,range:n,match:r})=>{const o=_m(e.getAttributes,void 0,r);if(o===!1||o===null)return null;const{tr:s}=t,a=r[r.length-1],i=r[0];if(a){const l=i.search(/\S/),c=n.from+i.indexOf(a),u=c+a.length;if(n5(n.from,n.to,t.doc).filter(p=>p.mark.type.excluded.find(h=>h===e.type&&h!==p.mark.type)).filter(p=>p.to>c).length)return null;u<n.to&&s.delete(u,n.to),c>n.from&&s.delete(n.from+l,c);const f=n.from+l+a.length;s.addMark(n.from+l,f,e.type.create(o||{})),s.removeStoredMark(e.type)}},undoable:e.undoable})}var zNe={};uA(zNe,{createAtomBlockMarkdownSpec:()=>LNe,createBlockMarkdownSpec:()=>jNe,createInlineMarkdownSpec:()=>KNe,parseAttributes:()=>pA,parseIndentedBlocks:()=>HNe,renderNestedMarkdownContent:()=>WNe,serializeAttributes:()=>mA});function pA(e){if(!e?.trim())return{};const t={},n=[],r=e.replace(/["']([^"']*)["']/g,c=>(n.push(c),`__QUOTED_${n.length-1}__`)),o=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(o){const c=o.map(u=>u.trim().slice(1));t.class=c.join(" ")}const s=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);s&&(t.id=s[1]);const a=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(a)).forEach(([,c,u])=>{var d;const f=parseInt(((d=u.match(/__QUOTED_(\d+)__/))==null?void 0:d[1])||"0",10),p=n[f];p&&(t[c]=p.slice(1,-1))});const l=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return l&&l.split(/\s+/).filter(Boolean).forEach(u=>{u.match(/^[a-zA-Z][\w-]*$/)&&(t[u]=!0)}),t}function mA(e){if(!e||Object.keys(e).length===0)return"";const t=[];return e.class&&String(e.class).split(/\s+/).filter(Boolean).forEach(r=>t.push(`.${r}`)),e.id&&t.push(`#${e.id}`),Object.entries(e).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?t.push(n):r!==!1&&r!=null&&t.push(`${n}="${String(r)}"`))}),t.join(" ")}function LNe(e){const{nodeName:t,name:n,parseAttributes:r=pA,serializeAttributes:o=mA,defaultAttributes:s={},requiredAttributes:a=[],allowedAttributes:i}=e,l=n||t,c=u=>{if(!i)return u;const d={};return i.forEach(f=>{f in u&&(d[f]=u[f])}),d};return{parseMarkdown:(u,d)=>{const f={...s,...u.attributes};return d.createNode(t,f,[])},markdownTokenizer:{name:t,level:"block",start(u){var d;const f=new RegExp(`^:::${l}(?:\\s|$)`,"m"),p=(d=u.match(f))==null?void 0:d.index;return p!==void 0?p:-1},tokenize(u,d,f){const p=new RegExp(`^:::${l}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),m=u.match(p);if(!m)return;const h=m[1]||"",g=r(h);if(!a.find(x=>!(x in g)))return{type:t,raw:m[0],attributes:g}}},renderMarkdown:u=>{const d=c(u.attrs||{}),f=o(d),p=f?` {${f}}`:"";return`:::${l}${p} :::`}}}function jNe(e){const{nodeName:t,name:n,getContent:r,parseAttributes:o=pA,serializeAttributes:s=mA,defaultAttributes:a={},content:i="block",allowedAttributes:l}=e,c=n||t,u=d=>{if(!l)return d;const f={};return l.forEach(p=>{p in d&&(f[p]=d[p])}),f};return{parseMarkdown:(d,f)=>{let p;if(r){const h=r(d);p=typeof h=="string"?[{type:"text",text:h}]:h}else i==="block"?p=f.parseChildren(d.tokens||[]):p=f.parseInline(d.tokens||[]);const m={...a,...d.attributes};return f.createNode(t,m,p)},markdownTokenizer:{name:t,level:"block",start(d){var f;const p=new RegExp(`^:::${c}`,"m"),m=(f=d.match(p))==null?void 0:f.index;return m!==void 0?m:-1},tokenize(d,f,p){var m;const h=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),g=d.match(h);if(!g)return;const[v,x=""]=g,$=o(x);let C=1;const M=v.length;let I="";const E=/^:::([\w-]*)(\s.*)?/gm,P=d.slice(M);for(E.lastIndex=0;;){const O=E.exec(P);if(O===null)break;const D=O.index,L=O[1];if(!((m=O[2])!=null&&m.endsWith(":::"))){if(L)C+=1;else if(C-=1,C===0){const V=P.slice(0,D);I=V.trim();const F=d.slice(0,M+D+O[0].length);let z=[];if(I)if(i==="block")for(z=p.blockTokens(V),z.forEach(N=>{N.text&&(!N.tokens||N.tokens.length===0)&&(N.tokens=p.inlineTokens(N.text))});z.length>0;){const N=z[z.length-1];if(N.type==="paragraph"&&(!N.text||N.text.trim()===""))z.pop();else break}else z=p.inlineTokens(I);return{type:t,raw:F,attributes:$,content:I,tokens:z}}}}}},renderMarkdown:(d,f)=>{const p=u(d.attrs||{}),m=s(p),h=m?` {${m}}`:"",g=f.renderChildren(d.content||[],`

`);return`:::${c}${h}

${g}

:::`}}}function VNe(e){if(!e.trim())return{};const t={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(e);for(;r!==null;){const[,o,s,a]=r;t[o]=s||a,r=n.exec(e)}return t}function UNe(e){return Object.entries(e).filter(([,t])=>t!=null).map(([t,n])=>`${t}="${n}"`).join(" ")}function KNe(e){const{nodeName:t,name:n,getContent:r,parseAttributes:o=VNe,serializeAttributes:s=UNe,defaultAttributes:a={},selfClosing:i=!1,allowedAttributes:l}=e,c=n||t,u=f=>{if(!l)return f;const p={};return l.forEach(m=>{const h=typeof m=="string"?m:m.name,g=typeof m=="string"?void 0:m.skipIfDefault;if(h in f){const v=f[h];if(g!==void 0&&v===g)return;p[h]=v}}),p},d=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(f,p)=>{const m={...a,...f.attributes};if(i)return p.createNode(t,m);const h=r?r(f):f.content||"";return h?p.createNode(t,m,[p.createTextNode(h)]):p.createNode(t,m,[])},markdownTokenizer:{name:t,level:"inline",start(f){const p=i?new RegExp(`\\[${d}\\s*[^\\]]*\\]`):new RegExp(`\\[${d}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${d}\\]`),m=f.match(p),h=m?.index;return h!==void 0?h:-1},tokenize(f,p,m){const h=i?new RegExp(`^\\[${d}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${d}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${d}\\]`),g=f.match(h);if(!g)return;let v="",x="";if(i){const[,C]=g;x=C}else{const[,C,M]=g;x=C,v=M||""}const $=o(x.trim());return{type:t,raw:g[0],content:v.trim(),attributes:$}}},renderMarkdown:f=>{let p="";r?p=r(f):f.content&&f.content.length>0&&(p=f.content.filter(v=>v.type==="text").map(v=>v.text).join(""));const m=u(f.attrs||{}),h=s(m),g=h?` ${h}`:"";return i?`[${c}${g}]`:`[${c}${g}]${p}[/${c}]`}}}function HNe(e,t,n){var r,o,s,a;const i=e.split(`
`),l=[];let c="",u=0;const d=t.baseIndentSize||2;for(;u<i.length;){const f=i[u],p=f.match(t.itemPattern);if(!p){if(l.length>0)break;if(f.trim()===""){u+=1,c=`${c}${f}
`;continue}else return}const m=t.extractItemData(p),{indentLevel:h,mainContent:g}=m;c=`${c}${f}
`;const v=[g];for(u+=1;u<i.length;){const M=i[u];if(M.trim()===""){const E=i.slice(u+1).findIndex(D=>D.trim()!=="");if(E===-1)break;if((((o=(r=i[u+1+E].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:o.length)||0)>h){v.push(M),c=`${c}${M}
`,u+=1;continue}else break}if((((a=(s=M.match(/^(\s*)/))==null?void 0:s[1])==null?void 0:a.length)||0)>h)v.push(M),c=`${c}${M}
`,u+=1;else break}let x;const $=v.slice(1);if($.length>0){const M=$.map(I=>I.slice(h+d)).join(`
`);M.trim()&&(t.customNestedParser?x=t.customNestedParser(M):x=n.blockTokens(M))}const C=t.createToken(m,x);l.push(C)}if(l.length!==0)return{items:l,raw:c}}function WNe(e,t,n,r){if(!e||!Array.isArray(e.content))return"";const o=typeof n=="function"?n(r):n,[s,...a]=e.content,i=t.renderChildren([s]),l=[`${o}${i}`];return a&&a.length>0&&a.forEach(c=>{const u=t.renderChildren([c]);if(u){const d=u.split(`
`).map(f=>f?t.indent(f):"").join(`
`);l.push(d)}}),l.join(`
`)}function FN(e){return new ANe({find:e.find,handler:({state:t,range:n,match:r,pasteEvent:o})=>{const s=_m(e.getAttributes,void 0,r,o);if(s===!1||s===null)return null;const{tr:a}=t,i=r[r.length-1],l=r[0];let c=n.to;if(i){const u=l.search(/\S/),d=n.from+l.indexOf(i),f=d+i.length;if(n5(n.from,n.to,t.doc).filter(m=>m.mark.type.excluded.find(g=>g===e.type&&g!==m.mark.type)).filter(m=>m.to>d).length)return null;f<n.to&&a.delete(f,n.to),d>n.from&&a.delete(n.from+u,d),c=n.from+u+i.length,a.addMark(n.from+u,c,e.type.create(s||{})),a.removeStoredMark(e.type)}}})}var qN=(e,t)=>{if(e==="slot")return 0;if(e instanceof Function)return e(t);const{children:n,...r}=t??{};if(e==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[e,r,n]},GNe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,JNe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,YNe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,QNe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,XNe=MNe.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:e=>e.type.name===this.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return qN("strong",{...QBe(this.options.HTMLAttributes,e),children:qN("slot",{})})},markdownTokenName:"strong",parseMarkdown:(e,t)=>t.applyMark("bold",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`**${t.renderChildren(e)}**`,addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[DN({find:GNe,type:this.type}),DN({find:YNe,type:this.type})]},addPasteRules(){return[FN({find:JNe,type:this.type}),FN({find:QNe,type:this.type})]}}),ZNe=Object.defineProperty,hA=(e,t)=>{for(var n in t)ZNe(e,n,{get:t[n],enumerable:!0})};function u5(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:o}=n,{storedMarks:s}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return s},get selection(){return r},get doc(){return o},get tr(){return r=n.selection,o=n.doc,s=n.storedMarks,n}}}var eDe=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:n,state:r}=this,{view:o}=n,{tr:s}=r,a=this.buildProps(s);return Object.fromEntries(Object.entries(t).map(([i,l])=>[i,(...u)=>{const d=l(...u)(a);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(s),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,n=!0){const{rawCommands:r,editor:o,state:s}=this,{view:a}=o,i=[],l=!!t,c=t||s.tr,u=()=>(!l&&n&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(c),i.every(f=>f===!0)),d={...Object.fromEntries(Object.entries(r).map(([f,p])=>[f,(...h)=>{const g=this.buildProps(c,n),v=p(...h)(g);return i.push(v),d}])),run:u};return d}createCan(t){const{rawCommands:n,state:r}=this,o=!1,s=t||r.tr,a=this.buildProps(s,o);return{...Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...u)=>c(...u)({...a,dispatch:void 0})])),chain:()=>this.createChain(s,o)}}buildProps(t,n=!0){const{rawCommands:r,editor:o,state:s}=this,{view:a}=o,i={tr:t,editor:o,view:a,state:u5({state:s,transaction:t}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(t,n),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...u)=>c(...u)(i)]))}};return i}},c5={};hA(c5,{blur:()=>tDe,clearContent:()=>nDe,clearNodes:()=>rDe,command:()=>oDe,createParagraphNear:()=>sDe,cut:()=>aDe,deleteCurrentNode:()=>iDe,deleteNode:()=>lDe,deleteRange:()=>uDe,deleteSelection:()=>cDe,enter:()=>dDe,exitCode:()=>fDe,extendMarkRange:()=>mDe,first:()=>hDe,focus:()=>yDe,forEach:()=>bDe,insertContent:()=>xDe,insertContentAt:()=>_De,joinBackward:()=>CDe,joinDown:()=>$De,joinForward:()=>MDe,joinItemBackward:()=>ADe,joinItemForward:()=>TDe,joinTextblockBackward:()=>EDe,joinTextblockForward:()=>IDe,joinUp:()=>SDe,keyboardShortcut:()=>ODe,lift:()=>RDe,liftEmptyBlock:()=>BDe,liftListItem:()=>NDe,newlineInCode:()=>DDe,resetAttributes:()=>FDe,scrollIntoView:()=>qDe,selectAll:()=>zDe,selectNodeBackward:()=>LDe,selectNodeForward:()=>jDe,selectParentNode:()=>VDe,selectTextblockEnd:()=>UDe,selectTextblockStart:()=>KDe,setContent:()=>WDe,setMark:()=>iFe,setMeta:()=>lFe,setNode:()=>uFe,setNodeSelection:()=>cFe,setTextDirection:()=>dFe,setTextSelection:()=>fFe,sinkListItem:()=>pFe,splitBlock:()=>mFe,splitListItem:()=>hFe,toggleList:()=>gFe,toggleMark:()=>vFe,toggleNode:()=>yFe,toggleWrap:()=>bFe,undoInputRule:()=>xFe,unsetAllMarks:()=>wFe,unsetMark:()=>kFe,unsetTextDirection:()=>_Fe,updateAttributes:()=>SFe,wrapIn:()=>$Fe,wrapInList:()=>CFe});var tDe=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),nDe=(e=!0)=>({commands:t})=>t.setContent("",{emitUpdate:e}),rDe=()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:o}=r;return n&&o.forEach(({$from:s,$to:a})=>{e.doc.nodesBetween(s.pos,a.pos,(i,l)=>{if(i.type.isText)return;const{doc:c,mapping:u}=t,d=c.resolve(u.map(l)),f=c.resolve(u.map(l+i.nodeSize)),p=d.blockRange(f);if(!p)return;const m=lr(p);if(i.type.isTextblock){const{defaultType:h}=d.parent.contentMatchAt(d.index());t.setNodeMarkup(p.start,h)}(m||m===0)&&t.lift(p,m)})}),!0},oDe=e=>t=>e(t),sDe=()=>({state:e,dispatch:t})=>Hr(e,t),aDe=(e,t)=>({editor:n,tr:r})=>{const{state:o}=n,s=o.doc.slice(e.from,e.to);r.deleteRange(e.from,e.to);const a=r.mapping.map(t);return r.insert(a,s.content),r.setSelection(new ie(r.doc.resolve(Math.max(a-1,0)))),!0},iDe=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;const o=e.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===r.type){if(t){const i=o.before(s),l=o.after(s);e.delete(i,l).scrollIntoView()}return!0}return!1};function Ro(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}var lDe=e=>({tr:t,state:n,dispatch:r})=>{const o=Ro(e,n.schema),s=t.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===o){if(r){const l=s.before(a),c=s.after(a);t.delete(l,c).scrollIntoView()}return!0}return!1},uDe=e=>({tr:t,dispatch:n})=>{const{from:r,to:o}=e;return n&&t.delete(r,o),!0},cDe=()=>({state:e,dispatch:t})=>Cr(e,t),dDe=()=>({commands:e})=>e.keyboardShortcut("Enter"),fDe=()=>({state:e,dispatch:t})=>co(e,t);function pDe(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function Hb(e,t,n={strict:!0}){const r=Object.keys(t);return r.length?r.every(o=>n.strict?t[o]===e[o]:pDe(t[o])?t[o].test(e[o]):t[o]===e[o]):!0}function d5(e,t,n={}){return e.find(r=>r.type===t&&Hb(Object.fromEntries(Object.keys(n).map(o=>[o,r.attrs[o]])),n))}function zN(e,t,n={}){return!!d5(e,t,n)}function gA(e,t,n){var r;if(!e||!t)return;let o=e.parent.childAfter(e.parentOffset);if((!o.node||!o.node.marks.some(u=>u.type===t))&&(o=e.parent.childBefore(e.parentOffset)),!o.node||!o.node.marks.some(u=>u.type===t)||(n=n||((r=o.node.marks[0])==null?void 0:r.attrs),!d5([...o.node.marks],t,n)))return;let a=o.index,i=e.start()+o.offset,l=a+1,c=i+o.node.nodeSize;for(;a>0&&zN([...e.parent.child(a-1).marks],t,n);)a-=1,i-=e.parent.child(a).nodeSize;for(;l<e.parent.childCount&&zN([...e.parent.child(l).marks],t,n);)c+=e.parent.child(l).nodeSize,l+=1;return{from:i,to:c}}function uu(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}var mDe=(e,t={})=>({tr:n,state:r,dispatch:o})=>{const s=uu(e,r.schema),{doc:a,selection:i}=n,{$from:l,from:c,to:u}=i;if(o){const d=gA(l,s,t);if(d&&d.from<=c&&d.to>=u){const f=ie.create(a,d.from,d.to);n.setSelection(f)}}return!0},hDe=e=>t=>{const n=typeof e=="function"?e(t):e;for(let r=0;r<n.length;r+=1)if(n[r](t))return!0;return!1};function f5(e){return e instanceof ie}function Gu(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function gDe(e,t=null){if(!t)return null;const n=Pe.atStart(e),r=Pe.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return r;const o=n.from,s=r.to;return t==="all"?ie.create(e,Gu(0,o,s),Gu(e.content.size,o,s)):ie.create(e,Gu(t,o,s),Gu(t,o,s))}function LN(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Wb(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function vDe(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}var yDe=(e=null,t={})=>({editor:n,view:r,tr:o,dispatch:s})=>{t={scrollIntoView:!0,...t};const a=()=>{(Wb()||LN())&&r.dom.focus(),vDe()&&!Wb()&&!LN()&&r.dom.focus({preventScroll:!0}),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),t?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&e===null||e===!1)return!0;if(s&&e===null&&!f5(n.state.selection))return a(),!0;const i=gDe(o.doc,e)||n.state.selection,l=n.state.selection.eq(i);return s&&(l||o.setSelection(i),l&&o.storedMarks&&o.setStoredMarks(o.storedMarks),a()),!0},bDe=(e,t)=>n=>e.every((r,o)=>t(r,{...n,index:o})),xDe=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),p5=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const r=t[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):r.nodeType===1&&p5(r)}return e};function Av(e){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t=`<body>${e}</body>`,n=new window.DOMParser().parseFromString(t,"text/html").body;return p5(n)}function Sm(e,t,n){if(e instanceof Hn||e instanceof de)return e;n={slice:!0,parseOptions:{},...n};const r=typeof e=="object"&&e!==null,o=typeof e=="string";if(r)try{if(Array.isArray(e)&&e.length>0)return de.fromArray(e.map(i=>t.nodeFromJSON(i)));const a=t.nodeFromJSON(e);return n.errorOnInvalidContent&&a.check(),a}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",s),Sm("",t,n)}if(o){if(n.errorOnInvalidContent){let a=!1,i="";const l=new qr({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(a=!0,i=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?gt.fromSchema(l).parseSlice(Av(e),n.parseOptions):gt.fromSchema(l).parse(Av(e),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${i}`)})}const s=gt.fromSchema(t);return n.slice?s.parseSlice(Av(e),n.parseOptions).content:s.parse(Av(e),n.parseOptions)}return Sm("",t,n)}function wDe(e,t,n){const r=e.steps.length-1;if(r<t)return;const o=e.steps[r];if(!(o instanceof ln||o instanceof un))return;const s=e.mapping.maps[r];let a=0;s.forEach((i,l,c,u)=>{a===0&&(a=u)}),e.setSelection(Pe.near(e.doc.resolve(a),n))}var kDe=e=>!("type"in e),_De=(e,t,n)=>({tr:r,dispatch:o,editor:s})=>{var a;if(o){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let i;const l=g=>{s.emit("contentError",{editor:s,error:g,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{Sm(t,s.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(g){l(g)}try{i=Sm(t,s.schema,{parseOptions:c,errorOnInvalidContent:(a=n.errorOnInvalidContent)!=null?a:s.options.enableContentCheck})}catch(g){return l(g),!1}let{from:u,to:d}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},f=!0,p=!0;if((kDe(i)?i:[i]).forEach(g=>{g.check(),f=f?g.isText&&g.marks.length===0:!1,p=p?g.isBlock:!1}),u===d&&p){const{parent:g}=r.doc.resolve(u);g.isTextblock&&!g.type.spec.code&&!g.childCount&&(u-=1,d+=1)}let h;if(f){if(Array.isArray(t))h=t.map(g=>g.text||"").join("");else if(t instanceof de){let g="";t.forEach(v=>{v.text&&(g+=v.text)}),h=g}else typeof t=="object"&&t&&t.text?h=t.text:h=t;r.insertText(h,u,d)}else{h=i;const g=r.doc.resolve(u),v=g.node(),x=g.parentOffset===0,$=v.isText||v.isTextblock,C=v.content.size>0;x&&$&&C&&(u=Math.max(0,u-1)),r.replaceWith(u,d,h)}n.updateSelection&&wDe(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:u,text:h}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:u,text:h})}return!0},SDe=()=>({state:e,dispatch:t})=>io(e,t),$De=()=>({state:e,dispatch:t})=>lo(e,t),CDe=()=>({state:e,dispatch:t})=>Lr(e,t),MDe=()=>({state:e,dispatch:t})=>Vr(e,t),ADe=()=>({state:e,dispatch:t,tr:n})=>{try{const r=on(e.doc,e.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},TDe=()=>({state:e,dispatch:t,tr:n})=>{try{const r=on(e.doc,e.selection.$from.pos,1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},EDe=()=>({state:e,dispatch:t})=>so(e,t),IDe=()=>({state:e,dispatch:t})=>ao(e,t);function m5(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function PDe(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let r,o,s,a;for(let i=0;i<t.length-1;i+=1){const l=t[i];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))o=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))Wb()||m5()?a=!0:o=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),o&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}var ODe=e=>({editor:t,view:n,tr:r,dispatch:o})=>{const s=PDe(e).split(/-(?!$)/),a=s.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),i=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,i))});return l?.steps.forEach(c=>{const u=c.map(r.mapping);u&&o&&r.maybeStep(u)}),!0};function vA(e,t,n={}){const{from:r,to:o,empty:s}=e.selection,a=t?Ro(t,e.schema):null,i=[];e.doc.nodesBetween(r,o,(d,f)=>{if(d.isText)return;const p=Math.max(r,f),m=Math.min(o,f+d.nodeSize);i.push({node:d,from:p,to:m})});const l=o-r,c=i.filter(d=>a?a.name===d.node.type.name:!0).filter(d=>Hb(d.node.attrs,n,{strict:!1}));return s?!!c.length:c.reduce((d,f)=>d+f.to-f.from,0)>=l}var RDe=(e,t={})=>({state:n,dispatch:r})=>{const o=Ro(e,n.schema);return vA(n,o,t)?uo(n,r):!1},BDe=()=>({state:e,dispatch:t})=>Wr(e,t),NDe=e=>({state:t,dispatch:n})=>{const r=Ro(e,t.schema);return vo(r)(t,n)},DDe=()=>({state:e,dispatch:t})=>Kr(e,t);function h5(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function jN(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((r,o)=>(n.includes(o)||(r[o]=e[o]),r),{})}var FDe=(e,t)=>({tr:n,state:r,dispatch:o})=>{let s=null,a=null;const i=h5(typeof e=="string"?e:e.name,r.schema);if(!i)return!1;i==="node"&&(s=Ro(e,r.schema)),i==="mark"&&(a=uu(e,r.schema));let l=!1;return n.selection.ranges.forEach(c=>{r.doc.nodesBetween(c.$from.pos,c.$to.pos,(u,d)=>{s&&s===u.type&&(l=!0,o&&n.setNodeMarkup(d,void 0,jN(u.attrs,t))),a&&u.marks.length&&u.marks.forEach(f=>{a===f.type&&(l=!0,o&&n.addMark(d,d+u.nodeSize,a.create(jN(f.attrs,t))))})})}),l},qDe=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),zDe=()=>({tr:e,dispatch:t})=>{if(t){const n=new Sn(e.doc);e.setSelection(n)}return!0},LDe=()=>({state:e,dispatch:t})=>jr(e,t),jDe=()=>({state:e,dispatch:t})=>Ur(e,t),VDe=()=>({state:e,dispatch:t})=>fo(e,t),UDe=()=>({state:e,dispatch:t})=>mo(e,t),KDe=()=>({state:e,dispatch:t})=>po(e,t);function HDe(e,t,n={},r={}){return Sm(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var WDe=(e,{errorOnInvalidContent:t,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:o,tr:s,dispatch:a,commands:i})=>{const{doc:l}=s;if(r.preserveWhitespace!=="full"){const c=HDe(e,o.schema,r,{errorOnInvalidContent:t??o.options.enableContentCheck});return a&&s.replaceWith(0,l.content.size,c).setMeta("preventUpdate",!n),!0}return a&&s.setMeta("preventUpdate",!n),i.insertContentAt({from:0,to:l.content.size},e,{parseOptions:r,errorOnInvalidContent:t??o.options.enableContentCheck})};function GDe(e,t){const n=uu(t,e.schema),{from:r,to:o,empty:s}=e.selection,a=[];s?(e.storedMarks&&a.push(...e.storedMarks),a.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,o,l=>{a.push(...l.marks)});const i=a.find(l=>l.type.name===n.name);return i?{...i.attrs}:{}}function JDe(e,t){const n=new zr(e);return t.forEach(r=>{r.steps.forEach(o=>{n.step(o)})}),n}function YDe(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function QDe(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function yA(e){return t=>QDe(t.$from,e)}function $m(e,t,n){return e.config[t]===void 0&&e.parent?$m(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind({...n,parent:e.parent?$m(e.parent,t,n):null}):e.config[t]}function XDe(e){return typeof e=="function"}function Cm(e,t=void 0,...n){return XDe(e)?t?e.bind(t)(...n):e(...n):e}function g5(e){const t=e.filter(o=>o.type==="extension"),n=e.filter(o=>o.type==="node"),r=e.filter(o=>o.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:r}}function ZDe(...e){return e.filter(t=>!!t).reduce((t,n)=>{const r={...t};return Object.entries(n).forEach(([o,s])=>{if(!r[o]){r[o]=s;return}if(o==="class"){const i=s?String(s).split(" "):[],l=r[o]?r[o].split(" "):[],c=i.filter(u=>!l.includes(u));r[o]=[...l,...c].join(" ")}else if(o==="style"){const i=s?s.split(";").map(u=>u.trim()).filter(Boolean):[],l=r[o]?r[o].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;l.forEach(u=>{const[d,f]=u.split(":").map(p=>p.trim());c.set(d,f)}),i.forEach(u=>{const[d,f]=u.split(":").map(p=>p.trim());c.set(d,f)}),r[o]=Array.from(c.entries()).map(([u,d])=>`${u}: ${d}`).join("; ")}else r[o]=s}),r},{})}function eFe(e,t,n){const{from:r,to:o}=t,{blockSeparator:s=`

`,textSerializers:a={}}=n||{};let i="";return e.nodesBetween(r,o,(l,c,u,d)=>{var f;l.isBlock&&c>r&&(i+=s);const p=a?.[l.type.name];if(p)return u&&(i+=p({node:l,pos:c,parent:u,index:d,range:t})),!1;l.isText&&(i+=(f=l?.text)==null?void 0:f.slice(Math.max(r,c)-c,o-c))}),i}function tFe(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}function nFe(e,t=JSON.stringify){const n={};return e.filter(r=>{const o=t(r);return Object.prototype.hasOwnProperty.call(n,o)?!1:n[o]=!0})}function rFe(e){const t=nFe(e);return t.length===1?t:t.filter((n,r)=>!t.filter((s,a)=>a!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function oFe(e){const{mapping:t,steps:n}=e,r=[];return t.maps.forEach((o,s)=>{const a=[];if(o.ranges.length)o.forEach((i,l)=>{a.push({from:i,to:l})});else{const{from:i,to:l}=n[s];if(i===void 0||l===void 0)return;a.push({from:i,to:l})}a.forEach(({from:i,to:l})=>{const c=t.slice(s).map(i,-1),u=t.slice(s).map(l),d=t.invert().map(c,-1),f=t.invert().map(u);r.push({oldRange:{from:d,to:f},newRange:{from:c,to:u}})})}),rFe(r)}function v5(e,t,n){const r=[];return e===t?n.resolve(e).marks().forEach(o=>{const s=n.resolve(e),a=gA(s,o.type);a&&r.push({mark:o,...a})}):n.nodesBetween(e,t,(o,s)=>{!o||o?.nodeSize===void 0||r.push(...o.marks.map(a=>({from:s,to:s+o.nodeSize,mark:a})))}),r}function Ay(e,t,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const o=e.find(s=>s.type===t&&s.name===r);return o?o.attribute.keepOnSplit:!1}))}function sFe(e,t,n={}){const{empty:r,ranges:o}=e.selection,s=t?uu(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(d=>s?s.name===d.type.name:!0).find(d=>Hb(d.attrs,n,{strict:!1}));let a=0;const i=[];if(o.forEach(({$from:d,$to:f})=>{const p=d.pos,m=f.pos;e.doc.nodesBetween(p,m,(h,g)=>{if(!h.isText&&!h.marks.length)return;const v=Math.max(p,g),x=Math.min(m,g+h.nodeSize),$=x-v;a+=$,i.push(...h.marks.map(C=>({mark:C,from:v,to:x})))})}),a===0)return!1;const l=i.filter(d=>s?s.name===d.mark.type.name:!0).filter(d=>Hb(d.mark.attrs,n,{strict:!1})).reduce((d,f)=>d+f.to-f.from,0),c=i.filter(d=>s?d.mark.type!==s&&d.mark.type.excludes(s):!0).reduce((d,f)=>d+f.to-f.from,0);return(l>0?l+c:l)>=a}function VN(e,t){const{nodeExtensions:n}=g5(t),r=n.find(a=>a.name===e);if(!r)return!1;const o={name:r.name,options:r.options,storage:r.storage},s=Cm($m(r,"group",o));return typeof s!="string"?!1:s.split(" ").includes("list")}function y5(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((r=e.text)!=null?r:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let o=!0;return e.content.forEach(s=>{o!==!1&&(y5(s,{ignoreWhitespace:n,checkChildren:t})||(o=!1))}),o}return!1}function aFe(e,t,n){var r;const{selection:o}=t;let s=null;if(f5(o)&&(s=o.$cursor),s){const i=(r=e.storedMarks)!=null?r:s.marks();return s.parent.type.allowsMarkType(n)&&(!!n.isInSet(i)||!i.some(c=>c.type.excludes(n)))}const{ranges:a}=o;return a.some(({$from:i,$to:l})=>{let c=i.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(i.pos,l.pos,(u,d,f)=>{if(c)return!1;if(u.isInline){const p=!f||f.type.allowsMarkType(n),m=!!n.isInSet(u.marks)||!u.marks.some(h=>h.type.excludes(n));c=p&&m}return!c}),c})}var iFe=(e,t={})=>({tr:n,state:r,dispatch:o})=>{const{selection:s}=n,{empty:a,ranges:i}=s,l=uu(e,r.schema);if(o)if(a){const c=GDe(r,l);n.addStoredMark(l.create({...c,...t}))}else i.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;r.doc.nodesBetween(u,d,(f,p)=>{const m=Math.max(p,u),h=Math.min(p+f.nodeSize,d);f.marks.find(v=>v.type===l)?f.marks.forEach(v=>{l===v.type&&n.addMark(m,h,l.create({...v.attrs,...t}))}):n.addMark(m,h,l.create(t))})});return aFe(r,n,l)},lFe=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),uFe=(e,t={})=>({state:n,dispatch:r,chain:o})=>{const s=Ro(e,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),s.isTextblock?o().command(({commands:i})=>cn(s,{...a,...t})(n)?!0:i.clearNodes()).command(({state:i})=>cn(s,{...a,...t})(i,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},cFe=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,o=Gu(e,0,r.content.size),s=Ge.create(r,o);t.setSelection(s)}return!0},dFe=(e,t)=>({tr:n,state:r,dispatch:o})=>{const{selection:s}=r;let a,i;return typeof t=="number"?(a=t,i=t):t&&"from"in t&&"to"in t?(a=t.from,i=t.to):(a=s.from,i=s.to),o&&n.doc.nodesBetween(a,i,(l,c)=>{l.isText||n.setNodeMarkup(c,void 0,{...l.attrs,dir:e})}),!0},fFe=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,{from:o,to:s}=typeof e=="number"?{from:e,to:e}:e,a=ie.atStart(r).from,i=ie.atEnd(r).to,l=Gu(o,a,i),c=Gu(s,a,i),u=ie.create(r,l,c);t.setSelection(u)}return!0},pFe=e=>({state:t,dispatch:n})=>{const r=Ro(e,t.schema);return yo(r)(t,n)};function UN(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(o=>t?.includes(o.type.name));e.tr.ensureMarks(r)}}var mFe=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:o})=>{const{selection:s,doc:a}=t,{$from:i,$to:l}=s,c=o.extensionManager.attributes,u=Ay(c,i.node().type.name,i.node().attrs);if(s instanceof Ge&&s.node.isBlock)return!i.parentOffset||!ot(a,i.pos)?!1:(r&&(e&&UN(n,o.extensionManager.splittableMarks),t.split(i.pos).scrollIntoView()),!0);if(!i.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,f=i.depth===0?void 0:YDe(i.node(-1).contentMatchAt(i.indexAfter(-1)));let p=d&&f?[{type:f,attrs:u}]:void 0,m=ot(t.doc,t.mapping.map(i.pos),1,p);if(!p&&!m&&ot(t.doc,t.mapping.map(i.pos),1,f?[{type:f}]:void 0)&&(m=!0,p=f?[{type:f,attrs:u}]:void 0),r){if(m&&(s instanceof ie&&t.deleteSelection(),t.split(t.mapping.map(i.pos),1,p),f&&!d&&!i.parentOffset&&i.parent.type!==f)){const h=t.mapping.map(i.before()),g=t.doc.resolve(h);i.node(-1).canReplaceWith(g.index(),g.index()+1,f)&&t.setNodeMarkup(t.mapping.map(i.before()),f)}e&&UN(n,o.extensionManager.splittableMarks),t.scrollIntoView()}return m},hFe=(e,t={})=>({tr:n,state:r,dispatch:o,editor:s})=>{var a;const i=Ro(e,r.schema),{$from:l,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const d=l.node(-1);if(d.type!==i)return!1;const f=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==i||l.index(-2)!==l.node(-2).childCount-1)return!1;if(o){let v=de.empty;const x=l.index(-1)?1:l.index(-2)?2:3;for(let P=l.depth-x;P>=l.depth-3;P-=1)v=de.from(l.node(P).copy(v));const $=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,C={...Ay(f,l.node().type.name,l.node().attrs),...t},M=((a=i.contentMatch.defaultType)==null?void 0:a.createAndFill(C))||void 0;v=v.append(de.from(i.createAndFill(null,M)||void 0));const I=l.before(l.depth-(x-1));n.replace(I,l.after(-$),new Je(v,4-x,0));let E=-1;n.doc.nodesBetween(I,n.doc.content.size,(P,O)=>{if(E>-1)return!1;P.isTextblock&&P.content.size===0&&(E=O+1)}),E>-1&&n.setSelection(ie.near(n.doc.resolve(E))),n.scrollIntoView()}return!0}const p=c.pos===l.end()?d.contentMatchAt(0).defaultType:null,m={...Ay(f,d.type.name,d.attrs),...t},h={...Ay(f,l.node().type.name,l.node().attrs),...t};n.delete(l.pos,c.pos);const g=p?[{type:i,attrs:m},{type:p,attrs:h}]:[{type:i,attrs:m}];if(!ot(n.doc,l.pos,2))return!1;if(o){const{selection:v,storedMarks:x}=r,{splittableMarks:$}=s.extensionManager,C=x||v.$to.parentOffset&&v.$from.marks();if(n.split(l.pos,2,g).scrollIntoView(),!C||!o)return!0;const M=C.filter(I=>$.includes(I.type.name));n.ensureMarks(M)}return!0},$_=(e,t)=>{const n=yA(a=>a.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const o=e.doc.nodeAt(r);return n.node.type===o?.type&&Ht(e.doc,n.pos)&&e.join(n.pos),!0},C_=(e,t)=>{const n=yA(a=>a.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const o=e.doc.nodeAt(r);return n.node.type===o?.type&&Ht(e.doc,r)&&e.join(r),!0},gFe=(e,t,n,r={})=>({editor:o,tr:s,state:a,dispatch:i,chain:l,commands:c,can:u})=>{const{extensions:d,splittableMarks:f}=o.extensionManager,p=Ro(e,a.schema),m=Ro(t,a.schema),{selection:h,storedMarks:g}=a,{$from:v,$to:x}=h,$=v.blockRange(x),C=g||h.$to.parentOffset&&h.$from.marks();if(!$)return!1;const M=yA(I=>VN(I.type.name,d))(h);if($.depth>=1&&M&&$.depth-M.depth<=1){if(M.node.type===p)return c.liftListItem(m);if(VN(M.node.type.name,d)&&p.validContent(M.node.content)&&i)return l().command(()=>(s.setNodeMarkup(M.pos,p),!0)).command(()=>$_(s,p)).command(()=>C_(s,p)).run()}return!n||!C||!i?l().command(()=>u().wrapInList(p,r)?!0:c.clearNodes()).wrapInList(p,r).command(()=>$_(s,p)).command(()=>C_(s,p)).run():l().command(()=>{const I=u().wrapInList(p,r),E=C.filter(P=>f.includes(P.type.name));return s.ensureMarks(E),I?!0:c.clearNodes()}).wrapInList(p,r).command(()=>$_(s,p)).command(()=>C_(s,p)).run()},vFe=(e,t={},n={})=>({state:r,commands:o})=>{const{extendEmptyMarkRange:s=!1}=n,a=uu(e,r.schema);return sFe(r,a,t)?o.unsetMark(a,{extendEmptyMarkRange:s}):o.setMark(a,t)},yFe=(e,t,n={})=>({state:r,commands:o})=>{const s=Ro(e,r.schema),a=Ro(t,r.schema),i=vA(r,s,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),i?o.setNode(a,l):o.setNode(s,{...l,...n})},bFe=(e,t={})=>({state:n,commands:r})=>{const o=Ro(e,n.schema);return vA(n,o,t)?r.lift(o):r.wrapIn(o,t)},xFe=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const o=n[r];let s;if(o.spec.isInputRules&&(s=o.getState(e))){if(t){const a=e.tr,i=s.transform;for(let l=i.steps.length-1;l>=0;l-=1)a.step(i.steps[l].invert(i.docs[l]));if(s.text){const l=a.doc.resolve(s.from).marks();a.replaceWith(s.from,s.to,e.schema.text(s.text,l))}else a.delete(s.from,s.to)}return!0}}return!1},wFe=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:o}=n;return r||t&&o.forEach(s=>{e.removeMark(s.$from.pos,s.$to.pos)}),!0},kFe=(e,t={})=>({tr:n,state:r,dispatch:o})=>{var s;const{extendEmptyMarkRange:a=!1}=t,{selection:i}=n,l=uu(e,r.schema),{$from:c,empty:u,ranges:d}=i;if(!o)return!0;if(u&&a){let{from:f,to:p}=i;const m=(s=c.marks().find(g=>g.type===l))==null?void 0:s.attrs,h=gA(c,l,m);h&&(f=h.from,p=h.to),n.removeMark(f,p,l)}else d.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,l)});return n.removeStoredMark(l),!0},_Fe=e=>({tr:t,state:n,dispatch:r})=>{const{selection:o}=n;let s,a;return typeof e=="number"?(s=e,a=e):e&&"from"in e&&"to"in e?(s=e.from,a=e.to):(s=o.from,a=o.to),r&&t.doc.nodesBetween(s,a,(i,l)=>{if(i.isText)return;const c={...i.attrs};delete c.dir,t.setNodeMarkup(l,void 0,c)}),!0},SFe=(e,t={})=>({tr:n,state:r,dispatch:o})=>{let s=null,a=null;const i=h5(typeof e=="string"?e:e.name,r.schema);if(!i)return!1;i==="node"&&(s=Ro(e,r.schema)),i==="mark"&&(a=uu(e,r.schema));let l=!1;return n.selection.ranges.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;let f,p,m,h;n.selection.empty?r.doc.nodesBetween(u,d,(g,v)=>{s&&s===g.type&&(l=!0,m=Math.max(v,u),h=Math.min(v+g.nodeSize,d),f=v,p=g)}):r.doc.nodesBetween(u,d,(g,v)=>{v<u&&s&&s===g.type&&(l=!0,m=Math.max(v,u),h=Math.min(v+g.nodeSize,d),f=v,p=g),v>=u&&v<=d&&(s&&s===g.type&&(l=!0,o&&n.setNodeMarkup(v,void 0,{...g.attrs,...t})),a&&g.marks.length&&g.marks.forEach(x=>{if(a===x.type&&(l=!0,o)){const $=Math.max(v,u),C=Math.min(v+g.nodeSize,d);n.addMark($,C,a.create({...x.attrs,...t}))}}))}),p&&(f!==void 0&&o&&n.setNodeMarkup(f,void 0,{...p.attrs,...t}),a&&p.marks.length&&p.marks.forEach(g=>{a===g.type&&o&&n.addMark(m,h,a.create({...g.attrs,...t}))}))}),l},$Fe=(e,t={})=>({state:n,dispatch:r})=>{const o=Ro(e,n.schema);return ho(o,t)(n,r)},CFe=(e,t={})=>({state:n,dispatch:r})=>{const o=Ro(e,n.schema);return go(o,t)(n,r)},MFe=class{constructor(t){var n;this.find=t.find,this.handler=t.handler,this.undoable=(n=t.undoable)!=null?n:!0}};function AFe(e){return Object.prototype.toString.call(e).slice(8,-1)}function Tv(e){return AFe(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function b5(e,t){const n={...e};return Tv(e)&&Tv(t)&&Object.keys(t).forEach(r=>{Tv(t[r])&&Tv(e[r])?n[r]=b5(e[r],t[r]):n[r]=t[r]}),n}var x5=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...Cm($m(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Cm($m(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const n=this.extend({...this.config,addOptions:()=>b5(this.options,t)});return n.name=this.name,n.parent=this.parent,n}extend(t={}){const n=new this.constructor({...this.config,...t});return n.parent=this,this.child=n,n.name="name"in t?t.name:n.parent.name,n}},TFe=class w5 extends x5{constructor(){super(...arguments),this.type="mark"}static create(t={}){const n=typeof t=="function"?t():t;return new w5(n)}static handleExit({editor:t,mark:n}){const{tr:r}=t.state,o=t.state.selection.$from;if(o.pos===o.end()){const a=o.marks();if(!!!a.find(c=>c?.type.name===n.name))return!1;const l=a.find(c=>c?.type.name===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",o.pos),t.view.dispatch(r),!0}return!1}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},EFe=class{constructor(t){this.find=t.find,this.handler=t.handler}},IFe={};hA(IFe,{ClipboardTextSerializer:()=>PFe,Commands:()=>OFe,Delete:()=>RFe,Drop:()=>BFe,Editable:()=>NFe,FocusEvents:()=>DFe,Keymap:()=>FFe,Paste:()=>qFe,Tabindex:()=>zFe,TextDirection:()=>LFe,focusEventsPluginKey:()=>_5});var fi=class k5 extends x5{constructor(){super(...arguments),this.type="extension"}static create(t={}){const n=typeof t=="function"?t():t;return new k5(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},PFe=fi.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Se({key:new Ce("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:o}=t,{ranges:s}=o,a=Math.min(...s.map(u=>u.$from.pos)),i=Math.max(...s.map(u=>u.$to.pos)),l=tFe(n);return eFe(r,{from:a,to:i},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),OFe=fi.create({name:"commands",addCommands(){return{...c5}}}),RFe=fi.create({name:"delete",onUpdate({transaction:e,appendedTransactions:t}){var n,r,o;const s=()=>{var a,i,l,c;if((c=(l=(i=(a=this.editor.options.coreExtensionOptions)==null?void 0:a.delete)==null?void 0:i.filterTransaction)==null?void 0:l.call(i,e))!=null?c:e.getMeta("y-sync$"))return;const u=JDe(e.before,[e,...t]);oFe(u).forEach(p=>{u.mapping.mapResult(p.oldRange.from).deletedAfter&&u.mapping.mapResult(p.oldRange.to).deletedBefore&&u.before.nodesBetween(p.oldRange.from,p.oldRange.to,(m,h)=>{const g=h+m.nodeSize-2,v=p.oldRange.from<=h&&g<=p.oldRange.to;this.editor.emit("delete",{type:"node",node:m,from:h,to:g,newFrom:u.mapping.map(h),newTo:u.mapping.map(g),deletedRange:p.oldRange,newRange:p.newRange,partial:!v,editor:this.editor,transaction:e,combinedTransform:u})})});const f=u.mapping;u.steps.forEach((p,m)=>{var h,g;if(p instanceof En){const v=f.slice(m).map(p.from,-1),x=f.slice(m).map(p.to),$=f.invert().map(v,-1),C=f.invert().map(x),M=(h=u.doc.nodeAt(v-1))==null?void 0:h.marks.some(E=>E.eq(p.mark)),I=(g=u.doc.nodeAt(x))==null?void 0:g.marks.some(E=>E.eq(p.mark));this.editor.emit("delete",{type:"mark",mark:p.mark,from:p.from,to:p.to,deletedRange:{from:$,to:C},newRange:{from:v,to:x},partial:!!(I||M),editor:this.editor,transaction:e,combinedTransform:u})}})};(o=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||o?setTimeout(s,0):s()}}),BFe=fi.create({name:"drop",addProseMirrorPlugins(){return[new Se({key:new Ce("tiptapDrop"),props:{handleDrop:(e,t,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:r})}}})]}}),NFe=fi.create({name:"editable",addProseMirrorPlugins(){return[new Se({key:new Ce("editable"),props:{editable:()=>this.editor.options.editable}})]}}),_5=new Ce("focusEvents"),DFe=fi.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new Se({key:_5,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),FFe=fi.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:i})=>{const{selection:l,doc:c}=i,{empty:u,$anchor:d}=l,{pos:f,parent:p}=d,m=d.parent.isTextblock&&f>0?i.doc.resolve(f-1):d,h=m.parent.type.spec.isolating,g=d.pos-d.parentOffset,v=h&&m.parent.childCount===1?g===d.pos:Pe.atStart(c).from===f;return!u||!p.type.isTextblock||p.textContent.length||!v||v&&d.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},o={...r},s={...r,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Wb()||m5()?s:o},addProseMirrorPlugins(){return[new Se({key:new Ce("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(h=>h.getMeta("composition")))return;const r=e.some(h=>h.docChanged)&&!t.doc.eq(n.doc),o=e.some(h=>h.getMeta("preventClearDocument"));if(!r||o)return;const{empty:s,from:a,to:i}=t.selection,l=Pe.atStart(t.doc).from,c=Pe.atEnd(t.doc).to;if(s||!(a===l&&i===c)||!y5(n.doc))return;const f=n.tr,p=u5({state:n,transaction:f}),{commands:m}=new eDe({editor:this.editor,state:p});if(m.clearNodes(),!!f.steps.length)return f}})]}}),qFe=fi.create({name:"paste",addProseMirrorPlugins(){return[new Se({key:new Ce("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),zFe=fi.create({name:"tabindex",addProseMirrorPlugins(){return[new Se({key:new Ce("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),LFe=fi.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:e}=g5(this.extensions);return[{types:e.filter(t=>t.name!=="text").map(t=>t.name),attributes:{dir:{default:this.options.direction,parseHTML:t=>{const n=t.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:t=>t.dir?{dir:t.dir}:{}}}}]},addProseMirrorPlugins(){return[new Se({key:new Ce("textDirection"),props:{attributes:()=>{const e=this.options.direction;return e?{dir:e}:{}}}})]}});function jFe(e){return new MFe({find:e.find,handler:({state:t,range:n,match:r})=>{const o=Cm(e.getAttributes,void 0,r);if(o===!1||o===null)return null;const{tr:s}=t,a=r[r.length-1],i=r[0];if(a){const l=i.search(/\S/),c=n.from+i.indexOf(a),u=c+a.length;if(v5(n.from,n.to,t.doc).filter(p=>p.mark.type.excluded.find(h=>h===e.type&&h!==p.mark.type)).filter(p=>p.to>c).length)return null;u<n.to&&s.delete(u,n.to),c>n.from&&s.delete(n.from+l,c);const f=n.from+l+a.length;s.addMark(n.from+l,f,e.type.create(o||{})),s.removeStoredMark(e.type)}},undoable:e.undoable})}var VFe={};hA(VFe,{createAtomBlockMarkdownSpec:()=>UFe,createBlockMarkdownSpec:()=>KFe,createInlineMarkdownSpec:()=>GFe,parseAttributes:()=>bA,parseIndentedBlocks:()=>JFe,renderNestedMarkdownContent:()=>YFe,serializeAttributes:()=>xA});function bA(e){if(!e?.trim())return{};const t={},n=[],r=e.replace(/["']([^"']*)["']/g,c=>(n.push(c),`__QUOTED_${n.length-1}__`)),o=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(o){const c=o.map(u=>u.trim().slice(1));t.class=c.join(" ")}const s=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);s&&(t.id=s[1]);const a=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(a)).forEach(([,c,u])=>{var d;const f=parseInt(((d=u.match(/__QUOTED_(\d+)__/))==null?void 0:d[1])||"0",10),p=n[f];p&&(t[c]=p.slice(1,-1))});const l=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return l&&l.split(/\s+/).filter(Boolean).forEach(u=>{u.match(/^[a-zA-Z][\w-]*$/)&&(t[u]=!0)}),t}function xA(e){if(!e||Object.keys(e).length===0)return"";const t=[];return e.class&&String(e.class).split(/\s+/).filter(Boolean).forEach(r=>t.push(`.${r}`)),e.id&&t.push(`#${e.id}`),Object.entries(e).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?t.push(n):r!==!1&&r!=null&&t.push(`${n}="${String(r)}"`))}),t.join(" ")}function UFe(e){const{nodeName:t,name:n,parseAttributes:r=bA,serializeAttributes:o=xA,defaultAttributes:s={},requiredAttributes:a=[],allowedAttributes:i}=e,l=n||t,c=u=>{if(!i)return u;const d={};return i.forEach(f=>{f in u&&(d[f]=u[f])}),d};return{parseMarkdown:(u,d)=>{const f={...s,...u.attributes};return d.createNode(t,f,[])},markdownTokenizer:{name:t,level:"block",start(u){var d;const f=new RegExp(`^:::${l}(?:\\s|$)`,"m"),p=(d=u.match(f))==null?void 0:d.index;return p!==void 0?p:-1},tokenize(u,d,f){const p=new RegExp(`^:::${l}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),m=u.match(p);if(!m)return;const h=m[1]||"",g=r(h);if(!a.find(x=>!(x in g)))return{type:t,raw:m[0],attributes:g}}},renderMarkdown:u=>{const d=c(u.attrs||{}),f=o(d),p=f?` {${f}}`:"";return`:::${l}${p} :::`}}}function KFe(e){const{nodeName:t,name:n,getContent:r,parseAttributes:o=bA,serializeAttributes:s=xA,defaultAttributes:a={},content:i="block",allowedAttributes:l}=e,c=n||t,u=d=>{if(!l)return d;const f={};return l.forEach(p=>{p in d&&(f[p]=d[p])}),f};return{parseMarkdown:(d,f)=>{let p;if(r){const h=r(d);p=typeof h=="string"?[{type:"text",text:h}]:h}else i==="block"?p=f.parseChildren(d.tokens||[]):p=f.parseInline(d.tokens||[]);const m={...a,...d.attributes};return f.createNode(t,m,p)},markdownTokenizer:{name:t,level:"block",start(d){var f;const p=new RegExp(`^:::${c}`,"m"),m=(f=d.match(p))==null?void 0:f.index;return m!==void 0?m:-1},tokenize(d,f,p){var m;const h=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),g=d.match(h);if(!g)return;const[v,x=""]=g,$=o(x);let C=1;const M=v.length;let I="";const E=/^:::([\w-]*)(\s.*)?/gm,P=d.slice(M);for(E.lastIndex=0;;){const O=E.exec(P);if(O===null)break;const D=O.index,L=O[1];if(!((m=O[2])!=null&&m.endsWith(":::"))){if(L)C+=1;else if(C-=1,C===0){const V=P.slice(0,D);I=V.trim();const F=d.slice(0,M+D+O[0].length);let z=[];if(I)if(i==="block")for(z=p.blockTokens(V),z.forEach(N=>{N.text&&(!N.tokens||N.tokens.length===0)&&(N.tokens=p.inlineTokens(N.text))});z.length>0;){const N=z[z.length-1];if(N.type==="paragraph"&&(!N.text||N.text.trim()===""))z.pop();else break}else z=p.inlineTokens(I);return{type:t,raw:F,attributes:$,content:I,tokens:z}}}}}},renderMarkdown:(d,f)=>{const p=u(d.attrs||{}),m=s(p),h=m?` {${m}}`:"",g=f.renderChildren(d.content||[],`

`);return`:::${c}${h}

${g}

:::`}}}function HFe(e){if(!e.trim())return{};const t={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(e);for(;r!==null;){const[,o,s,a]=r;t[o]=s||a,r=n.exec(e)}return t}function WFe(e){return Object.entries(e).filter(([,t])=>t!=null).map(([t,n])=>`${t}="${n}"`).join(" ")}function GFe(e){const{nodeName:t,name:n,getContent:r,parseAttributes:o=HFe,serializeAttributes:s=WFe,defaultAttributes:a={},selfClosing:i=!1,allowedAttributes:l}=e,c=n||t,u=f=>{if(!l)return f;const p={};return l.forEach(m=>{const h=typeof m=="string"?m:m.name,g=typeof m=="string"?void 0:m.skipIfDefault;if(h in f){const v=f[h];if(g!==void 0&&v===g)return;p[h]=v}}),p},d=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(f,p)=>{const m={...a,...f.attributes};if(i)return p.createNode(t,m);const h=r?r(f):f.content||"";return h?p.createNode(t,m,[p.createTextNode(h)]):p.createNode(t,m,[])},markdownTokenizer:{name:t,level:"inline",start(f){const p=i?new RegExp(`\\[${d}\\s*[^\\]]*\\]`):new RegExp(`\\[${d}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${d}\\]`),m=f.match(p),h=m?.index;return h!==void 0?h:-1},tokenize(f,p,m){const h=i?new RegExp(`^\\[${d}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${d}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${d}\\]`),g=f.match(h);if(!g)return;let v="",x="";if(i){const[,C]=g;x=C}else{const[,C,M]=g;x=C,v=M||""}const $=o(x.trim());return{type:t,raw:g[0],content:v.trim(),attributes:$}}},renderMarkdown:f=>{let p="";r?p=r(f):f.content&&f.content.length>0&&(p=f.content.filter(v=>v.type==="text").map(v=>v.text).join(""));const m=u(f.attrs||{}),h=s(m),g=h?` ${h}`:"";return i?`[${c}${g}]`:`[${c}${g}]${p}[/${c}]`}}}function JFe(e,t,n){var r,o,s,a;const i=e.split(`
`),l=[];let c="",u=0;const d=t.baseIndentSize||2;for(;u<i.length;){const f=i[u],p=f.match(t.itemPattern);if(!p){if(l.length>0)break;if(f.trim()===""){u+=1,c=`${c}${f}
`;continue}else return}const m=t.extractItemData(p),{indentLevel:h,mainContent:g}=m;c=`${c}${f}
`;const v=[g];for(u+=1;u<i.length;){const M=i[u];if(M.trim()===""){const E=i.slice(u+1).findIndex(D=>D.trim()!=="");if(E===-1)break;if((((o=(r=i[u+1+E].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:o.length)||0)>h){v.push(M),c=`${c}${M}
`,u+=1;continue}else break}if((((a=(s=M.match(/^(\s*)/))==null?void 0:s[1])==null?void 0:a.length)||0)>h)v.push(M),c=`${c}${M}
`,u+=1;else break}let x;const $=v.slice(1);if($.length>0){const M=$.map(I=>I.slice(h+d)).join(`
`);M.trim()&&(t.customNestedParser?x=t.customNestedParser(M):x=n.blockTokens(M))}const C=t.createToken(m,x);l.push(C)}if(l.length!==0)return{items:l,raw:c}}function YFe(e,t,n,r){if(!e||!Array.isArray(e.content))return"";const o=typeof n=="function"?n(r):n,[s,...a]=e.content,i=t.renderChildren([s]),l=[`${o}${i}`];return a&&a.length>0&&a.forEach(c=>{const u=t.renderChildren([c]);if(u){const d=u.split(`
`).map(f=>f?t.indent(f):"").join(`
`);l.push(d)}}),l.join(`
`)}function QFe(e){return new EFe({find:e.find,handler:({state:t,range:n,match:r,pasteEvent:o})=>{const s=Cm(e.getAttributes,void 0,r,o);if(s===!1||s===null)return null;const{tr:a}=t,i=r[r.length-1],l=r[0];let c=n.to;if(i){const u=l.search(/\S/),d=n.from+l.indexOf(i),f=d+i.length;if(v5(n.from,n.to,t.doc).filter(m=>m.mark.type.excluded.find(g=>g===e.type&&g!==m.mark.type)).filter(m=>m.to>d).length)return null;f<n.to&&a.delete(f,n.to),d>n.from&&a.delete(n.from+u,d),c=n.from+u+i.length,a.addMark(n.from+u,c,e.type.create(s||{})),a.removeStoredMark(e.type)}}})}var XFe=/(^|[^`])`([^`]+)`(?!`)$/,ZFe=/(^|[^`])`([^`]+)`(?!`)/g,eqe=TFe.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:e}){return["code",ZDe(this.options.HTMLAttributes,e),0]},markdownTokenName:"codespan",parseMarkdown:(e,t)=>t.applyMark("code",[{type:"text",text:e.text||""}]),renderMarkdown:(e,t)=>e.content?`\`${t.renderChildren(e.content)}\``:"",addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[jFe({find:XFe,type:this.type})]},addPasteRules(){return[QFe({find:ZFe,type:this.type})]}}),tqe=Object.defineProperty,wA=(e,t)=>{for(var n in t)tqe(e,n,{get:t[n],enumerable:!0})};function S5(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:o}=n,{storedMarks:s}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return s},get selection(){return r},get doc(){return o},get tr(){return r=n.selection,o=n.doc,s=n.storedMarks,n}}}var nqe=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:n,state:r}=this,{view:o}=n,{tr:s}=r,a=this.buildProps(s);return Object.fromEntries(Object.entries(t).map(([i,l])=>[i,(...u)=>{const d=l(...u)(a);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(s),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,n=!0){const{rawCommands:r,editor:o,state:s}=this,{view:a}=o,i=[],l=!!t,c=t||s.tr,u=()=>(!l&&n&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(c),i.every(f=>f===!0)),d={...Object.fromEntries(Object.entries(r).map(([f,p])=>[f,(...h)=>{const g=this.buildProps(c,n),v=p(...h)(g);return i.push(v),d}])),run:u};return d}createCan(t){const{rawCommands:n,state:r}=this,o=!1,s=t||r.tr,a=this.buildProps(s,o);return{...Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...u)=>c(...u)({...a,dispatch:void 0})])),chain:()=>this.createChain(s,o)}}buildProps(t,n=!0){const{rawCommands:r,editor:o,state:s}=this,{view:a}=o,i={tr:t,editor:o,view:a,state:S5({state:s,transaction:t}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(t,n),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...u)=>c(...u)(i)]))}};return i}},$5={};wA($5,{blur:()=>rqe,clearContent:()=>oqe,clearNodes:()=>sqe,command:()=>aqe,createParagraphNear:()=>iqe,cut:()=>lqe,deleteCurrentNode:()=>uqe,deleteNode:()=>cqe,deleteRange:()=>dqe,deleteSelection:()=>fqe,enter:()=>pqe,exitCode:()=>mqe,extendMarkRange:()=>gqe,first:()=>vqe,focus:()=>xqe,forEach:()=>wqe,insertContent:()=>kqe,insertContentAt:()=>$qe,joinBackward:()=>Aqe,joinDown:()=>Mqe,joinForward:()=>Tqe,joinItemBackward:()=>Eqe,joinItemForward:()=>Iqe,joinTextblockBackward:()=>Pqe,joinTextblockForward:()=>Oqe,joinUp:()=>Cqe,keyboardShortcut:()=>Bqe,lift:()=>Nqe,liftEmptyBlock:()=>Dqe,liftListItem:()=>Fqe,newlineInCode:()=>qqe,resetAttributes:()=>zqe,scrollIntoView:()=>Lqe,selectAll:()=>jqe,selectNodeBackward:()=>Vqe,selectNodeForward:()=>Uqe,selectParentNode:()=>Kqe,selectTextblockEnd:()=>Hqe,selectTextblockStart:()=>Wqe,setContent:()=>Jqe,setMark:()=>uze,setMeta:()=>cze,setNode:()=>dze,setNodeSelection:()=>fze,setTextDirection:()=>pze,setTextSelection:()=>mze,sinkListItem:()=>hze,splitBlock:()=>gze,splitListItem:()=>vze,toggleList:()=>yze,toggleMark:()=>bze,toggleNode:()=>xze,toggleWrap:()=>wze,undoInputRule:()=>kze,unsetAllMarks:()=>_ze,unsetMark:()=>Sze,unsetTextDirection:()=>$ze,updateAttributes:()=>Cze,wrapIn:()=>Mze,wrapInList:()=>Aze});var rqe=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),oqe=(e=!0)=>({commands:t})=>t.setContent("",{emitUpdate:e}),sqe=()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:o}=r;return n&&o.forEach(({$from:s,$to:a})=>{e.doc.nodesBetween(s.pos,a.pos,(i,l)=>{if(i.type.isText)return;const{doc:c,mapping:u}=t,d=c.resolve(u.map(l)),f=c.resolve(u.map(l+i.nodeSize)),p=d.blockRange(f);if(!p)return;const m=lr(p);if(i.type.isTextblock){const{defaultType:h}=d.parent.contentMatchAt(d.index());t.setNodeMarkup(p.start,h)}(m||m===0)&&t.lift(p,m)})}),!0},aqe=e=>t=>e(t),iqe=()=>({state:e,dispatch:t})=>Hr(e,t),lqe=(e,t)=>({editor:n,tr:r})=>{const{state:o}=n,s=o.doc.slice(e.from,e.to);r.deleteRange(e.from,e.to);const a=r.mapping.map(t);return r.insert(a,s.content),r.setSelection(new ie(r.doc.resolve(Math.max(a-1,0)))),!0},uqe=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;const o=e.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===r.type){if(t){const i=o.before(s),l=o.after(s);e.delete(i,l).scrollIntoView()}return!0}return!1};function Bo(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}var cqe=e=>({tr:t,state:n,dispatch:r})=>{const o=Bo(e,n.schema),s=t.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===o){if(r){const l=s.before(a),c=s.after(a);t.delete(l,c).scrollIntoView()}return!0}return!1},dqe=e=>({tr:t,dispatch:n})=>{const{from:r,to:o}=e;return n&&t.delete(r,o),!0},fqe=()=>({state:e,dispatch:t})=>Cr(e,t),pqe=()=>({commands:e})=>e.keyboardShortcut("Enter"),mqe=()=>({state:e,dispatch:t})=>co(e,t);function hqe(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function Gb(e,t,n={strict:!0}){const r=Object.keys(t);return r.length?r.every(o=>n.strict?t[o]===e[o]:hqe(t[o])?t[o].test(e[o]):t[o]===e[o]):!0}function C5(e,t,n={}){return e.find(r=>r.type===t&&Gb(Object.fromEntries(Object.keys(n).map(o=>[o,r.attrs[o]])),n))}function KN(e,t,n={}){return!!C5(e,t,n)}function M5(e,t,n){var r;if(!e||!t)return;let o=e.parent.childAfter(e.parentOffset);if((!o.node||!o.node.marks.some(u=>u.type===t))&&(o=e.parent.childBefore(e.parentOffset)),!o.node||!o.node.marks.some(u=>u.type===t)||(n=n||((r=o.node.marks[0])==null?void 0:r.attrs),!C5([...o.node.marks],t,n)))return;let a=o.index,i=e.start()+o.offset,l=a+1,c=i+o.node.nodeSize;for(;a>0&&KN([...e.parent.child(a-1).marks],t,n);)a-=1,i-=e.parent.child(a).nodeSize;for(;l<e.parent.childCount&&KN([...e.parent.child(l).marks],t,n);)c+=e.parent.child(l).nodeSize,l+=1;return{from:i,to:c}}function cu(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}var gqe=(e,t={})=>({tr:n,state:r,dispatch:o})=>{const s=cu(e,r.schema),{doc:a,selection:i}=n,{$from:l,from:c,to:u}=i;if(o){const d=M5(l,s,t);if(d&&d.from<=c&&d.to>=u){const f=ie.create(a,d.from,d.to);n.setSelection(f)}}return!0},vqe=e=>t=>{const n=typeof e=="function"?e(t):e;for(let r=0;r<n.length;r+=1)if(n[r](t))return!0;return!1};function A5(e){return e instanceof ie}function Ju(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function yqe(e,t=null){if(!t)return null;const n=Pe.atStart(e),r=Pe.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return r;const o=n.from,s=r.to;return t==="all"?ie.create(e,Ju(0,o,s),Ju(e.content.size,o,s)):ie.create(e,Ju(t,o,s),Ju(t,o,s))}function HN(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Jb(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function bqe(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}var xqe=(e=null,t={})=>({editor:n,view:r,tr:o,dispatch:s})=>{t={scrollIntoView:!0,...t};const a=()=>{(Jb()||HN())&&r.dom.focus(),bqe()&&!Jb()&&!HN()&&r.dom.focus({preventScroll:!0}),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),t?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&e===null||e===!1)return!0;if(s&&e===null&&!A5(n.state.selection))return a(),!0;const i=yqe(o.doc,e)||n.state.selection,l=n.state.selection.eq(i);return s&&(l||o.setSelection(i),l&&o.storedMarks&&o.setStoredMarks(o.storedMarks),a()),!0},wqe=(e,t)=>n=>e.every((r,o)=>t(r,{...n,index:o})),kqe=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),T5=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const r=t[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):r.nodeType===1&&T5(r)}return e};function Ev(e){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t=`<body>${e}</body>`,n=new window.DOMParser().parseFromString(t,"text/html").body;return T5(n)}function Mm(e,t,n){if(e instanceof Hn||e instanceof de)return e;n={slice:!0,parseOptions:{},...n};const r=typeof e=="object"&&e!==null,o=typeof e=="string";if(r)try{if(Array.isArray(e)&&e.length>0)return de.fromArray(e.map(i=>t.nodeFromJSON(i)));const a=t.nodeFromJSON(e);return n.errorOnInvalidContent&&a.check(),a}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",s),Mm("",t,n)}if(o){if(n.errorOnInvalidContent){let a=!1,i="";const l=new qr({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(a=!0,i=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?gt.fromSchema(l).parseSlice(Ev(e),n.parseOptions):gt.fromSchema(l).parse(Ev(e),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${i}`)})}const s=gt.fromSchema(t);return n.slice?s.parseSlice(Ev(e),n.parseOptions).content:s.parse(Ev(e),n.parseOptions)}return Mm("",t,n)}function _qe(e,t,n){const r=e.steps.length-1;if(r<t)return;const o=e.steps[r];if(!(o instanceof ln||o instanceof un))return;const s=e.mapping.maps[r];let a=0;s.forEach((i,l,c,u)=>{a===0&&(a=u)}),e.setSelection(Pe.near(e.doc.resolve(a),n))}var Sqe=e=>!("type"in e),$qe=(e,t,n)=>({tr:r,dispatch:o,editor:s})=>{var a;if(o){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let i;const l=g=>{s.emit("contentError",{editor:s,error:g,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{Mm(t,s.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(g){l(g)}try{i=Mm(t,s.schema,{parseOptions:c,errorOnInvalidContent:(a=n.errorOnInvalidContent)!=null?a:s.options.enableContentCheck})}catch(g){return l(g),!1}let{from:u,to:d}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},f=!0,p=!0;if((Sqe(i)?i:[i]).forEach(g=>{g.check(),f=f?g.isText&&g.marks.length===0:!1,p=p?g.isBlock:!1}),u===d&&p){const{parent:g}=r.doc.resolve(u);g.isTextblock&&!g.type.spec.code&&!g.childCount&&(u-=1,d+=1)}let h;if(f){if(Array.isArray(t))h=t.map(g=>g.text||"").join("");else if(t instanceof de){let g="";t.forEach(v=>{v.text&&(g+=v.text)}),h=g}else typeof t=="object"&&t&&t.text?h=t.text:h=t;r.insertText(h,u,d)}else{h=i;const g=r.doc.resolve(u),v=g.node(),x=g.parentOffset===0,$=v.isText||v.isTextblock,C=v.content.size>0;x&&$&&C&&(u=Math.max(0,u-1)),r.replaceWith(u,d,h)}n.updateSelection&&_qe(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:u,text:h}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:u,text:h})}return!0},Cqe=()=>({state:e,dispatch:t})=>io(e,t),Mqe=()=>({state:e,dispatch:t})=>lo(e,t),Aqe=()=>({state:e,dispatch:t})=>Lr(e,t),Tqe=()=>({state:e,dispatch:t})=>Vr(e,t),Eqe=()=>({state:e,dispatch:t,tr:n})=>{try{const r=on(e.doc,e.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},Iqe=()=>({state:e,dispatch:t,tr:n})=>{try{const r=on(e.doc,e.selection.$from.pos,1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},Pqe=()=>({state:e,dispatch:t})=>so(e,t),Oqe=()=>({state:e,dispatch:t})=>ao(e,t);function E5(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function Rqe(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let r,o,s,a;for(let i=0;i<t.length-1;i+=1){const l=t[i];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))o=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))Jb()||E5()?a=!0:o=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),o&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}var Bqe=e=>({editor:t,view:n,tr:r,dispatch:o})=>{const s=Rqe(e).split(/-(?!$)/),a=s.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),i=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,i))});return l?.steps.forEach(c=>{const u=c.map(r.mapping);u&&o&&r.maybeStep(u)}),!0};function kA(e,t,n={}){const{from:r,to:o,empty:s}=e.selection,a=t?Bo(t,e.schema):null,i=[];e.doc.nodesBetween(r,o,(d,f)=>{if(d.isText)return;const p=Math.max(r,f),m=Math.min(o,f+d.nodeSize);i.push({node:d,from:p,to:m})});const l=o-r,c=i.filter(d=>a?a.name===d.node.type.name:!0).filter(d=>Gb(d.node.attrs,n,{strict:!1}));return s?!!c.length:c.reduce((d,f)=>d+f.to-f.from,0)>=l}var Nqe=(e,t={})=>({state:n,dispatch:r})=>{const o=Bo(e,n.schema);return kA(n,o,t)?uo(n,r):!1},Dqe=()=>({state:e,dispatch:t})=>Wr(e,t),Fqe=e=>({state:t,dispatch:n})=>{const r=Bo(e,t.schema);return vo(r)(t,n)},qqe=()=>({state:e,dispatch:t})=>Kr(e,t);function I5(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function WN(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((r,o)=>(n.includes(o)||(r[o]=e[o]),r),{})}var zqe=(e,t)=>({tr:n,state:r,dispatch:o})=>{let s=null,a=null;const i=I5(typeof e=="string"?e:e.name,r.schema);if(!i)return!1;i==="node"&&(s=Bo(e,r.schema)),i==="mark"&&(a=cu(e,r.schema));let l=!1;return n.selection.ranges.forEach(c=>{r.doc.nodesBetween(c.$from.pos,c.$to.pos,(u,d)=>{s&&s===u.type&&(l=!0,o&&n.setNodeMarkup(d,void 0,WN(u.attrs,t))),a&&u.marks.length&&u.marks.forEach(f=>{a===f.type&&(l=!0,o&&n.addMark(d,d+u.nodeSize,a.create(WN(f.attrs,t))))})})}),l},Lqe=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),jqe=()=>({tr:e,dispatch:t})=>{if(t){const n=new Sn(e.doc);e.setSelection(n)}return!0},Vqe=()=>({state:e,dispatch:t})=>jr(e,t),Uqe=()=>({state:e,dispatch:t})=>Ur(e,t),Kqe=()=>({state:e,dispatch:t})=>fo(e,t),Hqe=()=>({state:e,dispatch:t})=>mo(e,t),Wqe=()=>({state:e,dispatch:t})=>po(e,t);function Gqe(e,t,n={},r={}){return Mm(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var Jqe=(e,{errorOnInvalidContent:t,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:o,tr:s,dispatch:a,commands:i})=>{const{doc:l}=s;if(r.preserveWhitespace!=="full"){const c=Gqe(e,o.schema,r,{errorOnInvalidContent:t??o.options.enableContentCheck});return a&&s.replaceWith(0,l.content.size,c).setMeta("preventUpdate",!n),!0}return a&&s.setMeta("preventUpdate",!n),i.insertContentAt({from:0,to:l.content.size},e,{parseOptions:r,errorOnInvalidContent:t??o.options.enableContentCheck})};function Yqe(e,t){const n=cu(t,e.schema),{from:r,to:o,empty:s}=e.selection,a=[];s?(e.storedMarks&&a.push(...e.storedMarks),a.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,o,l=>{a.push(...l.marks)});const i=a.find(l=>l.type.name===n.name);return i?{...i.attrs}:{}}function Qqe(e,t){const n=new zr(e);return t.forEach(r=>{r.steps.forEach(o=>{n.step(o)})}),n}function Xqe(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function Zqe(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function _A(e){return t=>Zqe(t.$from,e)}function Am(e,t,n){return e.config[t]===void 0&&e.parent?Am(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind({...n,parent:e.parent?Am(e.parent,t,n):null}):e.config[t]}function eze(e){return typeof e=="function"}function Yb(e,t=void 0,...n){return eze(e)?t?e.bind(t)(...n):e(...n):e}function P5(e){const t=e.filter(o=>o.type==="extension"),n=e.filter(o=>o.type==="node"),r=e.filter(o=>o.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:r}}function tze(...e){return e.filter(t=>!!t).reduce((t,n)=>{const r={...t};return Object.entries(n).forEach(([o,s])=>{if(!r[o]){r[o]=s;return}if(o==="class"){const i=s?String(s).split(" "):[],l=r[o]?r[o].split(" "):[],c=i.filter(u=>!l.includes(u));r[o]=[...l,...c].join(" ")}else if(o==="style"){const i=s?s.split(";").map(u=>u.trim()).filter(Boolean):[],l=r[o]?r[o].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;l.forEach(u=>{const[d,f]=u.split(":").map(p=>p.trim());c.set(d,f)}),i.forEach(u=>{const[d,f]=u.split(":").map(p=>p.trim());c.set(d,f)}),r[o]=Array.from(c.entries()).map(([u,d])=>`${u}: ${d}`).join("; ")}else r[o]=s}),r},{})}function nze(e,t,n){const{from:r,to:o}=t,{blockSeparator:s=`

`,textSerializers:a={}}=n||{};let i="";return e.nodesBetween(r,o,(l,c,u,d)=>{var f;l.isBlock&&c>r&&(i+=s);const p=a?.[l.type.name];if(p)return u&&(i+=p({node:l,pos:c,parent:u,index:d,range:t})),!1;l.isText&&(i+=(f=l?.text)==null?void 0:f.slice(Math.max(r,c)-c,o-c))}),i}function rze(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}function oze(e,t=JSON.stringify){const n={};return e.filter(r=>{const o=t(r);return Object.prototype.hasOwnProperty.call(n,o)?!1:n[o]=!0})}function sze(e){const t=oze(e);return t.length===1?t:t.filter((n,r)=>!t.filter((s,a)=>a!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function aze(e){const{mapping:t,steps:n}=e,r=[];return t.maps.forEach((o,s)=>{const a=[];if(o.ranges.length)o.forEach((i,l)=>{a.push({from:i,to:l})});else{const{from:i,to:l}=n[s];if(i===void 0||l===void 0)return;a.push({from:i,to:l})}a.forEach(({from:i,to:l})=>{const c=t.slice(s).map(i,-1),u=t.slice(s).map(l),d=t.invert().map(c,-1),f=t.invert().map(u);r.push({oldRange:{from:d,to:f},newRange:{from:c,to:u}})})}),sze(r)}function Ty(e,t,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const o=e.find(s=>s.type===t&&s.name===r);return o?o.attribute.keepOnSplit:!1}))}function ize(e,t,n={}){const{empty:r,ranges:o}=e.selection,s=t?cu(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(d=>s?s.name===d.type.name:!0).find(d=>Gb(d.attrs,n,{strict:!1}));let a=0;const i=[];if(o.forEach(({$from:d,$to:f})=>{const p=d.pos,m=f.pos;e.doc.nodesBetween(p,m,(h,g)=>{if(!h.isText&&!h.marks.length)return;const v=Math.max(p,g),x=Math.min(m,g+h.nodeSize),$=x-v;a+=$,i.push(...h.marks.map(C=>({mark:C,from:v,to:x})))})}),a===0)return!1;const l=i.filter(d=>s?s.name===d.mark.type.name:!0).filter(d=>Gb(d.mark.attrs,n,{strict:!1})).reduce((d,f)=>d+f.to-f.from,0),c=i.filter(d=>s?d.mark.type!==s&&d.mark.type.excludes(s):!0).reduce((d,f)=>d+f.to-f.from,0);return(l>0?l+c:l)>=a}function GN(e,t){const{nodeExtensions:n}=P5(t),r=n.find(a=>a.name===e);if(!r)return!1;const o={name:r.name,options:r.options,storage:r.storage},s=Yb(Am(r,"group",o));return typeof s!="string"?!1:s.split(" ").includes("list")}function O5(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((r=e.text)!=null?r:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let o=!0;return e.content.forEach(s=>{o!==!1&&(O5(s,{ignoreWhitespace:n,checkChildren:t})||(o=!1))}),o}return!1}function lze(e,t,n){var r;const{selection:o}=t;let s=null;if(A5(o)&&(s=o.$cursor),s){const i=(r=e.storedMarks)!=null?r:s.marks();return s.parent.type.allowsMarkType(n)&&(!!n.isInSet(i)||!i.some(c=>c.type.excludes(n)))}const{ranges:a}=o;return a.some(({$from:i,$to:l})=>{let c=i.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(i.pos,l.pos,(u,d,f)=>{if(c)return!1;if(u.isInline){const p=!f||f.type.allowsMarkType(n),m=!!n.isInSet(u.marks)||!u.marks.some(h=>h.type.excludes(n));c=p&&m}return!c}),c})}var uze=(e,t={})=>({tr:n,state:r,dispatch:o})=>{const{selection:s}=n,{empty:a,ranges:i}=s,l=cu(e,r.schema);if(o)if(a){const c=Yqe(r,l);n.addStoredMark(l.create({...c,...t}))}else i.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;r.doc.nodesBetween(u,d,(f,p)=>{const m=Math.max(p,u),h=Math.min(p+f.nodeSize,d);f.marks.find(v=>v.type===l)?f.marks.forEach(v=>{l===v.type&&n.addMark(m,h,l.create({...v.attrs,...t}))}):n.addMark(m,h,l.create(t))})});return lze(r,n,l)},cze=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),dze=(e,t={})=>({state:n,dispatch:r,chain:o})=>{const s=Bo(e,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),s.isTextblock?o().command(({commands:i})=>cn(s,{...a,...t})(n)?!0:i.clearNodes()).command(({state:i})=>cn(s,{...a,...t})(i,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},fze=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,o=Ju(e,0,r.content.size),s=Ge.create(r,o);t.setSelection(s)}return!0},pze=(e,t)=>({tr:n,state:r,dispatch:o})=>{const{selection:s}=r;let a,i;return typeof t=="number"?(a=t,i=t):t&&"from"in t&&"to"in t?(a=t.from,i=t.to):(a=s.from,i=s.to),o&&n.doc.nodesBetween(a,i,(l,c)=>{l.isText||n.setNodeMarkup(c,void 0,{...l.attrs,dir:e})}),!0},mze=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,{from:o,to:s}=typeof e=="number"?{from:e,to:e}:e,a=ie.atStart(r).from,i=ie.atEnd(r).to,l=Ju(o,a,i),c=Ju(s,a,i),u=ie.create(r,l,c);t.setSelection(u)}return!0},hze=e=>({state:t,dispatch:n})=>{const r=Bo(e,t.schema);return yo(r)(t,n)};function JN(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(o=>t?.includes(o.type.name));e.tr.ensureMarks(r)}}var gze=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:o})=>{const{selection:s,doc:a}=t,{$from:i,$to:l}=s,c=o.extensionManager.attributes,u=Ty(c,i.node().type.name,i.node().attrs);if(s instanceof Ge&&s.node.isBlock)return!i.parentOffset||!ot(a,i.pos)?!1:(r&&(e&&JN(n,o.extensionManager.splittableMarks),t.split(i.pos).scrollIntoView()),!0);if(!i.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,f=i.depth===0?void 0:Xqe(i.node(-1).contentMatchAt(i.indexAfter(-1)));let p=d&&f?[{type:f,attrs:u}]:void 0,m=ot(t.doc,t.mapping.map(i.pos),1,p);if(!p&&!m&&ot(t.doc,t.mapping.map(i.pos),1,f?[{type:f}]:void 0)&&(m=!0,p=f?[{type:f,attrs:u}]:void 0),r){if(m&&(s instanceof ie&&t.deleteSelection(),t.split(t.mapping.map(i.pos),1,p),f&&!d&&!i.parentOffset&&i.parent.type!==f)){const h=t.mapping.map(i.before()),g=t.doc.resolve(h);i.node(-1).canReplaceWith(g.index(),g.index()+1,f)&&t.setNodeMarkup(t.mapping.map(i.before()),f)}e&&JN(n,o.extensionManager.splittableMarks),t.scrollIntoView()}return m},vze=(e,t={})=>({tr:n,state:r,dispatch:o,editor:s})=>{var a;const i=Bo(e,r.schema),{$from:l,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const d=l.node(-1);if(d.type!==i)return!1;const f=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==i||l.index(-2)!==l.node(-2).childCount-1)return!1;if(o){let v=de.empty;const x=l.index(-1)?1:l.index(-2)?2:3;for(let P=l.depth-x;P>=l.depth-3;P-=1)v=de.from(l.node(P).copy(v));const $=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,C={...Ty(f,l.node().type.name,l.node().attrs),...t},M=((a=i.contentMatch.defaultType)==null?void 0:a.createAndFill(C))||void 0;v=v.append(de.from(i.createAndFill(null,M)||void 0));const I=l.before(l.depth-(x-1));n.replace(I,l.after(-$),new Je(v,4-x,0));let E=-1;n.doc.nodesBetween(I,n.doc.content.size,(P,O)=>{if(E>-1)return!1;P.isTextblock&&P.content.size===0&&(E=O+1)}),E>-1&&n.setSelection(ie.near(n.doc.resolve(E))),n.scrollIntoView()}return!0}const p=c.pos===l.end()?d.contentMatchAt(0).defaultType:null,m={...Ty(f,d.type.name,d.attrs),...t},h={...Ty(f,l.node().type.name,l.node().attrs),...t};n.delete(l.pos,c.pos);const g=p?[{type:i,attrs:m},{type:p,attrs:h}]:[{type:i,attrs:m}];if(!ot(n.doc,l.pos,2))return!1;if(o){const{selection:v,storedMarks:x}=r,{splittableMarks:$}=s.extensionManager,C=x||v.$to.parentOffset&&v.$from.marks();if(n.split(l.pos,2,g).scrollIntoView(),!C||!o)return!0;const M=C.filter(I=>$.includes(I.type.name));n.ensureMarks(M)}return!0},M_=(e,t)=>{const n=_A(a=>a.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const o=e.doc.nodeAt(r);return n.node.type===o?.type&&Ht(e.doc,n.pos)&&e.join(n.pos),!0},A_=(e,t)=>{const n=_A(a=>a.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const o=e.doc.nodeAt(r);return n.node.type===o?.type&&Ht(e.doc,r)&&e.join(r),!0},yze=(e,t,n,r={})=>({editor:o,tr:s,state:a,dispatch:i,chain:l,commands:c,can:u})=>{const{extensions:d,splittableMarks:f}=o.extensionManager,p=Bo(e,a.schema),m=Bo(t,a.schema),{selection:h,storedMarks:g}=a,{$from:v,$to:x}=h,$=v.blockRange(x),C=g||h.$to.parentOffset&&h.$from.marks();if(!$)return!1;const M=_A(I=>GN(I.type.name,d))(h);if($.depth>=1&&M&&$.depth-M.depth<=1){if(M.node.type===p)return c.liftListItem(m);if(GN(M.node.type.name,d)&&p.validContent(M.node.content)&&i)return l().command(()=>(s.setNodeMarkup(M.pos,p),!0)).command(()=>M_(s,p)).command(()=>A_(s,p)).run()}return!n||!C||!i?l().command(()=>u().wrapInList(p,r)?!0:c.clearNodes()).wrapInList(p,r).command(()=>M_(s,p)).command(()=>A_(s,p)).run():l().command(()=>{const I=u().wrapInList(p,r),E=C.filter(P=>f.includes(P.type.name));return s.ensureMarks(E),I?!0:c.clearNodes()}).wrapInList(p,r).command(()=>M_(s,p)).command(()=>A_(s,p)).run()},bze=(e,t={},n={})=>({state:r,commands:o})=>{const{extendEmptyMarkRange:s=!1}=n,a=cu(e,r.schema);return ize(r,a,t)?o.unsetMark(a,{extendEmptyMarkRange:s}):o.setMark(a,t)},xze=(e,t,n={})=>({state:r,commands:o})=>{const s=Bo(e,r.schema),a=Bo(t,r.schema),i=kA(r,s,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),i?o.setNode(a,l):o.setNode(s,{...l,...n})},wze=(e,t={})=>({state:n,commands:r})=>{const o=Bo(e,n.schema);return kA(n,o,t)?r.lift(o):r.wrapIn(o,t)},kze=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const o=n[r];let s;if(o.spec.isInputRules&&(s=o.getState(e))){if(t){const a=e.tr,i=s.transform;for(let l=i.steps.length-1;l>=0;l-=1)a.step(i.steps[l].invert(i.docs[l]));if(s.text){const l=a.doc.resolve(s.from).marks();a.replaceWith(s.from,s.to,e.schema.text(s.text,l))}else a.delete(s.from,s.to)}return!0}}return!1},_ze=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:o}=n;return r||t&&o.forEach(s=>{e.removeMark(s.$from.pos,s.$to.pos)}),!0},Sze=(e,t={})=>({tr:n,state:r,dispatch:o})=>{var s;const{extendEmptyMarkRange:a=!1}=t,{selection:i}=n,l=cu(e,r.schema),{$from:c,empty:u,ranges:d}=i;if(!o)return!0;if(u&&a){let{from:f,to:p}=i;const m=(s=c.marks().find(g=>g.type===l))==null?void 0:s.attrs,h=M5(c,l,m);h&&(f=h.from,p=h.to),n.removeMark(f,p,l)}else d.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,l)});return n.removeStoredMark(l),!0},$ze=e=>({tr:t,state:n,dispatch:r})=>{const{selection:o}=n;let s,a;return typeof e=="number"?(s=e,a=e):e&&"from"in e&&"to"in e?(s=e.from,a=e.to):(s=o.from,a=o.to),r&&t.doc.nodesBetween(s,a,(i,l)=>{if(i.isText)return;const c={...i.attrs};delete c.dir,t.setNodeMarkup(l,void 0,c)}),!0},Cze=(e,t={})=>({tr:n,state:r,dispatch:o})=>{let s=null,a=null;const i=I5(typeof e=="string"?e:e.name,r.schema);if(!i)return!1;i==="node"&&(s=Bo(e,r.schema)),i==="mark"&&(a=cu(e,r.schema));let l=!1;return n.selection.ranges.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;let f,p,m,h;n.selection.empty?r.doc.nodesBetween(u,d,(g,v)=>{s&&s===g.type&&(l=!0,m=Math.max(v,u),h=Math.min(v+g.nodeSize,d),f=v,p=g)}):r.doc.nodesBetween(u,d,(g,v)=>{v<u&&s&&s===g.type&&(l=!0,m=Math.max(v,u),h=Math.min(v+g.nodeSize,d),f=v,p=g),v>=u&&v<=d&&(s&&s===g.type&&(l=!0,o&&n.setNodeMarkup(v,void 0,{...g.attrs,...t})),a&&g.marks.length&&g.marks.forEach(x=>{if(a===x.type&&(l=!0,o)){const $=Math.max(v,u),C=Math.min(v+g.nodeSize,d);n.addMark($,C,a.create({...x.attrs,...t}))}}))}),p&&(f!==void 0&&o&&n.setNodeMarkup(f,void 0,{...p.attrs,...t}),a&&p.marks.length&&p.marks.forEach(g=>{a===g.type&&o&&n.addMark(m,h,a.create({...g.attrs,...t}))}))}),l},Mze=(e,t={})=>({state:n,dispatch:r})=>{const o=Bo(e,n.schema);return ho(o,t)(n,r)},Aze=(e,t={})=>({state:n,dispatch:r})=>{const o=Bo(e,n.schema);return go(o,t)(n,r)},Tze=class{constructor(t){var n;this.find=t.find,this.handler=t.handler,this.undoable=(n=t.undoable)!=null?n:!0}};function Eze(e){return Object.prototype.toString.call(e).slice(8,-1)}function Iv(e){return Eze(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function R5(e,t){const n={...e};return Iv(e)&&Iv(t)&&Object.keys(t).forEach(r=>{Iv(t[r])&&Iv(e[r])?n[r]=R5(e[r],t[r]):n[r]=t[r]}),n}var B5=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...Yb(Am(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Yb(Am(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const n=this.extend({...this.config,addOptions:()=>R5(this.options,t)});return n.name=this.name,n.parent=this.parent,n}extend(t={}){const n=new this.constructor({...this.config,...t});return n.parent=this,this.child=n,n.name="name"in t?t.name:n.parent.name,n}},Ize={};wA(Ize,{ClipboardTextSerializer:()=>Pze,Commands:()=>Oze,Delete:()=>Rze,Drop:()=>Bze,Editable:()=>Nze,FocusEvents:()=>Dze,Keymap:()=>Fze,Paste:()=>qze,Tabindex:()=>zze,TextDirection:()=>Lze,focusEventsPluginKey:()=>D5});var pi=class N5 extends B5{constructor(){super(...arguments),this.type="extension"}static create(t={}){const n=typeof t=="function"?t():t;return new N5(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},Pze=pi.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Se({key:new Ce("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:o}=t,{ranges:s}=o,a=Math.min(...s.map(u=>u.$from.pos)),i=Math.max(...s.map(u=>u.$to.pos)),l=rze(n);return nze(r,{from:a,to:i},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),Oze=pi.create({name:"commands",addCommands(){return{...$5}}}),Rze=pi.create({name:"delete",onUpdate({transaction:e,appendedTransactions:t}){var n,r,o;const s=()=>{var a,i,l,c;if((c=(l=(i=(a=this.editor.options.coreExtensionOptions)==null?void 0:a.delete)==null?void 0:i.filterTransaction)==null?void 0:l.call(i,e))!=null?c:e.getMeta("y-sync$"))return;const u=Qqe(e.before,[e,...t]);aze(u).forEach(p=>{u.mapping.mapResult(p.oldRange.from).deletedAfter&&u.mapping.mapResult(p.oldRange.to).deletedBefore&&u.before.nodesBetween(p.oldRange.from,p.oldRange.to,(m,h)=>{const g=h+m.nodeSize-2,v=p.oldRange.from<=h&&g<=p.oldRange.to;this.editor.emit("delete",{type:"node",node:m,from:h,to:g,newFrom:u.mapping.map(h),newTo:u.mapping.map(g),deletedRange:p.oldRange,newRange:p.newRange,partial:!v,editor:this.editor,transaction:e,combinedTransform:u})})});const f=u.mapping;u.steps.forEach((p,m)=>{var h,g;if(p instanceof En){const v=f.slice(m).map(p.from,-1),x=f.slice(m).map(p.to),$=f.invert().map(v,-1),C=f.invert().map(x),M=(h=u.doc.nodeAt(v-1))==null?void 0:h.marks.some(E=>E.eq(p.mark)),I=(g=u.doc.nodeAt(x))==null?void 0:g.marks.some(E=>E.eq(p.mark));this.editor.emit("delete",{type:"mark",mark:p.mark,from:p.from,to:p.to,deletedRange:{from:$,to:C},newRange:{from:v,to:x},partial:!!(I||M),editor:this.editor,transaction:e,combinedTransform:u})}})};(o=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||o?setTimeout(s,0):s()}}),Bze=pi.create({name:"drop",addProseMirrorPlugins(){return[new Se({key:new Ce("tiptapDrop"),props:{handleDrop:(e,t,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:r})}}})]}}),Nze=pi.create({name:"editable",addProseMirrorPlugins(){return[new Se({key:new Ce("editable"),props:{editable:()=>this.editor.options.editable}})]}}),D5=new Ce("focusEvents"),Dze=pi.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new Se({key:D5,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),Fze=pi.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:i})=>{const{selection:l,doc:c}=i,{empty:u,$anchor:d}=l,{pos:f,parent:p}=d,m=d.parent.isTextblock&&f>0?i.doc.resolve(f-1):d,h=m.parent.type.spec.isolating,g=d.pos-d.parentOffset,v=h&&m.parent.childCount===1?g===d.pos:Pe.atStart(c).from===f;return!u||!p.type.isTextblock||p.textContent.length||!v||v&&d.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},o={...r},s={...r,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Jb()||E5()?s:o},addProseMirrorPlugins(){return[new Se({key:new Ce("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(h=>h.getMeta("composition")))return;const r=e.some(h=>h.docChanged)&&!t.doc.eq(n.doc),o=e.some(h=>h.getMeta("preventClearDocument"));if(!r||o)return;const{empty:s,from:a,to:i}=t.selection,l=Pe.atStart(t.doc).from,c=Pe.atEnd(t.doc).to;if(s||!(a===l&&i===c)||!O5(n.doc))return;const f=n.tr,p=S5({state:n,transaction:f}),{commands:m}=new nqe({editor:this.editor,state:p});if(m.clearNodes(),!!f.steps.length)return f}})]}}),qze=pi.create({name:"paste",addProseMirrorPlugins(){return[new Se({key:new Ce("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),zze=pi.create({name:"tabindex",addProseMirrorPlugins(){return[new Se({key:new Ce("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),Lze=pi.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:e}=P5(this.extensions);return[{types:e.filter(t=>t.name!=="text").map(t=>t.name),attributes:{dir:{default:this.options.direction,parseHTML:t=>{const n=t.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:t=>t.dir?{dir:t.dir}:{}}}}]},addProseMirrorPlugins(){return[new Se({key:new Ce("textDirection"),props:{attributes:()=>{const e=this.options.direction;return e?{dir:e}:{}}}})]}});function YN(e){return new Tze({find:e.find,handler:({state:t,range:n,match:r})=>{const o=t.doc.resolve(n.from),s=Yb(e.getAttributes,void 0,r)||{};if(!o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),e.type))return null;t.tr.delete(n.from,n.to).setBlockType(n.from,n.from,e.type,s)},undoable:e.undoable})}var jze={};wA(jze,{createAtomBlockMarkdownSpec:()=>Vze,createBlockMarkdownSpec:()=>Uze,createInlineMarkdownSpec:()=>Wze,parseAttributes:()=>SA,parseIndentedBlocks:()=>Gze,renderNestedMarkdownContent:()=>Jze,serializeAttributes:()=>$A});function SA(e){if(!e?.trim())return{};const t={},n=[],r=e.replace(/["']([^"']*)["']/g,c=>(n.push(c),`__QUOTED_${n.length-1}__`)),o=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(o){const c=o.map(u=>u.trim().slice(1));t.class=c.join(" ")}const s=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);s&&(t.id=s[1]);const a=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(a)).forEach(([,c,u])=>{var d;const f=parseInt(((d=u.match(/__QUOTED_(\d+)__/))==null?void 0:d[1])||"0",10),p=n[f];p&&(t[c]=p.slice(1,-1))});const l=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return l&&l.split(/\s+/).filter(Boolean).forEach(u=>{u.match(/^[a-zA-Z][\w-]*$/)&&(t[u]=!0)}),t}function $A(e){if(!e||Object.keys(e).length===0)return"";const t=[];return e.class&&String(e.class).split(/\s+/).filter(Boolean).forEach(r=>t.push(`.${r}`)),e.id&&t.push(`#${e.id}`),Object.entries(e).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?t.push(n):r!==!1&&r!=null&&t.push(`${n}="${String(r)}"`))}),t.join(" ")}function Vze(e){const{nodeName:t,name:n,parseAttributes:r=SA,serializeAttributes:o=$A,defaultAttributes:s={},requiredAttributes:a=[],allowedAttributes:i}=e,l=n||t,c=u=>{if(!i)return u;const d={};return i.forEach(f=>{f in u&&(d[f]=u[f])}),d};return{parseMarkdown:(u,d)=>{const f={...s,...u.attributes};return d.createNode(t,f,[])},markdownTokenizer:{name:t,level:"block",start(u){var d;const f=new RegExp(`^:::${l}(?:\\s|$)`,"m"),p=(d=u.match(f))==null?void 0:d.index;return p!==void 0?p:-1},tokenize(u,d,f){const p=new RegExp(`^:::${l}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),m=u.match(p);if(!m)return;const h=m[1]||"",g=r(h);if(!a.find(x=>!(x in g)))return{type:t,raw:m[0],attributes:g}}},renderMarkdown:u=>{const d=c(u.attrs||{}),f=o(d),p=f?` {${f}}`:"";return`:::${l}${p} :::`}}}function Uze(e){const{nodeName:t,name:n,getContent:r,parseAttributes:o=SA,serializeAttributes:s=$A,defaultAttributes:a={},content:i="block",allowedAttributes:l}=e,c=n||t,u=d=>{if(!l)return d;const f={};return l.forEach(p=>{p in d&&(f[p]=d[p])}),f};return{parseMarkdown:(d,f)=>{let p;if(r){const h=r(d);p=typeof h=="string"?[{type:"text",text:h}]:h}else i==="block"?p=f.parseChildren(d.tokens||[]):p=f.parseInline(d.tokens||[]);const m={...a,...d.attributes};return f.createNode(t,m,p)},markdownTokenizer:{name:t,level:"block",start(d){var f;const p=new RegExp(`^:::${c}`,"m"),m=(f=d.match(p))==null?void 0:f.index;return m!==void 0?m:-1},tokenize(d,f,p){var m;const h=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),g=d.match(h);if(!g)return;const[v,x=""]=g,$=o(x);let C=1;const M=v.length;let I="";const E=/^:::([\w-]*)(\s.*)?/gm,P=d.slice(M);for(E.lastIndex=0;;){const O=E.exec(P);if(O===null)break;const D=O.index,L=O[1];if(!((m=O[2])!=null&&m.endsWith(":::"))){if(L)C+=1;else if(C-=1,C===0){const V=P.slice(0,D);I=V.trim();const F=d.slice(0,M+D+O[0].length);let z=[];if(I)if(i==="block")for(z=p.blockTokens(V),z.forEach(N=>{N.text&&(!N.tokens||N.tokens.length===0)&&(N.tokens=p.inlineTokens(N.text))});z.length>0;){const N=z[z.length-1];if(N.type==="paragraph"&&(!N.text||N.text.trim()===""))z.pop();else break}else z=p.inlineTokens(I);return{type:t,raw:F,attributes:$,content:I,tokens:z}}}}}},renderMarkdown:(d,f)=>{const p=u(d.attrs||{}),m=s(p),h=m?` {${m}}`:"",g=f.renderChildren(d.content||[],`

`);return`:::${c}${h}

${g}

:::`}}}function Kze(e){if(!e.trim())return{};const t={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(e);for(;r!==null;){const[,o,s,a]=r;t[o]=s||a,r=n.exec(e)}return t}function Hze(e){return Object.entries(e).filter(([,t])=>t!=null).map(([t,n])=>`${t}="${n}"`).join(" ")}function Wze(e){const{nodeName:t,name:n,getContent:r,parseAttributes:o=Kze,serializeAttributes:s=Hze,defaultAttributes:a={},selfClosing:i=!1,allowedAttributes:l}=e,c=n||t,u=f=>{if(!l)return f;const p={};return l.forEach(m=>{const h=typeof m=="string"?m:m.name,g=typeof m=="string"?void 0:m.skipIfDefault;if(h in f){const v=f[h];if(g!==void 0&&v===g)return;p[h]=v}}),p},d=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(f,p)=>{const m={...a,...f.attributes};if(i)return p.createNode(t,m);const h=r?r(f):f.content||"";return h?p.createNode(t,m,[p.createTextNode(h)]):p.createNode(t,m,[])},markdownTokenizer:{name:t,level:"inline",start(f){const p=i?new RegExp(`\\[${d}\\s*[^\\]]*\\]`):new RegExp(`\\[${d}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${d}\\]`),m=f.match(p),h=m?.index;return h!==void 0?h:-1},tokenize(f,p,m){const h=i?new RegExp(`^\\[${d}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${d}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${d}\\]`),g=f.match(h);if(!g)return;let v="",x="";if(i){const[,C]=g;x=C}else{const[,C,M]=g;x=C,v=M||""}const $=o(x.trim());return{type:t,raw:g[0],content:v.trim(),attributes:$}}},renderMarkdown:f=>{let p="";r?p=r(f):f.content&&f.content.length>0&&(p=f.content.filter(v=>v.type==="text").map(v=>v.text).join(""));const m=u(f.attrs||{}),h=s(m),g=h?` ${h}`:"";return i?`[${c}${g}]`:`[${c}${g}]${p}[/${c}]`}}}function Gze(e,t,n){var r,o,s,a;const i=e.split(`
`),l=[];let c="",u=0;const d=t.baseIndentSize||2;for(;u<i.length;){const f=i[u],p=f.match(t.itemPattern);if(!p){if(l.length>0)break;if(f.trim()===""){u+=1,c=`${c}${f}
`;continue}else return}const m=t.extractItemData(p),{indentLevel:h,mainContent:g}=m;c=`${c}${f}
`;const v=[g];for(u+=1;u<i.length;){const M=i[u];if(M.trim()===""){const E=i.slice(u+1).findIndex(D=>D.trim()!=="");if(E===-1)break;if((((o=(r=i[u+1+E].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:o.length)||0)>h){v.push(M),c=`${c}${M}
`,u+=1;continue}else break}if((((a=(s=M.match(/^(\s*)/))==null?void 0:s[1])==null?void 0:a.length)||0)>h)v.push(M),c=`${c}${M}
`,u+=1;else break}let x;const $=v.slice(1);if($.length>0){const M=$.map(I=>I.slice(h+d)).join(`
`);M.trim()&&(t.customNestedParser?x=t.customNestedParser(M):x=n.blockTokens(M))}const C=t.createToken(m,x);l.push(C)}if(l.length!==0)return{items:l,raw:c}}function Jze(e,t,n,r){if(!e||!Array.isArray(e.content))return"";const o=typeof n=="function"?n(r):n,[s,...a]=e.content,i=t.renderChildren([s]),l=[`${o}${i}`];return a&&a.length>0&&a.forEach(c=>{const u=t.renderChildren([c]);if(u){const d=u.split(`
`).map(f=>f?t.indent(f):"").join(`
`);l.push(d)}}),l.join(`
`)}var Yze=class F5 extends B5{constructor(){super(...arguments),this.type="node"}static create(t={}){const n=typeof t=="function"?t():t;return new F5(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},T_=4,Qze=/^```([a-z]+)?[\s\n]$/,Xze=/^~~~([a-z]+)?[\s\n]$/,Zze=Yze.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:T_,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:e=>{var t;const{languageClassPrefix:n}=this.options;if(!n)return null;const s=[...((t=e.firstElementChild)==null?void 0:t.classList)||[]].filter(a=>a.startsWith(n)).map(a=>a.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:e,HTMLAttributes:t}){return["pre",tze(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(e,t)=>{var n;return((n=e.raw)==null?void 0:n.startsWith("```"))===!1&&e.codeBlockStyle!=="indented"?[]:t.createNode("codeBlock",{language:e.lang||null},e.text?[t.createTextNode(e.text)]:[])},renderMarkdown:(e,t)=>{var n;let r="";const o=((n=e.attrs)==null?void 0:n.language)||"";return e.content?r=[`\`\`\`${o}`,t.renderChildren(e.content),"```"].join(`
`):r=`\`\`\`${o}

\`\`\``,r},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,n=t.pos===1;return!e||t.parent.type.name!==this.name?!1:n||!t.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const n=(t=this.options.tabSize)!=null?t:T_,{state:r}=e,{selection:o}=r,{$from:s,empty:a}=o;if(s.parent.type!==this.type)return!1;const i=" ".repeat(n);return a?e.commands.insertContent(i):e.commands.command(({tr:l})=>{const{from:c,to:u}=o,p=r.doc.textBetween(c,u,`
`,`
`).split(`
`).map(m=>i+m).join(`
`);return l.replaceWith(c,u,r.schema.text(p)),!0})},"Shift-Tab":({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const n=(t=this.options.tabSize)!=null?t:T_,{state:r}=e,{selection:o}=r,{$from:s,empty:a}=o;return s.parent.type!==this.type?!1:a?e.commands.command(({tr:i})=>{var l;const{pos:c}=s,u=s.start(),d=s.end(),p=r.doc.textBetween(u,d,`
`,`
`).split(`
`);let m=0,h=0;const g=c-u;for(let I=0;I<p.length;I+=1){if(h+p[I].length>=g){m=I;break}h+=p[I].length+1}const x=((l=p[m].match(/^ */))==null?void 0:l[0])||"",$=Math.min(x.length,n);if($===0)return!0;let C=u;for(let I=0;I<m;I+=1)C+=p[I].length+1;return i.delete(C,C+$),c-C<=$&&i.setSelection(ie.create(i.doc,C)),!0}):e.commands.command(({tr:i})=>{const{from:l,to:c}=o,f=r.doc.textBetween(l,c,`
`,`
`).split(`
`).map(p=>{var m;const h=((m=p.match(/^ */))==null?void 0:m[0])||"",g=Math.min(h.length,n);return p.slice(g)}).join(`
`);return i.replaceWith(l,c,r.schema.text(f)),!0})},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=e,{selection:n}=t,{$from:r,empty:o}=n;if(!o||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,a=r.parent.textContent.endsWith(`

`);return!s||!a?!1:e.chain().command(({tr:i})=>(i.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=e,{selection:n,doc:r}=t,{$from:o,empty:s}=n;if(!s||o.parent.type!==this.type||!(o.parentOffset===o.parent.nodeSize-2))return!1;const i=o.after();return i===void 0?!1:r.nodeAt(i)?e.commands.command(({tr:c})=>(c.setSelection(Pe.near(r.resolve(i))),!0)):e.commands.exitCode()}}},addInputRules(){return[YN({find:Qze,type:this.type,getAttributes:e=>({language:e[1]})}),YN({find:Xze,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new Se({key:new Ce("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData||this.editor.isActive(this.type.name))return!1;const n=t.clipboardData.getData("text/plain"),r=t.clipboardData.getData("vscode-editor-data"),o=r?JSON.parse(r):void 0,s=o?.mode;if(!n||!s)return!1;const{tr:a,schema:i}=e.state,l=i.text(n.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:s},l)),a.selection.$from.parent.type!==this.type&&a.setSelection(ie.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),e.dispatch(a),!0}}})]}}),e3e=Object.defineProperty,CA=(e,t)=>{for(var n in t)e3e(e,n,{get:t[n],enumerable:!0})};function q5(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:o}=n,{storedMarks:s}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return s},get selection(){return r},get doc(){return o},get tr(){return r=n.selection,o=n.doc,s=n.storedMarks,n}}}var t3e=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:n,state:r}=this,{view:o}=n,{tr:s}=r,a=this.buildProps(s);return Object.fromEntries(Object.entries(t).map(([i,l])=>[i,(...u)=>{const d=l(...u)(a);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(s),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,n=!0){const{rawCommands:r,editor:o,state:s}=this,{view:a}=o,i=[],l=!!t,c=t||s.tr,u=()=>(!l&&n&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(c),i.every(f=>f===!0)),d={...Object.fromEntries(Object.entries(r).map(([f,p])=>[f,(...h)=>{const g=this.buildProps(c,n),v=p(...h)(g);return i.push(v),d}])),run:u};return d}createCan(t){const{rawCommands:n,state:r}=this,o=!1,s=t||r.tr,a=this.buildProps(s,o);return{...Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...u)=>c(...u)({...a,dispatch:void 0})])),chain:()=>this.createChain(s,o)}}buildProps(t,n=!0){const{rawCommands:r,editor:o,state:s}=this,{view:a}=o,i={tr:t,editor:o,view:a,state:q5({state:s,transaction:t}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(t,n),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...u)=>c(...u)(i)]))}};return i}},z5={};CA(z5,{blur:()=>n3e,clearContent:()=>r3e,clearNodes:()=>o3e,command:()=>s3e,createParagraphNear:()=>a3e,cut:()=>i3e,deleteCurrentNode:()=>l3e,deleteNode:()=>u3e,deleteRange:()=>c3e,deleteSelection:()=>d3e,enter:()=>f3e,exitCode:()=>p3e,extendMarkRange:()=>h3e,first:()=>g3e,focus:()=>b3e,forEach:()=>x3e,insertContent:()=>w3e,insertContentAt:()=>S3e,joinBackward:()=>M3e,joinDown:()=>C3e,joinForward:()=>A3e,joinItemBackward:()=>T3e,joinItemForward:()=>E3e,joinTextblockBackward:()=>I3e,joinTextblockForward:()=>P3e,joinUp:()=>$3e,keyboardShortcut:()=>R3e,lift:()=>B3e,liftEmptyBlock:()=>N3e,liftListItem:()=>D3e,newlineInCode:()=>F3e,resetAttributes:()=>q3e,scrollIntoView:()=>z3e,selectAll:()=>L3e,selectNodeBackward:()=>j3e,selectNodeForward:()=>V3e,selectParentNode:()=>U3e,selectTextblockEnd:()=>K3e,selectTextblockStart:()=>H3e,setContent:()=>G3e,setMark:()=>iLe,setMeta:()=>lLe,setNode:()=>uLe,setNodeSelection:()=>cLe,setTextDirection:()=>dLe,setTextSelection:()=>fLe,sinkListItem:()=>pLe,splitBlock:()=>mLe,splitListItem:()=>hLe,toggleList:()=>gLe,toggleMark:()=>vLe,toggleNode:()=>yLe,toggleWrap:()=>bLe,undoInputRule:()=>xLe,unsetAllMarks:()=>wLe,unsetMark:()=>kLe,unsetTextDirection:()=>_Le,updateAttributes:()=>SLe,wrapIn:()=>$Le,wrapInList:()=>CLe});var n3e=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),r3e=(e=!0)=>({commands:t})=>t.setContent("",{emitUpdate:e}),o3e=()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:o}=r;return n&&o.forEach(({$from:s,$to:a})=>{e.doc.nodesBetween(s.pos,a.pos,(i,l)=>{if(i.type.isText)return;const{doc:c,mapping:u}=t,d=c.resolve(u.map(l)),f=c.resolve(u.map(l+i.nodeSize)),p=d.blockRange(f);if(!p)return;const m=lr(p);if(i.type.isTextblock){const{defaultType:h}=d.parent.contentMatchAt(d.index());t.setNodeMarkup(p.start,h)}(m||m===0)&&t.lift(p,m)})}),!0},s3e=e=>t=>e(t),a3e=()=>({state:e,dispatch:t})=>Hr(e,t),i3e=(e,t)=>({editor:n,tr:r})=>{const{state:o}=n,s=o.doc.slice(e.from,e.to);r.deleteRange(e.from,e.to);const a=r.mapping.map(t);return r.insert(a,s.content),r.setSelection(new ie(r.doc.resolve(Math.max(a-1,0)))),!0},l3e=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;const o=e.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===r.type){if(t){const i=o.before(s),l=o.after(s);e.delete(i,l).scrollIntoView()}return!0}return!1};function No(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}var u3e=e=>({tr:t,state:n,dispatch:r})=>{const o=No(e,n.schema),s=t.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===o){if(r){const l=s.before(a),c=s.after(a);t.delete(l,c).scrollIntoView()}return!0}return!1},c3e=e=>({tr:t,dispatch:n})=>{const{from:r,to:o}=e;return n&&t.delete(r,o),!0},d3e=()=>({state:e,dispatch:t})=>Cr(e,t),f3e=()=>({commands:e})=>e.keyboardShortcut("Enter"),p3e=()=>({state:e,dispatch:t})=>co(e,t);function m3e(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function Qb(e,t,n={strict:!0}){const r=Object.keys(t);return r.length?r.every(o=>n.strict?t[o]===e[o]:m3e(t[o])?t[o].test(e[o]):t[o]===e[o]):!0}function L5(e,t,n={}){return e.find(r=>r.type===t&&Qb(Object.fromEntries(Object.keys(n).map(o=>[o,r.attrs[o]])),n))}function QN(e,t,n={}){return!!L5(e,t,n)}function j5(e,t,n){var r;if(!e||!t)return;let o=e.parent.childAfter(e.parentOffset);if((!o.node||!o.node.marks.some(u=>u.type===t))&&(o=e.parent.childBefore(e.parentOffset)),!o.node||!o.node.marks.some(u=>u.type===t)||(n=n||((r=o.node.marks[0])==null?void 0:r.attrs),!L5([...o.node.marks],t,n)))return;let a=o.index,i=e.start()+o.offset,l=a+1,c=i+o.node.nodeSize;for(;a>0&&QN([...e.parent.child(a-1).marks],t,n);)a-=1,i-=e.parent.child(a).nodeSize;for(;l<e.parent.childCount&&QN([...e.parent.child(l).marks],t,n);)c+=e.parent.child(l).nodeSize,l+=1;return{from:i,to:c}}function du(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}var h3e=(e,t={})=>({tr:n,state:r,dispatch:o})=>{const s=du(e,r.schema),{doc:a,selection:i}=n,{$from:l,from:c,to:u}=i;if(o){const d=j5(l,s,t);if(d&&d.from<=c&&d.to>=u){const f=ie.create(a,d.from,d.to);n.setSelection(f)}}return!0},g3e=e=>t=>{const n=typeof e=="function"?e(t):e;for(let r=0;r<n.length;r+=1)if(n[r](t))return!0;return!1};function V5(e){return e instanceof ie}function Yu(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function v3e(e,t=null){if(!t)return null;const n=Pe.atStart(e),r=Pe.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return r;const o=n.from,s=r.to;return t==="all"?ie.create(e,Yu(0,o,s),Yu(e.content.size,o,s)):ie.create(e,Yu(t,o,s),Yu(t,o,s))}function XN(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Xb(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function y3e(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}var b3e=(e=null,t={})=>({editor:n,view:r,tr:o,dispatch:s})=>{t={scrollIntoView:!0,...t};const a=()=>{(Xb()||XN())&&r.dom.focus(),y3e()&&!Xb()&&!XN()&&r.dom.focus({preventScroll:!0}),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),t?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&e===null||e===!1)return!0;if(s&&e===null&&!V5(n.state.selection))return a(),!0;const i=v3e(o.doc,e)||n.state.selection,l=n.state.selection.eq(i);return s&&(l||o.setSelection(i),l&&o.storedMarks&&o.setStoredMarks(o.storedMarks),a()),!0},x3e=(e,t)=>n=>e.every((r,o)=>t(r,{...n,index:o})),w3e=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),U5=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const r=t[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):r.nodeType===1&&U5(r)}return e};function Pv(e){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t=`<body>${e}</body>`,n=new window.DOMParser().parseFromString(t,"text/html").body;return U5(n)}function Tm(e,t,n){if(e instanceof Hn||e instanceof de)return e;n={slice:!0,parseOptions:{},...n};const r=typeof e=="object"&&e!==null,o=typeof e=="string";if(r)try{if(Array.isArray(e)&&e.length>0)return de.fromArray(e.map(i=>t.nodeFromJSON(i)));const a=t.nodeFromJSON(e);return n.errorOnInvalidContent&&a.check(),a}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",s),Tm("",t,n)}if(o){if(n.errorOnInvalidContent){let a=!1,i="";const l=new qr({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(a=!0,i=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?gt.fromSchema(l).parseSlice(Pv(e),n.parseOptions):gt.fromSchema(l).parse(Pv(e),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${i}`)})}const s=gt.fromSchema(t);return n.slice?s.parseSlice(Pv(e),n.parseOptions).content:s.parse(Pv(e),n.parseOptions)}return Tm("",t,n)}function k3e(e,t,n){const r=e.steps.length-1;if(r<t)return;const o=e.steps[r];if(!(o instanceof ln||o instanceof un))return;const s=e.mapping.maps[r];let a=0;s.forEach((i,l,c,u)=>{a===0&&(a=u)}),e.setSelection(Pe.near(e.doc.resolve(a),n))}var _3e=e=>!("type"in e),S3e=(e,t,n)=>({tr:r,dispatch:o,editor:s})=>{var a;if(o){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let i;const l=g=>{s.emit("contentError",{editor:s,error:g,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{Tm(t,s.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(g){l(g)}try{i=Tm(t,s.schema,{parseOptions:c,errorOnInvalidContent:(a=n.errorOnInvalidContent)!=null?a:s.options.enableContentCheck})}catch(g){return l(g),!1}let{from:u,to:d}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},f=!0,p=!0;if((_3e(i)?i:[i]).forEach(g=>{g.check(),f=f?g.isText&&g.marks.length===0:!1,p=p?g.isBlock:!1}),u===d&&p){const{parent:g}=r.doc.resolve(u);g.isTextblock&&!g.type.spec.code&&!g.childCount&&(u-=1,d+=1)}let h;if(f){if(Array.isArray(t))h=t.map(g=>g.text||"").join("");else if(t instanceof de){let g="";t.forEach(v=>{v.text&&(g+=v.text)}),h=g}else typeof t=="object"&&t&&t.text?h=t.text:h=t;r.insertText(h,u,d)}else{h=i;const g=r.doc.resolve(u),v=g.node(),x=g.parentOffset===0,$=v.isText||v.isTextblock,C=v.content.size>0;x&&$&&C&&(u=Math.max(0,u-1)),r.replaceWith(u,d,h)}n.updateSelection&&k3e(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:u,text:h}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:u,text:h})}return!0},$3e=()=>({state:e,dispatch:t})=>io(e,t),C3e=()=>({state:e,dispatch:t})=>lo(e,t),M3e=()=>({state:e,dispatch:t})=>Lr(e,t),A3e=()=>({state:e,dispatch:t})=>Vr(e,t),T3e=()=>({state:e,dispatch:t,tr:n})=>{try{const r=on(e.doc,e.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},E3e=()=>({state:e,dispatch:t,tr:n})=>{try{const r=on(e.doc,e.selection.$from.pos,1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},I3e=()=>({state:e,dispatch:t})=>so(e,t),P3e=()=>({state:e,dispatch:t})=>ao(e,t);function K5(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function O3e(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let r,o,s,a;for(let i=0;i<t.length-1;i+=1){const l=t[i];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))o=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))Xb()||K5()?a=!0:o=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),o&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}var R3e=e=>({editor:t,view:n,tr:r,dispatch:o})=>{const s=O3e(e).split(/-(?!$)/),a=s.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),i=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,i))});return l?.steps.forEach(c=>{const u=c.map(r.mapping);u&&o&&r.maybeStep(u)}),!0};function MA(e,t,n={}){const{from:r,to:o,empty:s}=e.selection,a=t?No(t,e.schema):null,i=[];e.doc.nodesBetween(r,o,(d,f)=>{if(d.isText)return;const p=Math.max(r,f),m=Math.min(o,f+d.nodeSize);i.push({node:d,from:p,to:m})});const l=o-r,c=i.filter(d=>a?a.name===d.node.type.name:!0).filter(d=>Qb(d.node.attrs,n,{strict:!1}));return s?!!c.length:c.reduce((d,f)=>d+f.to-f.from,0)>=l}var B3e=(e,t={})=>({state:n,dispatch:r})=>{const o=No(e,n.schema);return MA(n,o,t)?uo(n,r):!1},N3e=()=>({state:e,dispatch:t})=>Wr(e,t),D3e=e=>({state:t,dispatch:n})=>{const r=No(e,t.schema);return vo(r)(t,n)},F3e=()=>({state:e,dispatch:t})=>Kr(e,t);function H5(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function ZN(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((r,o)=>(n.includes(o)||(r[o]=e[o]),r),{})}var q3e=(e,t)=>({tr:n,state:r,dispatch:o})=>{let s=null,a=null;const i=H5(typeof e=="string"?e:e.name,r.schema);if(!i)return!1;i==="node"&&(s=No(e,r.schema)),i==="mark"&&(a=du(e,r.schema));let l=!1;return n.selection.ranges.forEach(c=>{r.doc.nodesBetween(c.$from.pos,c.$to.pos,(u,d)=>{s&&s===u.type&&(l=!0,o&&n.setNodeMarkup(d,void 0,ZN(u.attrs,t))),a&&u.marks.length&&u.marks.forEach(f=>{a===f.type&&(l=!0,o&&n.addMark(d,d+u.nodeSize,a.create(ZN(f.attrs,t))))})})}),l},z3e=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),L3e=()=>({tr:e,dispatch:t})=>{if(t){const n=new Sn(e.doc);e.setSelection(n)}return!0},j3e=()=>({state:e,dispatch:t})=>jr(e,t),V3e=()=>({state:e,dispatch:t})=>Ur(e,t),U3e=()=>({state:e,dispatch:t})=>fo(e,t),K3e=()=>({state:e,dispatch:t})=>mo(e,t),H3e=()=>({state:e,dispatch:t})=>po(e,t);function W3e(e,t,n={},r={}){return Tm(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var G3e=(e,{errorOnInvalidContent:t,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:o,tr:s,dispatch:a,commands:i})=>{const{doc:l}=s;if(r.preserveWhitespace!=="full"){const c=W3e(e,o.schema,r,{errorOnInvalidContent:t??o.options.enableContentCheck});return a&&s.replaceWith(0,l.content.size,c).setMeta("preventUpdate",!n),!0}return a&&s.setMeta("preventUpdate",!n),i.insertContentAt({from:0,to:l.content.size},e,{parseOptions:r,errorOnInvalidContent:t??o.options.enableContentCheck})};function J3e(e,t){const n=du(t,e.schema),{from:r,to:o,empty:s}=e.selection,a=[];s?(e.storedMarks&&a.push(...e.storedMarks),a.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,o,l=>{a.push(...l.marks)});const i=a.find(l=>l.type.name===n.name);return i?{...i.attrs}:{}}function Y3e(e,t){const n=new zr(e);return t.forEach(r=>{r.steps.forEach(o=>{n.step(o)})}),n}function Q3e(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function X3e(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function AA(e){return t=>X3e(t.$from,e)}function Em(e,t,n){return e.config[t]===void 0&&e.parent?Em(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind({...n,parent:e.parent?Em(e.parent,t,n):null}):e.config[t]}function Z3e(e){return typeof e=="function"}function q$(e,t=void 0,...n){return Z3e(e)?t?e.bind(t)(...n):e(...n):e}function W5(e){const t=e.filter(o=>o.type==="extension"),n=e.filter(o=>o.type==="node"),r=e.filter(o=>o.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:r}}function eLe(e,t,n){const{from:r,to:o}=t,{blockSeparator:s=`

`,textSerializers:a={}}=n||{};let i="";return e.nodesBetween(r,o,(l,c,u,d)=>{var f;l.isBlock&&c>r&&(i+=s);const p=a?.[l.type.name];if(p)return u&&(i+=p({node:l,pos:c,parent:u,index:d,range:t})),!1;l.isText&&(i+=(f=l?.text)==null?void 0:f.slice(Math.max(r,c)-c,o-c))}),i}function tLe(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}function nLe(e,t=JSON.stringify){const n={};return e.filter(r=>{const o=t(r);return Object.prototype.hasOwnProperty.call(n,o)?!1:n[o]=!0})}function rLe(e){const t=nLe(e);return t.length===1?t:t.filter((n,r)=>!t.filter((s,a)=>a!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function oLe(e){const{mapping:t,steps:n}=e,r=[];return t.maps.forEach((o,s)=>{const a=[];if(o.ranges.length)o.forEach((i,l)=>{a.push({from:i,to:l})});else{const{from:i,to:l}=n[s];if(i===void 0||l===void 0)return;a.push({from:i,to:l})}a.forEach(({from:i,to:l})=>{const c=t.slice(s).map(i,-1),u=t.slice(s).map(l),d=t.invert().map(c,-1),f=t.invert().map(u);r.push({oldRange:{from:d,to:f},newRange:{from:c,to:u}})})}),rLe(r)}function Ey(e,t,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const o=e.find(s=>s.type===t&&s.name===r);return o?o.attribute.keepOnSplit:!1}))}function sLe(e,t,n={}){const{empty:r,ranges:o}=e.selection,s=t?du(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(d=>s?s.name===d.type.name:!0).find(d=>Qb(d.attrs,n,{strict:!1}));let a=0;const i=[];if(o.forEach(({$from:d,$to:f})=>{const p=d.pos,m=f.pos;e.doc.nodesBetween(p,m,(h,g)=>{if(!h.isText&&!h.marks.length)return;const v=Math.max(p,g),x=Math.min(m,g+h.nodeSize),$=x-v;a+=$,i.push(...h.marks.map(C=>({mark:C,from:v,to:x})))})}),a===0)return!1;const l=i.filter(d=>s?s.name===d.mark.type.name:!0).filter(d=>Qb(d.mark.attrs,n,{strict:!1})).reduce((d,f)=>d+f.to-f.from,0),c=i.filter(d=>s?d.mark.type!==s&&d.mark.type.excludes(s):!0).reduce((d,f)=>d+f.to-f.from,0);return(l>0?l+c:l)>=a}function eD(e,t){const{nodeExtensions:n}=W5(t),r=n.find(a=>a.name===e);if(!r)return!1;const o={name:r.name,options:r.options,storage:r.storage},s=q$(Em(r,"group",o));return typeof s!="string"?!1:s.split(" ").includes("list")}function G5(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((r=e.text)!=null?r:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let o=!0;return e.content.forEach(s=>{o!==!1&&(G5(s,{ignoreWhitespace:n,checkChildren:t})||(o=!1))}),o}return!1}function aLe(e,t,n){var r;const{selection:o}=t;let s=null;if(V5(o)&&(s=o.$cursor),s){const i=(r=e.storedMarks)!=null?r:s.marks();return s.parent.type.allowsMarkType(n)&&(!!n.isInSet(i)||!i.some(c=>c.type.excludes(n)))}const{ranges:a}=o;return a.some(({$from:i,$to:l})=>{let c=i.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(i.pos,l.pos,(u,d,f)=>{if(c)return!1;if(u.isInline){const p=!f||f.type.allowsMarkType(n),m=!!n.isInSet(u.marks)||!u.marks.some(h=>h.type.excludes(n));c=p&&m}return!c}),c})}var iLe=(e,t={})=>({tr:n,state:r,dispatch:o})=>{const{selection:s}=n,{empty:a,ranges:i}=s,l=du(e,r.schema);if(o)if(a){const c=J3e(r,l);n.addStoredMark(l.create({...c,...t}))}else i.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;r.doc.nodesBetween(u,d,(f,p)=>{const m=Math.max(p,u),h=Math.min(p+f.nodeSize,d);f.marks.find(v=>v.type===l)?f.marks.forEach(v=>{l===v.type&&n.addMark(m,h,l.create({...v.attrs,...t}))}):n.addMark(m,h,l.create(t))})});return aLe(r,n,l)},lLe=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),uLe=(e,t={})=>({state:n,dispatch:r,chain:o})=>{const s=No(e,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),s.isTextblock?o().command(({commands:i})=>cn(s,{...a,...t})(n)?!0:i.clearNodes()).command(({state:i})=>cn(s,{...a,...t})(i,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},cLe=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,o=Yu(e,0,r.content.size),s=Ge.create(r,o);t.setSelection(s)}return!0},dLe=(e,t)=>({tr:n,state:r,dispatch:o})=>{const{selection:s}=r;let a,i;return typeof t=="number"?(a=t,i=t):t&&"from"in t&&"to"in t?(a=t.from,i=t.to):(a=s.from,i=s.to),o&&n.doc.nodesBetween(a,i,(l,c)=>{l.isText||n.setNodeMarkup(c,void 0,{...l.attrs,dir:e})}),!0},fLe=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,{from:o,to:s}=typeof e=="number"?{from:e,to:e}:e,a=ie.atStart(r).from,i=ie.atEnd(r).to,l=Yu(o,a,i),c=Yu(s,a,i),u=ie.create(r,l,c);t.setSelection(u)}return!0},pLe=e=>({state:t,dispatch:n})=>{const r=No(e,t.schema);return yo(r)(t,n)};function tD(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(o=>t?.includes(o.type.name));e.tr.ensureMarks(r)}}var mLe=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:o})=>{const{selection:s,doc:a}=t,{$from:i,$to:l}=s,c=o.extensionManager.attributes,u=Ey(c,i.node().type.name,i.node().attrs);if(s instanceof Ge&&s.node.isBlock)return!i.parentOffset||!ot(a,i.pos)?!1:(r&&(e&&tD(n,o.extensionManager.splittableMarks),t.split(i.pos).scrollIntoView()),!0);if(!i.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,f=i.depth===0?void 0:Q3e(i.node(-1).contentMatchAt(i.indexAfter(-1)));let p=d&&f?[{type:f,attrs:u}]:void 0,m=ot(t.doc,t.mapping.map(i.pos),1,p);if(!p&&!m&&ot(t.doc,t.mapping.map(i.pos),1,f?[{type:f}]:void 0)&&(m=!0,p=f?[{type:f,attrs:u}]:void 0),r){if(m&&(s instanceof ie&&t.deleteSelection(),t.split(t.mapping.map(i.pos),1,p),f&&!d&&!i.parentOffset&&i.parent.type!==f)){const h=t.mapping.map(i.before()),g=t.doc.resolve(h);i.node(-1).canReplaceWith(g.index(),g.index()+1,f)&&t.setNodeMarkup(t.mapping.map(i.before()),f)}e&&tD(n,o.extensionManager.splittableMarks),t.scrollIntoView()}return m},hLe=(e,t={})=>({tr:n,state:r,dispatch:o,editor:s})=>{var a;const i=No(e,r.schema),{$from:l,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const d=l.node(-1);if(d.type!==i)return!1;const f=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==i||l.index(-2)!==l.node(-2).childCount-1)return!1;if(o){let v=de.empty;const x=l.index(-1)?1:l.index(-2)?2:3;for(let P=l.depth-x;P>=l.depth-3;P-=1)v=de.from(l.node(P).copy(v));const $=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,C={...Ey(f,l.node().type.name,l.node().attrs),...t},M=((a=i.contentMatch.defaultType)==null?void 0:a.createAndFill(C))||void 0;v=v.append(de.from(i.createAndFill(null,M)||void 0));const I=l.before(l.depth-(x-1));n.replace(I,l.after(-$),new Je(v,4-x,0));let E=-1;n.doc.nodesBetween(I,n.doc.content.size,(P,O)=>{if(E>-1)return!1;P.isTextblock&&P.content.size===0&&(E=O+1)}),E>-1&&n.setSelection(ie.near(n.doc.resolve(E))),n.scrollIntoView()}return!0}const p=c.pos===l.end()?d.contentMatchAt(0).defaultType:null,m={...Ey(f,d.type.name,d.attrs),...t},h={...Ey(f,l.node().type.name,l.node().attrs),...t};n.delete(l.pos,c.pos);const g=p?[{type:i,attrs:m},{type:p,attrs:h}]:[{type:i,attrs:m}];if(!ot(n.doc,l.pos,2))return!1;if(o){const{selection:v,storedMarks:x}=r,{splittableMarks:$}=s.extensionManager,C=x||v.$to.parentOffset&&v.$from.marks();if(n.split(l.pos,2,g).scrollIntoView(),!C||!o)return!0;const M=C.filter(I=>$.includes(I.type.name));n.ensureMarks(M)}return!0},E_=(e,t)=>{const n=AA(a=>a.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const o=e.doc.nodeAt(r);return n.node.type===o?.type&&Ht(e.doc,n.pos)&&e.join(n.pos),!0},I_=(e,t)=>{const n=AA(a=>a.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const o=e.doc.nodeAt(r);return n.node.type===o?.type&&Ht(e.doc,r)&&e.join(r),!0},gLe=(e,t,n,r={})=>({editor:o,tr:s,state:a,dispatch:i,chain:l,commands:c,can:u})=>{const{extensions:d,splittableMarks:f}=o.extensionManager,p=No(e,a.schema),m=No(t,a.schema),{selection:h,storedMarks:g}=a,{$from:v,$to:x}=h,$=v.blockRange(x),C=g||h.$to.parentOffset&&h.$from.marks();if(!$)return!1;const M=AA(I=>eD(I.type.name,d))(h);if($.depth>=1&&M&&$.depth-M.depth<=1){if(M.node.type===p)return c.liftListItem(m);if(eD(M.node.type.name,d)&&p.validContent(M.node.content)&&i)return l().command(()=>(s.setNodeMarkup(M.pos,p),!0)).command(()=>E_(s,p)).command(()=>I_(s,p)).run()}return!n||!C||!i?l().command(()=>u().wrapInList(p,r)?!0:c.clearNodes()).wrapInList(p,r).command(()=>E_(s,p)).command(()=>I_(s,p)).run():l().command(()=>{const I=u().wrapInList(p,r),E=C.filter(P=>f.includes(P.type.name));return s.ensureMarks(E),I?!0:c.clearNodes()}).wrapInList(p,r).command(()=>E_(s,p)).command(()=>I_(s,p)).run()},vLe=(e,t={},n={})=>({state:r,commands:o})=>{const{extendEmptyMarkRange:s=!1}=n,a=du(e,r.schema);return sLe(r,a,t)?o.unsetMark(a,{extendEmptyMarkRange:s}):o.setMark(a,t)},yLe=(e,t,n={})=>({state:r,commands:o})=>{const s=No(e,r.schema),a=No(t,r.schema),i=MA(r,s,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),i?o.setNode(a,l):o.setNode(s,{...l,...n})},bLe=(e,t={})=>({state:n,commands:r})=>{const o=No(e,n.schema);return MA(n,o,t)?r.lift(o):r.wrapIn(o,t)},xLe=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const o=n[r];let s;if(o.spec.isInputRules&&(s=o.getState(e))){if(t){const a=e.tr,i=s.transform;for(let l=i.steps.length-1;l>=0;l-=1)a.step(i.steps[l].invert(i.docs[l]));if(s.text){const l=a.doc.resolve(s.from).marks();a.replaceWith(s.from,s.to,e.schema.text(s.text,l))}else a.delete(s.from,s.to)}return!0}}return!1},wLe=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:o}=n;return r||t&&o.forEach(s=>{e.removeMark(s.$from.pos,s.$to.pos)}),!0},kLe=(e,t={})=>({tr:n,state:r,dispatch:o})=>{var s;const{extendEmptyMarkRange:a=!1}=t,{selection:i}=n,l=du(e,r.schema),{$from:c,empty:u,ranges:d}=i;if(!o)return!0;if(u&&a){let{from:f,to:p}=i;const m=(s=c.marks().find(g=>g.type===l))==null?void 0:s.attrs,h=j5(c,l,m);h&&(f=h.from,p=h.to),n.removeMark(f,p,l)}else d.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,l)});return n.removeStoredMark(l),!0},_Le=e=>({tr:t,state:n,dispatch:r})=>{const{selection:o}=n;let s,a;return typeof e=="number"?(s=e,a=e):e&&"from"in e&&"to"in e?(s=e.from,a=e.to):(s=o.from,a=o.to),r&&t.doc.nodesBetween(s,a,(i,l)=>{if(i.isText)return;const c={...i.attrs};delete c.dir,t.setNodeMarkup(l,void 0,c)}),!0},SLe=(e,t={})=>({tr:n,state:r,dispatch:o})=>{let s=null,a=null;const i=H5(typeof e=="string"?e:e.name,r.schema);if(!i)return!1;i==="node"&&(s=No(e,r.schema)),i==="mark"&&(a=du(e,r.schema));let l=!1;return n.selection.ranges.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;let f,p,m,h;n.selection.empty?r.doc.nodesBetween(u,d,(g,v)=>{s&&s===g.type&&(l=!0,m=Math.max(v,u),h=Math.min(v+g.nodeSize,d),f=v,p=g)}):r.doc.nodesBetween(u,d,(g,v)=>{v<u&&s&&s===g.type&&(l=!0,m=Math.max(v,u),h=Math.min(v+g.nodeSize,d),f=v,p=g),v>=u&&v<=d&&(s&&s===g.type&&(l=!0,o&&n.setNodeMarkup(v,void 0,{...g.attrs,...t})),a&&g.marks.length&&g.marks.forEach(x=>{if(a===x.type&&(l=!0,o)){const $=Math.max(v,u),C=Math.min(v+g.nodeSize,d);n.addMark($,C,a.create({...x.attrs,...t}))}}))}),p&&(f!==void 0&&o&&n.setNodeMarkup(f,void 0,{...p.attrs,...t}),a&&p.marks.length&&p.marks.forEach(g=>{a===g.type&&o&&n.addMark(m,h,a.create({...g.attrs,...t}))}))}),l},$Le=(e,t={})=>({state:n,dispatch:r})=>{const o=No(e,n.schema);return ho(o,t)(n,r)},CLe=(e,t={})=>({state:n,dispatch:r})=>{const o=No(e,n.schema);return go(o,t)(n,r)};function MLe(e){return Object.prototype.toString.call(e).slice(8,-1)}function Ov(e){return MLe(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function J5(e,t){const n={...e};return Ov(e)&&Ov(t)&&Object.keys(t).forEach(r=>{Ov(t[r])&&Ov(e[r])?n[r]=J5(e[r],t[r]):n[r]=t[r]}),n}var Y5=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...q$(Em(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...q$(Em(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const n=this.extend({...this.config,addOptions:()=>J5(this.options,t)});return n.name=this.name,n.parent=this.parent,n}extend(t={}){const n=new this.constructor({...this.config,...t});return n.parent=this,this.child=n,n.name="name"in t?t.name:n.parent.name,n}},ALe={};CA(ALe,{ClipboardTextSerializer:()=>TLe,Commands:()=>ELe,Delete:()=>ILe,Drop:()=>PLe,Editable:()=>OLe,FocusEvents:()=>RLe,Keymap:()=>BLe,Paste:()=>NLe,Tabindex:()=>DLe,TextDirection:()=>FLe,focusEventsPluginKey:()=>X5});var mi=class Q5 extends Y5{constructor(){super(...arguments),this.type="extension"}static create(t={}){const n=typeof t=="function"?t():t;return new Q5(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},TLe=mi.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Se({key:new Ce("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:o}=t,{ranges:s}=o,a=Math.min(...s.map(u=>u.$from.pos)),i=Math.max(...s.map(u=>u.$to.pos)),l=tLe(n);return eLe(r,{from:a,to:i},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),ELe=mi.create({name:"commands",addCommands(){return{...z5}}}),ILe=mi.create({name:"delete",onUpdate({transaction:e,appendedTransactions:t}){var n,r,o;const s=()=>{var a,i,l,c;if((c=(l=(i=(a=this.editor.options.coreExtensionOptions)==null?void 0:a.delete)==null?void 0:i.filterTransaction)==null?void 0:l.call(i,e))!=null?c:e.getMeta("y-sync$"))return;const u=Y3e(e.before,[e,...t]);oLe(u).forEach(p=>{u.mapping.mapResult(p.oldRange.from).deletedAfter&&u.mapping.mapResult(p.oldRange.to).deletedBefore&&u.before.nodesBetween(p.oldRange.from,p.oldRange.to,(m,h)=>{const g=h+m.nodeSize-2,v=p.oldRange.from<=h&&g<=p.oldRange.to;this.editor.emit("delete",{type:"node",node:m,from:h,to:g,newFrom:u.mapping.map(h),newTo:u.mapping.map(g),deletedRange:p.oldRange,newRange:p.newRange,partial:!v,editor:this.editor,transaction:e,combinedTransform:u})})});const f=u.mapping;u.steps.forEach((p,m)=>{var h,g;if(p instanceof En){const v=f.slice(m).map(p.from,-1),x=f.slice(m).map(p.to),$=f.invert().map(v,-1),C=f.invert().map(x),M=(h=u.doc.nodeAt(v-1))==null?void 0:h.marks.some(E=>E.eq(p.mark)),I=(g=u.doc.nodeAt(x))==null?void 0:g.marks.some(E=>E.eq(p.mark));this.editor.emit("delete",{type:"mark",mark:p.mark,from:p.from,to:p.to,deletedRange:{from:$,to:C},newRange:{from:v,to:x},partial:!!(I||M),editor:this.editor,transaction:e,combinedTransform:u})}})};(o=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||o?setTimeout(s,0):s()}}),PLe=mi.create({name:"drop",addProseMirrorPlugins(){return[new Se({key:new Ce("tiptapDrop"),props:{handleDrop:(e,t,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:r})}}})]}}),OLe=mi.create({name:"editable",addProseMirrorPlugins(){return[new Se({key:new Ce("editable"),props:{editable:()=>this.editor.options.editable}})]}}),X5=new Ce("focusEvents"),RLe=mi.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new Se({key:X5,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),BLe=mi.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:i})=>{const{selection:l,doc:c}=i,{empty:u,$anchor:d}=l,{pos:f,parent:p}=d,m=d.parent.isTextblock&&f>0?i.doc.resolve(f-1):d,h=m.parent.type.spec.isolating,g=d.pos-d.parentOffset,v=h&&m.parent.childCount===1?g===d.pos:Pe.atStart(c).from===f;return!u||!p.type.isTextblock||p.textContent.length||!v||v&&d.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},o={...r},s={...r,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Xb()||K5()?s:o},addProseMirrorPlugins(){return[new Se({key:new Ce("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(h=>h.getMeta("composition")))return;const r=e.some(h=>h.docChanged)&&!t.doc.eq(n.doc),o=e.some(h=>h.getMeta("preventClearDocument"));if(!r||o)return;const{empty:s,from:a,to:i}=t.selection,l=Pe.atStart(t.doc).from,c=Pe.atEnd(t.doc).to;if(s||!(a===l&&i===c)||!G5(n.doc))return;const f=n.tr,p=q5({state:n,transaction:f}),{commands:m}=new t3e({editor:this.editor,state:p});if(m.clearNodes(),!!f.steps.length)return f}})]}}),NLe=mi.create({name:"paste",addProseMirrorPlugins(){return[new Se({key:new Ce("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),DLe=mi.create({name:"tabindex",addProseMirrorPlugins(){return[new Se({key:new Ce("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),FLe=mi.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:e}=W5(this.extensions);return[{types:e.filter(t=>t.name!=="text").map(t=>t.name),attributes:{dir:{default:this.options.direction,parseHTML:t=>{const n=t.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:t=>t.dir?{dir:t.dir}:{}}}}]},addProseMirrorPlugins(){return[new Se({key:new Ce("textDirection"),props:{attributes:()=>{const e=this.options.direction;return e?{dir:e}:{}}}})]}}),qLe={};CA(qLe,{createAtomBlockMarkdownSpec:()=>zLe,createBlockMarkdownSpec:()=>LLe,createInlineMarkdownSpec:()=>ULe,parseAttributes:()=>TA,parseIndentedBlocks:()=>KLe,renderNestedMarkdownContent:()=>HLe,serializeAttributes:()=>EA});function TA(e){if(!e?.trim())return{};const t={},n=[],r=e.replace(/["']([^"']*)["']/g,c=>(n.push(c),`__QUOTED_${n.length-1}__`)),o=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(o){const c=o.map(u=>u.trim().slice(1));t.class=c.join(" ")}const s=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);s&&(t.id=s[1]);const a=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(a)).forEach(([,c,u])=>{var d;const f=parseInt(((d=u.match(/__QUOTED_(\d+)__/))==null?void 0:d[1])||"0",10),p=n[f];p&&(t[c]=p.slice(1,-1))});const l=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return l&&l.split(/\s+/).filter(Boolean).forEach(u=>{u.match(/^[a-zA-Z][\w-]*$/)&&(t[u]=!0)}),t}function EA(e){if(!e||Object.keys(e).length===0)return"";const t=[];return e.class&&String(e.class).split(/\s+/).filter(Boolean).forEach(r=>t.push(`.${r}`)),e.id&&t.push(`#${e.id}`),Object.entries(e).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?t.push(n):r!==!1&&r!=null&&t.push(`${n}="${String(r)}"`))}),t.join(" ")}function zLe(e){const{nodeName:t,name:n,parseAttributes:r=TA,serializeAttributes:o=EA,defaultAttributes:s={},requiredAttributes:a=[],allowedAttributes:i}=e,l=n||t,c=u=>{if(!i)return u;const d={};return i.forEach(f=>{f in u&&(d[f]=u[f])}),d};return{parseMarkdown:(u,d)=>{const f={...s,...u.attributes};return d.createNode(t,f,[])},markdownTokenizer:{name:t,level:"block",start(u){var d;const f=new RegExp(`^:::${l}(?:\\s|$)`,"m"),p=(d=u.match(f))==null?void 0:d.index;return p!==void 0?p:-1},tokenize(u,d,f){const p=new RegExp(`^:::${l}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),m=u.match(p);if(!m)return;const h=m[1]||"",g=r(h);if(!a.find(x=>!(x in g)))return{type:t,raw:m[0],attributes:g}}},renderMarkdown:u=>{const d=c(u.attrs||{}),f=o(d),p=f?` {${f}}`:"";return`:::${l}${p} :::`}}}function LLe(e){const{nodeName:t,name:n,getContent:r,parseAttributes:o=TA,serializeAttributes:s=EA,defaultAttributes:a={},content:i="block",allowedAttributes:l}=e,c=n||t,u=d=>{if(!l)return d;const f={};return l.forEach(p=>{p in d&&(f[p]=d[p])}),f};return{parseMarkdown:(d,f)=>{let p;if(r){const h=r(d);p=typeof h=="string"?[{type:"text",text:h}]:h}else i==="block"?p=f.parseChildren(d.tokens||[]):p=f.parseInline(d.tokens||[]);const m={...a,...d.attributes};return f.createNode(t,m,p)},markdownTokenizer:{name:t,level:"block",start(d){var f;const p=new RegExp(`^:::${c}`,"m"),m=(f=d.match(p))==null?void 0:f.index;return m!==void 0?m:-1},tokenize(d,f,p){var m;const h=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),g=d.match(h);if(!g)return;const[v,x=""]=g,$=o(x);let C=1;const M=v.length;let I="";const E=/^:::([\w-]*)(\s.*)?/gm,P=d.slice(M);for(E.lastIndex=0;;){const O=E.exec(P);if(O===null)break;const D=O.index,L=O[1];if(!((m=O[2])!=null&&m.endsWith(":::"))){if(L)C+=1;else if(C-=1,C===0){const V=P.slice(0,D);I=V.trim();const F=d.slice(0,M+D+O[0].length);let z=[];if(I)if(i==="block")for(z=p.blockTokens(V),z.forEach(N=>{N.text&&(!N.tokens||N.tokens.length===0)&&(N.tokens=p.inlineTokens(N.text))});z.length>0;){const N=z[z.length-1];if(N.type==="paragraph"&&(!N.text||N.text.trim()===""))z.pop();else break}else z=p.inlineTokens(I);return{type:t,raw:F,attributes:$,content:I,tokens:z}}}}}},renderMarkdown:(d,f)=>{const p=u(d.attrs||{}),m=s(p),h=m?` {${m}}`:"",g=f.renderChildren(d.content||[],`

`);return`:::${c}${h}

${g}

:::`}}}function jLe(e){if(!e.trim())return{};const t={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(e);for(;r!==null;){const[,o,s,a]=r;t[o]=s||a,r=n.exec(e)}return t}function VLe(e){return Object.entries(e).filter(([,t])=>t!=null).map(([t,n])=>`${t}="${n}"`).join(" ")}function ULe(e){const{nodeName:t,name:n,getContent:r,parseAttributes:o=jLe,serializeAttributes:s=VLe,defaultAttributes:a={},selfClosing:i=!1,allowedAttributes:l}=e,c=n||t,u=f=>{if(!l)return f;const p={};return l.forEach(m=>{const h=typeof m=="string"?m:m.name,g=typeof m=="string"?void 0:m.skipIfDefault;if(h in f){const v=f[h];if(g!==void 0&&v===g)return;p[h]=v}}),p},d=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(f,p)=>{const m={...a,...f.attributes};if(i)return p.createNode(t,m);const h=r?r(f):f.content||"";return h?p.createNode(t,m,[p.createTextNode(h)]):p.createNode(t,m,[])},markdownTokenizer:{name:t,level:"inline",start(f){const p=i?new RegExp(`\\[${d}\\s*[^\\]]*\\]`):new RegExp(`\\[${d}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${d}\\]`),m=f.match(p),h=m?.index;return h!==void 0?h:-1},tokenize(f,p,m){const h=i?new RegExp(`^\\[${d}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${d}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${d}\\]`),g=f.match(h);if(!g)return;let v="",x="";if(i){const[,C]=g;x=C}else{const[,C,M]=g;x=C,v=M||""}const $=o(x.trim());return{type:t,raw:g[0],content:v.trim(),attributes:$}}},renderMarkdown:f=>{let p="";r?p=r(f):f.content&&f.content.length>0&&(p=f.content.filter(v=>v.type==="text").map(v=>v.text).join(""));const m=u(f.attrs||{}),h=s(m),g=h?` ${h}`:"";return i?`[${c}${g}]`:`[${c}${g}]${p}[/${c}]`}}}function KLe(e,t,n){var r,o,s,a;const i=e.split(`
`),l=[];let c="",u=0;const d=t.baseIndentSize||2;for(;u<i.length;){const f=i[u],p=f.match(t.itemPattern);if(!p){if(l.length>0)break;if(f.trim()===""){u+=1,c=`${c}${f}
`;continue}else return}const m=t.extractItemData(p),{indentLevel:h,mainContent:g}=m;c=`${c}${f}
`;const v=[g];for(u+=1;u<i.length;){const M=i[u];if(M.trim()===""){const E=i.slice(u+1).findIndex(D=>D.trim()!=="");if(E===-1)break;if((((o=(r=i[u+1+E].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:o.length)||0)>h){v.push(M),c=`${c}${M}
`,u+=1;continue}else break}if((((a=(s=M.match(/^(\s*)/))==null?void 0:s[1])==null?void 0:a.length)||0)>h)v.push(M),c=`${c}${M}
`,u+=1;else break}let x;const $=v.slice(1);if($.length>0){const M=$.map(I=>I.slice(h+d)).join(`
`);M.trim()&&(t.customNestedParser?x=t.customNestedParser(M):x=n.blockTokens(M))}const C=t.createToken(m,x);l.push(C)}if(l.length!==0)return{items:l,raw:c}}function HLe(e,t,n,r){if(!e||!Array.isArray(e.content))return"";const o=typeof n=="function"?n(r):n,[s,...a]=e.content,i=t.renderChildren([s]),l=[`${o}${i}`];return a&&a.length>0&&a.forEach(c=>{const u=t.renderChildren([c]);if(u){const d=u.split(`
`).map(f=>f?t.indent(f):"").join(`
`);l.push(d)}}),l.join(`
`)}var WLe=class Z5 extends Y5{constructor(){super(...arguments),this.type="node"}static create(t={}){const n=typeof t=="function"?t():t;return new Z5(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},GLe=WLe.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`

`):""}),JLe=Object.defineProperty,IA=(e,t)=>{for(var n in t)JLe(e,n,{get:t[n],enumerable:!0})};function e6(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:o}=n,{storedMarks:s}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return s},get selection(){return r},get doc(){return o},get tr(){return r=n.selection,o=n.doc,s=n.storedMarks,n}}}var YLe=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:n,state:r}=this,{view:o}=n,{tr:s}=r,a=this.buildProps(s);return Object.fromEntries(Object.entries(t).map(([i,l])=>[i,(...u)=>{const d=l(...u)(a);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(s),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,n=!0){const{rawCommands:r,editor:o,state:s}=this,{view:a}=o,i=[],l=!!t,c=t||s.tr,u=()=>(!l&&n&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(c),i.every(f=>f===!0)),d={...Object.fromEntries(Object.entries(r).map(([f,p])=>[f,(...h)=>{const g=this.buildProps(c,n),v=p(...h)(g);return i.push(v),d}])),run:u};return d}createCan(t){const{rawCommands:n,state:r}=this,o=!1,s=t||r.tr,a=this.buildProps(s,o);return{...Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...u)=>c(...u)({...a,dispatch:void 0})])),chain:()=>this.createChain(s,o)}}buildProps(t,n=!0){const{rawCommands:r,editor:o,state:s}=this,{view:a}=o,i={tr:t,editor:o,view:a,state:e6({state:s,transaction:t}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(t,n),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...u)=>c(...u)(i)]))}};return i}},t6={};IA(t6,{blur:()=>QLe,clearContent:()=>XLe,clearNodes:()=>ZLe,command:()=>eje,createParagraphNear:()=>tje,cut:()=>nje,deleteCurrentNode:()=>rje,deleteNode:()=>oje,deleteRange:()=>sje,deleteSelection:()=>aje,enter:()=>ije,exitCode:()=>lje,extendMarkRange:()=>cje,first:()=>dje,focus:()=>mje,forEach:()=>hje,insertContent:()=>gje,insertContentAt:()=>bje,joinBackward:()=>kje,joinDown:()=>wje,joinForward:()=>_je,joinItemBackward:()=>Sje,joinItemForward:()=>$je,joinTextblockBackward:()=>Cje,joinTextblockForward:()=>Mje,joinUp:()=>xje,keyboardShortcut:()=>Tje,lift:()=>Eje,liftEmptyBlock:()=>Ije,liftListItem:()=>Pje,newlineInCode:()=>Oje,resetAttributes:()=>Rje,scrollIntoView:()=>Bje,selectAll:()=>Nje,selectNodeBackward:()=>Dje,selectNodeForward:()=>Fje,selectParentNode:()=>qje,selectTextblockEnd:()=>zje,selectTextblockStart:()=>Lje,setContent:()=>Vje,setMark:()=>rVe,setMeta:()=>oVe,setNode:()=>sVe,setNodeSelection:()=>aVe,setTextDirection:()=>iVe,setTextSelection:()=>lVe,sinkListItem:()=>uVe,splitBlock:()=>cVe,splitListItem:()=>dVe,toggleList:()=>fVe,toggleMark:()=>pVe,toggleNode:()=>mVe,toggleWrap:()=>hVe,undoInputRule:()=>gVe,unsetAllMarks:()=>vVe,unsetMark:()=>yVe,unsetTextDirection:()=>bVe,updateAttributes:()=>xVe,wrapIn:()=>wVe,wrapInList:()=>kVe});var QLe=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),XLe=(e=!0)=>({commands:t})=>t.setContent("",{emitUpdate:e}),ZLe=()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:o}=r;return n&&o.forEach(({$from:s,$to:a})=>{e.doc.nodesBetween(s.pos,a.pos,(i,l)=>{if(i.type.isText)return;const{doc:c,mapping:u}=t,d=c.resolve(u.map(l)),f=c.resolve(u.map(l+i.nodeSize)),p=d.blockRange(f);if(!p)return;const m=lr(p);if(i.type.isTextblock){const{defaultType:h}=d.parent.contentMatchAt(d.index());t.setNodeMarkup(p.start,h)}(m||m===0)&&t.lift(p,m)})}),!0},eje=e=>t=>e(t),tje=()=>({state:e,dispatch:t})=>Hr(e,t),nje=(e,t)=>({editor:n,tr:r})=>{const{state:o}=n,s=o.doc.slice(e.from,e.to);r.deleteRange(e.from,e.to);const a=r.mapping.map(t);return r.insert(a,s.content),r.setSelection(new ie(r.doc.resolve(Math.max(a-1,0)))),!0},rje=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;const o=e.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===r.type){if(t){const i=o.before(s),l=o.after(s);e.delete(i,l).scrollIntoView()}return!0}return!1};function Do(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}var oje=e=>({tr:t,state:n,dispatch:r})=>{const o=Do(e,n.schema),s=t.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===o){if(r){const l=s.before(a),c=s.after(a);t.delete(l,c).scrollIntoView()}return!0}return!1},sje=e=>({tr:t,dispatch:n})=>{const{from:r,to:o}=e;return n&&t.delete(r,o),!0},aje=()=>({state:e,dispatch:t})=>Cr(e,t),ije=()=>({commands:e})=>e.keyboardShortcut("Enter"),lje=()=>({state:e,dispatch:t})=>co(e,t);function uje(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function Zb(e,t,n={strict:!0}){const r=Object.keys(t);return r.length?r.every(o=>n.strict?t[o]===e[o]:uje(t[o])?t[o].test(e[o]):t[o]===e[o]):!0}function n6(e,t,n={}){return e.find(r=>r.type===t&&Zb(Object.fromEntries(Object.keys(n).map(o=>[o,r.attrs[o]])),n))}function nD(e,t,n={}){return!!n6(e,t,n)}function r6(e,t,n){var r;if(!e||!t)return;let o=e.parent.childAfter(e.parentOffset);if((!o.node||!o.node.marks.some(u=>u.type===t))&&(o=e.parent.childBefore(e.parentOffset)),!o.node||!o.node.marks.some(u=>u.type===t)||(n=n||((r=o.node.marks[0])==null?void 0:r.attrs),!n6([...o.node.marks],t,n)))return;let a=o.index,i=e.start()+o.offset,l=a+1,c=i+o.node.nodeSize;for(;a>0&&nD([...e.parent.child(a-1).marks],t,n);)a-=1,i-=e.parent.child(a).nodeSize;for(;l<e.parent.childCount&&nD([...e.parent.child(l).marks],t,n);)c+=e.parent.child(l).nodeSize,l+=1;return{from:i,to:c}}function fu(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}var cje=(e,t={})=>({tr:n,state:r,dispatch:o})=>{const s=fu(e,r.schema),{doc:a,selection:i}=n,{$from:l,from:c,to:u}=i;if(o){const d=r6(l,s,t);if(d&&d.from<=c&&d.to>=u){const f=ie.create(a,d.from,d.to);n.setSelection(f)}}return!0},dje=e=>t=>{const n=typeof e=="function"?e(t):e;for(let r=0;r<n.length;r+=1)if(n[r](t))return!0;return!1};function o6(e){return e instanceof ie}function Qu(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function fje(e,t=null){if(!t)return null;const n=Pe.atStart(e),r=Pe.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return r;const o=n.from,s=r.to;return t==="all"?ie.create(e,Qu(0,o,s),Qu(e.content.size,o,s)):ie.create(e,Qu(t,o,s),Qu(t,o,s))}function rD(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function e0(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function pje(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}var mje=(e=null,t={})=>({editor:n,view:r,tr:o,dispatch:s})=>{t={scrollIntoView:!0,...t};const a=()=>{(e0()||rD())&&r.dom.focus(),pje()&&!e0()&&!rD()&&r.dom.focus({preventScroll:!0}),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),t?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&e===null||e===!1)return!0;if(s&&e===null&&!o6(n.state.selection))return a(),!0;const i=fje(o.doc,e)||n.state.selection,l=n.state.selection.eq(i);return s&&(l||o.setSelection(i),l&&o.storedMarks&&o.setStoredMarks(o.storedMarks),a()),!0},hje=(e,t)=>n=>e.every((r,o)=>t(r,{...n,index:o})),gje=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),s6=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const r=t[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):r.nodeType===1&&s6(r)}return e};function Rv(e){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t=`<body>${e}</body>`,n=new window.DOMParser().parseFromString(t,"text/html").body;return s6(n)}function Im(e,t,n){if(e instanceof Hn||e instanceof de)return e;n={slice:!0,parseOptions:{},...n};const r=typeof e=="object"&&e!==null,o=typeof e=="string";if(r)try{if(Array.isArray(e)&&e.length>0)return de.fromArray(e.map(i=>t.nodeFromJSON(i)));const a=t.nodeFromJSON(e);return n.errorOnInvalidContent&&a.check(),a}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",s),Im("",t,n)}if(o){if(n.errorOnInvalidContent){let a=!1,i="";const l=new qr({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(a=!0,i=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?gt.fromSchema(l).parseSlice(Rv(e),n.parseOptions):gt.fromSchema(l).parse(Rv(e),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${i}`)})}const s=gt.fromSchema(t);return n.slice?s.parseSlice(Rv(e),n.parseOptions).content:s.parse(Rv(e),n.parseOptions)}return Im("",t,n)}function vje(e,t,n){const r=e.steps.length-1;if(r<t)return;const o=e.steps[r];if(!(o instanceof ln||o instanceof un))return;const s=e.mapping.maps[r];let a=0;s.forEach((i,l,c,u)=>{a===0&&(a=u)}),e.setSelection(Pe.near(e.doc.resolve(a),n))}var yje=e=>!("type"in e),bje=(e,t,n)=>({tr:r,dispatch:o,editor:s})=>{var a;if(o){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let i;const l=g=>{s.emit("contentError",{editor:s,error:g,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{Im(t,s.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(g){l(g)}try{i=Im(t,s.schema,{parseOptions:c,errorOnInvalidContent:(a=n.errorOnInvalidContent)!=null?a:s.options.enableContentCheck})}catch(g){return l(g),!1}let{from:u,to:d}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},f=!0,p=!0;if((yje(i)?i:[i]).forEach(g=>{g.check(),f=f?g.isText&&g.marks.length===0:!1,p=p?g.isBlock:!1}),u===d&&p){const{parent:g}=r.doc.resolve(u);g.isTextblock&&!g.type.spec.code&&!g.childCount&&(u-=1,d+=1)}let h;if(f){if(Array.isArray(t))h=t.map(g=>g.text||"").join("");else if(t instanceof de){let g="";t.forEach(v=>{v.text&&(g+=v.text)}),h=g}else typeof t=="object"&&t&&t.text?h=t.text:h=t;r.insertText(h,u,d)}else{h=i;const g=r.doc.resolve(u),v=g.node(),x=g.parentOffset===0,$=v.isText||v.isTextblock,C=v.content.size>0;x&&$&&C&&(u=Math.max(0,u-1)),r.replaceWith(u,d,h)}n.updateSelection&&vje(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:u,text:h}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:u,text:h})}return!0},xje=()=>({state:e,dispatch:t})=>io(e,t),wje=()=>({state:e,dispatch:t})=>lo(e,t),kje=()=>({state:e,dispatch:t})=>Lr(e,t),_je=()=>({state:e,dispatch:t})=>Vr(e,t),Sje=()=>({state:e,dispatch:t,tr:n})=>{try{const r=on(e.doc,e.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},$je=()=>({state:e,dispatch:t,tr:n})=>{try{const r=on(e.doc,e.selection.$from.pos,1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},Cje=()=>({state:e,dispatch:t})=>so(e,t),Mje=()=>({state:e,dispatch:t})=>ao(e,t);function a6(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function Aje(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let r,o,s,a;for(let i=0;i<t.length-1;i+=1){const l=t[i];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))o=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))e0()||a6()?a=!0:o=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),o&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}var Tje=e=>({editor:t,view:n,tr:r,dispatch:o})=>{const s=Aje(e).split(/-(?!$)/),a=s.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),i=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,i))});return l?.steps.forEach(c=>{const u=c.map(r.mapping);u&&o&&r.maybeStep(u)}),!0};function PA(e,t,n={}){const{from:r,to:o,empty:s}=e.selection,a=t?Do(t,e.schema):null,i=[];e.doc.nodesBetween(r,o,(d,f)=>{if(d.isText)return;const p=Math.max(r,f),m=Math.min(o,f+d.nodeSize);i.push({node:d,from:p,to:m})});const l=o-r,c=i.filter(d=>a?a.name===d.node.type.name:!0).filter(d=>Zb(d.node.attrs,n,{strict:!1}));return s?!!c.length:c.reduce((d,f)=>d+f.to-f.from,0)>=l}var Eje=(e,t={})=>({state:n,dispatch:r})=>{const o=Do(e,n.schema);return PA(n,o,t)?uo(n,r):!1},Ije=()=>({state:e,dispatch:t})=>Wr(e,t),Pje=e=>({state:t,dispatch:n})=>{const r=Do(e,t.schema);return vo(r)(t,n)},Oje=()=>({state:e,dispatch:t})=>Kr(e,t);function i6(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function oD(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((r,o)=>(n.includes(o)||(r[o]=e[o]),r),{})}var Rje=(e,t)=>({tr:n,state:r,dispatch:o})=>{let s=null,a=null;const i=i6(typeof e=="string"?e:e.name,r.schema);if(!i)return!1;i==="node"&&(s=Do(e,r.schema)),i==="mark"&&(a=fu(e,r.schema));let l=!1;return n.selection.ranges.forEach(c=>{r.doc.nodesBetween(c.$from.pos,c.$to.pos,(u,d)=>{s&&s===u.type&&(l=!0,o&&n.setNodeMarkup(d,void 0,oD(u.attrs,t))),a&&u.marks.length&&u.marks.forEach(f=>{a===f.type&&(l=!0,o&&n.addMark(d,d+u.nodeSize,a.create(oD(f.attrs,t))))})})}),l},Bje=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),Nje=()=>({tr:e,dispatch:t})=>{if(t){const n=new Sn(e.doc);e.setSelection(n)}return!0},Dje=()=>({state:e,dispatch:t})=>jr(e,t),Fje=()=>({state:e,dispatch:t})=>Ur(e,t),qje=()=>({state:e,dispatch:t})=>fo(e,t),zje=()=>({state:e,dispatch:t})=>mo(e,t),Lje=()=>({state:e,dispatch:t})=>po(e,t);function jje(e,t,n={},r={}){return Im(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var Vje=(e,{errorOnInvalidContent:t,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:o,tr:s,dispatch:a,commands:i})=>{const{doc:l}=s;if(r.preserveWhitespace!=="full"){const c=jje(e,o.schema,r,{errorOnInvalidContent:t??o.options.enableContentCheck});return a&&s.replaceWith(0,l.content.size,c).setMeta("preventUpdate",!n),!0}return a&&s.setMeta("preventUpdate",!n),i.insertContentAt({from:0,to:l.content.size},e,{parseOptions:r,errorOnInvalidContent:t??o.options.enableContentCheck})};function Uje(e,t){const n=fu(t,e.schema),{from:r,to:o,empty:s}=e.selection,a=[];s?(e.storedMarks&&a.push(...e.storedMarks),a.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,o,l=>{a.push(...l.marks)});const i=a.find(l=>l.type.name===n.name);return i?{...i.attrs}:{}}function Kje(e,t){const n=new zr(e);return t.forEach(r=>{r.steps.forEach(o=>{n.step(o)})}),n}function Hje(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function Wje(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function OA(e){return t=>Wje(t.$from,e)}function Pm(e,t,n){return e.config[t]===void 0&&e.parent?Pm(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind({...n,parent:e.parent?Pm(e.parent,t,n):null}):e.config[t]}function Gje(e){return typeof e=="function"}function z$(e,t=void 0,...n){return Gje(e)?t?e.bind(t)(...n):e(...n):e}function l6(e){const t=e.filter(o=>o.type==="extension"),n=e.filter(o=>o.type==="node"),r=e.filter(o=>o.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:r}}function Jje(...e){return e.filter(t=>!!t).reduce((t,n)=>{const r={...t};return Object.entries(n).forEach(([o,s])=>{if(!r[o]){r[o]=s;return}if(o==="class"){const i=s?String(s).split(" "):[],l=r[o]?r[o].split(" "):[],c=i.filter(u=>!l.includes(u));r[o]=[...l,...c].join(" ")}else if(o==="style"){const i=s?s.split(";").map(u=>u.trim()).filter(Boolean):[],l=r[o]?r[o].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;l.forEach(u=>{const[d,f]=u.split(":").map(p=>p.trim());c.set(d,f)}),i.forEach(u=>{const[d,f]=u.split(":").map(p=>p.trim());c.set(d,f)}),r[o]=Array.from(c.entries()).map(([u,d])=>`${u}: ${d}`).join("; ")}else r[o]=s}),r},{})}function Yje(e,t,n){const{from:r,to:o}=t,{blockSeparator:s=`

`,textSerializers:a={}}=n||{};let i="";return e.nodesBetween(r,o,(l,c,u,d)=>{var f;l.isBlock&&c>r&&(i+=s);const p=a?.[l.type.name];if(p)return u&&(i+=p({node:l,pos:c,parent:u,index:d,range:t})),!1;l.isText&&(i+=(f=l?.text)==null?void 0:f.slice(Math.max(r,c)-c,o-c))}),i}function Qje(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}function Xje(e,t=JSON.stringify){const n={};return e.filter(r=>{const o=t(r);return Object.prototype.hasOwnProperty.call(n,o)?!1:n[o]=!0})}function Zje(e){const t=Xje(e);return t.length===1?t:t.filter((n,r)=>!t.filter((s,a)=>a!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function eVe(e){const{mapping:t,steps:n}=e,r=[];return t.maps.forEach((o,s)=>{const a=[];if(o.ranges.length)o.forEach((i,l)=>{a.push({from:i,to:l})});else{const{from:i,to:l}=n[s];if(i===void 0||l===void 0)return;a.push({from:i,to:l})}a.forEach(({from:i,to:l})=>{const c=t.slice(s).map(i,-1),u=t.slice(s).map(l),d=t.invert().map(c,-1),f=t.invert().map(u);r.push({oldRange:{from:d,to:f},newRange:{from:c,to:u}})})}),Zje(r)}function Iy(e,t,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const o=e.find(s=>s.type===t&&s.name===r);return o?o.attribute.keepOnSplit:!1}))}function tVe(e,t,n={}){const{empty:r,ranges:o}=e.selection,s=t?fu(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(d=>s?s.name===d.type.name:!0).find(d=>Zb(d.attrs,n,{strict:!1}));let a=0;const i=[];if(o.forEach(({$from:d,$to:f})=>{const p=d.pos,m=f.pos;e.doc.nodesBetween(p,m,(h,g)=>{if(!h.isText&&!h.marks.length)return;const v=Math.max(p,g),x=Math.min(m,g+h.nodeSize),$=x-v;a+=$,i.push(...h.marks.map(C=>({mark:C,from:v,to:x})))})}),a===0)return!1;const l=i.filter(d=>s?s.name===d.mark.type.name:!0).filter(d=>Zb(d.mark.attrs,n,{strict:!1})).reduce((d,f)=>d+f.to-f.from,0),c=i.filter(d=>s?d.mark.type!==s&&d.mark.type.excludes(s):!0).reduce((d,f)=>d+f.to-f.from,0);return(l>0?l+c:l)>=a}function sD(e,t){const{nodeExtensions:n}=l6(t),r=n.find(a=>a.name===e);if(!r)return!1;const o={name:r.name,options:r.options,storage:r.storage},s=z$(Pm(r,"group",o));return typeof s!="string"?!1:s.split(" ").includes("list")}function u6(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((r=e.text)!=null?r:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let o=!0;return e.content.forEach(s=>{o!==!1&&(u6(s,{ignoreWhitespace:n,checkChildren:t})||(o=!1))}),o}return!1}function nVe(e,t,n){var r;const{selection:o}=t;let s=null;if(o6(o)&&(s=o.$cursor),s){const i=(r=e.storedMarks)!=null?r:s.marks();return s.parent.type.allowsMarkType(n)&&(!!n.isInSet(i)||!i.some(c=>c.type.excludes(n)))}const{ranges:a}=o;return a.some(({$from:i,$to:l})=>{let c=i.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(i.pos,l.pos,(u,d,f)=>{if(c)return!1;if(u.isInline){const p=!f||f.type.allowsMarkType(n),m=!!n.isInSet(u.marks)||!u.marks.some(h=>h.type.excludes(n));c=p&&m}return!c}),c})}var rVe=(e,t={})=>({tr:n,state:r,dispatch:o})=>{const{selection:s}=n,{empty:a,ranges:i}=s,l=fu(e,r.schema);if(o)if(a){const c=Uje(r,l);n.addStoredMark(l.create({...c,...t}))}else i.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;r.doc.nodesBetween(u,d,(f,p)=>{const m=Math.max(p,u),h=Math.min(p+f.nodeSize,d);f.marks.find(v=>v.type===l)?f.marks.forEach(v=>{l===v.type&&n.addMark(m,h,l.create({...v.attrs,...t}))}):n.addMark(m,h,l.create(t))})});return nVe(r,n,l)},oVe=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),sVe=(e,t={})=>({state:n,dispatch:r,chain:o})=>{const s=Do(e,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),s.isTextblock?o().command(({commands:i})=>cn(s,{...a,...t})(n)?!0:i.clearNodes()).command(({state:i})=>cn(s,{...a,...t})(i,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},aVe=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,o=Qu(e,0,r.content.size),s=Ge.create(r,o);t.setSelection(s)}return!0},iVe=(e,t)=>({tr:n,state:r,dispatch:o})=>{const{selection:s}=r;let a,i;return typeof t=="number"?(a=t,i=t):t&&"from"in t&&"to"in t?(a=t.from,i=t.to):(a=s.from,i=s.to),o&&n.doc.nodesBetween(a,i,(l,c)=>{l.isText||n.setNodeMarkup(c,void 0,{...l.attrs,dir:e})}),!0},lVe=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,{from:o,to:s}=typeof e=="number"?{from:e,to:e}:e,a=ie.atStart(r).from,i=ie.atEnd(r).to,l=Qu(o,a,i),c=Qu(s,a,i),u=ie.create(r,l,c);t.setSelection(u)}return!0},uVe=e=>({state:t,dispatch:n})=>{const r=Do(e,t.schema);return yo(r)(t,n)};function aD(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(o=>t?.includes(o.type.name));e.tr.ensureMarks(r)}}var cVe=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:o})=>{const{selection:s,doc:a}=t,{$from:i,$to:l}=s,c=o.extensionManager.attributes,u=Iy(c,i.node().type.name,i.node().attrs);if(s instanceof Ge&&s.node.isBlock)return!i.parentOffset||!ot(a,i.pos)?!1:(r&&(e&&aD(n,o.extensionManager.splittableMarks),t.split(i.pos).scrollIntoView()),!0);if(!i.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,f=i.depth===0?void 0:Hje(i.node(-1).contentMatchAt(i.indexAfter(-1)));let p=d&&f?[{type:f,attrs:u}]:void 0,m=ot(t.doc,t.mapping.map(i.pos),1,p);if(!p&&!m&&ot(t.doc,t.mapping.map(i.pos),1,f?[{type:f}]:void 0)&&(m=!0,p=f?[{type:f,attrs:u}]:void 0),r){if(m&&(s instanceof ie&&t.deleteSelection(),t.split(t.mapping.map(i.pos),1,p),f&&!d&&!i.parentOffset&&i.parent.type!==f)){const h=t.mapping.map(i.before()),g=t.doc.resolve(h);i.node(-1).canReplaceWith(g.index(),g.index()+1,f)&&t.setNodeMarkup(t.mapping.map(i.before()),f)}e&&aD(n,o.extensionManager.splittableMarks),t.scrollIntoView()}return m},dVe=(e,t={})=>({tr:n,state:r,dispatch:o,editor:s})=>{var a;const i=Do(e,r.schema),{$from:l,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const d=l.node(-1);if(d.type!==i)return!1;const f=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==i||l.index(-2)!==l.node(-2).childCount-1)return!1;if(o){let v=de.empty;const x=l.index(-1)?1:l.index(-2)?2:3;for(let P=l.depth-x;P>=l.depth-3;P-=1)v=de.from(l.node(P).copy(v));const $=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,C={...Iy(f,l.node().type.name,l.node().attrs),...t},M=((a=i.contentMatch.defaultType)==null?void 0:a.createAndFill(C))||void 0;v=v.append(de.from(i.createAndFill(null,M)||void 0));const I=l.before(l.depth-(x-1));n.replace(I,l.after(-$),new Je(v,4-x,0));let E=-1;n.doc.nodesBetween(I,n.doc.content.size,(P,O)=>{if(E>-1)return!1;P.isTextblock&&P.content.size===0&&(E=O+1)}),E>-1&&n.setSelection(ie.near(n.doc.resolve(E))),n.scrollIntoView()}return!0}const p=c.pos===l.end()?d.contentMatchAt(0).defaultType:null,m={...Iy(f,d.type.name,d.attrs),...t},h={...Iy(f,l.node().type.name,l.node().attrs),...t};n.delete(l.pos,c.pos);const g=p?[{type:i,attrs:m},{type:p,attrs:h}]:[{type:i,attrs:m}];if(!ot(n.doc,l.pos,2))return!1;if(o){const{selection:v,storedMarks:x}=r,{splittableMarks:$}=s.extensionManager,C=x||v.$to.parentOffset&&v.$from.marks();if(n.split(l.pos,2,g).scrollIntoView(),!C||!o)return!0;const M=C.filter(I=>$.includes(I.type.name));n.ensureMarks(M)}return!0},P_=(e,t)=>{const n=OA(a=>a.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const o=e.doc.nodeAt(r);return n.node.type===o?.type&&Ht(e.doc,n.pos)&&e.join(n.pos),!0},O_=(e,t)=>{const n=OA(a=>a.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const o=e.doc.nodeAt(r);return n.node.type===o?.type&&Ht(e.doc,r)&&e.join(r),!0},fVe=(e,t,n,r={})=>({editor:o,tr:s,state:a,dispatch:i,chain:l,commands:c,can:u})=>{const{extensions:d,splittableMarks:f}=o.extensionManager,p=Do(e,a.schema),m=Do(t,a.schema),{selection:h,storedMarks:g}=a,{$from:v,$to:x}=h,$=v.blockRange(x),C=g||h.$to.parentOffset&&h.$from.marks();if(!$)return!1;const M=OA(I=>sD(I.type.name,d))(h);if($.depth>=1&&M&&$.depth-M.depth<=1){if(M.node.type===p)return c.liftListItem(m);if(sD(M.node.type.name,d)&&p.validContent(M.node.content)&&i)return l().command(()=>(s.setNodeMarkup(M.pos,p),!0)).command(()=>P_(s,p)).command(()=>O_(s,p)).run()}return!n||!C||!i?l().command(()=>u().wrapInList(p,r)?!0:c.clearNodes()).wrapInList(p,r).command(()=>P_(s,p)).command(()=>O_(s,p)).run():l().command(()=>{const I=u().wrapInList(p,r),E=C.filter(P=>f.includes(P.type.name));return s.ensureMarks(E),I?!0:c.clearNodes()}).wrapInList(p,r).command(()=>P_(s,p)).command(()=>O_(s,p)).run()},pVe=(e,t={},n={})=>({state:r,commands:o})=>{const{extendEmptyMarkRange:s=!1}=n,a=fu(e,r.schema);return tVe(r,a,t)?o.unsetMark(a,{extendEmptyMarkRange:s}):o.setMark(a,t)},mVe=(e,t,n={})=>({state:r,commands:o})=>{const s=Do(e,r.schema),a=Do(t,r.schema),i=PA(r,s,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),i?o.setNode(a,l):o.setNode(s,{...l,...n})},hVe=(e,t={})=>({state:n,commands:r})=>{const o=Do(e,n.schema);return PA(n,o,t)?r.lift(o):r.wrapIn(o,t)},gVe=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const o=n[r];let s;if(o.spec.isInputRules&&(s=o.getState(e))){if(t){const a=e.tr,i=s.transform;for(let l=i.steps.length-1;l>=0;l-=1)a.step(i.steps[l].invert(i.docs[l]));if(s.text){const l=a.doc.resolve(s.from).marks();a.replaceWith(s.from,s.to,e.schema.text(s.text,l))}else a.delete(s.from,s.to)}return!0}}return!1},vVe=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:o}=n;return r||t&&o.forEach(s=>{e.removeMark(s.$from.pos,s.$to.pos)}),!0},yVe=(e,t={})=>({tr:n,state:r,dispatch:o})=>{var s;const{extendEmptyMarkRange:a=!1}=t,{selection:i}=n,l=fu(e,r.schema),{$from:c,empty:u,ranges:d}=i;if(!o)return!0;if(u&&a){let{from:f,to:p}=i;const m=(s=c.marks().find(g=>g.type===l))==null?void 0:s.attrs,h=r6(c,l,m);h&&(f=h.from,p=h.to),n.removeMark(f,p,l)}else d.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,l)});return n.removeStoredMark(l),!0},bVe=e=>({tr:t,state:n,dispatch:r})=>{const{selection:o}=n;let s,a;return typeof e=="number"?(s=e,a=e):e&&"from"in e&&"to"in e?(s=e.from,a=e.to):(s=o.from,a=o.to),r&&t.doc.nodesBetween(s,a,(i,l)=>{if(i.isText)return;const c={...i.attrs};delete c.dir,t.setNodeMarkup(l,void 0,c)}),!0},xVe=(e,t={})=>({tr:n,state:r,dispatch:o})=>{let s=null,a=null;const i=i6(typeof e=="string"?e:e.name,r.schema);if(!i)return!1;i==="node"&&(s=Do(e,r.schema)),i==="mark"&&(a=fu(e,r.schema));let l=!1;return n.selection.ranges.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;let f,p,m,h;n.selection.empty?r.doc.nodesBetween(u,d,(g,v)=>{s&&s===g.type&&(l=!0,m=Math.max(v,u),h=Math.min(v+g.nodeSize,d),f=v,p=g)}):r.doc.nodesBetween(u,d,(g,v)=>{v<u&&s&&s===g.type&&(l=!0,m=Math.max(v,u),h=Math.min(v+g.nodeSize,d),f=v,p=g),v>=u&&v<=d&&(s&&s===g.type&&(l=!0,o&&n.setNodeMarkup(v,void 0,{...g.attrs,...t})),a&&g.marks.length&&g.marks.forEach(x=>{if(a===x.type&&(l=!0,o)){const $=Math.max(v,u),C=Math.min(v+g.nodeSize,d);n.addMark($,C,a.create({...x.attrs,...t}))}}))}),p&&(f!==void 0&&o&&n.setNodeMarkup(f,void 0,{...p.attrs,...t}),a&&p.marks.length&&p.marks.forEach(g=>{a===g.type&&o&&n.addMark(m,h,a.create({...g.attrs,...t}))}))}),l},wVe=(e,t={})=>({state:n,dispatch:r})=>{const o=Do(e,n.schema);return ho(o,t)(n,r)},kVe=(e,t={})=>({state:n,dispatch:r})=>{const o=Do(e,n.schema);return go(o,t)(n,r)};function _Ve(e){return Object.prototype.toString.call(e).slice(8,-1)}function Bv(e){return _Ve(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function c6(e,t){const n={...e};return Bv(e)&&Bv(t)&&Object.keys(t).forEach(r=>{Bv(t[r])&&Bv(e[r])?n[r]=c6(e[r],t[r]):n[r]=t[r]}),n}var d6=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...z$(Pm(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...z$(Pm(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const n=this.extend({...this.config,addOptions:()=>c6(this.options,t)});return n.name=this.name,n.parent=this.parent,n}extend(t={}){const n=new this.constructor({...this.config,...t});return n.parent=this,this.child=n,n.name="name"in t?t.name:n.parent.name,n}},SVe={};IA(SVe,{ClipboardTextSerializer:()=>$Ve,Commands:()=>CVe,Delete:()=>MVe,Drop:()=>AVe,Editable:()=>TVe,FocusEvents:()=>EVe,Keymap:()=>IVe,Paste:()=>PVe,Tabindex:()=>OVe,TextDirection:()=>RVe,focusEventsPluginKey:()=>p6});var hi=class f6 extends d6{constructor(){super(...arguments),this.type="extension"}static create(t={}){const n=typeof t=="function"?t():t;return new f6(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},$Ve=hi.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Se({key:new Ce("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:o}=t,{ranges:s}=o,a=Math.min(...s.map(u=>u.$from.pos)),i=Math.max(...s.map(u=>u.$to.pos)),l=Qje(n);return Yje(r,{from:a,to:i},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),CVe=hi.create({name:"commands",addCommands(){return{...t6}}}),MVe=hi.create({name:"delete",onUpdate({transaction:e,appendedTransactions:t}){var n,r,o;const s=()=>{var a,i,l,c;if((c=(l=(i=(a=this.editor.options.coreExtensionOptions)==null?void 0:a.delete)==null?void 0:i.filterTransaction)==null?void 0:l.call(i,e))!=null?c:e.getMeta("y-sync$"))return;const u=Kje(e.before,[e,...t]);eVe(u).forEach(p=>{u.mapping.mapResult(p.oldRange.from).deletedAfter&&u.mapping.mapResult(p.oldRange.to).deletedBefore&&u.before.nodesBetween(p.oldRange.from,p.oldRange.to,(m,h)=>{const g=h+m.nodeSize-2,v=p.oldRange.from<=h&&g<=p.oldRange.to;this.editor.emit("delete",{type:"node",node:m,from:h,to:g,newFrom:u.mapping.map(h),newTo:u.mapping.map(g),deletedRange:p.oldRange,newRange:p.newRange,partial:!v,editor:this.editor,transaction:e,combinedTransform:u})})});const f=u.mapping;u.steps.forEach((p,m)=>{var h,g;if(p instanceof En){const v=f.slice(m).map(p.from,-1),x=f.slice(m).map(p.to),$=f.invert().map(v,-1),C=f.invert().map(x),M=(h=u.doc.nodeAt(v-1))==null?void 0:h.marks.some(E=>E.eq(p.mark)),I=(g=u.doc.nodeAt(x))==null?void 0:g.marks.some(E=>E.eq(p.mark));this.editor.emit("delete",{type:"mark",mark:p.mark,from:p.from,to:p.to,deletedRange:{from:$,to:C},newRange:{from:v,to:x},partial:!!(I||M),editor:this.editor,transaction:e,combinedTransform:u})}})};(o=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||o?setTimeout(s,0):s()}}),AVe=hi.create({name:"drop",addProseMirrorPlugins(){return[new Se({key:new Ce("tiptapDrop"),props:{handleDrop:(e,t,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:r})}}})]}}),TVe=hi.create({name:"editable",addProseMirrorPlugins(){return[new Se({key:new Ce("editable"),props:{editable:()=>this.editor.options.editable}})]}}),p6=new Ce("focusEvents"),EVe=hi.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new Se({key:p6,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),IVe=hi.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:i})=>{const{selection:l,doc:c}=i,{empty:u,$anchor:d}=l,{pos:f,parent:p}=d,m=d.parent.isTextblock&&f>0?i.doc.resolve(f-1):d,h=m.parent.type.spec.isolating,g=d.pos-d.parentOffset,v=h&&m.parent.childCount===1?g===d.pos:Pe.atStart(c).from===f;return!u||!p.type.isTextblock||p.textContent.length||!v||v&&d.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},o={...r},s={...r,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return e0()||a6()?s:o},addProseMirrorPlugins(){return[new Se({key:new Ce("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(h=>h.getMeta("composition")))return;const r=e.some(h=>h.docChanged)&&!t.doc.eq(n.doc),o=e.some(h=>h.getMeta("preventClearDocument"));if(!r||o)return;const{empty:s,from:a,to:i}=t.selection,l=Pe.atStart(t.doc).from,c=Pe.atEnd(t.doc).to;if(s||!(a===l&&i===c)||!u6(n.doc))return;const f=n.tr,p=e6({state:n,transaction:f}),{commands:m}=new YLe({editor:this.editor,state:p});if(m.clearNodes(),!!f.steps.length)return f}})]}}),PVe=hi.create({name:"paste",addProseMirrorPlugins(){return[new Se({key:new Ce("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),OVe=hi.create({name:"tabindex",addProseMirrorPlugins(){return[new Se({key:new Ce("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),RVe=hi.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:e}=l6(this.extensions);return[{types:e.filter(t=>t.name!=="text").map(t=>t.name),attributes:{dir:{default:this.options.direction,parseHTML:t=>{const n=t.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:t=>t.dir?{dir:t.dir}:{}}}}]},addProseMirrorPlugins(){return[new Se({key:new Ce("textDirection"),props:{attributes:()=>{const e=this.options.direction;return e?{dir:e}:{}}}})]}}),BVe={};IA(BVe,{createAtomBlockMarkdownSpec:()=>NVe,createBlockMarkdownSpec:()=>DVe,createInlineMarkdownSpec:()=>zVe,parseAttributes:()=>RA,parseIndentedBlocks:()=>LVe,renderNestedMarkdownContent:()=>jVe,serializeAttributes:()=>BA});function RA(e){if(!e?.trim())return{};const t={},n=[],r=e.replace(/["']([^"']*)["']/g,c=>(n.push(c),`__QUOTED_${n.length-1}__`)),o=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(o){const c=o.map(u=>u.trim().slice(1));t.class=c.join(" ")}const s=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);s&&(t.id=s[1]);const a=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(a)).forEach(([,c,u])=>{var d;const f=parseInt(((d=u.match(/__QUOTED_(\d+)__/))==null?void 0:d[1])||"0",10),p=n[f];p&&(t[c]=p.slice(1,-1))});const l=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return l&&l.split(/\s+/).filter(Boolean).forEach(u=>{u.match(/^[a-zA-Z][\w-]*$/)&&(t[u]=!0)}),t}function BA(e){if(!e||Object.keys(e).length===0)return"";const t=[];return e.class&&String(e.class).split(/\s+/).filter(Boolean).forEach(r=>t.push(`.${r}`)),e.id&&t.push(`#${e.id}`),Object.entries(e).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?t.push(n):r!==!1&&r!=null&&t.push(`${n}="${String(r)}"`))}),t.join(" ")}function NVe(e){const{nodeName:t,name:n,parseAttributes:r=RA,serializeAttributes:o=BA,defaultAttributes:s={},requiredAttributes:a=[],allowedAttributes:i}=e,l=n||t,c=u=>{if(!i)return u;const d={};return i.forEach(f=>{f in u&&(d[f]=u[f])}),d};return{parseMarkdown:(u,d)=>{const f={...s,...u.attributes};return d.createNode(t,f,[])},markdownTokenizer:{name:t,level:"block",start(u){var d;const f=new RegExp(`^:::${l}(?:\\s|$)`,"m"),p=(d=u.match(f))==null?void 0:d.index;return p!==void 0?p:-1},tokenize(u,d,f){const p=new RegExp(`^:::${l}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),m=u.match(p);if(!m)return;const h=m[1]||"",g=r(h);if(!a.find(x=>!(x in g)))return{type:t,raw:m[0],attributes:g}}},renderMarkdown:u=>{const d=c(u.attrs||{}),f=o(d),p=f?` {${f}}`:"";return`:::${l}${p} :::`}}}function DVe(e){const{nodeName:t,name:n,getContent:r,parseAttributes:o=RA,serializeAttributes:s=BA,defaultAttributes:a={},content:i="block",allowedAttributes:l}=e,c=n||t,u=d=>{if(!l)return d;const f={};return l.forEach(p=>{p in d&&(f[p]=d[p])}),f};return{parseMarkdown:(d,f)=>{let p;if(r){const h=r(d);p=typeof h=="string"?[{type:"text",text:h}]:h}else i==="block"?p=f.parseChildren(d.tokens||[]):p=f.parseInline(d.tokens||[]);const m={...a,...d.attributes};return f.createNode(t,m,p)},markdownTokenizer:{name:t,level:"block",start(d){var f;const p=new RegExp(`^:::${c}`,"m"),m=(f=d.match(p))==null?void 0:f.index;return m!==void 0?m:-1},tokenize(d,f,p){var m;const h=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),g=d.match(h);if(!g)return;const[v,x=""]=g,$=o(x);let C=1;const M=v.length;let I="";const E=/^:::([\w-]*)(\s.*)?/gm,P=d.slice(M);for(E.lastIndex=0;;){const O=E.exec(P);if(O===null)break;const D=O.index,L=O[1];if(!((m=O[2])!=null&&m.endsWith(":::"))){if(L)C+=1;else if(C-=1,C===0){const V=P.slice(0,D);I=V.trim();const F=d.slice(0,M+D+O[0].length);let z=[];if(I)if(i==="block")for(z=p.blockTokens(V),z.forEach(N=>{N.text&&(!N.tokens||N.tokens.length===0)&&(N.tokens=p.inlineTokens(N.text))});z.length>0;){const N=z[z.length-1];if(N.type==="paragraph"&&(!N.text||N.text.trim()===""))z.pop();else break}else z=p.inlineTokens(I);return{type:t,raw:F,attributes:$,content:I,tokens:z}}}}}},renderMarkdown:(d,f)=>{const p=u(d.attrs||{}),m=s(p),h=m?` {${m}}`:"",g=f.renderChildren(d.content||[],`

`);return`:::${c}${h}

${g}

:::`}}}function FVe(e){if(!e.trim())return{};const t={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(e);for(;r!==null;){const[,o,s,a]=r;t[o]=s||a,r=n.exec(e)}return t}function qVe(e){return Object.entries(e).filter(([,t])=>t!=null).map(([t,n])=>`${t}="${n}"`).join(" ")}function zVe(e){const{nodeName:t,name:n,getContent:r,parseAttributes:o=FVe,serializeAttributes:s=qVe,defaultAttributes:a={},selfClosing:i=!1,allowedAttributes:l}=e,c=n||t,u=f=>{if(!l)return f;const p={};return l.forEach(m=>{const h=typeof m=="string"?m:m.name,g=typeof m=="string"?void 0:m.skipIfDefault;if(h in f){const v=f[h];if(g!==void 0&&v===g)return;p[h]=v}}),p},d=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(f,p)=>{const m={...a,...f.attributes};if(i)return p.createNode(t,m);const h=r?r(f):f.content||"";return h?p.createNode(t,m,[p.createTextNode(h)]):p.createNode(t,m,[])},markdownTokenizer:{name:t,level:"inline",start(f){const p=i?new RegExp(`\\[${d}\\s*[^\\]]*\\]`):new RegExp(`\\[${d}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${d}\\]`),m=f.match(p),h=m?.index;return h!==void 0?h:-1},tokenize(f,p,m){const h=i?new RegExp(`^\\[${d}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${d}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${d}\\]`),g=f.match(h);if(!g)return;let v="",x="";if(i){const[,C]=g;x=C}else{const[,C,M]=g;x=C,v=M||""}const $=o(x.trim());return{type:t,raw:g[0],content:v.trim(),attributes:$}}},renderMarkdown:f=>{let p="";r?p=r(f):f.content&&f.content.length>0&&(p=f.content.filter(v=>v.type==="text").map(v=>v.text).join(""));const m=u(f.attrs||{}),h=s(m),g=h?` ${h}`:"";return i?`[${c}${g}]`:`[${c}${g}]${p}[/${c}]`}}}function LVe(e,t,n){var r,o,s,a;const i=e.split(`
`),l=[];let c="",u=0;const d=t.baseIndentSize||2;for(;u<i.length;){const f=i[u],p=f.match(t.itemPattern);if(!p){if(l.length>0)break;if(f.trim()===""){u+=1,c=`${c}${f}
`;continue}else return}const m=t.extractItemData(p),{indentLevel:h,mainContent:g}=m;c=`${c}${f}
`;const v=[g];for(u+=1;u<i.length;){const M=i[u];if(M.trim()===""){const E=i.slice(u+1).findIndex(D=>D.trim()!=="");if(E===-1)break;if((((o=(r=i[u+1+E].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:o.length)||0)>h){v.push(M),c=`${c}${M}
`,u+=1;continue}else break}if((((a=(s=M.match(/^(\s*)/))==null?void 0:s[1])==null?void 0:a.length)||0)>h)v.push(M),c=`${c}${M}
`,u+=1;else break}let x;const $=v.slice(1);if($.length>0){const M=$.map(I=>I.slice(h+d)).join(`
`);M.trim()&&(t.customNestedParser?x=t.customNestedParser(M):x=n.blockTokens(M))}const C=t.createToken(m,x);l.push(C)}if(l.length!==0)return{items:l,raw:c}}function jVe(e,t,n,r){if(!e||!Array.isArray(e.content))return"";const o=typeof n=="function"?n(r):n,[s,...a]=e.content,i=t.renderChildren([s]),l=[`${o}${i}`];return a&&a.length>0&&a.forEach(c=>{const u=t.renderChildren([c]);if(u){const d=u.split(`
`).map(f=>f?t.indent(f):"").join(`
`);l.push(d)}}),l.join(`
`)}var VVe=class m6 extends d6{constructor(){super(...arguments),this.type="node"}static create(t={}){const n=typeof t=="function"?t():t;return new m6(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},UVe=VVe.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:e}){return["br",Jje(this.options.HTMLAttributes,e)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:n,editor:r})=>e.first([()=>e.exitCode(),()=>e.command(()=>{const{selection:o,storedMarks:s}=n;if(o.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:i}=r.extensionManager,l=s||o.$to.parentOffset&&o.$from.marks();return t().insertContent({type:this.name}).command(({tr:c,dispatch:u})=>{if(u&&l&&a){const d=l.filter(f=>i.includes(f.type.name));c.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),KVe=Object.defineProperty,NA=(e,t)=>{for(var n in t)KVe(e,n,{get:t[n],enumerable:!0})};function h6(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:o}=n,{storedMarks:s}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return s},get selection(){return r},get doc(){return o},get tr(){return r=n.selection,o=n.doc,s=n.storedMarks,n}}}var HVe=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:n,state:r}=this,{view:o}=n,{tr:s}=r,a=this.buildProps(s);return Object.fromEntries(Object.entries(t).map(([i,l])=>[i,(...u)=>{const d=l(...u)(a);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(s),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,n=!0){const{rawCommands:r,editor:o,state:s}=this,{view:a}=o,i=[],l=!!t,c=t||s.tr,u=()=>(!l&&n&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(c),i.every(f=>f===!0)),d={...Object.fromEntries(Object.entries(r).map(([f,p])=>[f,(...h)=>{const g=this.buildProps(c,n),v=p(...h)(g);return i.push(v),d}])),run:u};return d}createCan(t){const{rawCommands:n,state:r}=this,o=!1,s=t||r.tr,a=this.buildProps(s,o);return{...Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...u)=>c(...u)({...a,dispatch:void 0})])),chain:()=>this.createChain(s,o)}}buildProps(t,n=!0){const{rawCommands:r,editor:o,state:s}=this,{view:a}=o,i={tr:t,editor:o,view:a,state:h6({state:s,transaction:t}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(t,n),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...u)=>c(...u)(i)]))}};return i}},g6={};NA(g6,{blur:()=>WVe,clearContent:()=>GVe,clearNodes:()=>JVe,command:()=>YVe,createParagraphNear:()=>QVe,cut:()=>XVe,deleteCurrentNode:()=>ZVe,deleteNode:()=>e4e,deleteRange:()=>t4e,deleteSelection:()=>n4e,enter:()=>r4e,exitCode:()=>o4e,extendMarkRange:()=>a4e,first:()=>i4e,focus:()=>c4e,forEach:()=>d4e,insertContent:()=>f4e,insertContentAt:()=>h4e,joinBackward:()=>y4e,joinDown:()=>v4e,joinForward:()=>b4e,joinItemBackward:()=>x4e,joinItemForward:()=>w4e,joinTextblockBackward:()=>k4e,joinTextblockForward:()=>_4e,joinUp:()=>g4e,keyboardShortcut:()=>$4e,lift:()=>C4e,liftEmptyBlock:()=>M4e,liftListItem:()=>A4e,newlineInCode:()=>T4e,resetAttributes:()=>E4e,scrollIntoView:()=>I4e,selectAll:()=>P4e,selectNodeBackward:()=>O4e,selectNodeForward:()=>R4e,selectParentNode:()=>B4e,selectTextblockEnd:()=>N4e,selectTextblockStart:()=>D4e,setContent:()=>q4e,setMark:()=>Z4e,setMeta:()=>e8e,setNode:()=>t8e,setNodeSelection:()=>n8e,setTextDirection:()=>r8e,setTextSelection:()=>o8e,sinkListItem:()=>s8e,splitBlock:()=>a8e,splitListItem:()=>i8e,toggleList:()=>l8e,toggleMark:()=>u8e,toggleNode:()=>c8e,toggleWrap:()=>d8e,undoInputRule:()=>f8e,unsetAllMarks:()=>p8e,unsetMark:()=>m8e,unsetTextDirection:()=>h8e,updateAttributes:()=>g8e,wrapIn:()=>v8e,wrapInList:()=>y8e});var WVe=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),GVe=(e=!0)=>({commands:t})=>t.setContent("",{emitUpdate:e}),JVe=()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:o}=r;return n&&o.forEach(({$from:s,$to:a})=>{e.doc.nodesBetween(s.pos,a.pos,(i,l)=>{if(i.type.isText)return;const{doc:c,mapping:u}=t,d=c.resolve(u.map(l)),f=c.resolve(u.map(l+i.nodeSize)),p=d.blockRange(f);if(!p)return;const m=lr(p);if(i.type.isTextblock){const{defaultType:h}=d.parent.contentMatchAt(d.index());t.setNodeMarkup(p.start,h)}(m||m===0)&&t.lift(p,m)})}),!0},YVe=e=>t=>e(t),QVe=()=>({state:e,dispatch:t})=>Hr(e,t),XVe=(e,t)=>({editor:n,tr:r})=>{const{state:o}=n,s=o.doc.slice(e.from,e.to);r.deleteRange(e.from,e.to);const a=r.mapping.map(t);return r.insert(a,s.content),r.setSelection(new ie(r.doc.resolve(Math.max(a-1,0)))),!0},ZVe=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;const o=e.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===r.type){if(t){const i=o.before(s),l=o.after(s);e.delete(i,l).scrollIntoView()}return!0}return!1};function Fo(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}var e4e=e=>({tr:t,state:n,dispatch:r})=>{const o=Fo(e,n.schema),s=t.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===o){if(r){const l=s.before(a),c=s.after(a);t.delete(l,c).scrollIntoView()}return!0}return!1},t4e=e=>({tr:t,dispatch:n})=>{const{from:r,to:o}=e;return n&&t.delete(r,o),!0},n4e=()=>({state:e,dispatch:t})=>Cr(e,t),r4e=()=>({commands:e})=>e.keyboardShortcut("Enter"),o4e=()=>({state:e,dispatch:t})=>co(e,t);function s4e(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function t0(e,t,n={strict:!0}){const r=Object.keys(t);return r.length?r.every(o=>n.strict?t[o]===e[o]:s4e(t[o])?t[o].test(e[o]):t[o]===e[o]):!0}function v6(e,t,n={}){return e.find(r=>r.type===t&&t0(Object.fromEntries(Object.keys(n).map(o=>[o,r.attrs[o]])),n))}function iD(e,t,n={}){return!!v6(e,t,n)}function y6(e,t,n){var r;if(!e||!t)return;let o=e.parent.childAfter(e.parentOffset);if((!o.node||!o.node.marks.some(u=>u.type===t))&&(o=e.parent.childBefore(e.parentOffset)),!o.node||!o.node.marks.some(u=>u.type===t)||(n=n||((r=o.node.marks[0])==null?void 0:r.attrs),!v6([...o.node.marks],t,n)))return;let a=o.index,i=e.start()+o.offset,l=a+1,c=i+o.node.nodeSize;for(;a>0&&iD([...e.parent.child(a-1).marks],t,n);)a-=1,i-=e.parent.child(a).nodeSize;for(;l<e.parent.childCount&&iD([...e.parent.child(l).marks],t,n);)c+=e.parent.child(l).nodeSize,l+=1;return{from:i,to:c}}function pu(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}var a4e=(e,t={})=>({tr:n,state:r,dispatch:o})=>{const s=pu(e,r.schema),{doc:a,selection:i}=n,{$from:l,from:c,to:u}=i;if(o){const d=y6(l,s,t);if(d&&d.from<=c&&d.to>=u){const f=ie.create(a,d.from,d.to);n.setSelection(f)}}return!0},i4e=e=>t=>{const n=typeof e=="function"?e(t):e;for(let r=0;r<n.length;r+=1)if(n[r](t))return!0;return!1};function b6(e){return e instanceof ie}function Xu(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function l4e(e,t=null){if(!t)return null;const n=Pe.atStart(e),r=Pe.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return r;const o=n.from,s=r.to;return t==="all"?ie.create(e,Xu(0,o,s),Xu(e.content.size,o,s)):ie.create(e,Xu(t,o,s),Xu(t,o,s))}function lD(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function n0(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function u4e(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}var c4e=(e=null,t={})=>({editor:n,view:r,tr:o,dispatch:s})=>{t={scrollIntoView:!0,...t};const a=()=>{(n0()||lD())&&r.dom.focus(),u4e()&&!n0()&&!lD()&&r.dom.focus({preventScroll:!0}),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),t?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&e===null||e===!1)return!0;if(s&&e===null&&!b6(n.state.selection))return a(),!0;const i=l4e(o.doc,e)||n.state.selection,l=n.state.selection.eq(i);return s&&(l||o.setSelection(i),l&&o.storedMarks&&o.setStoredMarks(o.storedMarks),a()),!0},d4e=(e,t)=>n=>e.every((r,o)=>t(r,{...n,index:o})),f4e=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),x6=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const r=t[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):r.nodeType===1&&x6(r)}return e};function Nv(e){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t=`<body>${e}</body>`,n=new window.DOMParser().parseFromString(t,"text/html").body;return x6(n)}function Om(e,t,n){if(e instanceof Hn||e instanceof de)return e;n={slice:!0,parseOptions:{},...n};const r=typeof e=="object"&&e!==null,o=typeof e=="string";if(r)try{if(Array.isArray(e)&&e.length>0)return de.fromArray(e.map(i=>t.nodeFromJSON(i)));const a=t.nodeFromJSON(e);return n.errorOnInvalidContent&&a.check(),a}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",s),Om("",t,n)}if(o){if(n.errorOnInvalidContent){let a=!1,i="";const l=new qr({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(a=!0,i=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?gt.fromSchema(l).parseSlice(Nv(e),n.parseOptions):gt.fromSchema(l).parse(Nv(e),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${i}`)})}const s=gt.fromSchema(t);return n.slice?s.parseSlice(Nv(e),n.parseOptions).content:s.parse(Nv(e),n.parseOptions)}return Om("",t,n)}function p4e(e,t,n){const r=e.steps.length-1;if(r<t)return;const o=e.steps[r];if(!(o instanceof ln||o instanceof un))return;const s=e.mapping.maps[r];let a=0;s.forEach((i,l,c,u)=>{a===0&&(a=u)}),e.setSelection(Pe.near(e.doc.resolve(a),n))}var m4e=e=>!("type"in e),h4e=(e,t,n)=>({tr:r,dispatch:o,editor:s})=>{var a;if(o){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let i;const l=g=>{s.emit("contentError",{editor:s,error:g,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{Om(t,s.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(g){l(g)}try{i=Om(t,s.schema,{parseOptions:c,errorOnInvalidContent:(a=n.errorOnInvalidContent)!=null?a:s.options.enableContentCheck})}catch(g){return l(g),!1}let{from:u,to:d}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},f=!0,p=!0;if((m4e(i)?i:[i]).forEach(g=>{g.check(),f=f?g.isText&&g.marks.length===0:!1,p=p?g.isBlock:!1}),u===d&&p){const{parent:g}=r.doc.resolve(u);g.isTextblock&&!g.type.spec.code&&!g.childCount&&(u-=1,d+=1)}let h;if(f){if(Array.isArray(t))h=t.map(g=>g.text||"").join("");else if(t instanceof de){let g="";t.forEach(v=>{v.text&&(g+=v.text)}),h=g}else typeof t=="object"&&t&&t.text?h=t.text:h=t;r.insertText(h,u,d)}else{h=i;const g=r.doc.resolve(u),v=g.node(),x=g.parentOffset===0,$=v.isText||v.isTextblock,C=v.content.size>0;x&&$&&C&&(u=Math.max(0,u-1)),r.replaceWith(u,d,h)}n.updateSelection&&p4e(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:u,text:h}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:u,text:h})}return!0},g4e=()=>({state:e,dispatch:t})=>io(e,t),v4e=()=>({state:e,dispatch:t})=>lo(e,t),y4e=()=>({state:e,dispatch:t})=>Lr(e,t),b4e=()=>({state:e,dispatch:t})=>Vr(e,t),x4e=()=>({state:e,dispatch:t,tr:n})=>{try{const r=on(e.doc,e.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},w4e=()=>({state:e,dispatch:t,tr:n})=>{try{const r=on(e.doc,e.selection.$from.pos,1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},k4e=()=>({state:e,dispatch:t})=>so(e,t),_4e=()=>({state:e,dispatch:t})=>ao(e,t);function w6(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function S4e(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let r,o,s,a;for(let i=0;i<t.length-1;i+=1){const l=t[i];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))o=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))n0()||w6()?a=!0:o=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),o&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}var $4e=e=>({editor:t,view:n,tr:r,dispatch:o})=>{const s=S4e(e).split(/-(?!$)/),a=s.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),i=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,i))});return l?.steps.forEach(c=>{const u=c.map(r.mapping);u&&o&&r.maybeStep(u)}),!0};function DA(e,t,n={}){const{from:r,to:o,empty:s}=e.selection,a=t?Fo(t,e.schema):null,i=[];e.doc.nodesBetween(r,o,(d,f)=>{if(d.isText)return;const p=Math.max(r,f),m=Math.min(o,f+d.nodeSize);i.push({node:d,from:p,to:m})});const l=o-r,c=i.filter(d=>a?a.name===d.node.type.name:!0).filter(d=>t0(d.node.attrs,n,{strict:!1}));return s?!!c.length:c.reduce((d,f)=>d+f.to-f.from,0)>=l}var C4e=(e,t={})=>({state:n,dispatch:r})=>{const o=Fo(e,n.schema);return DA(n,o,t)?uo(n,r):!1},M4e=()=>({state:e,dispatch:t})=>Wr(e,t),A4e=e=>({state:t,dispatch:n})=>{const r=Fo(e,t.schema);return vo(r)(t,n)},T4e=()=>({state:e,dispatch:t})=>Kr(e,t);function k6(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function uD(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((r,o)=>(n.includes(o)||(r[o]=e[o]),r),{})}var E4e=(e,t)=>({tr:n,state:r,dispatch:o})=>{let s=null,a=null;const i=k6(typeof e=="string"?e:e.name,r.schema);if(!i)return!1;i==="node"&&(s=Fo(e,r.schema)),i==="mark"&&(a=pu(e,r.schema));let l=!1;return n.selection.ranges.forEach(c=>{r.doc.nodesBetween(c.$from.pos,c.$to.pos,(u,d)=>{s&&s===u.type&&(l=!0,o&&n.setNodeMarkup(d,void 0,uD(u.attrs,t))),a&&u.marks.length&&u.marks.forEach(f=>{a===f.type&&(l=!0,o&&n.addMark(d,d+u.nodeSize,a.create(uD(f.attrs,t))))})})}),l},I4e=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),P4e=()=>({tr:e,dispatch:t})=>{if(t){const n=new Sn(e.doc);e.setSelection(n)}return!0},O4e=()=>({state:e,dispatch:t})=>jr(e,t),R4e=()=>({state:e,dispatch:t})=>Ur(e,t),B4e=()=>({state:e,dispatch:t})=>fo(e,t),N4e=()=>({state:e,dispatch:t})=>mo(e,t),D4e=()=>({state:e,dispatch:t})=>po(e,t);function F4e(e,t,n={},r={}){return Om(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var q4e=(e,{errorOnInvalidContent:t,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:o,tr:s,dispatch:a,commands:i})=>{const{doc:l}=s;if(r.preserveWhitespace!=="full"){const c=F4e(e,o.schema,r,{errorOnInvalidContent:t??o.options.enableContentCheck});return a&&s.replaceWith(0,l.content.size,c).setMeta("preventUpdate",!n),!0}return a&&s.setMeta("preventUpdate",!n),i.insertContentAt({from:0,to:l.content.size},e,{parseOptions:r,errorOnInvalidContent:t??o.options.enableContentCheck})};function z4e(e,t){const n=pu(t,e.schema),{from:r,to:o,empty:s}=e.selection,a=[];s?(e.storedMarks&&a.push(...e.storedMarks),a.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,o,l=>{a.push(...l.marks)});const i=a.find(l=>l.type.name===n.name);return i?{...i.attrs}:{}}function L4e(e,t){const n=new zr(e);return t.forEach(r=>{r.steps.forEach(o=>{n.step(o)})}),n}function j4e(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function V4e(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function FA(e){return t=>V4e(t.$from,e)}function Rm(e,t,n){return e.config[t]===void 0&&e.parent?Rm(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind({...n,parent:e.parent?Rm(e.parent,t,n):null}):e.config[t]}function U4e(e){return typeof e=="function"}function r0(e,t=void 0,...n){return U4e(e)?t?e.bind(t)(...n):e(...n):e}function _6(e){const t=e.filter(o=>o.type==="extension"),n=e.filter(o=>o.type==="node"),r=e.filter(o=>o.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:r}}function K4e(...e){return e.filter(t=>!!t).reduce((t,n)=>{const r={...t};return Object.entries(n).forEach(([o,s])=>{if(!r[o]){r[o]=s;return}if(o==="class"){const i=s?String(s).split(" "):[],l=r[o]?r[o].split(" "):[],c=i.filter(u=>!l.includes(u));r[o]=[...l,...c].join(" ")}else if(o==="style"){const i=s?s.split(";").map(u=>u.trim()).filter(Boolean):[],l=r[o]?r[o].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;l.forEach(u=>{const[d,f]=u.split(":").map(p=>p.trim());c.set(d,f)}),i.forEach(u=>{const[d,f]=u.split(":").map(p=>p.trim());c.set(d,f)}),r[o]=Array.from(c.entries()).map(([u,d])=>`${u}: ${d}`).join("; ")}else r[o]=s}),r},{})}function H4e(e,t,n){const{from:r,to:o}=t,{blockSeparator:s=`

`,textSerializers:a={}}=n||{};let i="";return e.nodesBetween(r,o,(l,c,u,d)=>{var f;l.isBlock&&c>r&&(i+=s);const p=a?.[l.type.name];if(p)return u&&(i+=p({node:l,pos:c,parent:u,index:d,range:t})),!1;l.isText&&(i+=(f=l?.text)==null?void 0:f.slice(Math.max(r,c)-c,o-c))}),i}function W4e(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}function G4e(e,t=JSON.stringify){const n={};return e.filter(r=>{const o=t(r);return Object.prototype.hasOwnProperty.call(n,o)?!1:n[o]=!0})}function J4e(e){const t=G4e(e);return t.length===1?t:t.filter((n,r)=>!t.filter((s,a)=>a!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function Y4e(e){const{mapping:t,steps:n}=e,r=[];return t.maps.forEach((o,s)=>{const a=[];if(o.ranges.length)o.forEach((i,l)=>{a.push({from:i,to:l})});else{const{from:i,to:l}=n[s];if(i===void 0||l===void 0)return;a.push({from:i,to:l})}a.forEach(({from:i,to:l})=>{const c=t.slice(s).map(i,-1),u=t.slice(s).map(l),d=t.invert().map(c,-1),f=t.invert().map(u);r.push({oldRange:{from:d,to:f},newRange:{from:c,to:u}})})}),J4e(r)}function Py(e,t,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const o=e.find(s=>s.type===t&&s.name===r);return o?o.attribute.keepOnSplit:!1}))}function Q4e(e,t,n={}){const{empty:r,ranges:o}=e.selection,s=t?pu(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(d=>s?s.name===d.type.name:!0).find(d=>t0(d.attrs,n,{strict:!1}));let a=0;const i=[];if(o.forEach(({$from:d,$to:f})=>{const p=d.pos,m=f.pos;e.doc.nodesBetween(p,m,(h,g)=>{if(!h.isText&&!h.marks.length)return;const v=Math.max(p,g),x=Math.min(m,g+h.nodeSize),$=x-v;a+=$,i.push(...h.marks.map(C=>({mark:C,from:v,to:x})))})}),a===0)return!1;const l=i.filter(d=>s?s.name===d.mark.type.name:!0).filter(d=>t0(d.mark.attrs,n,{strict:!1})).reduce((d,f)=>d+f.to-f.from,0),c=i.filter(d=>s?d.mark.type!==s&&d.mark.type.excludes(s):!0).reduce((d,f)=>d+f.to-f.from,0);return(l>0?l+c:l)>=a}function cD(e,t){const{nodeExtensions:n}=_6(t),r=n.find(a=>a.name===e);if(!r)return!1;const o={name:r.name,options:r.options,storage:r.storage},s=r0(Rm(r,"group",o));return typeof s!="string"?!1:s.split(" ").includes("list")}function S6(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((r=e.text)!=null?r:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let o=!0;return e.content.forEach(s=>{o!==!1&&(S6(s,{ignoreWhitespace:n,checkChildren:t})||(o=!1))}),o}return!1}function X4e(e,t,n){var r;const{selection:o}=t;let s=null;if(b6(o)&&(s=o.$cursor),s){const i=(r=e.storedMarks)!=null?r:s.marks();return s.parent.type.allowsMarkType(n)&&(!!n.isInSet(i)||!i.some(c=>c.type.excludes(n)))}const{ranges:a}=o;return a.some(({$from:i,$to:l})=>{let c=i.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(i.pos,l.pos,(u,d,f)=>{if(c)return!1;if(u.isInline){const p=!f||f.type.allowsMarkType(n),m=!!n.isInSet(u.marks)||!u.marks.some(h=>h.type.excludes(n));c=p&&m}return!c}),c})}var Z4e=(e,t={})=>({tr:n,state:r,dispatch:o})=>{const{selection:s}=n,{empty:a,ranges:i}=s,l=pu(e,r.schema);if(o)if(a){const c=z4e(r,l);n.addStoredMark(l.create({...c,...t}))}else i.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;r.doc.nodesBetween(u,d,(f,p)=>{const m=Math.max(p,u),h=Math.min(p+f.nodeSize,d);f.marks.find(v=>v.type===l)?f.marks.forEach(v=>{l===v.type&&n.addMark(m,h,l.create({...v.attrs,...t}))}):n.addMark(m,h,l.create(t))})});return X4e(r,n,l)},e8e=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),t8e=(e,t={})=>({state:n,dispatch:r,chain:o})=>{const s=Fo(e,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),s.isTextblock?o().command(({commands:i})=>cn(s,{...a,...t})(n)?!0:i.clearNodes()).command(({state:i})=>cn(s,{...a,...t})(i,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},n8e=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,o=Xu(e,0,r.content.size),s=Ge.create(r,o);t.setSelection(s)}return!0},r8e=(e,t)=>({tr:n,state:r,dispatch:o})=>{const{selection:s}=r;let a,i;return typeof t=="number"?(a=t,i=t):t&&"from"in t&&"to"in t?(a=t.from,i=t.to):(a=s.from,i=s.to),o&&n.doc.nodesBetween(a,i,(l,c)=>{l.isText||n.setNodeMarkup(c,void 0,{...l.attrs,dir:e})}),!0},o8e=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,{from:o,to:s}=typeof e=="number"?{from:e,to:e}:e,a=ie.atStart(r).from,i=ie.atEnd(r).to,l=Xu(o,a,i),c=Xu(s,a,i),u=ie.create(r,l,c);t.setSelection(u)}return!0},s8e=e=>({state:t,dispatch:n})=>{const r=Fo(e,t.schema);return yo(r)(t,n)};function dD(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(o=>t?.includes(o.type.name));e.tr.ensureMarks(r)}}var a8e=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:o})=>{const{selection:s,doc:a}=t,{$from:i,$to:l}=s,c=o.extensionManager.attributes,u=Py(c,i.node().type.name,i.node().attrs);if(s instanceof Ge&&s.node.isBlock)return!i.parentOffset||!ot(a,i.pos)?!1:(r&&(e&&dD(n,o.extensionManager.splittableMarks),t.split(i.pos).scrollIntoView()),!0);if(!i.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,f=i.depth===0?void 0:j4e(i.node(-1).contentMatchAt(i.indexAfter(-1)));let p=d&&f?[{type:f,attrs:u}]:void 0,m=ot(t.doc,t.mapping.map(i.pos),1,p);if(!p&&!m&&ot(t.doc,t.mapping.map(i.pos),1,f?[{type:f}]:void 0)&&(m=!0,p=f?[{type:f,attrs:u}]:void 0),r){if(m&&(s instanceof ie&&t.deleteSelection(),t.split(t.mapping.map(i.pos),1,p),f&&!d&&!i.parentOffset&&i.parent.type!==f)){const h=t.mapping.map(i.before()),g=t.doc.resolve(h);i.node(-1).canReplaceWith(g.index(),g.index()+1,f)&&t.setNodeMarkup(t.mapping.map(i.before()),f)}e&&dD(n,o.extensionManager.splittableMarks),t.scrollIntoView()}return m},i8e=(e,t={})=>({tr:n,state:r,dispatch:o,editor:s})=>{var a;const i=Fo(e,r.schema),{$from:l,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const d=l.node(-1);if(d.type!==i)return!1;const f=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==i||l.index(-2)!==l.node(-2).childCount-1)return!1;if(o){let v=de.empty;const x=l.index(-1)?1:l.index(-2)?2:3;for(let P=l.depth-x;P>=l.depth-3;P-=1)v=de.from(l.node(P).copy(v));const $=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,C={...Py(f,l.node().type.name,l.node().attrs),...t},M=((a=i.contentMatch.defaultType)==null?void 0:a.createAndFill(C))||void 0;v=v.append(de.from(i.createAndFill(null,M)||void 0));const I=l.before(l.depth-(x-1));n.replace(I,l.after(-$),new Je(v,4-x,0));let E=-1;n.doc.nodesBetween(I,n.doc.content.size,(P,O)=>{if(E>-1)return!1;P.isTextblock&&P.content.size===0&&(E=O+1)}),E>-1&&n.setSelection(ie.near(n.doc.resolve(E))),n.scrollIntoView()}return!0}const p=c.pos===l.end()?d.contentMatchAt(0).defaultType:null,m={...Py(f,d.type.name,d.attrs),...t},h={...Py(f,l.node().type.name,l.node().attrs),...t};n.delete(l.pos,c.pos);const g=p?[{type:i,attrs:m},{type:p,attrs:h}]:[{type:i,attrs:m}];if(!ot(n.doc,l.pos,2))return!1;if(o){const{selection:v,storedMarks:x}=r,{splittableMarks:$}=s.extensionManager,C=x||v.$to.parentOffset&&v.$from.marks();if(n.split(l.pos,2,g).scrollIntoView(),!C||!o)return!0;const M=C.filter(I=>$.includes(I.type.name));n.ensureMarks(M)}return!0},R_=(e,t)=>{const n=FA(a=>a.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const o=e.doc.nodeAt(r);return n.node.type===o?.type&&Ht(e.doc,n.pos)&&e.join(n.pos),!0},B_=(e,t)=>{const n=FA(a=>a.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const o=e.doc.nodeAt(r);return n.node.type===o?.type&&Ht(e.doc,r)&&e.join(r),!0},l8e=(e,t,n,r={})=>({editor:o,tr:s,state:a,dispatch:i,chain:l,commands:c,can:u})=>{const{extensions:d,splittableMarks:f}=o.extensionManager,p=Fo(e,a.schema),m=Fo(t,a.schema),{selection:h,storedMarks:g}=a,{$from:v,$to:x}=h,$=v.blockRange(x),C=g||h.$to.parentOffset&&h.$from.marks();if(!$)return!1;const M=FA(I=>cD(I.type.name,d))(h);if($.depth>=1&&M&&$.depth-M.depth<=1){if(M.node.type===p)return c.liftListItem(m);if(cD(M.node.type.name,d)&&p.validContent(M.node.content)&&i)return l().command(()=>(s.setNodeMarkup(M.pos,p),!0)).command(()=>R_(s,p)).command(()=>B_(s,p)).run()}return!n||!C||!i?l().command(()=>u().wrapInList(p,r)?!0:c.clearNodes()).wrapInList(p,r).command(()=>R_(s,p)).command(()=>B_(s,p)).run():l().command(()=>{const I=u().wrapInList(p,r),E=C.filter(P=>f.includes(P.type.name));return s.ensureMarks(E),I?!0:c.clearNodes()}).wrapInList(p,r).command(()=>R_(s,p)).command(()=>B_(s,p)).run()},u8e=(e,t={},n={})=>({state:r,commands:o})=>{const{extendEmptyMarkRange:s=!1}=n,a=pu(e,r.schema);return Q4e(r,a,t)?o.unsetMark(a,{extendEmptyMarkRange:s}):o.setMark(a,t)},c8e=(e,t,n={})=>({state:r,commands:o})=>{const s=Fo(e,r.schema),a=Fo(t,r.schema),i=DA(r,s,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),i?o.setNode(a,l):o.setNode(s,{...l,...n})},d8e=(e,t={})=>({state:n,commands:r})=>{const o=Fo(e,n.schema);return DA(n,o,t)?r.lift(o):r.wrapIn(o,t)},f8e=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const o=n[r];let s;if(o.spec.isInputRules&&(s=o.getState(e))){if(t){const a=e.tr,i=s.transform;for(let l=i.steps.length-1;l>=0;l-=1)a.step(i.steps[l].invert(i.docs[l]));if(s.text){const l=a.doc.resolve(s.from).marks();a.replaceWith(s.from,s.to,e.schema.text(s.text,l))}else a.delete(s.from,s.to)}return!0}}return!1},p8e=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:o}=n;return r||t&&o.forEach(s=>{e.removeMark(s.$from.pos,s.$to.pos)}),!0},m8e=(e,t={})=>({tr:n,state:r,dispatch:o})=>{var s;const{extendEmptyMarkRange:a=!1}=t,{selection:i}=n,l=pu(e,r.schema),{$from:c,empty:u,ranges:d}=i;if(!o)return!0;if(u&&a){let{from:f,to:p}=i;const m=(s=c.marks().find(g=>g.type===l))==null?void 0:s.attrs,h=y6(c,l,m);h&&(f=h.from,p=h.to),n.removeMark(f,p,l)}else d.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,l)});return n.removeStoredMark(l),!0},h8e=e=>({tr:t,state:n,dispatch:r})=>{const{selection:o}=n;let s,a;return typeof e=="number"?(s=e,a=e):e&&"from"in e&&"to"in e?(s=e.from,a=e.to):(s=o.from,a=o.to),r&&t.doc.nodesBetween(s,a,(i,l)=>{if(i.isText)return;const c={...i.attrs};delete c.dir,t.setNodeMarkup(l,void 0,c)}),!0},g8e=(e,t={})=>({tr:n,state:r,dispatch:o})=>{let s=null,a=null;const i=k6(typeof e=="string"?e:e.name,r.schema);if(!i)return!1;i==="node"&&(s=Fo(e,r.schema)),i==="mark"&&(a=pu(e,r.schema));let l=!1;return n.selection.ranges.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;let f,p,m,h;n.selection.empty?r.doc.nodesBetween(u,d,(g,v)=>{s&&s===g.type&&(l=!0,m=Math.max(v,u),h=Math.min(v+g.nodeSize,d),f=v,p=g)}):r.doc.nodesBetween(u,d,(g,v)=>{v<u&&s&&s===g.type&&(l=!0,m=Math.max(v,u),h=Math.min(v+g.nodeSize,d),f=v,p=g),v>=u&&v<=d&&(s&&s===g.type&&(l=!0,o&&n.setNodeMarkup(v,void 0,{...g.attrs,...t})),a&&g.marks.length&&g.marks.forEach(x=>{if(a===x.type&&(l=!0,o)){const $=Math.max(v,u),C=Math.min(v+g.nodeSize,d);n.addMark($,C,a.create({...x.attrs,...t}))}}))}),p&&(f!==void 0&&o&&n.setNodeMarkup(f,void 0,{...p.attrs,...t}),a&&p.marks.length&&p.marks.forEach(g=>{a===g.type&&o&&n.addMark(m,h,a.create({...g.attrs,...t}))}))}),l},v8e=(e,t={})=>({state:n,dispatch:r})=>{const o=Fo(e,n.schema);return ho(o,t)(n,r)},y8e=(e,t={})=>({state:n,dispatch:r})=>{const o=Fo(e,n.schema);return go(o,t)(n,r)},b8e=class{constructor(t){var n;this.find=t.find,this.handler=t.handler,this.undoable=(n=t.undoable)!=null?n:!0}};function x8e(e){return Object.prototype.toString.call(e).slice(8,-1)}function Dv(e){return x8e(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function $6(e,t){const n={...e};return Dv(e)&&Dv(t)&&Object.keys(t).forEach(r=>{Dv(t[r])&&Dv(e[r])?n[r]=$6(e[r],t[r]):n[r]=t[r]}),n}var C6=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...r0(Rm(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...r0(Rm(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const n=this.extend({...this.config,addOptions:()=>$6(this.options,t)});return n.name=this.name,n.parent=this.parent,n}extend(t={}){const n=new this.constructor({...this.config,...t});return n.parent=this,this.child=n,n.name="name"in t?t.name:n.parent.name,n}},w8e={};NA(w8e,{ClipboardTextSerializer:()=>k8e,Commands:()=>_8e,Delete:()=>S8e,Drop:()=>$8e,Editable:()=>C8e,FocusEvents:()=>M8e,Keymap:()=>A8e,Paste:()=>T8e,Tabindex:()=>E8e,TextDirection:()=>I8e,focusEventsPluginKey:()=>A6});var gi=class M6 extends C6{constructor(){super(...arguments),this.type="extension"}static create(t={}){const n=typeof t=="function"?t():t;return new M6(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},k8e=gi.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Se({key:new Ce("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:o}=t,{ranges:s}=o,a=Math.min(...s.map(u=>u.$from.pos)),i=Math.max(...s.map(u=>u.$to.pos)),l=W4e(n);return H4e(r,{from:a,to:i},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),_8e=gi.create({name:"commands",addCommands(){return{...g6}}}),S8e=gi.create({name:"delete",onUpdate({transaction:e,appendedTransactions:t}){var n,r,o;const s=()=>{var a,i,l,c;if((c=(l=(i=(a=this.editor.options.coreExtensionOptions)==null?void 0:a.delete)==null?void 0:i.filterTransaction)==null?void 0:l.call(i,e))!=null?c:e.getMeta("y-sync$"))return;const u=L4e(e.before,[e,...t]);Y4e(u).forEach(p=>{u.mapping.mapResult(p.oldRange.from).deletedAfter&&u.mapping.mapResult(p.oldRange.to).deletedBefore&&u.before.nodesBetween(p.oldRange.from,p.oldRange.to,(m,h)=>{const g=h+m.nodeSize-2,v=p.oldRange.from<=h&&g<=p.oldRange.to;this.editor.emit("delete",{type:"node",node:m,from:h,to:g,newFrom:u.mapping.map(h),newTo:u.mapping.map(g),deletedRange:p.oldRange,newRange:p.newRange,partial:!v,editor:this.editor,transaction:e,combinedTransform:u})})});const f=u.mapping;u.steps.forEach((p,m)=>{var h,g;if(p instanceof En){const v=f.slice(m).map(p.from,-1),x=f.slice(m).map(p.to),$=f.invert().map(v,-1),C=f.invert().map(x),M=(h=u.doc.nodeAt(v-1))==null?void 0:h.marks.some(E=>E.eq(p.mark)),I=(g=u.doc.nodeAt(x))==null?void 0:g.marks.some(E=>E.eq(p.mark));this.editor.emit("delete",{type:"mark",mark:p.mark,from:p.from,to:p.to,deletedRange:{from:$,to:C},newRange:{from:v,to:x},partial:!!(I||M),editor:this.editor,transaction:e,combinedTransform:u})}})};(o=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||o?setTimeout(s,0):s()}}),$8e=gi.create({name:"drop",addProseMirrorPlugins(){return[new Se({key:new Ce("tiptapDrop"),props:{handleDrop:(e,t,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:r})}}})]}}),C8e=gi.create({name:"editable",addProseMirrorPlugins(){return[new Se({key:new Ce("editable"),props:{editable:()=>this.editor.options.editable}})]}}),A6=new Ce("focusEvents"),M8e=gi.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new Se({key:A6,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),A8e=gi.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:i})=>{const{selection:l,doc:c}=i,{empty:u,$anchor:d}=l,{pos:f,parent:p}=d,m=d.parent.isTextblock&&f>0?i.doc.resolve(f-1):d,h=m.parent.type.spec.isolating,g=d.pos-d.parentOffset,v=h&&m.parent.childCount===1?g===d.pos:Pe.atStart(c).from===f;return!u||!p.type.isTextblock||p.textContent.length||!v||v&&d.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},o={...r},s={...r,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return n0()||w6()?s:o},addProseMirrorPlugins(){return[new Se({key:new Ce("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(h=>h.getMeta("composition")))return;const r=e.some(h=>h.docChanged)&&!t.doc.eq(n.doc),o=e.some(h=>h.getMeta("preventClearDocument"));if(!r||o)return;const{empty:s,from:a,to:i}=t.selection,l=Pe.atStart(t.doc).from,c=Pe.atEnd(t.doc).to;if(s||!(a===l&&i===c)||!S6(n.doc))return;const f=n.tr,p=h6({state:n,transaction:f}),{commands:m}=new HVe({editor:this.editor,state:p});if(m.clearNodes(),!!f.steps.length)return f}})]}}),T8e=gi.create({name:"paste",addProseMirrorPlugins(){return[new Se({key:new Ce("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),E8e=gi.create({name:"tabindex",addProseMirrorPlugins(){return[new Se({key:new Ce("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),I8e=gi.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:e}=_6(this.extensions);return[{types:e.filter(t=>t.name!=="text").map(t=>t.name),attributes:{dir:{default:this.options.direction,parseHTML:t=>{const n=t.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:t=>t.dir?{dir:t.dir}:{}}}}]},addProseMirrorPlugins(){return[new Se({key:new Ce("textDirection"),props:{attributes:()=>{const e=this.options.direction;return e?{dir:e}:{}}}})]}});function P8e(e){return new b8e({find:e.find,handler:({state:t,range:n,match:r})=>{const o=t.doc.resolve(n.from),s=r0(e.getAttributes,void 0,r)||{};if(!o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),e.type))return null;t.tr.delete(n.from,n.to).setBlockType(n.from,n.from,e.type,s)},undoable:e.undoable})}var O8e={};NA(O8e,{createAtomBlockMarkdownSpec:()=>R8e,createBlockMarkdownSpec:()=>B8e,createInlineMarkdownSpec:()=>F8e,parseAttributes:()=>qA,parseIndentedBlocks:()=>q8e,renderNestedMarkdownContent:()=>z8e,serializeAttributes:()=>zA});function qA(e){if(!e?.trim())return{};const t={},n=[],r=e.replace(/["']([^"']*)["']/g,c=>(n.push(c),`__QUOTED_${n.length-1}__`)),o=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(o){const c=o.map(u=>u.trim().slice(1));t.class=c.join(" ")}const s=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);s&&(t.id=s[1]);const a=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(a)).forEach(([,c,u])=>{var d;const f=parseInt(((d=u.match(/__QUOTED_(\d+)__/))==null?void 0:d[1])||"0",10),p=n[f];p&&(t[c]=p.slice(1,-1))});const l=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return l&&l.split(/\s+/).filter(Boolean).forEach(u=>{u.match(/^[a-zA-Z][\w-]*$/)&&(t[u]=!0)}),t}function zA(e){if(!e||Object.keys(e).length===0)return"";const t=[];return e.class&&String(e.class).split(/\s+/).filter(Boolean).forEach(r=>t.push(`.${r}`)),e.id&&t.push(`#${e.id}`),Object.entries(e).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?t.push(n):r!==!1&&r!=null&&t.push(`${n}="${String(r)}"`))}),t.join(" ")}function R8e(e){const{nodeName:t,name:n,parseAttributes:r=qA,serializeAttributes:o=zA,defaultAttributes:s={},requiredAttributes:a=[],allowedAttributes:i}=e,l=n||t,c=u=>{if(!i)return u;const d={};return i.forEach(f=>{f in u&&(d[f]=u[f])}),d};return{parseMarkdown:(u,d)=>{const f={...s,...u.attributes};return d.createNode(t,f,[])},markdownTokenizer:{name:t,level:"block",start(u){var d;const f=new RegExp(`^:::${l}(?:\\s|$)`,"m"),p=(d=u.match(f))==null?void 0:d.index;return p!==void 0?p:-1},tokenize(u,d,f){const p=new RegExp(`^:::${l}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),m=u.match(p);if(!m)return;const h=m[1]||"",g=r(h);if(!a.find(x=>!(x in g)))return{type:t,raw:m[0],attributes:g}}},renderMarkdown:u=>{const d=c(u.attrs||{}),f=o(d),p=f?` {${f}}`:"";return`:::${l}${p} :::`}}}function B8e(e){const{nodeName:t,name:n,getContent:r,parseAttributes:o=qA,serializeAttributes:s=zA,defaultAttributes:a={},content:i="block",allowedAttributes:l}=e,c=n||t,u=d=>{if(!l)return d;const f={};return l.forEach(p=>{p in d&&(f[p]=d[p])}),f};return{parseMarkdown:(d,f)=>{let p;if(r){const h=r(d);p=typeof h=="string"?[{type:"text",text:h}]:h}else i==="block"?p=f.parseChildren(d.tokens||[]):p=f.parseInline(d.tokens||[]);const m={...a,...d.attributes};return f.createNode(t,m,p)},markdownTokenizer:{name:t,level:"block",start(d){var f;const p=new RegExp(`^:::${c}`,"m"),m=(f=d.match(p))==null?void 0:f.index;return m!==void 0?m:-1},tokenize(d,f,p){var m;const h=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),g=d.match(h);if(!g)return;const[v,x=""]=g,$=o(x);let C=1;const M=v.length;let I="";const E=/^:::([\w-]*)(\s.*)?/gm,P=d.slice(M);for(E.lastIndex=0;;){const O=E.exec(P);if(O===null)break;const D=O.index,L=O[1];if(!((m=O[2])!=null&&m.endsWith(":::"))){if(L)C+=1;else if(C-=1,C===0){const V=P.slice(0,D);I=V.trim();const F=d.slice(0,M+D+O[0].length);let z=[];if(I)if(i==="block")for(z=p.blockTokens(V),z.forEach(N=>{N.text&&(!N.tokens||N.tokens.length===0)&&(N.tokens=p.inlineTokens(N.text))});z.length>0;){const N=z[z.length-1];if(N.type==="paragraph"&&(!N.text||N.text.trim()===""))z.pop();else break}else z=p.inlineTokens(I);return{type:t,raw:F,attributes:$,content:I,tokens:z}}}}}},renderMarkdown:(d,f)=>{const p=u(d.attrs||{}),m=s(p),h=m?` {${m}}`:"",g=f.renderChildren(d.content||[],`

`);return`:::${c}${h}

${g}

:::`}}}function N8e(e){if(!e.trim())return{};const t={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(e);for(;r!==null;){const[,o,s,a]=r;t[o]=s||a,r=n.exec(e)}return t}function D8e(e){return Object.entries(e).filter(([,t])=>t!=null).map(([t,n])=>`${t}="${n}"`).join(" ")}function F8e(e){const{nodeName:t,name:n,getContent:r,parseAttributes:o=N8e,serializeAttributes:s=D8e,defaultAttributes:a={},selfClosing:i=!1,allowedAttributes:l}=e,c=n||t,u=f=>{if(!l)return f;const p={};return l.forEach(m=>{const h=typeof m=="string"?m:m.name,g=typeof m=="string"?void 0:m.skipIfDefault;if(h in f){const v=f[h];if(g!==void 0&&v===g)return;p[h]=v}}),p},d=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(f,p)=>{const m={...a,...f.attributes};if(i)return p.createNode(t,m);const h=r?r(f):f.content||"";return h?p.createNode(t,m,[p.createTextNode(h)]):p.createNode(t,m,[])},markdownTokenizer:{name:t,level:"inline",start(f){const p=i?new RegExp(`\\[${d}\\s*[^\\]]*\\]`):new RegExp(`\\[${d}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${d}\\]`),m=f.match(p),h=m?.index;return h!==void 0?h:-1},tokenize(f,p,m){const h=i?new RegExp(`^\\[${d}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${d}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${d}\\]`),g=f.match(h);if(!g)return;let v="",x="";if(i){const[,C]=g;x=C}else{const[,C,M]=g;x=C,v=M||""}const $=o(x.trim());return{type:t,raw:g[0],content:v.trim(),attributes:$}}},renderMarkdown:f=>{let p="";r?p=r(f):f.content&&f.content.length>0&&(p=f.content.filter(v=>v.type==="text").map(v=>v.text).join(""));const m=u(f.attrs||{}),h=s(m),g=h?` ${h}`:"";return i?`[${c}${g}]`:`[${c}${g}]${p}[/${c}]`}}}function q8e(e,t,n){var r,o,s,a;const i=e.split(`
`),l=[];let c="",u=0;const d=t.baseIndentSize||2;for(;u<i.length;){const f=i[u],p=f.match(t.itemPattern);if(!p){if(l.length>0)break;if(f.trim()===""){u+=1,c=`${c}${f}
`;continue}else return}const m=t.extractItemData(p),{indentLevel:h,mainContent:g}=m;c=`${c}${f}
`;const v=[g];for(u+=1;u<i.length;){const M=i[u];if(M.trim()===""){const E=i.slice(u+1).findIndex(D=>D.trim()!=="");if(E===-1)break;if((((o=(r=i[u+1+E].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:o.length)||0)>h){v.push(M),c=`${c}${M}
`,u+=1;continue}else break}if((((a=(s=M.match(/^(\s*)/))==null?void 0:s[1])==null?void 0:a.length)||0)>h)v.push(M),c=`${c}${M}
`,u+=1;else break}let x;const $=v.slice(1);if($.length>0){const M=$.map(I=>I.slice(h+d)).join(`
`);M.trim()&&(t.customNestedParser?x=t.customNestedParser(M):x=n.blockTokens(M))}const C=t.createToken(m,x);l.push(C)}if(l.length!==0)return{items:l,raw:c}}function z8e(e,t,n,r){if(!e||!Array.isArray(e.content))return"";const o=typeof n=="function"?n(r):n,[s,...a]=e.content,i=t.renderChildren([s]),l=[`${o}${i}`];return a&&a.length>0&&a.forEach(c=>{const u=t.renderChildren([c]);if(u){const d=u.split(`
`).map(f=>f?t.indent(f):"").join(`
`);l.push(d)}}),l.join(`
`)}var L8e=class T6 extends C6{constructor(){super(...arguments),this.type="node"}static create(t={}){const n=typeof t=="function"?t():t;return new T6(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},j8e=L8e.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,K4e(this.options.HTMLAttributes,t),0]},parseMarkdown:(e,t)=>t.createNode("heading",{level:e.depth||1},t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>{var n;const r=(n=e.attrs)!=null&&n.level?parseInt(e.attrs.level,10):1,o="#".repeat(r);return e.content?`${o} ${t.renderChildren(e.content)}`:""},addCommands(){return{setHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.setNode(this.name,e):!1,toggleHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.toggleNode(this.name,"paragraph",e):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>P8e({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}}),V8e=Q2e.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:e}){return["hr",ZPe(this.options.HTMLAttributes,e)]},markdownTokenName:"hr",parseMarkdown:(e,t)=>t.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:e,state:t})=>{if(!j2e(t,t.schema.nodes[this.name]))return!1;const{selection:n}=t,{$to:r}=n,o=e();return a2e(n)?o.insertContentAt(r.pos,{type:this.name}):o.insertContent({type:this.name}),o.command(({state:s,tr:a,dispatch:i})=>{if(i){const{$to:l}=a.selection,c=l.end();if(l.nodeAfter)l.nodeAfter.isTextblock?a.setSelection(ie.create(a.doc,l.pos+1)):l.nodeAfter.isBlock?a.setSelection(Ge.create(a.doc,l.pos)):a.setSelection(ie.create(a.doc,l.pos));else{const u=s.schema.nodes[this.options.nextNodeType]||l.parent.type.contentMatch.defaultType,d=u?.create();d&&(a.insert(c,d),a.setSelection(ie.create(a.doc,c+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[L2e({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),U8e=Object.defineProperty,LA=(e,t)=>{for(var n in t)U8e(e,n,{get:t[n],enumerable:!0})};function E6(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:o}=n,{storedMarks:s}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return s},get selection(){return r},get doc(){return o},get tr(){return r=n.selection,o=n.doc,s=n.storedMarks,n}}}var K8e=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:n,state:r}=this,{view:o}=n,{tr:s}=r,a=this.buildProps(s);return Object.fromEntries(Object.entries(t).map(([i,l])=>[i,(...u)=>{const d=l(...u)(a);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(s),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,n=!0){const{rawCommands:r,editor:o,state:s}=this,{view:a}=o,i=[],l=!!t,c=t||s.tr,u=()=>(!l&&n&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(c),i.every(f=>f===!0)),d={...Object.fromEntries(Object.entries(r).map(([f,p])=>[f,(...h)=>{const g=this.buildProps(c,n),v=p(...h)(g);return i.push(v),d}])),run:u};return d}createCan(t){const{rawCommands:n,state:r}=this,o=!1,s=t||r.tr,a=this.buildProps(s,o);return{...Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...u)=>c(...u)({...a,dispatch:void 0})])),chain:()=>this.createChain(s,o)}}buildProps(t,n=!0){const{rawCommands:r,editor:o,state:s}=this,{view:a}=o,i={tr:t,editor:o,view:a,state:E6({state:s,transaction:t}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(t,n),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...u)=>c(...u)(i)]))}};return i}},I6={};LA(I6,{blur:()=>H8e,clearContent:()=>W8e,clearNodes:()=>G8e,command:()=>J8e,createParagraphNear:()=>Y8e,cut:()=>Q8e,deleteCurrentNode:()=>X8e,deleteNode:()=>Z8e,deleteRange:()=>e5e,deleteSelection:()=>t5e,enter:()=>n5e,exitCode:()=>r5e,extendMarkRange:()=>s5e,first:()=>a5e,focus:()=>u5e,forEach:()=>c5e,insertContent:()=>d5e,insertContentAt:()=>m5e,joinBackward:()=>v5e,joinDown:()=>g5e,joinForward:()=>y5e,joinItemBackward:()=>b5e,joinItemForward:()=>x5e,joinTextblockBackward:()=>w5e,joinTextblockForward:()=>k5e,joinUp:()=>h5e,keyboardShortcut:()=>S5e,lift:()=>$5e,liftEmptyBlock:()=>C5e,liftListItem:()=>M5e,newlineInCode:()=>A5e,resetAttributes:()=>T5e,scrollIntoView:()=>E5e,selectAll:()=>I5e,selectNodeBackward:()=>P5e,selectNodeForward:()=>O5e,selectParentNode:()=>R5e,selectTextblockEnd:()=>B5e,selectTextblockStart:()=>N5e,setContent:()=>F5e,setMark:()=>X5e,setMeta:()=>Z5e,setNode:()=>e6e,setNodeSelection:()=>t6e,setTextDirection:()=>n6e,setTextSelection:()=>r6e,sinkListItem:()=>o6e,splitBlock:()=>s6e,splitListItem:()=>a6e,toggleList:()=>i6e,toggleMark:()=>l6e,toggleNode:()=>u6e,toggleWrap:()=>c6e,undoInputRule:()=>d6e,unsetAllMarks:()=>f6e,unsetMark:()=>p6e,unsetTextDirection:()=>m6e,updateAttributes:()=>h6e,wrapIn:()=>g6e,wrapInList:()=>v6e});var H8e=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),W8e=(e=!0)=>({commands:t})=>t.setContent("",{emitUpdate:e}),G8e=()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:o}=r;return n&&o.forEach(({$from:s,$to:a})=>{e.doc.nodesBetween(s.pos,a.pos,(i,l)=>{if(i.type.isText)return;const{doc:c,mapping:u}=t,d=c.resolve(u.map(l)),f=c.resolve(u.map(l+i.nodeSize)),p=d.blockRange(f);if(!p)return;const m=lr(p);if(i.type.isTextblock){const{defaultType:h}=d.parent.contentMatchAt(d.index());t.setNodeMarkup(p.start,h)}(m||m===0)&&t.lift(p,m)})}),!0},J8e=e=>t=>e(t),Y8e=()=>({state:e,dispatch:t})=>Hr(e,t),Q8e=(e,t)=>({editor:n,tr:r})=>{const{state:o}=n,s=o.doc.slice(e.from,e.to);r.deleteRange(e.from,e.to);const a=r.mapping.map(t);return r.insert(a,s.content),r.setSelection(new ie(r.doc.resolve(Math.max(a-1,0)))),!0},X8e=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;const o=e.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===r.type){if(t){const i=o.before(s),l=o.after(s);e.delete(i,l).scrollIntoView()}return!0}return!1};function qo(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}var Z8e=e=>({tr:t,state:n,dispatch:r})=>{const o=qo(e,n.schema),s=t.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===o){if(r){const l=s.before(a),c=s.after(a);t.delete(l,c).scrollIntoView()}return!0}return!1},e5e=e=>({tr:t,dispatch:n})=>{const{from:r,to:o}=e;return n&&t.delete(r,o),!0},t5e=()=>({state:e,dispatch:t})=>Cr(e,t),n5e=()=>({commands:e})=>e.keyboardShortcut("Enter"),r5e=()=>({state:e,dispatch:t})=>co(e,t);function o5e(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function o0(e,t,n={strict:!0}){const r=Object.keys(t);return r.length?r.every(o=>n.strict?t[o]===e[o]:o5e(t[o])?t[o].test(e[o]):t[o]===e[o]):!0}function P6(e,t,n={}){return e.find(r=>r.type===t&&o0(Object.fromEntries(Object.keys(n).map(o=>[o,r.attrs[o]])),n))}function fD(e,t,n={}){return!!P6(e,t,n)}function jA(e,t,n){var r;if(!e||!t)return;let o=e.parent.childAfter(e.parentOffset);if((!o.node||!o.node.marks.some(u=>u.type===t))&&(o=e.parent.childBefore(e.parentOffset)),!o.node||!o.node.marks.some(u=>u.type===t)||(n=n||((r=o.node.marks[0])==null?void 0:r.attrs),!P6([...o.node.marks],t,n)))return;let a=o.index,i=e.start()+o.offset,l=a+1,c=i+o.node.nodeSize;for(;a>0&&fD([...e.parent.child(a-1).marks],t,n);)a-=1,i-=e.parent.child(a).nodeSize;for(;l<e.parent.childCount&&fD([...e.parent.child(l).marks],t,n);)c+=e.parent.child(l).nodeSize,l+=1;return{from:i,to:c}}function mu(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}var s5e=(e,t={})=>({tr:n,state:r,dispatch:o})=>{const s=mu(e,r.schema),{doc:a,selection:i}=n,{$from:l,from:c,to:u}=i;if(o){const d=jA(l,s,t);if(d&&d.from<=c&&d.to>=u){const f=ie.create(a,d.from,d.to);n.setSelection(f)}}return!0},a5e=e=>t=>{const n=typeof e=="function"?e(t):e;for(let r=0;r<n.length;r+=1)if(n[r](t))return!0;return!1};function O6(e){return e instanceof ie}function Zu(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function i5e(e,t=null){if(!t)return null;const n=Pe.atStart(e),r=Pe.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return r;const o=n.from,s=r.to;return t==="all"?ie.create(e,Zu(0,o,s),Zu(e.content.size,o,s)):ie.create(e,Zu(t,o,s),Zu(t,o,s))}function pD(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function s0(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function l5e(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}var u5e=(e=null,t={})=>({editor:n,view:r,tr:o,dispatch:s})=>{t={scrollIntoView:!0,...t};const a=()=>{(s0()||pD())&&r.dom.focus(),l5e()&&!s0()&&!pD()&&r.dom.focus({preventScroll:!0}),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),t?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&e===null||e===!1)return!0;if(s&&e===null&&!O6(n.state.selection))return a(),!0;const i=i5e(o.doc,e)||n.state.selection,l=n.state.selection.eq(i);return s&&(l||o.setSelection(i),l&&o.storedMarks&&o.setStoredMarks(o.storedMarks),a()),!0},c5e=(e,t)=>n=>e.every((r,o)=>t(r,{...n,index:o})),d5e=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),R6=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const r=t[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):r.nodeType===1&&R6(r)}return e};function Fv(e){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t=`<body>${e}</body>`,n=new window.DOMParser().parseFromString(t,"text/html").body;return R6(n)}function Bm(e,t,n){if(e instanceof Hn||e instanceof de)return e;n={slice:!0,parseOptions:{},...n};const r=typeof e=="object"&&e!==null,o=typeof e=="string";if(r)try{if(Array.isArray(e)&&e.length>0)return de.fromArray(e.map(i=>t.nodeFromJSON(i)));const a=t.nodeFromJSON(e);return n.errorOnInvalidContent&&a.check(),a}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",s),Bm("",t,n)}if(o){if(n.errorOnInvalidContent){let a=!1,i="";const l=new qr({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(a=!0,i=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?gt.fromSchema(l).parseSlice(Fv(e),n.parseOptions):gt.fromSchema(l).parse(Fv(e),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${i}`)})}const s=gt.fromSchema(t);return n.slice?s.parseSlice(Fv(e),n.parseOptions).content:s.parse(Fv(e),n.parseOptions)}return Bm("",t,n)}function f5e(e,t,n){const r=e.steps.length-1;if(r<t)return;const o=e.steps[r];if(!(o instanceof ln||o instanceof un))return;const s=e.mapping.maps[r];let a=0;s.forEach((i,l,c,u)=>{a===0&&(a=u)}),e.setSelection(Pe.near(e.doc.resolve(a),n))}var p5e=e=>!("type"in e),m5e=(e,t,n)=>({tr:r,dispatch:o,editor:s})=>{var a;if(o){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let i;const l=g=>{s.emit("contentError",{editor:s,error:g,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{Bm(t,s.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(g){l(g)}try{i=Bm(t,s.schema,{parseOptions:c,errorOnInvalidContent:(a=n.errorOnInvalidContent)!=null?a:s.options.enableContentCheck})}catch(g){return l(g),!1}let{from:u,to:d}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},f=!0,p=!0;if((p5e(i)?i:[i]).forEach(g=>{g.check(),f=f?g.isText&&g.marks.length===0:!1,p=p?g.isBlock:!1}),u===d&&p){const{parent:g}=r.doc.resolve(u);g.isTextblock&&!g.type.spec.code&&!g.childCount&&(u-=1,d+=1)}let h;if(f){if(Array.isArray(t))h=t.map(g=>g.text||"").join("");else if(t instanceof de){let g="";t.forEach(v=>{v.text&&(g+=v.text)}),h=g}else typeof t=="object"&&t&&t.text?h=t.text:h=t;r.insertText(h,u,d)}else{h=i;const g=r.doc.resolve(u),v=g.node(),x=g.parentOffset===0,$=v.isText||v.isTextblock,C=v.content.size>0;x&&$&&C&&(u=Math.max(0,u-1)),r.replaceWith(u,d,h)}n.updateSelection&&f5e(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:u,text:h}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:u,text:h})}return!0},h5e=()=>({state:e,dispatch:t})=>io(e,t),g5e=()=>({state:e,dispatch:t})=>lo(e,t),v5e=()=>({state:e,dispatch:t})=>Lr(e,t),y5e=()=>({state:e,dispatch:t})=>Vr(e,t),b5e=()=>({state:e,dispatch:t,tr:n})=>{try{const r=on(e.doc,e.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},x5e=()=>({state:e,dispatch:t,tr:n})=>{try{const r=on(e.doc,e.selection.$from.pos,1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},w5e=()=>({state:e,dispatch:t})=>so(e,t),k5e=()=>({state:e,dispatch:t})=>ao(e,t);function B6(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function _5e(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let r,o,s,a;for(let i=0;i<t.length-1;i+=1){const l=t[i];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))o=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))s0()||B6()?a=!0:o=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),o&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}var S5e=e=>({editor:t,view:n,tr:r,dispatch:o})=>{const s=_5e(e).split(/-(?!$)/),a=s.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),i=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,i))});return l?.steps.forEach(c=>{const u=c.map(r.mapping);u&&o&&r.maybeStep(u)}),!0};function VA(e,t,n={}){const{from:r,to:o,empty:s}=e.selection,a=t?qo(t,e.schema):null,i=[];e.doc.nodesBetween(r,o,(d,f)=>{if(d.isText)return;const p=Math.max(r,f),m=Math.min(o,f+d.nodeSize);i.push({node:d,from:p,to:m})});const l=o-r,c=i.filter(d=>a?a.name===d.node.type.name:!0).filter(d=>o0(d.node.attrs,n,{strict:!1}));return s?!!c.length:c.reduce((d,f)=>d+f.to-f.from,0)>=l}var $5e=(e,t={})=>({state:n,dispatch:r})=>{const o=qo(e,n.schema);return VA(n,o,t)?uo(n,r):!1},C5e=()=>({state:e,dispatch:t})=>Wr(e,t),M5e=e=>({state:t,dispatch:n})=>{const r=qo(e,t.schema);return vo(r)(t,n)},A5e=()=>({state:e,dispatch:t})=>Kr(e,t);function N6(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function mD(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((r,o)=>(n.includes(o)||(r[o]=e[o]),r),{})}var T5e=(e,t)=>({tr:n,state:r,dispatch:o})=>{let s=null,a=null;const i=N6(typeof e=="string"?e:e.name,r.schema);if(!i)return!1;i==="node"&&(s=qo(e,r.schema)),i==="mark"&&(a=mu(e,r.schema));let l=!1;return n.selection.ranges.forEach(c=>{r.doc.nodesBetween(c.$from.pos,c.$to.pos,(u,d)=>{s&&s===u.type&&(l=!0,o&&n.setNodeMarkup(d,void 0,mD(u.attrs,t))),a&&u.marks.length&&u.marks.forEach(f=>{a===f.type&&(l=!0,o&&n.addMark(d,d+u.nodeSize,a.create(mD(f.attrs,t))))})})}),l},E5e=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),I5e=()=>({tr:e,dispatch:t})=>{if(t){const n=new Sn(e.doc);e.setSelection(n)}return!0},P5e=()=>({state:e,dispatch:t})=>jr(e,t),O5e=()=>({state:e,dispatch:t})=>Ur(e,t),R5e=()=>({state:e,dispatch:t})=>fo(e,t),B5e=()=>({state:e,dispatch:t})=>mo(e,t),N5e=()=>({state:e,dispatch:t})=>po(e,t);function D5e(e,t,n={},r={}){return Bm(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var F5e=(e,{errorOnInvalidContent:t,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:o,tr:s,dispatch:a,commands:i})=>{const{doc:l}=s;if(r.preserveWhitespace!=="full"){const c=D5e(e,o.schema,r,{errorOnInvalidContent:t??o.options.enableContentCheck});return a&&s.replaceWith(0,l.content.size,c).setMeta("preventUpdate",!n),!0}return a&&s.setMeta("preventUpdate",!n),i.insertContentAt({from:0,to:l.content.size},e,{parseOptions:r,errorOnInvalidContent:t??o.options.enableContentCheck})};function q5e(e,t){const n=mu(t,e.schema),{from:r,to:o,empty:s}=e.selection,a=[];s?(e.storedMarks&&a.push(...e.storedMarks),a.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,o,l=>{a.push(...l.marks)});const i=a.find(l=>l.type.name===n.name);return i?{...i.attrs}:{}}function z5e(e,t){const n=new zr(e);return t.forEach(r=>{r.steps.forEach(o=>{n.step(o)})}),n}function L5e(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function j5e(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function UA(e){return t=>j5e(t.$from,e)}function Nm(e,t,n){return e.config[t]===void 0&&e.parent?Nm(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind({...n,parent:e.parent?Nm(e.parent,t,n):null}):e.config[t]}function V5e(e){return typeof e=="function"}function Dm(e,t=void 0,...n){return V5e(e)?t?e.bind(t)(...n):e(...n):e}function D6(e){const t=e.filter(o=>o.type==="extension"),n=e.filter(o=>o.type==="node"),r=e.filter(o=>o.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:r}}function U5e(...e){return e.filter(t=>!!t).reduce((t,n)=>{const r={...t};return Object.entries(n).forEach(([o,s])=>{if(!r[o]){r[o]=s;return}if(o==="class"){const i=s?String(s).split(" "):[],l=r[o]?r[o].split(" "):[],c=i.filter(u=>!l.includes(u));r[o]=[...l,...c].join(" ")}else if(o==="style"){const i=s?s.split(";").map(u=>u.trim()).filter(Boolean):[],l=r[o]?r[o].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;l.forEach(u=>{const[d,f]=u.split(":").map(p=>p.trim());c.set(d,f)}),i.forEach(u=>{const[d,f]=u.split(":").map(p=>p.trim());c.set(d,f)}),r[o]=Array.from(c.entries()).map(([u,d])=>`${u}: ${d}`).join("; ")}else r[o]=s}),r},{})}function K5e(e,t,n){const{from:r,to:o}=t,{blockSeparator:s=`

`,textSerializers:a={}}=n||{};let i="";return e.nodesBetween(r,o,(l,c,u,d)=>{var f;l.isBlock&&c>r&&(i+=s);const p=a?.[l.type.name];if(p)return u&&(i+=p({node:l,pos:c,parent:u,index:d,range:t})),!1;l.isText&&(i+=(f=l?.text)==null?void 0:f.slice(Math.max(r,c)-c,o-c))}),i}function H5e(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}function W5e(e,t=JSON.stringify){const n={};return e.filter(r=>{const o=t(r);return Object.prototype.hasOwnProperty.call(n,o)?!1:n[o]=!0})}function G5e(e){const t=W5e(e);return t.length===1?t:t.filter((n,r)=>!t.filter((s,a)=>a!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function J5e(e){const{mapping:t,steps:n}=e,r=[];return t.maps.forEach((o,s)=>{const a=[];if(o.ranges.length)o.forEach((i,l)=>{a.push({from:i,to:l})});else{const{from:i,to:l}=n[s];if(i===void 0||l===void 0)return;a.push({from:i,to:l})}a.forEach(({from:i,to:l})=>{const c=t.slice(s).map(i,-1),u=t.slice(s).map(l),d=t.invert().map(c,-1),f=t.invert().map(u);r.push({oldRange:{from:d,to:f},newRange:{from:c,to:u}})})}),G5e(r)}function F6(e,t,n){const r=[];return e===t?n.resolve(e).marks().forEach(o=>{const s=n.resolve(e),a=jA(s,o.type);a&&r.push({mark:o,...a})}):n.nodesBetween(e,t,(o,s)=>{!o||o?.nodeSize===void 0||r.push(...o.marks.map(a=>({from:s,to:s+o.nodeSize,mark:a})))}),r}function Oy(e,t,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const o=e.find(s=>s.type===t&&s.name===r);return o?o.attribute.keepOnSplit:!1}))}function Y5e(e,t,n={}){const{empty:r,ranges:o}=e.selection,s=t?mu(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(d=>s?s.name===d.type.name:!0).find(d=>o0(d.attrs,n,{strict:!1}));let a=0;const i=[];if(o.forEach(({$from:d,$to:f})=>{const p=d.pos,m=f.pos;e.doc.nodesBetween(p,m,(h,g)=>{if(!h.isText&&!h.marks.length)return;const v=Math.max(p,g),x=Math.min(m,g+h.nodeSize),$=x-v;a+=$,i.push(...h.marks.map(C=>({mark:C,from:v,to:x})))})}),a===0)return!1;const l=i.filter(d=>s?s.name===d.mark.type.name:!0).filter(d=>o0(d.mark.attrs,n,{strict:!1})).reduce((d,f)=>d+f.to-f.from,0),c=i.filter(d=>s?d.mark.type!==s&&d.mark.type.excludes(s):!0).reduce((d,f)=>d+f.to-f.from,0);return(l>0?l+c:l)>=a}function hD(e,t){const{nodeExtensions:n}=D6(t),r=n.find(a=>a.name===e);if(!r)return!1;const o={name:r.name,options:r.options,storage:r.storage},s=Dm(Nm(r,"group",o));return typeof s!="string"?!1:s.split(" ").includes("list")}function q6(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((r=e.text)!=null?r:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let o=!0;return e.content.forEach(s=>{o!==!1&&(q6(s,{ignoreWhitespace:n,checkChildren:t})||(o=!1))}),o}return!1}function Q5e(e,t,n){var r;const{selection:o}=t;let s=null;if(O6(o)&&(s=o.$cursor),s){const i=(r=e.storedMarks)!=null?r:s.marks();return s.parent.type.allowsMarkType(n)&&(!!n.isInSet(i)||!i.some(c=>c.type.excludes(n)))}const{ranges:a}=o;return a.some(({$from:i,$to:l})=>{let c=i.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(i.pos,l.pos,(u,d,f)=>{if(c)return!1;if(u.isInline){const p=!f||f.type.allowsMarkType(n),m=!!n.isInSet(u.marks)||!u.marks.some(h=>h.type.excludes(n));c=p&&m}return!c}),c})}var X5e=(e,t={})=>({tr:n,state:r,dispatch:o})=>{const{selection:s}=n,{empty:a,ranges:i}=s,l=mu(e,r.schema);if(o)if(a){const c=q5e(r,l);n.addStoredMark(l.create({...c,...t}))}else i.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;r.doc.nodesBetween(u,d,(f,p)=>{const m=Math.max(p,u),h=Math.min(p+f.nodeSize,d);f.marks.find(v=>v.type===l)?f.marks.forEach(v=>{l===v.type&&n.addMark(m,h,l.create({...v.attrs,...t}))}):n.addMark(m,h,l.create(t))})});return Q5e(r,n,l)},Z5e=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),e6e=(e,t={})=>({state:n,dispatch:r,chain:o})=>{const s=qo(e,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),s.isTextblock?o().command(({commands:i})=>cn(s,{...a,...t})(n)?!0:i.clearNodes()).command(({state:i})=>cn(s,{...a,...t})(i,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},t6e=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,o=Zu(e,0,r.content.size),s=Ge.create(r,o);t.setSelection(s)}return!0},n6e=(e,t)=>({tr:n,state:r,dispatch:o})=>{const{selection:s}=r;let a,i;return typeof t=="number"?(a=t,i=t):t&&"from"in t&&"to"in t?(a=t.from,i=t.to):(a=s.from,i=s.to),o&&n.doc.nodesBetween(a,i,(l,c)=>{l.isText||n.setNodeMarkup(c,void 0,{...l.attrs,dir:e})}),!0},r6e=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,{from:o,to:s}=typeof e=="number"?{from:e,to:e}:e,a=ie.atStart(r).from,i=ie.atEnd(r).to,l=Zu(o,a,i),c=Zu(s,a,i),u=ie.create(r,l,c);t.setSelection(u)}return!0},o6e=e=>({state:t,dispatch:n})=>{const r=qo(e,t.schema);return yo(r)(t,n)};function gD(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(o=>t?.includes(o.type.name));e.tr.ensureMarks(r)}}var s6e=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:o})=>{const{selection:s,doc:a}=t,{$from:i,$to:l}=s,c=o.extensionManager.attributes,u=Oy(c,i.node().type.name,i.node().attrs);if(s instanceof Ge&&s.node.isBlock)return!i.parentOffset||!ot(a,i.pos)?!1:(r&&(e&&gD(n,o.extensionManager.splittableMarks),t.split(i.pos).scrollIntoView()),!0);if(!i.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,f=i.depth===0?void 0:L5e(i.node(-1).contentMatchAt(i.indexAfter(-1)));let p=d&&f?[{type:f,attrs:u}]:void 0,m=ot(t.doc,t.mapping.map(i.pos),1,p);if(!p&&!m&&ot(t.doc,t.mapping.map(i.pos),1,f?[{type:f}]:void 0)&&(m=!0,p=f?[{type:f,attrs:u}]:void 0),r){if(m&&(s instanceof ie&&t.deleteSelection(),t.split(t.mapping.map(i.pos),1,p),f&&!d&&!i.parentOffset&&i.parent.type!==f)){const h=t.mapping.map(i.before()),g=t.doc.resolve(h);i.node(-1).canReplaceWith(g.index(),g.index()+1,f)&&t.setNodeMarkup(t.mapping.map(i.before()),f)}e&&gD(n,o.extensionManager.splittableMarks),t.scrollIntoView()}return m},a6e=(e,t={})=>({tr:n,state:r,dispatch:o,editor:s})=>{var a;const i=qo(e,r.schema),{$from:l,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const d=l.node(-1);if(d.type!==i)return!1;const f=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==i||l.index(-2)!==l.node(-2).childCount-1)return!1;if(o){let v=de.empty;const x=l.index(-1)?1:l.index(-2)?2:3;for(let P=l.depth-x;P>=l.depth-3;P-=1)v=de.from(l.node(P).copy(v));const $=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,C={...Oy(f,l.node().type.name,l.node().attrs),...t},M=((a=i.contentMatch.defaultType)==null?void 0:a.createAndFill(C))||void 0;v=v.append(de.from(i.createAndFill(null,M)||void 0));const I=l.before(l.depth-(x-1));n.replace(I,l.after(-$),new Je(v,4-x,0));let E=-1;n.doc.nodesBetween(I,n.doc.content.size,(P,O)=>{if(E>-1)return!1;P.isTextblock&&P.content.size===0&&(E=O+1)}),E>-1&&n.setSelection(ie.near(n.doc.resolve(E))),n.scrollIntoView()}return!0}const p=c.pos===l.end()?d.contentMatchAt(0).defaultType:null,m={...Oy(f,d.type.name,d.attrs),...t},h={...Oy(f,l.node().type.name,l.node().attrs),...t};n.delete(l.pos,c.pos);const g=p?[{type:i,attrs:m},{type:p,attrs:h}]:[{type:i,attrs:m}];if(!ot(n.doc,l.pos,2))return!1;if(o){const{selection:v,storedMarks:x}=r,{splittableMarks:$}=s.extensionManager,C=x||v.$to.parentOffset&&v.$from.marks();if(n.split(l.pos,2,g).scrollIntoView(),!C||!o)return!0;const M=C.filter(I=>$.includes(I.type.name));n.ensureMarks(M)}return!0},N_=(e,t)=>{const n=UA(a=>a.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const o=e.doc.nodeAt(r);return n.node.type===o?.type&&Ht(e.doc,n.pos)&&e.join(n.pos),!0},D_=(e,t)=>{const n=UA(a=>a.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const o=e.doc.nodeAt(r);return n.node.type===o?.type&&Ht(e.doc,r)&&e.join(r),!0},i6e=(e,t,n,r={})=>({editor:o,tr:s,state:a,dispatch:i,chain:l,commands:c,can:u})=>{const{extensions:d,splittableMarks:f}=o.extensionManager,p=qo(e,a.schema),m=qo(t,a.schema),{selection:h,storedMarks:g}=a,{$from:v,$to:x}=h,$=v.blockRange(x),C=g||h.$to.parentOffset&&h.$from.marks();if(!$)return!1;const M=UA(I=>hD(I.type.name,d))(h);if($.depth>=1&&M&&$.depth-M.depth<=1){if(M.node.type===p)return c.liftListItem(m);if(hD(M.node.type.name,d)&&p.validContent(M.node.content)&&i)return l().command(()=>(s.setNodeMarkup(M.pos,p),!0)).command(()=>N_(s,p)).command(()=>D_(s,p)).run()}return!n||!C||!i?l().command(()=>u().wrapInList(p,r)?!0:c.clearNodes()).wrapInList(p,r).command(()=>N_(s,p)).command(()=>D_(s,p)).run():l().command(()=>{const I=u().wrapInList(p,r),E=C.filter(P=>f.includes(P.type.name));return s.ensureMarks(E),I?!0:c.clearNodes()}).wrapInList(p,r).command(()=>N_(s,p)).command(()=>D_(s,p)).run()},l6e=(e,t={},n={})=>({state:r,commands:o})=>{const{extendEmptyMarkRange:s=!1}=n,a=mu(e,r.schema);return Y5e(r,a,t)?o.unsetMark(a,{extendEmptyMarkRange:s}):o.setMark(a,t)},u6e=(e,t,n={})=>({state:r,commands:o})=>{const s=qo(e,r.schema),a=qo(t,r.schema),i=VA(r,s,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),i?o.setNode(a,l):o.setNode(s,{...l,...n})},c6e=(e,t={})=>({state:n,commands:r})=>{const o=qo(e,n.schema);return VA(n,o,t)?r.lift(o):r.wrapIn(o,t)},d6e=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const o=n[r];let s;if(o.spec.isInputRules&&(s=o.getState(e))){if(t){const a=e.tr,i=s.transform;for(let l=i.steps.length-1;l>=0;l-=1)a.step(i.steps[l].invert(i.docs[l]));if(s.text){const l=a.doc.resolve(s.from).marks();a.replaceWith(s.from,s.to,e.schema.text(s.text,l))}else a.delete(s.from,s.to)}return!0}}return!1},f6e=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:o}=n;return r||t&&o.forEach(s=>{e.removeMark(s.$from.pos,s.$to.pos)}),!0},p6e=(e,t={})=>({tr:n,state:r,dispatch:o})=>{var s;const{extendEmptyMarkRange:a=!1}=t,{selection:i}=n,l=mu(e,r.schema),{$from:c,empty:u,ranges:d}=i;if(!o)return!0;if(u&&a){let{from:f,to:p}=i;const m=(s=c.marks().find(g=>g.type===l))==null?void 0:s.attrs,h=jA(c,l,m);h&&(f=h.from,p=h.to),n.removeMark(f,p,l)}else d.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,l)});return n.removeStoredMark(l),!0},m6e=e=>({tr:t,state:n,dispatch:r})=>{const{selection:o}=n;let s,a;return typeof e=="number"?(s=e,a=e):e&&"from"in e&&"to"in e?(s=e.from,a=e.to):(s=o.from,a=o.to),r&&t.doc.nodesBetween(s,a,(i,l)=>{if(i.isText)return;const c={...i.attrs};delete c.dir,t.setNodeMarkup(l,void 0,c)}),!0},h6e=(e,t={})=>({tr:n,state:r,dispatch:o})=>{let s=null,a=null;const i=N6(typeof e=="string"?e:e.name,r.schema);if(!i)return!1;i==="node"&&(s=qo(e,r.schema)),i==="mark"&&(a=mu(e,r.schema));let l=!1;return n.selection.ranges.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;let f,p,m,h;n.selection.empty?r.doc.nodesBetween(u,d,(g,v)=>{s&&s===g.type&&(l=!0,m=Math.max(v,u),h=Math.min(v+g.nodeSize,d),f=v,p=g)}):r.doc.nodesBetween(u,d,(g,v)=>{v<u&&s&&s===g.type&&(l=!0,m=Math.max(v,u),h=Math.min(v+g.nodeSize,d),f=v,p=g),v>=u&&v<=d&&(s&&s===g.type&&(l=!0,o&&n.setNodeMarkup(v,void 0,{...g.attrs,...t})),a&&g.marks.length&&g.marks.forEach(x=>{if(a===x.type&&(l=!0,o)){const $=Math.max(v,u),C=Math.min(v+g.nodeSize,d);n.addMark($,C,a.create({...x.attrs,...t}))}}))}),p&&(f!==void 0&&o&&n.setNodeMarkup(f,void 0,{...p.attrs,...t}),a&&p.marks.length&&p.marks.forEach(g=>{a===g.type&&o&&n.addMark(m,h,a.create({...g.attrs,...t}))}))}),l},g6e=(e,t={})=>({state:n,dispatch:r})=>{const o=qo(e,n.schema);return ho(o,t)(n,r)},v6e=(e,t={})=>({state:n,dispatch:r})=>{const o=qo(e,n.schema);return go(o,t)(n,r)},y6e=class{constructor(t){var n;this.find=t.find,this.handler=t.handler,this.undoable=(n=t.undoable)!=null?n:!0}};function b6e(e){return Object.prototype.toString.call(e).slice(8,-1)}function qv(e){return b6e(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function z6(e,t){const n={...e};return qv(e)&&qv(t)&&Object.keys(t).forEach(r=>{qv(t[r])&&qv(e[r])?n[r]=z6(e[r],t[r]):n[r]=t[r]}),n}var L6=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...Dm(Nm(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Dm(Nm(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const n=this.extend({...this.config,addOptions:()=>z6(this.options,t)});return n.name=this.name,n.parent=this.parent,n}extend(t={}){const n=new this.constructor({...this.config,...t});return n.parent=this,this.child=n,n.name="name"in t?t.name:n.parent.name,n}},x6e=class j6 extends L6{constructor(){super(...arguments),this.type="mark"}static create(t={}){const n=typeof t=="function"?t():t;return new j6(n)}static handleExit({editor:t,mark:n}){const{tr:r}=t.state,o=t.state.selection.$from;if(o.pos===o.end()){const a=o.marks();if(!!!a.find(c=>c?.type.name===n.name))return!1;const l=a.find(c=>c?.type.name===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",o.pos),t.view.dispatch(r),!0}return!1}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},w6e=class{constructor(t){this.find=t.find,this.handler=t.handler}},k6e={};LA(k6e,{ClipboardTextSerializer:()=>_6e,Commands:()=>S6e,Delete:()=>$6e,Drop:()=>C6e,Editable:()=>M6e,FocusEvents:()=>A6e,Keymap:()=>T6e,Paste:()=>E6e,Tabindex:()=>I6e,TextDirection:()=>P6e,focusEventsPluginKey:()=>U6});var vi=class V6 extends L6{constructor(){super(...arguments),this.type="extension"}static create(t={}){const n=typeof t=="function"?t():t;return new V6(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},_6e=vi.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Se({key:new Ce("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:o}=t,{ranges:s}=o,a=Math.min(...s.map(u=>u.$from.pos)),i=Math.max(...s.map(u=>u.$to.pos)),l=H5e(n);return K5e(r,{from:a,to:i},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),S6e=vi.create({name:"commands",addCommands(){return{...I6}}}),$6e=vi.create({name:"delete",onUpdate({transaction:e,appendedTransactions:t}){var n,r,o;const s=()=>{var a,i,l,c;if((c=(l=(i=(a=this.editor.options.coreExtensionOptions)==null?void 0:a.delete)==null?void 0:i.filterTransaction)==null?void 0:l.call(i,e))!=null?c:e.getMeta("y-sync$"))return;const u=z5e(e.before,[e,...t]);J5e(u).forEach(p=>{u.mapping.mapResult(p.oldRange.from).deletedAfter&&u.mapping.mapResult(p.oldRange.to).deletedBefore&&u.before.nodesBetween(p.oldRange.from,p.oldRange.to,(m,h)=>{const g=h+m.nodeSize-2,v=p.oldRange.from<=h&&g<=p.oldRange.to;this.editor.emit("delete",{type:"node",node:m,from:h,to:g,newFrom:u.mapping.map(h),newTo:u.mapping.map(g),deletedRange:p.oldRange,newRange:p.newRange,partial:!v,editor:this.editor,transaction:e,combinedTransform:u})})});const f=u.mapping;u.steps.forEach((p,m)=>{var h,g;if(p instanceof En){const v=f.slice(m).map(p.from,-1),x=f.slice(m).map(p.to),$=f.invert().map(v,-1),C=f.invert().map(x),M=(h=u.doc.nodeAt(v-1))==null?void 0:h.marks.some(E=>E.eq(p.mark)),I=(g=u.doc.nodeAt(x))==null?void 0:g.marks.some(E=>E.eq(p.mark));this.editor.emit("delete",{type:"mark",mark:p.mark,from:p.from,to:p.to,deletedRange:{from:$,to:C},newRange:{from:v,to:x},partial:!!(I||M),editor:this.editor,transaction:e,combinedTransform:u})}})};(o=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||o?setTimeout(s,0):s()}}),C6e=vi.create({name:"drop",addProseMirrorPlugins(){return[new Se({key:new Ce("tiptapDrop"),props:{handleDrop:(e,t,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:r})}}})]}}),M6e=vi.create({name:"editable",addProseMirrorPlugins(){return[new Se({key:new Ce("editable"),props:{editable:()=>this.editor.options.editable}})]}}),U6=new Ce("focusEvents"),A6e=vi.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new Se({key:U6,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),T6e=vi.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:i})=>{const{selection:l,doc:c}=i,{empty:u,$anchor:d}=l,{pos:f,parent:p}=d,m=d.parent.isTextblock&&f>0?i.doc.resolve(f-1):d,h=m.parent.type.spec.isolating,g=d.pos-d.parentOffset,v=h&&m.parent.childCount===1?g===d.pos:Pe.atStart(c).from===f;return!u||!p.type.isTextblock||p.textContent.length||!v||v&&d.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},o={...r},s={...r,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return s0()||B6()?s:o},addProseMirrorPlugins(){return[new Se({key:new Ce("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(h=>h.getMeta("composition")))return;const r=e.some(h=>h.docChanged)&&!t.doc.eq(n.doc),o=e.some(h=>h.getMeta("preventClearDocument"));if(!r||o)return;const{empty:s,from:a,to:i}=t.selection,l=Pe.atStart(t.doc).from,c=Pe.atEnd(t.doc).to;if(s||!(a===l&&i===c)||!q6(n.doc))return;const f=n.tr,p=E6({state:n,transaction:f}),{commands:m}=new K8e({editor:this.editor,state:p});if(m.clearNodes(),!!f.steps.length)return f}})]}}),E6e=vi.create({name:"paste",addProseMirrorPlugins(){return[new Se({key:new Ce("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),I6e=vi.create({name:"tabindex",addProseMirrorPlugins(){return[new Se({key:new Ce("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),P6e=vi.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:e}=D6(this.extensions);return[{types:e.filter(t=>t.name!=="text").map(t=>t.name),attributes:{dir:{default:this.options.direction,parseHTML:t=>{const n=t.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:t=>t.dir?{dir:t.dir}:{}}}}]},addProseMirrorPlugins(){return[new Se({key:new Ce("textDirection"),props:{attributes:()=>{const e=this.options.direction;return e?{dir:e}:{}}}})]}});function vD(e){return new y6e({find:e.find,handler:({state:t,range:n,match:r})=>{const o=Dm(e.getAttributes,void 0,r);if(o===!1||o===null)return null;const{tr:s}=t,a=r[r.length-1],i=r[0];if(a){const l=i.search(/\S/),c=n.from+i.indexOf(a),u=c+a.length;if(F6(n.from,n.to,t.doc).filter(p=>p.mark.type.excluded.find(h=>h===e.type&&h!==p.mark.type)).filter(p=>p.to>c).length)return null;u<n.to&&s.delete(u,n.to),c>n.from&&s.delete(n.from+l,c);const f=n.from+l+a.length;s.addMark(n.from+l,f,e.type.create(o||{})),s.removeStoredMark(e.type)}},undoable:e.undoable})}var O6e={};LA(O6e,{createAtomBlockMarkdownSpec:()=>R6e,createBlockMarkdownSpec:()=>B6e,createInlineMarkdownSpec:()=>F6e,parseAttributes:()=>KA,parseIndentedBlocks:()=>q6e,renderNestedMarkdownContent:()=>z6e,serializeAttributes:()=>HA});function KA(e){if(!e?.trim())return{};const t={},n=[],r=e.replace(/["']([^"']*)["']/g,c=>(n.push(c),`__QUOTED_${n.length-1}__`)),o=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(o){const c=o.map(u=>u.trim().slice(1));t.class=c.join(" ")}const s=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);s&&(t.id=s[1]);const a=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(a)).forEach(([,c,u])=>{var d;const f=parseInt(((d=u.match(/__QUOTED_(\d+)__/))==null?void 0:d[1])||"0",10),p=n[f];p&&(t[c]=p.slice(1,-1))});const l=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return l&&l.split(/\s+/).filter(Boolean).forEach(u=>{u.match(/^[a-zA-Z][\w-]*$/)&&(t[u]=!0)}),t}function HA(e){if(!e||Object.keys(e).length===0)return"";const t=[];return e.class&&String(e.class).split(/\s+/).filter(Boolean).forEach(r=>t.push(`.${r}`)),e.id&&t.push(`#${e.id}`),Object.entries(e).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?t.push(n):r!==!1&&r!=null&&t.push(`${n}="${String(r)}"`))}),t.join(" ")}function R6e(e){const{nodeName:t,name:n,parseAttributes:r=KA,serializeAttributes:o=HA,defaultAttributes:s={},requiredAttributes:a=[],allowedAttributes:i}=e,l=n||t,c=u=>{if(!i)return u;const d={};return i.forEach(f=>{f in u&&(d[f]=u[f])}),d};return{parseMarkdown:(u,d)=>{const f={...s,...u.attributes};return d.createNode(t,f,[])},markdownTokenizer:{name:t,level:"block",start(u){var d;const f=new RegExp(`^:::${l}(?:\\s|$)`,"m"),p=(d=u.match(f))==null?void 0:d.index;return p!==void 0?p:-1},tokenize(u,d,f){const p=new RegExp(`^:::${l}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),m=u.match(p);if(!m)return;const h=m[1]||"",g=r(h);if(!a.find(x=>!(x in g)))return{type:t,raw:m[0],attributes:g}}},renderMarkdown:u=>{const d=c(u.attrs||{}),f=o(d),p=f?` {${f}}`:"";return`:::${l}${p} :::`}}}function B6e(e){const{nodeName:t,name:n,getContent:r,parseAttributes:o=KA,serializeAttributes:s=HA,defaultAttributes:a={},content:i="block",allowedAttributes:l}=e,c=n||t,u=d=>{if(!l)return d;const f={};return l.forEach(p=>{p in d&&(f[p]=d[p])}),f};return{parseMarkdown:(d,f)=>{let p;if(r){const h=r(d);p=typeof h=="string"?[{type:"text",text:h}]:h}else i==="block"?p=f.parseChildren(d.tokens||[]):p=f.parseInline(d.tokens||[]);const m={...a,...d.attributes};return f.createNode(t,m,p)},markdownTokenizer:{name:t,level:"block",start(d){var f;const p=new RegExp(`^:::${c}`,"m"),m=(f=d.match(p))==null?void 0:f.index;return m!==void 0?m:-1},tokenize(d,f,p){var m;const h=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),g=d.match(h);if(!g)return;const[v,x=""]=g,$=o(x);let C=1;const M=v.length;let I="";const E=/^:::([\w-]*)(\s.*)?/gm,P=d.slice(M);for(E.lastIndex=0;;){const O=E.exec(P);if(O===null)break;const D=O.index,L=O[1];if(!((m=O[2])!=null&&m.endsWith(":::"))){if(L)C+=1;else if(C-=1,C===0){const V=P.slice(0,D);I=V.trim();const F=d.slice(0,M+D+O[0].length);let z=[];if(I)if(i==="block")for(z=p.blockTokens(V),z.forEach(N=>{N.text&&(!N.tokens||N.tokens.length===0)&&(N.tokens=p.inlineTokens(N.text))});z.length>0;){const N=z[z.length-1];if(N.type==="paragraph"&&(!N.text||N.text.trim()===""))z.pop();else break}else z=p.inlineTokens(I);return{type:t,raw:F,attributes:$,content:I,tokens:z}}}}}},renderMarkdown:(d,f)=>{const p=u(d.attrs||{}),m=s(p),h=m?` {${m}}`:"",g=f.renderChildren(d.content||[],`

`);return`:::${c}${h}

${g}

:::`}}}function N6e(e){if(!e.trim())return{};const t={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(e);for(;r!==null;){const[,o,s,a]=r;t[o]=s||a,r=n.exec(e)}return t}function D6e(e){return Object.entries(e).filter(([,t])=>t!=null).map(([t,n])=>`${t}="${n}"`).join(" ")}function F6e(e){const{nodeName:t,name:n,getContent:r,parseAttributes:o=N6e,serializeAttributes:s=D6e,defaultAttributes:a={},selfClosing:i=!1,allowedAttributes:l}=e,c=n||t,u=f=>{if(!l)return f;const p={};return l.forEach(m=>{const h=typeof m=="string"?m:m.name,g=typeof m=="string"?void 0:m.skipIfDefault;if(h in f){const v=f[h];if(g!==void 0&&v===g)return;p[h]=v}}),p},d=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(f,p)=>{const m={...a,...f.attributes};if(i)return p.createNode(t,m);const h=r?r(f):f.content||"";return h?p.createNode(t,m,[p.createTextNode(h)]):p.createNode(t,m,[])},markdownTokenizer:{name:t,level:"inline",start(f){const p=i?new RegExp(`\\[${d}\\s*[^\\]]*\\]`):new RegExp(`\\[${d}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${d}\\]`),m=f.match(p),h=m?.index;return h!==void 0?h:-1},tokenize(f,p,m){const h=i?new RegExp(`^\\[${d}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${d}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${d}\\]`),g=f.match(h);if(!g)return;let v="",x="";if(i){const[,C]=g;x=C}else{const[,C,M]=g;x=C,v=M||""}const $=o(x.trim());return{type:t,raw:g[0],content:v.trim(),attributes:$}}},renderMarkdown:f=>{let p="";r?p=r(f):f.content&&f.content.length>0&&(p=f.content.filter(v=>v.type==="text").map(v=>v.text).join(""));const m=u(f.attrs||{}),h=s(m),g=h?` ${h}`:"";return i?`[${c}${g}]`:`[${c}${g}]${p}[/${c}]`}}}function q6e(e,t,n){var r,o,s,a;const i=e.split(`
`),l=[];let c="",u=0;const d=t.baseIndentSize||2;for(;u<i.length;){const f=i[u],p=f.match(t.itemPattern);if(!p){if(l.length>0)break;if(f.trim()===""){u+=1,c=`${c}${f}
`;continue}else return}const m=t.extractItemData(p),{indentLevel:h,mainContent:g}=m;c=`${c}${f}
`;const v=[g];for(u+=1;u<i.length;){const M=i[u];if(M.trim()===""){const E=i.slice(u+1).findIndex(D=>D.trim()!=="");if(E===-1)break;if((((o=(r=i[u+1+E].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:o.length)||0)>h){v.push(M),c=`${c}${M}
`,u+=1;continue}else break}if((((a=(s=M.match(/^(\s*)/))==null?void 0:s[1])==null?void 0:a.length)||0)>h)v.push(M),c=`${c}${M}
`,u+=1;else break}let x;const $=v.slice(1);if($.length>0){const M=$.map(I=>I.slice(h+d)).join(`
`);M.trim()&&(t.customNestedParser?x=t.customNestedParser(M):x=n.blockTokens(M))}const C=t.createToken(m,x);l.push(C)}if(l.length!==0)return{items:l,raw:c}}function z6e(e,t,n,r){if(!e||!Array.isArray(e.content))return"";const o=typeof n=="function"?n(r):n,[s,...a]=e.content,i=t.renderChildren([s]),l=[`${o}${i}`];return a&&a.length>0&&a.forEach(c=>{const u=t.renderChildren([c]);if(u){const d=u.split(`
`).map(f=>f?t.indent(f):"").join(`
`);l.push(d)}}),l.join(`
`)}function yD(e){return new w6e({find:e.find,handler:({state:t,range:n,match:r,pasteEvent:o})=>{const s=Dm(e.getAttributes,void 0,r,o);if(s===!1||s===null)return null;const{tr:a}=t,i=r[r.length-1],l=r[0];let c=n.to;if(i){const u=l.search(/\S/),d=n.from+l.indexOf(i),f=d+i.length;if(F6(n.from,n.to,t.doc).filter(m=>m.mark.type.excluded.find(g=>g===e.type&&g!==m.mark.type)).filter(m=>m.to>d).length)return null;f<n.to&&a.delete(f,n.to),d>n.from&&a.delete(n.from+u,d),c=n.from+u+i.length,a.addMark(n.from+u,c,e.type.create(s||{})),a.removeStoredMark(e.type)}}})}var L6e=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,j6e=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,V6e=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,U6e=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,K6e=x6e.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>e.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:e=>e.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",U5e(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(e,t)=>t.applyMark("italic",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`*${t.renderChildren(e)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[vD({find:L6e,type:this.type}),vD({find:V6e,type:this.type})]},addPasteRules(){return[yD({find:j6e,type:this.type}),yD({find:U6e,type:this.type})]}}),H6e=Object.defineProperty,WA=(e,t)=>{for(var n in t)H6e(e,n,{get:t[n],enumerable:!0})};function K6(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:o}=n,{storedMarks:s}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return s},get selection(){return r},get doc(){return o},get tr(){return r=n.selection,o=n.doc,s=n.storedMarks,n}}}var W6e=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:n,state:r}=this,{view:o}=n,{tr:s}=r,a=this.buildProps(s);return Object.fromEntries(Object.entries(t).map(([i,l])=>[i,(...u)=>{const d=l(...u)(a);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(s),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,n=!0){const{rawCommands:r,editor:o,state:s}=this,{view:a}=o,i=[],l=!!t,c=t||s.tr,u=()=>(!l&&n&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(c),i.every(f=>f===!0)),d={...Object.fromEntries(Object.entries(r).map(([f,p])=>[f,(...h)=>{const g=this.buildProps(c,n),v=p(...h)(g);return i.push(v),d}])),run:u};return d}createCan(t){const{rawCommands:n,state:r}=this,o=!1,s=t||r.tr,a=this.buildProps(s,o);return{...Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...u)=>c(...u)({...a,dispatch:void 0})])),chain:()=>this.createChain(s,o)}}buildProps(t,n=!0){const{rawCommands:r,editor:o,state:s}=this,{view:a}=o,i={tr:t,editor:o,view:a,state:K6({state:s,transaction:t}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(t,n),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...u)=>c(...u)(i)]))}};return i}},H6={};WA(H6,{blur:()=>G6e,clearContent:()=>J6e,clearNodes:()=>Y6e,command:()=>Q6e,createParagraphNear:()=>X6e,cut:()=>Z6e,deleteCurrentNode:()=>eUe,deleteNode:()=>tUe,deleteRange:()=>nUe,deleteSelection:()=>rUe,enter:()=>oUe,exitCode:()=>sUe,extendMarkRange:()=>iUe,first:()=>lUe,focus:()=>dUe,forEach:()=>fUe,insertContent:()=>pUe,insertContentAt:()=>gUe,joinBackward:()=>bUe,joinDown:()=>yUe,joinForward:()=>xUe,joinItemBackward:()=>wUe,joinItemForward:()=>kUe,joinTextblockBackward:()=>_Ue,joinTextblockForward:()=>SUe,joinUp:()=>vUe,keyboardShortcut:()=>CUe,lift:()=>MUe,liftEmptyBlock:()=>AUe,liftListItem:()=>TUe,newlineInCode:()=>EUe,resetAttributes:()=>IUe,scrollIntoView:()=>PUe,selectAll:()=>OUe,selectNodeBackward:()=>RUe,selectNodeForward:()=>BUe,selectParentNode:()=>NUe,selectTextblockEnd:()=>DUe,selectTextblockStart:()=>FUe,setContent:()=>zUe,setMark:()=>ZUe,setMeta:()=>eKe,setNode:()=>tKe,setNodeSelection:()=>nKe,setTextDirection:()=>rKe,setTextSelection:()=>oKe,sinkListItem:()=>sKe,splitBlock:()=>aKe,splitListItem:()=>iKe,toggleList:()=>lKe,toggleMark:()=>uKe,toggleNode:()=>cKe,toggleWrap:()=>dKe,undoInputRule:()=>fKe,unsetAllMarks:()=>pKe,unsetMark:()=>mKe,unsetTextDirection:()=>hKe,updateAttributes:()=>gKe,wrapIn:()=>vKe,wrapInList:()=>yKe});var G6e=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),J6e=(e=!0)=>({commands:t})=>t.setContent("",{emitUpdate:e}),Y6e=()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:o}=r;return n&&o.forEach(({$from:s,$to:a})=>{e.doc.nodesBetween(s.pos,a.pos,(i,l)=>{if(i.type.isText)return;const{doc:c,mapping:u}=t,d=c.resolve(u.map(l)),f=c.resolve(u.map(l+i.nodeSize)),p=d.blockRange(f);if(!p)return;const m=lr(p);if(i.type.isTextblock){const{defaultType:h}=d.parent.contentMatchAt(d.index());t.setNodeMarkup(p.start,h)}(m||m===0)&&t.lift(p,m)})}),!0},Q6e=e=>t=>e(t),X6e=()=>({state:e,dispatch:t})=>Hr(e,t),Z6e=(e,t)=>({editor:n,tr:r})=>{const{state:o}=n,s=o.doc.slice(e.from,e.to);r.deleteRange(e.from,e.to);const a=r.mapping.map(t);return r.insert(a,s.content),r.setSelection(new ie(r.doc.resolve(Math.max(a-1,0)))),!0},eUe=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;const o=e.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===r.type){if(t){const i=o.before(s),l=o.after(s);e.delete(i,l).scrollIntoView()}return!0}return!1};function ro(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}var tUe=e=>({tr:t,state:n,dispatch:r})=>{const o=ro(e,n.schema),s=t.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===o){if(r){const l=s.before(a),c=s.after(a);t.delete(l,c).scrollIntoView()}return!0}return!1},nUe=e=>({tr:t,dispatch:n})=>{const{from:r,to:o}=e;return n&&t.delete(r,o),!0},rUe=()=>({state:e,dispatch:t})=>Cr(e,t),oUe=()=>({commands:e})=>e.keyboardShortcut("Enter"),sUe=()=>({state:e,dispatch:t})=>co(e,t);function aUe(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function a0(e,t,n={strict:!0}){const r=Object.keys(t);return r.length?r.every(o=>n.strict?t[o]===e[o]:aUe(t[o])?t[o].test(e[o]):t[o]===e[o]):!0}function W6(e,t,n={}){return e.find(r=>r.type===t&&a0(Object.fromEntries(Object.keys(n).map(o=>[o,r.attrs[o]])),n))}function bD(e,t,n={}){return!!W6(e,t,n)}function GA(e,t,n){var r;if(!e||!t)return;let o=e.parent.childAfter(e.parentOffset);if((!o.node||!o.node.marks.some(u=>u.type===t))&&(o=e.parent.childBefore(e.parentOffset)),!o.node||!o.node.marks.some(u=>u.type===t)||(n=n||((r=o.node.marks[0])==null?void 0:r.attrs),!W6([...o.node.marks],t,n)))return;let a=o.index,i=e.start()+o.offset,l=a+1,c=i+o.node.nodeSize;for(;a>0&&bD([...e.parent.child(a-1).marks],t,n);)a-=1,i-=e.parent.child(a).nodeSize;for(;l<e.parent.childCount&&bD([...e.parent.child(l).marks],t,n);)c+=e.parent.child(l).nodeSize,l+=1;return{from:i,to:c}}function hu(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}var iUe=(e,t={})=>({tr:n,state:r,dispatch:o})=>{const s=hu(e,r.schema),{doc:a,selection:i}=n,{$from:l,from:c,to:u}=i;if(o){const d=GA(l,s,t);if(d&&d.from<=c&&d.to>=u){const f=ie.create(a,d.from,d.to);n.setSelection(f)}}return!0},lUe=e=>t=>{const n=typeof e=="function"?e(t):e;for(let r=0;r<n.length;r+=1)if(n[r](t))return!0;return!1};function G6(e){return e instanceof ie}function ec(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function uUe(e,t=null){if(!t)return null;const n=Pe.atStart(e),r=Pe.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return r;const o=n.from,s=r.to;return t==="all"?ie.create(e,ec(0,o,s),ec(e.content.size,o,s)):ie.create(e,ec(t,o,s),ec(t,o,s))}function xD(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function i0(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function cUe(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}var dUe=(e=null,t={})=>({editor:n,view:r,tr:o,dispatch:s})=>{t={scrollIntoView:!0,...t};const a=()=>{(i0()||xD())&&r.dom.focus(),cUe()&&!i0()&&!xD()&&r.dom.focus({preventScroll:!0}),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),t?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&e===null||e===!1)return!0;if(s&&e===null&&!G6(n.state.selection))return a(),!0;const i=uUe(o.doc,e)||n.state.selection,l=n.state.selection.eq(i);return s&&(l||o.setSelection(i),l&&o.storedMarks&&o.setStoredMarks(o.storedMarks),a()),!0},fUe=(e,t)=>n=>e.every((r,o)=>t(r,{...n,index:o})),pUe=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),J6=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const r=t[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):r.nodeType===1&&J6(r)}return e};function zv(e){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t=`<body>${e}</body>`,n=new window.DOMParser().parseFromString(t,"text/html").body;return J6(n)}function Fm(e,t,n){if(e instanceof Hn||e instanceof de)return e;n={slice:!0,parseOptions:{},...n};const r=typeof e=="object"&&e!==null,o=typeof e=="string";if(r)try{if(Array.isArray(e)&&e.length>0)return de.fromArray(e.map(i=>t.nodeFromJSON(i)));const a=t.nodeFromJSON(e);return n.errorOnInvalidContent&&a.check(),a}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",s),Fm("",t,n)}if(o){if(n.errorOnInvalidContent){let a=!1,i="";const l=new qr({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(a=!0,i=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?gt.fromSchema(l).parseSlice(zv(e),n.parseOptions):gt.fromSchema(l).parse(zv(e),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${i}`)})}const s=gt.fromSchema(t);return n.slice?s.parseSlice(zv(e),n.parseOptions).content:s.parse(zv(e),n.parseOptions)}return Fm("",t,n)}function mUe(e,t,n){const r=e.steps.length-1;if(r<t)return;const o=e.steps[r];if(!(o instanceof ln||o instanceof un))return;const s=e.mapping.maps[r];let a=0;s.forEach((i,l,c,u)=>{a===0&&(a=u)}),e.setSelection(Pe.near(e.doc.resolve(a),n))}var hUe=e=>!("type"in e),gUe=(e,t,n)=>({tr:r,dispatch:o,editor:s})=>{var a;if(o){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let i;const l=g=>{s.emit("contentError",{editor:s,error:g,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{Fm(t,s.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(g){l(g)}try{i=Fm(t,s.schema,{parseOptions:c,errorOnInvalidContent:(a=n.errorOnInvalidContent)!=null?a:s.options.enableContentCheck})}catch(g){return l(g),!1}let{from:u,to:d}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},f=!0,p=!0;if((hUe(i)?i:[i]).forEach(g=>{g.check(),f=f?g.isText&&g.marks.length===0:!1,p=p?g.isBlock:!1}),u===d&&p){const{parent:g}=r.doc.resolve(u);g.isTextblock&&!g.type.spec.code&&!g.childCount&&(u-=1,d+=1)}let h;if(f){if(Array.isArray(t))h=t.map(g=>g.text||"").join("");else if(t instanceof de){let g="";t.forEach(v=>{v.text&&(g+=v.text)}),h=g}else typeof t=="object"&&t&&t.text?h=t.text:h=t;r.insertText(h,u,d)}else{h=i;const g=r.doc.resolve(u),v=g.node(),x=g.parentOffset===0,$=v.isText||v.isTextblock,C=v.content.size>0;x&&$&&C&&(u=Math.max(0,u-1)),r.replaceWith(u,d,h)}n.updateSelection&&mUe(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:u,text:h}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:u,text:h})}return!0},vUe=()=>({state:e,dispatch:t})=>io(e,t),yUe=()=>({state:e,dispatch:t})=>lo(e,t),bUe=()=>({state:e,dispatch:t})=>Lr(e,t),xUe=()=>({state:e,dispatch:t})=>Vr(e,t),wUe=()=>({state:e,dispatch:t,tr:n})=>{try{const r=on(e.doc,e.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},kUe=()=>({state:e,dispatch:t,tr:n})=>{try{const r=on(e.doc,e.selection.$from.pos,1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},_Ue=()=>({state:e,dispatch:t})=>so(e,t),SUe=()=>({state:e,dispatch:t})=>ao(e,t);function Y6(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function $Ue(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let r,o,s,a;for(let i=0;i<t.length-1;i+=1){const l=t[i];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))o=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))i0()||Y6()?a=!0:o=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),o&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}var CUe=e=>({editor:t,view:n,tr:r,dispatch:o})=>{const s=$Ue(e).split(/-(?!$)/),a=s.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),i=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,i))});return l?.steps.forEach(c=>{const u=c.map(r.mapping);u&&o&&r.maybeStep(u)}),!0};function JA(e,t,n={}){const{from:r,to:o,empty:s}=e.selection,a=t?ro(t,e.schema):null,i=[];e.doc.nodesBetween(r,o,(d,f)=>{if(d.isText)return;const p=Math.max(r,f),m=Math.min(o,f+d.nodeSize);i.push({node:d,from:p,to:m})});const l=o-r,c=i.filter(d=>a?a.name===d.node.type.name:!0).filter(d=>a0(d.node.attrs,n,{strict:!1}));return s?!!c.length:c.reduce((d,f)=>d+f.to-f.from,0)>=l}var MUe=(e,t={})=>({state:n,dispatch:r})=>{const o=ro(e,n.schema);return JA(n,o,t)?uo(n,r):!1},AUe=()=>({state:e,dispatch:t})=>Wr(e,t),TUe=e=>({state:t,dispatch:n})=>{const r=ro(e,t.schema);return vo(r)(t,n)},EUe=()=>({state:e,dispatch:t})=>Kr(e,t);function YA(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function wD(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((r,o)=>(n.includes(o)||(r[o]=e[o]),r),{})}var IUe=(e,t)=>({tr:n,state:r,dispatch:o})=>{let s=null,a=null;const i=YA(typeof e=="string"?e:e.name,r.schema);if(!i)return!1;i==="node"&&(s=ro(e,r.schema)),i==="mark"&&(a=hu(e,r.schema));let l=!1;return n.selection.ranges.forEach(c=>{r.doc.nodesBetween(c.$from.pos,c.$to.pos,(u,d)=>{s&&s===u.type&&(l=!0,o&&n.setNodeMarkup(d,void 0,wD(u.attrs,t))),a&&u.marks.length&&u.marks.forEach(f=>{a===f.type&&(l=!0,o&&n.addMark(d,d+u.nodeSize,a.create(wD(f.attrs,t))))})})}),l},PUe=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),OUe=()=>({tr:e,dispatch:t})=>{if(t){const n=new Sn(e.doc);e.setSelection(n)}return!0},RUe=()=>({state:e,dispatch:t})=>jr(e,t),BUe=()=>({state:e,dispatch:t})=>Ur(e,t),NUe=()=>({state:e,dispatch:t})=>fo(e,t),DUe=()=>({state:e,dispatch:t})=>mo(e,t),FUe=()=>({state:e,dispatch:t})=>po(e,t);function qUe(e,t,n={},r={}){return Fm(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var zUe=(e,{errorOnInvalidContent:t,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:o,tr:s,dispatch:a,commands:i})=>{const{doc:l}=s;if(r.preserveWhitespace!=="full"){const c=qUe(e,o.schema,r,{errorOnInvalidContent:t??o.options.enableContentCheck});return a&&s.replaceWith(0,l.content.size,c).setMeta("preventUpdate",!n),!0}return a&&s.setMeta("preventUpdate",!n),i.insertContentAt({from:0,to:l.content.size},e,{parseOptions:r,errorOnInvalidContent:t??o.options.enableContentCheck})};function Q6(e,t){const n=hu(t,e.schema),{from:r,to:o,empty:s}=e.selection,a=[];s?(e.storedMarks&&a.push(...e.storedMarks),a.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,o,l=>{a.push(...l.marks)});const i=a.find(l=>l.type.name===n.name);return i?{...i.attrs}:{}}function X6(e,t){const n=new zr(e);return t.forEach(r=>{r.steps.forEach(o=>{n.step(o)})}),n}function LUe(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function jUe(e,t,n){const r=[];return e.nodesBetween(t.from,t.to,(o,s)=>{n(o)&&r.push({node:o,pos:s})}),r}function VUe(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function QA(e){return t=>VUe(t.$from,e)}function qm(e,t,n){return e.config[t]===void 0&&e.parent?qm(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind({...n,parent:e.parent?qm(e.parent,t,n):null}):e.config[t]}function UUe(e){return typeof e=="function"}function l0(e,t=void 0,...n){return UUe(e)?t?e.bind(t)(...n):e(...n):e}function Z6(e){const t=e.filter(o=>o.type==="extension"),n=e.filter(o=>o.type==="node"),r=e.filter(o=>o.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:r}}function kD(...e){return e.filter(t=>!!t).reduce((t,n)=>{const r={...t};return Object.entries(n).forEach(([o,s])=>{if(!r[o]){r[o]=s;return}if(o==="class"){const i=s?String(s).split(" "):[],l=r[o]?r[o].split(" "):[],c=i.filter(u=>!l.includes(u));r[o]=[...l,...c].join(" ")}else if(o==="style"){const i=s?s.split(";").map(u=>u.trim()).filter(Boolean):[],l=r[o]?r[o].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;l.forEach(u=>{const[d,f]=u.split(":").map(p=>p.trim());c.set(d,f)}),i.forEach(u=>{const[d,f]=u.split(":").map(p=>p.trim());c.set(d,f)}),r[o]=Array.from(c.entries()).map(([u,d])=>`${u}: ${d}`).join("; ")}else r[o]=s}),r},{})}function KUe(e,t,n){const{from:r,to:o}=t,{blockSeparator:s=`

`,textSerializers:a={}}=n||{};let i="";return e.nodesBetween(r,o,(l,c,u,d)=>{var f;l.isBlock&&c>r&&(i+=s);const p=a?.[l.type.name];if(p)return u&&(i+=p({node:l,pos:c,parent:u,index:d,range:t})),!1;l.isText&&(i+=(f=l?.text)==null?void 0:f.slice(Math.max(r,c)-c,o-c))}),i}function HUe(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}function WUe(e,t){const n=ro(t,e.schema),{from:r,to:o}=e.selection,s=[];e.doc.nodesBetween(r,o,i=>{s.push(i)});const a=s.reverse().find(i=>i.type.name===n.name);return a?{...a.attrs}:{}}function GUe(e,t){const n=YA(typeof t=="string"?t:t.name,e.schema);return n==="node"?WUe(e,t):n==="mark"?Q6(e,t):{}}function JUe(e,t=JSON.stringify){const n={};return e.filter(r=>{const o=t(r);return Object.prototype.hasOwnProperty.call(n,o)?!1:n[o]=!0})}function YUe(e){const t=JUe(e);return t.length===1?t:t.filter((n,r)=>!t.filter((s,a)=>a!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function eU(e){const{mapping:t,steps:n}=e,r=[];return t.maps.forEach((o,s)=>{const a=[];if(o.ranges.length)o.forEach((i,l)=>{a.push({from:i,to:l})});else{const{from:i,to:l}=n[s];if(i===void 0||l===void 0)return;a.push({from:i,to:l})}a.forEach(({from:i,to:l})=>{const c=t.slice(s).map(i,-1),u=t.slice(s).map(l),d=t.invert().map(c,-1),f=t.invert().map(u);r.push({oldRange:{from:d,to:f},newRange:{from:c,to:u}})})}),YUe(r)}function tU(e,t,n){const r=[];return e===t?n.resolve(e).marks().forEach(o=>{const s=n.resolve(e),a=GA(s,o.type);a&&r.push({mark:o,...a})}):n.nodesBetween(e,t,(o,s)=>{!o||o?.nodeSize===void 0||r.push(...o.marks.map(a=>({from:s,to:s+o.nodeSize,mark:a})))}),r}function Ry(e,t,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const o=e.find(s=>s.type===t&&s.name===r);return o?o.attribute.keepOnSplit:!1}))}function QUe(e,t,n={}){const{empty:r,ranges:o}=e.selection,s=t?hu(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(d=>s?s.name===d.type.name:!0).find(d=>a0(d.attrs,n,{strict:!1}));let a=0;const i=[];if(o.forEach(({$from:d,$to:f})=>{const p=d.pos,m=f.pos;e.doc.nodesBetween(p,m,(h,g)=>{if(!h.isText&&!h.marks.length)return;const v=Math.max(p,g),x=Math.min(m,g+h.nodeSize),$=x-v;a+=$,i.push(...h.marks.map(C=>({mark:C,from:v,to:x})))})}),a===0)return!1;const l=i.filter(d=>s?s.name===d.mark.type.name:!0).filter(d=>a0(d.mark.attrs,n,{strict:!1})).reduce((d,f)=>d+f.to-f.from,0),c=i.filter(d=>s?d.mark.type!==s&&d.mark.type.excludes(s):!0).reduce((d,f)=>d+f.to-f.from,0);return(l>0?l+c:l)>=a}function _D(e,t){const{nodeExtensions:n}=Z6(t),r=n.find(a=>a.name===e);if(!r)return!1;const o={name:r.name,options:r.options,storage:r.storage},s=l0(qm(r,"group",o));return typeof s!="string"?!1:s.split(" ").includes("list")}function nU(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((r=e.text)!=null?r:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let o=!0;return e.content.forEach(s=>{o!==!1&&(nU(s,{ignoreWhitespace:n,checkChildren:t})||(o=!1))}),o}return!1}function XUe(e,t,n){var r;const{selection:o}=t;let s=null;if(G6(o)&&(s=o.$cursor),s){const i=(r=e.storedMarks)!=null?r:s.marks();return s.parent.type.allowsMarkType(n)&&(!!n.isInSet(i)||!i.some(c=>c.type.excludes(n)))}const{ranges:a}=o;return a.some(({$from:i,$to:l})=>{let c=i.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(i.pos,l.pos,(u,d,f)=>{if(c)return!1;if(u.isInline){const p=!f||f.type.allowsMarkType(n),m=!!n.isInSet(u.marks)||!u.marks.some(h=>h.type.excludes(n));c=p&&m}return!c}),c})}var ZUe=(e,t={})=>({tr:n,state:r,dispatch:o})=>{const{selection:s}=n,{empty:a,ranges:i}=s,l=hu(e,r.schema);if(o)if(a){const c=Q6(r,l);n.addStoredMark(l.create({...c,...t}))}else i.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;r.doc.nodesBetween(u,d,(f,p)=>{const m=Math.max(p,u),h=Math.min(p+f.nodeSize,d);f.marks.find(v=>v.type===l)?f.marks.forEach(v=>{l===v.type&&n.addMark(m,h,l.create({...v.attrs,...t}))}):n.addMark(m,h,l.create(t))})});return XUe(r,n,l)},eKe=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),tKe=(e,t={})=>({state:n,dispatch:r,chain:o})=>{const s=ro(e,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),s.isTextblock?o().command(({commands:i})=>cn(s,{...a,...t})(n)?!0:i.clearNodes()).command(({state:i})=>cn(s,{...a,...t})(i,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},nKe=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,o=ec(e,0,r.content.size),s=Ge.create(r,o);t.setSelection(s)}return!0},rKe=(e,t)=>({tr:n,state:r,dispatch:o})=>{const{selection:s}=r;let a,i;return typeof t=="number"?(a=t,i=t):t&&"from"in t&&"to"in t?(a=t.from,i=t.to):(a=s.from,i=s.to),o&&n.doc.nodesBetween(a,i,(l,c)=>{l.isText||n.setNodeMarkup(c,void 0,{...l.attrs,dir:e})}),!0},oKe=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,{from:o,to:s}=typeof e=="number"?{from:e,to:e}:e,a=ie.atStart(r).from,i=ie.atEnd(r).to,l=ec(o,a,i),c=ec(s,a,i),u=ie.create(r,l,c);t.setSelection(u)}return!0},sKe=e=>({state:t,dispatch:n})=>{const r=ro(e,t.schema);return yo(r)(t,n)};function SD(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(o=>t?.includes(o.type.name));e.tr.ensureMarks(r)}}var aKe=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:o})=>{const{selection:s,doc:a}=t,{$from:i,$to:l}=s,c=o.extensionManager.attributes,u=Ry(c,i.node().type.name,i.node().attrs);if(s instanceof Ge&&s.node.isBlock)return!i.parentOffset||!ot(a,i.pos)?!1:(r&&(e&&SD(n,o.extensionManager.splittableMarks),t.split(i.pos).scrollIntoView()),!0);if(!i.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,f=i.depth===0?void 0:LUe(i.node(-1).contentMatchAt(i.indexAfter(-1)));let p=d&&f?[{type:f,attrs:u}]:void 0,m=ot(t.doc,t.mapping.map(i.pos),1,p);if(!p&&!m&&ot(t.doc,t.mapping.map(i.pos),1,f?[{type:f}]:void 0)&&(m=!0,p=f?[{type:f,attrs:u}]:void 0),r){if(m&&(s instanceof ie&&t.deleteSelection(),t.split(t.mapping.map(i.pos),1,p),f&&!d&&!i.parentOffset&&i.parent.type!==f)){const h=t.mapping.map(i.before()),g=t.doc.resolve(h);i.node(-1).canReplaceWith(g.index(),g.index()+1,f)&&t.setNodeMarkup(t.mapping.map(i.before()),f)}e&&SD(n,o.extensionManager.splittableMarks),t.scrollIntoView()}return m},iKe=(e,t={})=>({tr:n,state:r,dispatch:o,editor:s})=>{var a;const i=ro(e,r.schema),{$from:l,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const d=l.node(-1);if(d.type!==i)return!1;const f=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==i||l.index(-2)!==l.node(-2).childCount-1)return!1;if(o){let v=de.empty;const x=l.index(-1)?1:l.index(-2)?2:3;for(let P=l.depth-x;P>=l.depth-3;P-=1)v=de.from(l.node(P).copy(v));const $=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,C={...Ry(f,l.node().type.name,l.node().attrs),...t},M=((a=i.contentMatch.defaultType)==null?void 0:a.createAndFill(C))||void 0;v=v.append(de.from(i.createAndFill(null,M)||void 0));const I=l.before(l.depth-(x-1));n.replace(I,l.after(-$),new Je(v,4-x,0));let E=-1;n.doc.nodesBetween(I,n.doc.content.size,(P,O)=>{if(E>-1)return!1;P.isTextblock&&P.content.size===0&&(E=O+1)}),E>-1&&n.setSelection(ie.near(n.doc.resolve(E))),n.scrollIntoView()}return!0}const p=c.pos===l.end()?d.contentMatchAt(0).defaultType:null,m={...Ry(f,d.type.name,d.attrs),...t},h={...Ry(f,l.node().type.name,l.node().attrs),...t};n.delete(l.pos,c.pos);const g=p?[{type:i,attrs:m},{type:p,attrs:h}]:[{type:i,attrs:m}];if(!ot(n.doc,l.pos,2))return!1;if(o){const{selection:v,storedMarks:x}=r,{splittableMarks:$}=s.extensionManager,C=x||v.$to.parentOffset&&v.$from.marks();if(n.split(l.pos,2,g).scrollIntoView(),!C||!o)return!0;const M=C.filter(I=>$.includes(I.type.name));n.ensureMarks(M)}return!0},F_=(e,t)=>{const n=QA(a=>a.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const o=e.doc.nodeAt(r);return n.node.type===o?.type&&Ht(e.doc,n.pos)&&e.join(n.pos),!0},q_=(e,t)=>{const n=QA(a=>a.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const o=e.doc.nodeAt(r);return n.node.type===o?.type&&Ht(e.doc,r)&&e.join(r),!0},lKe=(e,t,n,r={})=>({editor:o,tr:s,state:a,dispatch:i,chain:l,commands:c,can:u})=>{const{extensions:d,splittableMarks:f}=o.extensionManager,p=ro(e,a.schema),m=ro(t,a.schema),{selection:h,storedMarks:g}=a,{$from:v,$to:x}=h,$=v.blockRange(x),C=g||h.$to.parentOffset&&h.$from.marks();if(!$)return!1;const M=QA(I=>_D(I.type.name,d))(h);if($.depth>=1&&M&&$.depth-M.depth<=1){if(M.node.type===p)return c.liftListItem(m);if(_D(M.node.type.name,d)&&p.validContent(M.node.content)&&i)return l().command(()=>(s.setNodeMarkup(M.pos,p),!0)).command(()=>F_(s,p)).command(()=>q_(s,p)).run()}return!n||!C||!i?l().command(()=>u().wrapInList(p,r)?!0:c.clearNodes()).wrapInList(p,r).command(()=>F_(s,p)).command(()=>q_(s,p)).run():l().command(()=>{const I=u().wrapInList(p,r),E=C.filter(P=>f.includes(P.type.name));return s.ensureMarks(E),I?!0:c.clearNodes()}).wrapInList(p,r).command(()=>F_(s,p)).command(()=>q_(s,p)).run()},uKe=(e,t={},n={})=>({state:r,commands:o})=>{const{extendEmptyMarkRange:s=!1}=n,a=hu(e,r.schema);return QUe(r,a,t)?o.unsetMark(a,{extendEmptyMarkRange:s}):o.setMark(a,t)},cKe=(e,t,n={})=>({state:r,commands:o})=>{const s=ro(e,r.schema),a=ro(t,r.schema),i=JA(r,s,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),i?o.setNode(a,l):o.setNode(s,{...l,...n})},dKe=(e,t={})=>({state:n,commands:r})=>{const o=ro(e,n.schema);return JA(n,o,t)?r.lift(o):r.wrapIn(o,t)},fKe=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const o=n[r];let s;if(o.spec.isInputRules&&(s=o.getState(e))){if(t){const a=e.tr,i=s.transform;for(let l=i.steps.length-1;l>=0;l-=1)a.step(i.steps[l].invert(i.docs[l]));if(s.text){const l=a.doc.resolve(s.from).marks();a.replaceWith(s.from,s.to,e.schema.text(s.text,l))}else a.delete(s.from,s.to)}return!0}}return!1},pKe=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:o}=n;return r||t&&o.forEach(s=>{e.removeMark(s.$from.pos,s.$to.pos)}),!0},mKe=(e,t={})=>({tr:n,state:r,dispatch:o})=>{var s;const{extendEmptyMarkRange:a=!1}=t,{selection:i}=n,l=hu(e,r.schema),{$from:c,empty:u,ranges:d}=i;if(!o)return!0;if(u&&a){let{from:f,to:p}=i;const m=(s=c.marks().find(g=>g.type===l))==null?void 0:s.attrs,h=GA(c,l,m);h&&(f=h.from,p=h.to),n.removeMark(f,p,l)}else d.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,l)});return n.removeStoredMark(l),!0},hKe=e=>({tr:t,state:n,dispatch:r})=>{const{selection:o}=n;let s,a;return typeof e=="number"?(s=e,a=e):e&&"from"in e&&"to"in e?(s=e.from,a=e.to):(s=o.from,a=o.to),r&&t.doc.nodesBetween(s,a,(i,l)=>{if(i.isText)return;const c={...i.attrs};delete c.dir,t.setNodeMarkup(l,void 0,c)}),!0},gKe=(e,t={})=>({tr:n,state:r,dispatch:o})=>{let s=null,a=null;const i=YA(typeof e=="string"?e:e.name,r.schema);if(!i)return!1;i==="node"&&(s=ro(e,r.schema)),i==="mark"&&(a=hu(e,r.schema));let l=!1;return n.selection.ranges.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;let f,p,m,h;n.selection.empty?r.doc.nodesBetween(u,d,(g,v)=>{s&&s===g.type&&(l=!0,m=Math.max(v,u),h=Math.min(v+g.nodeSize,d),f=v,p=g)}):r.doc.nodesBetween(u,d,(g,v)=>{v<u&&s&&s===g.type&&(l=!0,m=Math.max(v,u),h=Math.min(v+g.nodeSize,d),f=v,p=g),v>=u&&v<=d&&(s&&s===g.type&&(l=!0,o&&n.setNodeMarkup(v,void 0,{...g.attrs,...t})),a&&g.marks.length&&g.marks.forEach(x=>{if(a===x.type&&(l=!0,o)){const $=Math.max(v,u),C=Math.min(v+g.nodeSize,d);n.addMark($,C,a.create({...x.attrs,...t}))}}))}),p&&(f!==void 0&&o&&n.setNodeMarkup(f,void 0,{...p.attrs,...t}),a&&p.marks.length&&p.marks.forEach(g=>{a===g.type&&o&&n.addMark(m,h,a.create({...g.attrs,...t}))}))}),l},vKe=(e,t={})=>({state:n,dispatch:r})=>{const o=ro(e,n.schema);return ho(o,t)(n,r)},yKe=(e,t={})=>({state:n,dispatch:r})=>{const o=ro(e,n.schema);return go(o,t)(n,r)};function bKe(e){return Object.prototype.toString.call(e).slice(8,-1)}function Lv(e){return bKe(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function rU(e,t){const n={...e};return Lv(e)&&Lv(t)&&Object.keys(t).forEach(r=>{Lv(t[r])&&Lv(e[r])?n[r]=rU(e[r],t[r]):n[r]=t[r]}),n}var oU=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...l0(qm(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...l0(qm(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const n=this.extend({...this.config,addOptions:()=>rU(this.options,t)});return n.name=this.name,n.parent=this.parent,n}extend(t={}){const n=new this.constructor({...this.config,...t});return n.parent=this,this.child=n,n.name="name"in t?t.name:n.parent.name,n}},xKe=class sU extends oU{constructor(){super(...arguments),this.type="mark"}static create(t={}){const n=typeof t=="function"?t():t;return new sU(n)}static handleExit({editor:t,mark:n}){const{tr:r}=t.state,o=t.state.selection.$from;if(o.pos===o.end()){const a=o.marks();if(!!!a.find(c=>c?.type.name===n.name))return!1;const l=a.find(c=>c?.type.name===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",o.pos),t.view.dispatch(r),!0}return!1}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},wKe=class{constructor(t){this.find=t.find,this.handler=t.handler}},kKe={};WA(kKe,{ClipboardTextSerializer:()=>_Ke,Commands:()=>SKe,Delete:()=>$Ke,Drop:()=>CKe,Editable:()=>MKe,FocusEvents:()=>AKe,Keymap:()=>TKe,Paste:()=>EKe,Tabindex:()=>IKe,TextDirection:()=>PKe,focusEventsPluginKey:()=>iU});var yi=class aU extends oU{constructor(){super(...arguments),this.type="extension"}static create(t={}){const n=typeof t=="function"?t():t;return new aU(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},_Ke=yi.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Se({key:new Ce("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:o}=t,{ranges:s}=o,a=Math.min(...s.map(u=>u.$from.pos)),i=Math.max(...s.map(u=>u.$to.pos)),l=HUe(n);return KUe(r,{from:a,to:i},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),SKe=yi.create({name:"commands",addCommands(){return{...H6}}}),$Ke=yi.create({name:"delete",onUpdate({transaction:e,appendedTransactions:t}){var n,r,o;const s=()=>{var a,i,l,c;if((c=(l=(i=(a=this.editor.options.coreExtensionOptions)==null?void 0:a.delete)==null?void 0:i.filterTransaction)==null?void 0:l.call(i,e))!=null?c:e.getMeta("y-sync$"))return;const u=X6(e.before,[e,...t]);eU(u).forEach(p=>{u.mapping.mapResult(p.oldRange.from).deletedAfter&&u.mapping.mapResult(p.oldRange.to).deletedBefore&&u.before.nodesBetween(p.oldRange.from,p.oldRange.to,(m,h)=>{const g=h+m.nodeSize-2,v=p.oldRange.from<=h&&g<=p.oldRange.to;this.editor.emit("delete",{type:"node",node:m,from:h,to:g,newFrom:u.mapping.map(h),newTo:u.mapping.map(g),deletedRange:p.oldRange,newRange:p.newRange,partial:!v,editor:this.editor,transaction:e,combinedTransform:u})})});const f=u.mapping;u.steps.forEach((p,m)=>{var h,g;if(p instanceof En){const v=f.slice(m).map(p.from,-1),x=f.slice(m).map(p.to),$=f.invert().map(v,-1),C=f.invert().map(x),M=(h=u.doc.nodeAt(v-1))==null?void 0:h.marks.some(E=>E.eq(p.mark)),I=(g=u.doc.nodeAt(x))==null?void 0:g.marks.some(E=>E.eq(p.mark));this.editor.emit("delete",{type:"mark",mark:p.mark,from:p.from,to:p.to,deletedRange:{from:$,to:C},newRange:{from:v,to:x},partial:!!(I||M),editor:this.editor,transaction:e,combinedTransform:u})}})};(o=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||o?setTimeout(s,0):s()}}),CKe=yi.create({name:"drop",addProseMirrorPlugins(){return[new Se({key:new Ce("tiptapDrop"),props:{handleDrop:(e,t,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:r})}}})]}}),MKe=yi.create({name:"editable",addProseMirrorPlugins(){return[new Se({key:new Ce("editable"),props:{editable:()=>this.editor.options.editable}})]}}),iU=new Ce("focusEvents"),AKe=yi.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new Se({key:iU,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),TKe=yi.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:i})=>{const{selection:l,doc:c}=i,{empty:u,$anchor:d}=l,{pos:f,parent:p}=d,m=d.parent.isTextblock&&f>0?i.doc.resolve(f-1):d,h=m.parent.type.spec.isolating,g=d.pos-d.parentOffset,v=h&&m.parent.childCount===1?g===d.pos:Pe.atStart(c).from===f;return!u||!p.type.isTextblock||p.textContent.length||!v||v&&d.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},o={...r},s={...r,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return i0()||Y6()?s:o},addProseMirrorPlugins(){return[new Se({key:new Ce("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(h=>h.getMeta("composition")))return;const r=e.some(h=>h.docChanged)&&!t.doc.eq(n.doc),o=e.some(h=>h.getMeta("preventClearDocument"));if(!r||o)return;const{empty:s,from:a,to:i}=t.selection,l=Pe.atStart(t.doc).from,c=Pe.atEnd(t.doc).to;if(s||!(a===l&&i===c)||!nU(n.doc))return;const f=n.tr,p=K6({state:n,transaction:f}),{commands:m}=new W6e({editor:this.editor,state:p});if(m.clearNodes(),!!f.steps.length)return f}})]}}),EKe=yi.create({name:"paste",addProseMirrorPlugins(){return[new Se({key:new Ce("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),IKe=yi.create({name:"tabindex",addProseMirrorPlugins(){return[new Se({key:new Ce("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),PKe=yi.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:e}=Z6(this.extensions);return[{types:e.filter(t=>t.name!=="text").map(t=>t.name),attributes:{dir:{default:this.options.direction,parseHTML:t=>{const n=t.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:t=>t.dir?{dir:t.dir}:{}}}}]},addProseMirrorPlugins(){return[new Se({key:new Ce("textDirection"),props:{attributes:()=>{const e=this.options.direction;return e?{dir:e}:{}}}})]}}),OKe={};WA(OKe,{createAtomBlockMarkdownSpec:()=>RKe,createBlockMarkdownSpec:()=>BKe,createInlineMarkdownSpec:()=>FKe,parseAttributes:()=>XA,parseIndentedBlocks:()=>qKe,renderNestedMarkdownContent:()=>zKe,serializeAttributes:()=>ZA});function XA(e){if(!e?.trim())return{};const t={},n=[],r=e.replace(/["']([^"']*)["']/g,c=>(n.push(c),`__QUOTED_${n.length-1}__`)),o=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(o){const c=o.map(u=>u.trim().slice(1));t.class=c.join(" ")}const s=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);s&&(t.id=s[1]);const a=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(a)).forEach(([,c,u])=>{var d;const f=parseInt(((d=u.match(/__QUOTED_(\d+)__/))==null?void 0:d[1])||"0",10),p=n[f];p&&(t[c]=p.slice(1,-1))});const l=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return l&&l.split(/\s+/).filter(Boolean).forEach(u=>{u.match(/^[a-zA-Z][\w-]*$/)&&(t[u]=!0)}),t}function ZA(e){if(!e||Object.keys(e).length===0)return"";const t=[];return e.class&&String(e.class).split(/\s+/).filter(Boolean).forEach(r=>t.push(`.${r}`)),e.id&&t.push(`#${e.id}`),Object.entries(e).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?t.push(n):r!==!1&&r!=null&&t.push(`${n}="${String(r)}"`))}),t.join(" ")}function RKe(e){const{nodeName:t,name:n,parseAttributes:r=XA,serializeAttributes:o=ZA,defaultAttributes:s={},requiredAttributes:a=[],allowedAttributes:i}=e,l=n||t,c=u=>{if(!i)return u;const d={};return i.forEach(f=>{f in u&&(d[f]=u[f])}),d};return{parseMarkdown:(u,d)=>{const f={...s,...u.attributes};return d.createNode(t,f,[])},markdownTokenizer:{name:t,level:"block",start(u){var d;const f=new RegExp(`^:::${l}(?:\\s|$)`,"m"),p=(d=u.match(f))==null?void 0:d.index;return p!==void 0?p:-1},tokenize(u,d,f){const p=new RegExp(`^:::${l}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),m=u.match(p);if(!m)return;const h=m[1]||"",g=r(h);if(!a.find(x=>!(x in g)))return{type:t,raw:m[0],attributes:g}}},renderMarkdown:u=>{const d=c(u.attrs||{}),f=o(d),p=f?` {${f}}`:"";return`:::${l}${p} :::`}}}function BKe(e){const{nodeName:t,name:n,getContent:r,parseAttributes:o=XA,serializeAttributes:s=ZA,defaultAttributes:a={},content:i="block",allowedAttributes:l}=e,c=n||t,u=d=>{if(!l)return d;const f={};return l.forEach(p=>{p in d&&(f[p]=d[p])}),f};return{parseMarkdown:(d,f)=>{let p;if(r){const h=r(d);p=typeof h=="string"?[{type:"text",text:h}]:h}else i==="block"?p=f.parseChildren(d.tokens||[]):p=f.parseInline(d.tokens||[]);const m={...a,...d.attributes};return f.createNode(t,m,p)},markdownTokenizer:{name:t,level:"block",start(d){var f;const p=new RegExp(`^:::${c}`,"m"),m=(f=d.match(p))==null?void 0:f.index;return m!==void 0?m:-1},tokenize(d,f,p){var m;const h=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),g=d.match(h);if(!g)return;const[v,x=""]=g,$=o(x);let C=1;const M=v.length;let I="";const E=/^:::([\w-]*)(\s.*)?/gm,P=d.slice(M);for(E.lastIndex=0;;){const O=E.exec(P);if(O===null)break;const D=O.index,L=O[1];if(!((m=O[2])!=null&&m.endsWith(":::"))){if(L)C+=1;else if(C-=1,C===0){const V=P.slice(0,D);I=V.trim();const F=d.slice(0,M+D+O[0].length);let z=[];if(I)if(i==="block")for(z=p.blockTokens(V),z.forEach(N=>{N.text&&(!N.tokens||N.tokens.length===0)&&(N.tokens=p.inlineTokens(N.text))});z.length>0;){const N=z[z.length-1];if(N.type==="paragraph"&&(!N.text||N.text.trim()===""))z.pop();else break}else z=p.inlineTokens(I);return{type:t,raw:F,attributes:$,content:I,tokens:z}}}}}},renderMarkdown:(d,f)=>{const p=u(d.attrs||{}),m=s(p),h=m?` {${m}}`:"",g=f.renderChildren(d.content||[],`

`);return`:::${c}${h}

${g}

:::`}}}function NKe(e){if(!e.trim())return{};const t={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(e);for(;r!==null;){const[,o,s,a]=r;t[o]=s||a,r=n.exec(e)}return t}function DKe(e){return Object.entries(e).filter(([,t])=>t!=null).map(([t,n])=>`${t}="${n}"`).join(" ")}function FKe(e){const{nodeName:t,name:n,getContent:r,parseAttributes:o=NKe,serializeAttributes:s=DKe,defaultAttributes:a={},selfClosing:i=!1,allowedAttributes:l}=e,c=n||t,u=f=>{if(!l)return f;const p={};return l.forEach(m=>{const h=typeof m=="string"?m:m.name,g=typeof m=="string"?void 0:m.skipIfDefault;if(h in f){const v=f[h];if(g!==void 0&&v===g)return;p[h]=v}}),p},d=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(f,p)=>{const m={...a,...f.attributes};if(i)return p.createNode(t,m);const h=r?r(f):f.content||"";return h?p.createNode(t,m,[p.createTextNode(h)]):p.createNode(t,m,[])},markdownTokenizer:{name:t,level:"inline",start(f){const p=i?new RegExp(`\\[${d}\\s*[^\\]]*\\]`):new RegExp(`\\[${d}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${d}\\]`),m=f.match(p),h=m?.index;return h!==void 0?h:-1},tokenize(f,p,m){const h=i?new RegExp(`^\\[${d}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${d}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${d}\\]`),g=f.match(h);if(!g)return;let v="",x="";if(i){const[,C]=g;x=C}else{const[,C,M]=g;x=C,v=M||""}const $=o(x.trim());return{type:t,raw:g[0],content:v.trim(),attributes:$}}},renderMarkdown:f=>{let p="";r?p=r(f):f.content&&f.content.length>0&&(p=f.content.filter(v=>v.type==="text").map(v=>v.text).join(""));const m=u(f.attrs||{}),h=s(m),g=h?` ${h}`:"";return i?`[${c}${g}]`:`[${c}${g}]${p}[/${c}]`}}}function qKe(e,t,n){var r,o,s,a;const i=e.split(`
`),l=[];let c="",u=0;const d=t.baseIndentSize||2;for(;u<i.length;){const f=i[u],p=f.match(t.itemPattern);if(!p){if(l.length>0)break;if(f.trim()===""){u+=1,c=`${c}${f}
`;continue}else return}const m=t.extractItemData(p),{indentLevel:h,mainContent:g}=m;c=`${c}${f}
`;const v=[g];for(u+=1;u<i.length;){const M=i[u];if(M.trim()===""){const E=i.slice(u+1).findIndex(D=>D.trim()!=="");if(E===-1)break;if((((o=(r=i[u+1+E].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:o.length)||0)>h){v.push(M),c=`${c}${M}
`,u+=1;continue}else break}if((((a=(s=M.match(/^(\s*)/))==null?void 0:s[1])==null?void 0:a.length)||0)>h)v.push(M),c=`${c}${M}
`,u+=1;else break}let x;const $=v.slice(1);if($.length>0){const M=$.map(I=>I.slice(h+d)).join(`
`);M.trim()&&(t.customNestedParser?x=t.customNestedParser(M):x=n.blockTokens(M))}const C=t.createToken(m,x);l.push(C)}if(l.length!==0)return{items:l,raw:c}}function zKe(e,t,n,r){if(!e||!Array.isArray(e.content))return"";const o=typeof n=="function"?n(r):n,[s,...a]=e.content,i=t.renderChildren([s]),l=[`${o}${i}`];return a&&a.length>0&&a.forEach(c=>{const u=t.renderChildren([c]);if(u){const d=u.split(`
`).map(f=>f?t.indent(f):"").join(`
`);l.push(d)}}),l.join(`
`)}function LKe(e){return new wKe({find:e.find,handler:({state:t,range:n,match:r,pasteEvent:o})=>{const s=l0(e.getAttributes,void 0,r,o);if(s===!1||s===null)return null;const{tr:a}=t,i=r[r.length-1],l=r[0];let c=n.to;if(i){const u=l.search(/\S/),d=n.from+l.indexOf(i),f=d+i.length;if(tU(n.from,n.to,t.doc).filter(m=>m.mark.type.excluded.find(g=>g===e.type&&g!==m.mark.type)).filter(m=>m.to>d).length)return null;f<n.to&&a.delete(f,n.to),d>n.from&&a.delete(n.from+u,d),c=n.from+u+i.length,a.addMark(n.from+u,c,e.type.create(s||{})),a.removeStoredMark(e.type)}}})}const jKe="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",VKe="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",L$="numeric",j$="ascii",V$="alpha",Fp="asciinumeric",vp="alphanumeric",U$="domain",lU="emoji",UKe="scheme",KKe="slashscheme",z_="whitespace";function HKe(e,t){return e in t||(t[e]=[]),t[e]}function tc(e,t,n){t[L$]&&(t[Fp]=!0,t[vp]=!0),t[j$]&&(t[Fp]=!0,t[V$]=!0),t[Fp]&&(t[vp]=!0),t[V$]&&(t[vp]=!0),t[vp]&&(t[U$]=!0),t[lU]&&(t[U$]=!0);for(const r in t){const o=HKe(r,n);o.indexOf(e)<0&&o.push(e)}}function WKe(e,t){const n={};for(const r in t)t[r].indexOf(e)>=0&&(n[r]=!0);return n}function ps(e=null){this.j={},this.jr=[],this.jd=null,this.t=e}ps.groups={};ps.prototype={accepts(){return!!this.t},go(e){const t=this,n=t.j[e];if(n)return n;for(let r=0;r<t.jr.length;r++){const o=t.jr[r][0],s=t.jr[r][1];if(s&&o.test(e))return s}return t.jd},has(e,t=!1){return t?e in this.j:!!this.go(e)},ta(e,t,n,r){for(let o=0;o<e.length;o++)this.tt(e[o],t,n,r)},tr(e,t,n,r){r=r||ps.groups;let o;return t&&t.j?o=t:(o=new ps(t),n&&r&&tc(t,n,r)),this.jr.push([e,o]),o},ts(e,t,n,r){let o=this;const s=e.length;if(!s)return o;for(let a=0;a<s-1;a++)o=o.tt(e[a]);return o.tt(e[s-1],t,n,r)},tt(e,t,n,r){r=r||ps.groups;const o=this;if(t&&t.j)return o.j[e]=t,t;const s=t;let a,i=o.go(e);if(i?(a=new ps,Object.assign(a.j,i.j),a.jr.push.apply(a.jr,i.jr),a.jd=i.jd,a.t=i.t):a=new ps,s){if(r)if(a.t&&typeof a.t=="string"){const l=Object.assign(WKe(a.t,r),n);tc(s,l,r)}else n&&tc(s,n,r);a.t=s}return o.j[e]=a,a}};const Gt=(e,t,n,r,o)=>e.ta(t,n,r,o),nr=(e,t,n,r,o)=>e.tr(t,n,r,o),$D=(e,t,n,r,o)=>e.ts(t,n,r,o),Ke=(e,t,n,r,o)=>e.tt(t,n,r,o),qi="WORD",K$="UWORD",uU="ASCIINUMERICAL",cU="ALPHANUMERICAL",zm="LOCALHOST",H$="TLD",W$="UTLD",By="SCHEME",kd="SLASH_SCHEME",eT="NUM",G$="WS",tT="NL",qp="OPENBRACE",zp="CLOSEBRACE",u0="OPENBRACKET",c0="CLOSEBRACKET",d0="OPENPAREN",f0="CLOSEPAREN",p0="OPENANGLEBRACKET",m0="CLOSEANGLEBRACKET",h0="FULLWIDTHLEFTPAREN",g0="FULLWIDTHRIGHTPAREN",v0="LEFTCORNERBRACKET",y0="RIGHTCORNERBRACKET",b0="LEFTWHITECORNERBRACKET",x0="RIGHTWHITECORNERBRACKET",w0="FULLWIDTHLESSTHAN",k0="FULLWIDTHGREATERTHAN",_0="AMPERSAND",S0="APOSTROPHE",$0="ASTERISK",Pl="AT",C0="BACKSLASH",M0="BACKTICK",A0="CARET",Nl="COLON",nT="COMMA",T0="DOLLAR",qa="DOT",E0="EQUALS",rT="EXCLAMATION",Js="HYPHEN",Lp="PERCENT",I0="PIPE",P0="PLUS",O0="POUND",jp="QUERY",oT="QUOTE",dU="FULLWIDTHMIDDLEDOT",sT="SEMI",za="SLASH",Vp="TILDE",R0="UNDERSCORE",fU="EMOJI",B0="SYM";var pU=Object.freeze({__proto__:null,ALPHANUMERICAL:cU,AMPERSAND:_0,APOSTROPHE:S0,ASCIINUMERICAL:uU,ASTERISK:$0,AT:Pl,BACKSLASH:C0,BACKTICK:M0,CARET:A0,CLOSEANGLEBRACKET:m0,CLOSEBRACE:zp,CLOSEBRACKET:c0,CLOSEPAREN:f0,COLON:Nl,COMMA:nT,DOLLAR:T0,DOT:qa,EMOJI:fU,EQUALS:E0,EXCLAMATION:rT,FULLWIDTHGREATERTHAN:k0,FULLWIDTHLEFTPAREN:h0,FULLWIDTHLESSTHAN:w0,FULLWIDTHMIDDLEDOT:dU,FULLWIDTHRIGHTPAREN:g0,HYPHEN:Js,LEFTCORNERBRACKET:v0,LEFTWHITECORNERBRACKET:b0,LOCALHOST:zm,NL:tT,NUM:eT,OPENANGLEBRACKET:p0,OPENBRACE:qp,OPENBRACKET:u0,OPENPAREN:d0,PERCENT:Lp,PIPE:I0,PLUS:P0,POUND:O0,QUERY:jp,QUOTE:oT,RIGHTCORNERBRACKET:y0,RIGHTWHITECORNERBRACKET:x0,SCHEME:By,SEMI:sT,SLASH:za,SLASH_SCHEME:kd,SYM:B0,TILDE:Vp,TLD:H$,UNDERSCORE:R0,UTLD:W$,UWORD:K$,WORD:qi,WS:G$});const Di=/[a-z]/,lp=new RegExp("\\p{L}","u"),L_=new RegExp("\\p{Emoji}","u"),Fi=/\d/,j_=/\s/,CD="\r",V_=`
`,GKe="",JKe="",U_="";let jv=null,Vv=null;function YKe(e=[]){const t={};ps.groups=t;const n=new ps;jv==null&&(jv=MD(jKe)),Vv==null&&(Vv=MD(VKe)),Ke(n,"'",S0),Ke(n,"{",qp),Ke(n,"}",zp),Ke(n,"[",u0),Ke(n,"]",c0),Ke(n,"(",d0),Ke(n,")",f0),Ke(n,"<",p0),Ke(n,">",m0),Ke(n,"",h0),Ke(n,"",g0),Ke(n,"",v0),Ke(n,"",y0),Ke(n,"",b0),Ke(n,"",x0),Ke(n,"",w0),Ke(n,"",k0),Ke(n,"&",_0),Ke(n,"*",$0),Ke(n,"@",Pl),Ke(n,"`",M0),Ke(n,"^",A0),Ke(n,":",Nl),Ke(n,",",nT),Ke(n,"$",T0),Ke(n,".",qa),Ke(n,"=",E0),Ke(n,"!",rT),Ke(n,"-",Js),Ke(n,"%",Lp),Ke(n,"|",I0),Ke(n,"+",P0),Ke(n,"#",O0),Ke(n,"?",jp),Ke(n,'"',oT),Ke(n,"/",za),Ke(n,";",sT),Ke(n,"~",Vp),Ke(n,"_",R0),Ke(n,"\\",C0),Ke(n,"",dU);const r=nr(n,Fi,eT,{[L$]:!0});nr(r,Fi,r);const o=nr(r,Di,uU,{[Fp]:!0}),s=nr(r,lp,cU,{[vp]:!0}),a=nr(n,Di,qi,{[j$]:!0});nr(a,Fi,o),nr(a,Di,a),nr(o,Fi,o),nr(o,Di,o);const i=nr(n,lp,K$,{[V$]:!0});nr(i,Di),nr(i,Fi,s),nr(i,lp,i),nr(s,Fi,s),nr(s,Di),nr(s,lp,s);const l=Ke(n,V_,tT,{[z_]:!0}),c=Ke(n,CD,G$,{[z_]:!0}),u=nr(n,j_,G$,{[z_]:!0});Ke(n,U_,u),Ke(c,V_,l),Ke(c,U_,u),nr(c,j_,u),Ke(u,CD),Ke(u,V_),nr(u,j_,u),Ke(u,U_,u);const d=nr(n,L_,fU,{[lU]:!0});Ke(d,"#"),nr(d,L_,d),Ke(d,GKe,d);const f=Ke(d,JKe);Ke(f,"#"),nr(f,L_,d);const p=[[Di,a],[Fi,o]],m=[[Di,null],[lp,i],[Fi,s]];for(let h=0;h<jv.length;h++)Sl(n,jv[h],H$,qi,p);for(let h=0;h<Vv.length;h++)Sl(n,Vv[h],W$,K$,m);tc(H$,{tld:!0,ascii:!0},t),tc(W$,{utld:!0,alpha:!0},t),Sl(n,"file",By,qi,p),Sl(n,"mailto",By,qi,p),Sl(n,"http",kd,qi,p),Sl(n,"https",kd,qi,p),Sl(n,"ftp",kd,qi,p),Sl(n,"ftps",kd,qi,p),tc(By,{scheme:!0,ascii:!0},t),tc(kd,{slashscheme:!0,ascii:!0},t),e=e.sort((h,g)=>h[0]>g[0]?1:-1);for(let h=0;h<e.length;h++){const g=e[h][0],x=e[h][1]?{[UKe]:!0}:{[KKe]:!0};g.indexOf("-")>=0?x[U$]=!0:Di.test(g)?Fi.test(g)?x[Fp]=!0:x[j$]=!0:x[L$]=!0,$D(n,g,g,x)}return $D(n,"localhost",zm,{ascii:!0}),n.jd=new ps(B0),{start:n,tokens:Object.assign({groups:t},pU)}}function mU(e,t){const n=QKe(t.replace(/[A-Z]/g,i=>i.toLowerCase())),r=n.length,o=[];let s=0,a=0;for(;a<r;){let i=e,l=null,c=0,u=null,d=-1,f=-1;for(;a<r&&(l=i.go(n[a]));)i=l,i.accepts()?(d=0,f=0,u=i):d>=0&&(d+=n[a].length,f++),c+=n[a].length,s+=n[a].length,a++;s-=d,a-=f,c-=d,o.push({t:u.t,v:t.slice(s-c,s),s:s-c,e:s})}return o}function QKe(e){const t=[],n=e.length;let r=0;for(;r<n;){let o=e.charCodeAt(r),s,a=o<55296||o>56319||r+1===n||(s=e.charCodeAt(r+1))<56320||s>57343?e[r]:e.slice(r,r+2);t.push(a),r+=a.length}return t}function Sl(e,t,n,r,o){let s;const a=t.length;for(let i=0;i<a-1;i++){const l=t[i];e.j[l]?s=e.j[l]:(s=new ps(r),s.jr=o.slice(),e.j[l]=s),e=s}return s=new ps(n),s.jr=o.slice(),e.j[t[a-1]]=s,s}function MD(e){const t=[],n=[];let r=0,o="0123456789";for(;r<e.length;){let s=0;for(;o.indexOf(e[r+s])>=0;)s++;if(s>0){t.push(n.join(""));for(let a=parseInt(e.substring(r,r+s),10);a>0;a--)n.pop();r+=s}else n.push(e[r]),r++}return t}const Lm={defaultProtocol:"http",events:null,format:AD,formatHref:AD,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function aT(e,t=null){let n=Object.assign({},Lm);e&&(n=Object.assign(n,e instanceof aT?e.o:e));const r=n.ignoreTags,o=[];for(let s=0;s<r.length;s++)o.push(r[s].toUpperCase());this.o=n,t&&(this.defaultRender=t),this.ignoreTags=o}aT.prototype={o:Lm,ignoreTags:[],defaultRender(e){return e},check(e){return this.get("validate",e.toString(),e)},get(e,t,n){const r=t!=null;let o=this.o[e];return o&&(typeof o=="object"?(o=n.t in o?o[n.t]:Lm[e],typeof o=="function"&&r&&(o=o(t,n))):typeof o=="function"&&r&&(o=o(t,n.t,n)),o)},getObj(e,t,n){let r=this.o[e];return typeof r=="function"&&t!=null&&(r=r(t,n.t,n)),r},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function AD(e){return e}function hU(e,t){this.t="token",this.v=e,this.tk=t}hU.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),n=e.get("truncate",t,this),r=e.get("format",t,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e=Lm.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,n=this.toHref(e.get("defaultProtocol")),r=e.get("formatHref",n,this),o=e.get("tagName",n,t),s=this.toFormattedString(e),a={},i=e.get("className",n,t),l=e.get("target",n,t),c=e.get("rel",n,t),u=e.getObj("attributes",n,t),d=e.getObj("events",n,t);return a.href=r,i&&(a.class=i),l&&(a.target=l),c&&(a.rel=c),u&&Object.assign(a,u),{tagName:o,attributes:a,content:s,eventListeners:d}}};function tw(e,t){class n extends hU{constructor(o,s){super(o,s),this.t=e}}for(const r in t)n.prototype[r]=t[r];return n.t=e,n}const TD=tw("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),ED=tw("text"),XKe=tw("nl"),Uv=tw("url",{isLink:!0,toHref(e=Lm.defaultProtocol){return this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==zm&&e[1].t===Nl}}),Ws=e=>new ps(e);function ZKe({groups:e}){const t=e.domain.concat([_0,$0,Pl,C0,M0,A0,T0,E0,Js,eT,Lp,I0,P0,O0,za,B0,Vp,R0]),n=[S0,Nl,nT,qa,rT,Lp,jp,oT,sT,p0,m0,qp,zp,c0,u0,d0,f0,h0,g0,v0,y0,b0,x0,w0,k0],r=[_0,S0,$0,C0,M0,A0,T0,E0,Js,qp,zp,Lp,I0,P0,O0,jp,za,B0,Vp,R0],o=Ws(),s=Ke(o,Vp);Gt(s,r,s),Gt(s,e.domain,s);const a=Ws(),i=Ws(),l=Ws();Gt(o,e.domain,a),Gt(o,e.scheme,i),Gt(o,e.slashscheme,l),Gt(a,r,s),Gt(a,e.domain,a);const c=Ke(a,Pl);Ke(s,Pl,c),Ke(i,Pl,c),Ke(l,Pl,c);const u=Ke(s,qa);Gt(u,r,s),Gt(u,e.domain,s);const d=Ws();Gt(c,e.domain,d),Gt(d,e.domain,d);const f=Ke(d,qa);Gt(f,e.domain,d);const p=Ws(TD);Gt(f,e.tld,p),Gt(f,e.utld,p),Ke(c,zm,p);const m=Ke(d,Js);Ke(m,Js,m),Gt(m,e.domain,d),Gt(p,e.domain,d),Ke(p,qa,f),Ke(p,Js,m);const h=Ke(p,Nl);Gt(h,e.numeric,TD);const g=Ke(a,Js),v=Ke(a,qa);Ke(g,Js,g),Gt(g,e.domain,a),Gt(v,r,s),Gt(v,e.domain,a);const x=Ws(Uv);Gt(v,e.tld,x),Gt(v,e.utld,x),Gt(x,e.domain,a),Gt(x,r,s),Ke(x,qa,v),Ke(x,Js,g),Ke(x,Pl,c);const $=Ke(x,Nl),C=Ws(Uv);Gt($,e.numeric,C);const M=Ws(Uv),I=Ws();Gt(M,t,M),Gt(M,n,I),Gt(I,t,M),Gt(I,n,I),Ke(x,za,M),Ke(C,za,M);const E=Ke(i,Nl),P=Ke(l,Nl),O=Ke(P,za),D=Ke(O,za);Gt(i,e.domain,a),Ke(i,qa,v),Ke(i,Js,g),Gt(l,e.domain,a),Ke(l,qa,v),Ke(l,Js,g),Gt(E,e.domain,M),Ke(E,za,M),Ke(E,jp,M),Gt(D,e.domain,M),Gt(D,t,M),Ke(D,za,M);const L=[[qp,zp],[u0,c0],[d0,f0],[p0,m0],[h0,g0],[v0,y0],[b0,x0],[w0,k0]];for(let V=0;V<L.length;V++){const[F,z]=L[V],N=Ke(M,F);Ke(I,F,N),Ke(N,z,M);const ee=Ws(Uv);Gt(N,t,ee);const ne=Ws();Gt(N,n),Gt(ee,t,ee),Gt(ee,n,ne),Gt(ne,t,ee),Gt(ne,n,ne),Ke(ee,z,M),Ke(ne,z,M)}return Ke(o,zm,x),Ke(o,tT,XKe),{start:o,tokens:pU}}function eHe(e,t,n){let r=n.length,o=0,s=[],a=[];for(;o<r;){let i=e,l=null,c=null,u=0,d=null,f=-1;for(;o<r&&!(l=i.go(n[o].t));)a.push(n[o++]);for(;o<r&&(c=l||i.go(n[o].t));)l=null,i=c,i.accepts()?(f=0,d=i):f>=0&&f++,o++,u++;if(f<0)o-=u,o<r&&(a.push(n[o]),o++);else{a.length>0&&(s.push(K_(ED,t,a)),a=[]),o-=f,u-=f;const p=d.t,m=n.slice(o-u,o);s.push(K_(p,t,m))}}return a.length>0&&s.push(K_(ED,t,a)),s}function K_(e,t,n){const r=n[0].s,o=n[n.length-1].e,s=t.slice(r,o);return new e(s,n)}const tHe=typeof console<"u"&&console&&console.warn||(()=>{}),nHe="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Ln={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function rHe(){return ps.groups={},Ln.scanner=null,Ln.parser=null,Ln.tokenQueue=[],Ln.pluginQueue=[],Ln.customSchemes=[],Ln.initialized=!1,Ln}function ID(e,t=!1){if(Ln.initialized&&tHe(`linkifyjs: already initialized - will not register custom scheme "${e}" ${nHe}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Ln.customSchemes.push([e,t])}function oHe(){Ln.scanner=YKe(Ln.customSchemes);for(let e=0;e<Ln.tokenQueue.length;e++)Ln.tokenQueue[e][1]({scanner:Ln.scanner});Ln.parser=ZKe(Ln.scanner.tokens);for(let e=0;e<Ln.pluginQueue.length;e++)Ln.pluginQueue[e][1]({scanner:Ln.scanner,parser:Ln.parser});return Ln.initialized=!0,Ln}function iT(e){return Ln.initialized||oHe(),eHe(Ln.parser.start,e,mU(Ln.scanner.start,e))}iT.scan=mU;function gU(e,t=null,n=null){if(t&&typeof t=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);n=t,t=null}const r=new aT(n),o=iT(e),s=[];for(let a=0;a<o.length;a++){const i=o[a];i.isLink&&(!t||i.t===t)&&r.check(i)&&s.push(i.toFormattedObject(r))}return s}var lT="[\0- -\u2029]",sHe=new RegExp(lT),aHe=new RegExp(`${lT}$`),iHe=new RegExp(lT,"g");function lHe(e){return e.length===1?e[0].isLink:e.length===3&&e[1].isLink?["()","[]"].includes(e[0].value+e[2].value):!1}function uHe(e){return new Se({key:new Ce("autolink"),appendTransaction:(t,n,r)=>{const o=t.some(c=>c.docChanged)&&!n.doc.eq(r.doc),s=t.some(c=>c.getMeta("preventAutolink"));if(!o||s)return;const{tr:a}=r,i=X6(n.doc,[...t]);if(eU(i).forEach(({newRange:c})=>{const u=jUe(r.doc,c,p=>p.isTextblock);let d,f;if(u.length>1)d=u[0],f=r.doc.textBetween(d.pos,d.pos+d.node.nodeSize,void 0," ");else if(u.length){const p=r.doc.textBetween(c.from,c.to," "," ");if(!aHe.test(p))return;d=u[0],f=r.doc.textBetween(d.pos,c.to,void 0," ")}if(d&&f){const p=f.split(sHe).filter(Boolean);if(p.length<=0)return!1;const m=p[p.length-1],h=d.pos+f.lastIndexOf(m);if(!m)return!1;const g=iT(m).map(v=>v.toObject(e.defaultProtocol));if(!lHe(g))return!1;g.filter(v=>v.isLink).map(v=>({...v,from:h+v.start+1,to:h+v.end+1})).filter(v=>r.schema.marks.code?!r.doc.rangeHasMark(v.from,v.to,r.schema.marks.code):!0).filter(v=>e.validate(v.value)).filter(v=>e.shouldAutoLink(v.value)).forEach(v=>{tU(v.from,v.to,r.doc).some(x=>x.mark.type===e.type)||a.addMark(v.from,v.to,e.type.create({href:v.href}))})}}),!!a.steps.length)return a}})}function cHe(e){return new Se({key:new Ce("handleClickLink"),props:{handleClick:(t,n,r)=>{var o,s;if(r.button!==0||!t.editable)return!1;let a=!1;if(e.enableClickSelection&&(a=e.editor.commands.extendMarkRange(e.type.name)),e.openOnClick){let i=null;if(r.target instanceof HTMLAnchorElement)i=r.target;else{let d=r.target;const f=[];for(;d.nodeName!=="DIV";)f.push(d),d=d.parentNode;i=f.find(p=>p.nodeName==="A")}if(!i)return a;const l=GUe(t.state,e.type.name),c=(o=i?.href)!=null?o:l.href,u=(s=i?.target)!=null?s:l.target;i&&c&&(window.open(c,u),a=!0)}return a}}})}function dHe(e){return new Se({key:new Ce("handlePasteLink"),props:{handlePaste:(t,n,r)=>{const{shouldAutoLink:o}=e,{state:s}=t,{selection:a}=s,{empty:i}=a;if(i)return!1;let l="";r.content.forEach(u=>{l+=u.textContent});const c=gU(l,{defaultProtocol:e.defaultProtocol}).find(u=>u.isLink&&u.value===l);return!l||!c||o!==void 0&&!o(c.value)?!1:e.editor.commands.setMark(e.type,{href:c.href})}}})}function Bu(e,t){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return t&&t.forEach(r=>{const o=typeof r=="string"?r:r.scheme;o&&n.push(o)}),!e||e.replace(iHe,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var vU=xKe.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(e=>{if(typeof e=="string"){ID(e);return}ID(e.scheme,e.optionalSlashes)})},onDestroy(){rHe()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(e,t)=>!!Bu(e,t.protocols),validate:e=>!!e,shouldAutoLink:e=>{const t=/^[a-z][a-z0-9+.-]*:\/\//i.test(e),n=/^[a-z][a-z0-9+.-]*:/i.test(e);if(t||n&&!e.includes("@"))return!0;const o=(e.includes("@")?e.split("@").pop():e).split(/[/?#:]/)[0];return!(/^\d{1,3}(\.\d{1,3}){3}$/.test(o)||!/\./.test(o))}}},addAttributes(){return{href:{default:null,parseHTML(e){return e.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:e=>{const t=e.getAttribute("href");return!t||!this.options.isAllowedUri(t,{defaultValidate:n=>!!Bu(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:e}){return this.options.isAllowedUri(e.href,{defaultValidate:t=>!!Bu(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",kD(this.options.HTMLAttributes,e),0]:["a",kD(this.options.HTMLAttributes,{...e,href:""}),0]},markdownTokenName:"link",parseMarkdown:(e,t)=>t.applyMark("link",t.parseInline(e.tokens||[]),{href:e.href,title:e.title||null}),renderMarkdown:(e,t)=>{var n;const r=((n=e.attrs)==null?void 0:n.href)||"";return`[${t.renderChildren(e)}](${r})`},addCommands(){return{setLink:e=>({chain:t})=>{const{href:n}=e;return this.options.isAllowedUri(n,{defaultValidate:r=>!!Bu(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?t().setMark(this.name,e).setMeta("preventAutolink",!0).run():!1},toggleLink:e=>({chain:t})=>{const{href:n}=e||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!Bu(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[LKe({find:e=>{const t=[];if(e){const{protocols:n,defaultProtocol:r}=this.options,o=gU(e).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:a=>!!Bu(a,n),protocols:n,defaultProtocol:r}));o.length&&o.forEach(s=>{this.options.shouldAutoLink(s.value)&&t.push({text:s.value,data:{href:s.href},index:s.start})})}return t},type:this.type,getAttributes:e=>{var t;return{href:(t=e.data)==null?void 0:t.href}}})]},addProseMirrorPlugins(){const e=[],{protocols:t,defaultProtocol:n}=this.options;return this.options.autolink&&e.push(uHe({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:o=>!!Bu(o,t),protocols:t,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),e.push(cHe({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&e.push(dHe({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),e}}),fHe=vU,pHe=Object.defineProperty,uT=(e,t)=>{for(var n in t)pHe(e,n,{get:t[n],enumerable:!0})};function yU(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:o}=n,{storedMarks:s}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return s},get selection(){return r},get doc(){return o},get tr(){return r=n.selection,o=n.doc,s=n.storedMarks,n}}}var mHe=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:n,state:r}=this,{view:o}=n,{tr:s}=r,a=this.buildProps(s);return Object.fromEntries(Object.entries(t).map(([i,l])=>[i,(...u)=>{const d=l(...u)(a);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(s),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,n=!0){const{rawCommands:r,editor:o,state:s}=this,{view:a}=o,i=[],l=!!t,c=t||s.tr,u=()=>(!l&&n&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(c),i.every(f=>f===!0)),d={...Object.fromEntries(Object.entries(r).map(([f,p])=>[f,(...h)=>{const g=this.buildProps(c,n),v=p(...h)(g);return i.push(v),d}])),run:u};return d}createCan(t){const{rawCommands:n,state:r}=this,o=!1,s=t||r.tr,a=this.buildProps(s,o);return{...Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...u)=>c(...u)({...a,dispatch:void 0})])),chain:()=>this.createChain(s,o)}}buildProps(t,n=!0){const{rawCommands:r,editor:o,state:s}=this,{view:a}=o,i={tr:t,editor:o,view:a,state:yU({state:s,transaction:t}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(t,n),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...u)=>c(...u)(i)]))}};return i}},bU={};uT(bU,{blur:()=>hHe,clearContent:()=>gHe,clearNodes:()=>vHe,command:()=>yHe,createParagraphNear:()=>bHe,cut:()=>xHe,deleteCurrentNode:()=>wHe,deleteNode:()=>kHe,deleteRange:()=>_He,deleteSelection:()=>SHe,enter:()=>$He,exitCode:()=>CHe,extendMarkRange:()=>AHe,first:()=>THe,focus:()=>PHe,forEach:()=>OHe,insertContent:()=>RHe,insertContentAt:()=>DHe,joinBackward:()=>zHe,joinDown:()=>qHe,joinForward:()=>LHe,joinItemBackward:()=>jHe,joinItemForward:()=>VHe,joinTextblockBackward:()=>UHe,joinTextblockForward:()=>KHe,joinUp:()=>FHe,keyboardShortcut:()=>WHe,lift:()=>GHe,liftEmptyBlock:()=>JHe,liftListItem:()=>YHe,newlineInCode:()=>QHe,resetAttributes:()=>XHe,scrollIntoView:()=>ZHe,selectAll:()=>eWe,selectNodeBackward:()=>tWe,selectNodeForward:()=>nWe,selectParentNode:()=>rWe,selectTextblockEnd:()=>oWe,selectTextblockStart:()=>sWe,setContent:()=>iWe,setMark:()=>SWe,setMeta:()=>$We,setNode:()=>CWe,setNodeSelection:()=>MWe,setTextDirection:()=>AWe,setTextSelection:()=>TWe,sinkListItem:()=>EWe,splitBlock:()=>IWe,splitListItem:()=>PWe,toggleList:()=>OWe,toggleMark:()=>RWe,toggleNode:()=>BWe,toggleWrap:()=>NWe,undoInputRule:()=>DWe,unsetAllMarks:()=>FWe,unsetMark:()=>qWe,unsetTextDirection:()=>zWe,updateAttributes:()=>LWe,wrapIn:()=>jWe,wrapInList:()=>VWe});var hHe=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),gHe=(e=!0)=>({commands:t})=>t.setContent("",{emitUpdate:e}),vHe=()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:o}=r;return n&&o.forEach(({$from:s,$to:a})=>{e.doc.nodesBetween(s.pos,a.pos,(i,l)=>{if(i.type.isText)return;const{doc:c,mapping:u}=t,d=c.resolve(u.map(l)),f=c.resolve(u.map(l+i.nodeSize)),p=d.blockRange(f);if(!p)return;const m=lr(p);if(i.type.isTextblock){const{defaultType:h}=d.parent.contentMatchAt(d.index());t.setNodeMarkup(p.start,h)}(m||m===0)&&t.lift(p,m)})}),!0},yHe=e=>t=>e(t),bHe=()=>({state:e,dispatch:t})=>Hr(e,t),xHe=(e,t)=>({editor:n,tr:r})=>{const{state:o}=n,s=o.doc.slice(e.from,e.to);r.deleteRange(e.from,e.to);const a=r.mapping.map(t);return r.insert(a,s.content),r.setSelection(new ie(r.doc.resolve(Math.max(a-1,0)))),!0},wHe=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;const o=e.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===r.type){if(t){const i=o.before(s),l=o.after(s);e.delete(i,l).scrollIntoView()}return!0}return!1};function Nr(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}var kHe=e=>({tr:t,state:n,dispatch:r})=>{const o=Nr(e,n.schema),s=t.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===o){if(r){const l=s.before(a),c=s.after(a);t.delete(l,c).scrollIntoView()}return!0}return!1},_He=e=>({tr:t,dispatch:n})=>{const{from:r,to:o}=e;return n&&t.delete(r,o),!0},SHe=()=>({state:e,dispatch:t})=>Cr(e,t),$He=()=>({commands:e})=>e.keyboardShortcut("Enter"),CHe=()=>({state:e,dispatch:t})=>co(e,t);function MHe(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function N0(e,t,n={strict:!0}){const r=Object.keys(t);return r.length?r.every(o=>n.strict?t[o]===e[o]:MHe(t[o])?t[o].test(e[o]):t[o]===e[o]):!0}function xU(e,t,n={}){return e.find(r=>r.type===t&&N0(Object.fromEntries(Object.keys(n).map(o=>[o,r.attrs[o]])),n))}function PD(e,t,n={}){return!!xU(e,t,n)}function wU(e,t,n){var r;if(!e||!t)return;let o=e.parent.childAfter(e.parentOffset);if((!o.node||!o.node.marks.some(u=>u.type===t))&&(o=e.parent.childBefore(e.parentOffset)),!o.node||!o.node.marks.some(u=>u.type===t)||(n=n||((r=o.node.marks[0])==null?void 0:r.attrs),!xU([...o.node.marks],t,n)))return;let a=o.index,i=e.start()+o.offset,l=a+1,c=i+o.node.nodeSize;for(;a>0&&PD([...e.parent.child(a-1).marks],t,n);)a-=1,i-=e.parent.child(a).nodeSize;for(;l<e.parent.childCount&&PD([...e.parent.child(l).marks],t,n);)c+=e.parent.child(l).nodeSize,l+=1;return{from:i,to:c}}function gu(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}var AHe=(e,t={})=>({tr:n,state:r,dispatch:o})=>{const s=gu(e,r.schema),{doc:a,selection:i}=n,{$from:l,from:c,to:u}=i;if(o){const d=wU(l,s,t);if(d&&d.from<=c&&d.to>=u){const f=ie.create(a,d.from,d.to);n.setSelection(f)}}return!0},THe=e=>t=>{const n=typeof e=="function"?e(t):e;for(let r=0;r<n.length;r+=1)if(n[r](t))return!0;return!1};function kU(e){return e instanceof ie}function nc(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function EHe(e,t=null){if(!t)return null;const n=Pe.atStart(e),r=Pe.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return r;const o=n.from,s=r.to;return t==="all"?ie.create(e,nc(0,o,s),nc(e.content.size,o,s)):ie.create(e,nc(t,o,s),nc(t,o,s))}function OD(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function D0(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function IHe(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}var PHe=(e=null,t={})=>({editor:n,view:r,tr:o,dispatch:s})=>{t={scrollIntoView:!0,...t};const a=()=>{(D0()||OD())&&r.dom.focus(),IHe()&&!D0()&&!OD()&&r.dom.focus({preventScroll:!0}),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),t?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&e===null||e===!1)return!0;if(s&&e===null&&!kU(n.state.selection))return a(),!0;const i=EHe(o.doc,e)||n.state.selection,l=n.state.selection.eq(i);return s&&(l||o.setSelection(i),l&&o.storedMarks&&o.setStoredMarks(o.storedMarks),a()),!0},OHe=(e,t)=>n=>e.every((r,o)=>t(r,{...n,index:o})),RHe=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),_U=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const r=t[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):r.nodeType===1&&_U(r)}return e};function Kv(e){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t=`<body>${e}</body>`,n=new window.DOMParser().parseFromString(t,"text/html").body;return _U(n)}function jm(e,t,n){if(e instanceof Hn||e instanceof de)return e;n={slice:!0,parseOptions:{},...n};const r=typeof e=="object"&&e!==null,o=typeof e=="string";if(r)try{if(Array.isArray(e)&&e.length>0)return de.fromArray(e.map(i=>t.nodeFromJSON(i)));const a=t.nodeFromJSON(e);return n.errorOnInvalidContent&&a.check(),a}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",s),jm("",t,n)}if(o){if(n.errorOnInvalidContent){let a=!1,i="";const l=new qr({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(a=!0,i=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?gt.fromSchema(l).parseSlice(Kv(e),n.parseOptions):gt.fromSchema(l).parse(Kv(e),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${i}`)})}const s=gt.fromSchema(t);return n.slice?s.parseSlice(Kv(e),n.parseOptions).content:s.parse(Kv(e),n.parseOptions)}return jm("",t,n)}function BHe(e,t,n){const r=e.steps.length-1;if(r<t)return;const o=e.steps[r];if(!(o instanceof ln||o instanceof un))return;const s=e.mapping.maps[r];let a=0;s.forEach((i,l,c,u)=>{a===0&&(a=u)}),e.setSelection(Pe.near(e.doc.resolve(a),n))}var NHe=e=>!("type"in e),DHe=(e,t,n)=>({tr:r,dispatch:o,editor:s})=>{var a;if(o){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let i;const l=g=>{s.emit("contentError",{editor:s,error:g,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{jm(t,s.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(g){l(g)}try{i=jm(t,s.schema,{parseOptions:c,errorOnInvalidContent:(a=n.errorOnInvalidContent)!=null?a:s.options.enableContentCheck})}catch(g){return l(g),!1}let{from:u,to:d}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},f=!0,p=!0;if((NHe(i)?i:[i]).forEach(g=>{g.check(),f=f?g.isText&&g.marks.length===0:!1,p=p?g.isBlock:!1}),u===d&&p){const{parent:g}=r.doc.resolve(u);g.isTextblock&&!g.type.spec.code&&!g.childCount&&(u-=1,d+=1)}let h;if(f){if(Array.isArray(t))h=t.map(g=>g.text||"").join("");else if(t instanceof de){let g="";t.forEach(v=>{v.text&&(g+=v.text)}),h=g}else typeof t=="object"&&t&&t.text?h=t.text:h=t;r.insertText(h,u,d)}else{h=i;const g=r.doc.resolve(u),v=g.node(),x=g.parentOffset===0,$=v.isText||v.isTextblock,C=v.content.size>0;x&&$&&C&&(u=Math.max(0,u-1)),r.replaceWith(u,d,h)}n.updateSelection&&BHe(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:u,text:h}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:u,text:h})}return!0},FHe=()=>({state:e,dispatch:t})=>io(e,t),qHe=()=>({state:e,dispatch:t})=>lo(e,t),zHe=()=>({state:e,dispatch:t})=>Lr(e,t),LHe=()=>({state:e,dispatch:t})=>Vr(e,t),jHe=()=>({state:e,dispatch:t,tr:n})=>{try{const r=on(e.doc,e.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},VHe=()=>({state:e,dispatch:t,tr:n})=>{try{const r=on(e.doc,e.selection.$from.pos,1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},UHe=()=>({state:e,dispatch:t})=>so(e,t),KHe=()=>({state:e,dispatch:t})=>ao(e,t);function SU(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function HHe(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let r,o,s,a;for(let i=0;i<t.length-1;i+=1){const l=t[i];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))o=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))D0()||SU()?a=!0:o=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),o&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}var WHe=e=>({editor:t,view:n,tr:r,dispatch:o})=>{const s=HHe(e).split(/-(?!$)/),a=s.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),i=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,i))});return l?.steps.forEach(c=>{const u=c.map(r.mapping);u&&o&&r.maybeStep(u)}),!0};function rf(e,t,n={}){const{from:r,to:o,empty:s}=e.selection,a=t?Nr(t,e.schema):null,i=[];e.doc.nodesBetween(r,o,(d,f)=>{if(d.isText)return;const p=Math.max(r,f),m=Math.min(o,f+d.nodeSize);i.push({node:d,from:p,to:m})});const l=o-r,c=i.filter(d=>a?a.name===d.node.type.name:!0).filter(d=>N0(d.node.attrs,n,{strict:!1}));return s?!!c.length:c.reduce((d,f)=>d+f.to-f.from,0)>=l}var GHe=(e,t={})=>({state:n,dispatch:r})=>{const o=Nr(e,n.schema);return rf(n,o,t)?uo(n,r):!1},JHe=()=>({state:e,dispatch:t})=>Wr(e,t),YHe=e=>({state:t,dispatch:n})=>{const r=Nr(e,t.schema);return vo(r)(t,n)},QHe=()=>({state:e,dispatch:t})=>Kr(e,t);function $U(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function RD(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((r,o)=>(n.includes(o)||(r[o]=e[o]),r),{})}var XHe=(e,t)=>({tr:n,state:r,dispatch:o})=>{let s=null,a=null;const i=$U(typeof e=="string"?e:e.name,r.schema);if(!i)return!1;i==="node"&&(s=Nr(e,r.schema)),i==="mark"&&(a=gu(e,r.schema));let l=!1;return n.selection.ranges.forEach(c=>{r.doc.nodesBetween(c.$from.pos,c.$to.pos,(u,d)=>{s&&s===u.type&&(l=!0,o&&n.setNodeMarkup(d,void 0,RD(u.attrs,t))),a&&u.marks.length&&u.marks.forEach(f=>{a===f.type&&(l=!0,o&&n.addMark(d,d+u.nodeSize,a.create(RD(f.attrs,t))))})})}),l},ZHe=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),eWe=()=>({tr:e,dispatch:t})=>{if(t){const n=new Sn(e.doc);e.setSelection(n)}return!0},tWe=()=>({state:e,dispatch:t})=>jr(e,t),nWe=()=>({state:e,dispatch:t})=>Ur(e,t),rWe=()=>({state:e,dispatch:t})=>fo(e,t),oWe=()=>({state:e,dispatch:t})=>mo(e,t),sWe=()=>({state:e,dispatch:t})=>po(e,t);function aWe(e,t,n={},r={}){return jm(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var iWe=(e,{errorOnInvalidContent:t,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:o,tr:s,dispatch:a,commands:i})=>{const{doc:l}=s;if(r.preserveWhitespace!=="full"){const c=aWe(e,o.schema,r,{errorOnInvalidContent:t??o.options.enableContentCheck});return a&&s.replaceWith(0,l.content.size,c).setMeta("preventUpdate",!n),!0}return a&&s.setMeta("preventUpdate",!n),i.insertContentAt({from:0,to:l.content.size},e,{parseOptions:r,errorOnInvalidContent:t??o.options.enableContentCheck})};function lWe(e,t){const n=gu(t,e.schema),{from:r,to:o,empty:s}=e.selection,a=[];s?(e.storedMarks&&a.push(...e.storedMarks),a.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,o,l=>{a.push(...l.marks)});const i=a.find(l=>l.type.name===n.name);return i?{...i.attrs}:{}}function uWe(e,t){const n=new zr(e);return t.forEach(r=>{r.steps.forEach(o=>{n.step(o)})}),n}function cWe(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function dWe(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function nw(e){return t=>dWe(t.$from,e)}function Vm(e,t,n){return e.config[t]===void 0&&e.parent?Vm(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind({...n,parent:e.parent?Vm(e.parent,t,n):null}):e.config[t]}function fWe(e){return typeof e=="function"}function F0(e,t=void 0,...n){return fWe(e)?t?e.bind(t)(...n):e(...n):e}function CU(e){const t=e.filter(o=>o.type==="extension"),n=e.filter(o=>o.type==="node"),r=e.filter(o=>o.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:r}}function Ac(...e){return e.filter(t=>!!t).reduce((t,n)=>{const r={...t};return Object.entries(n).forEach(([o,s])=>{if(!r[o]){r[o]=s;return}if(o==="class"){const i=s?String(s).split(" "):[],l=r[o]?r[o].split(" "):[],c=i.filter(u=>!l.includes(u));r[o]=[...l,...c].join(" ")}else if(o==="style"){const i=s?s.split(";").map(u=>u.trim()).filter(Boolean):[],l=r[o]?r[o].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;l.forEach(u=>{const[d,f]=u.split(":").map(p=>p.trim());c.set(d,f)}),i.forEach(u=>{const[d,f]=u.split(":").map(p=>p.trim());c.set(d,f)}),r[o]=Array.from(c.entries()).map(([u,d])=>`${u}: ${d}`).join("; ")}else r[o]=s}),r},{})}function pWe(e,t){return t.filter(n=>n.type===e.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(e.attrs)||{}:{[n.name]:e.attrs[n.name]}).reduce((n,r)=>Ac(n,r),{})}function mWe(e,t,n){const{from:r,to:o}=t,{blockSeparator:s=`

`,textSerializers:a={}}=n||{};let i="";return e.nodesBetween(r,o,(l,c,u,d)=>{var f;l.isBlock&&c>r&&(i+=s);const p=a?.[l.type.name];if(p)return u&&(i+=p({node:l,pos:c,parent:u,index:d,range:t})),!1;l.isText&&(i+=(f=l?.text)==null?void 0:f.slice(Math.max(r,c)-c,o-c))}),i}function hWe(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}function gWe(e,t=JSON.stringify){const n={};return e.filter(r=>{const o=t(r);return Object.prototype.hasOwnProperty.call(n,o)?!1:n[o]=!0})}function vWe(e){const t=gWe(e);return t.length===1?t:t.filter((n,r)=>!t.filter((s,a)=>a!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function yWe(e){const{mapping:t,steps:n}=e,r=[];return t.maps.forEach((o,s)=>{const a=[];if(o.ranges.length)o.forEach((i,l)=>{a.push({from:i,to:l})});else{const{from:i,to:l}=n[s];if(i===void 0||l===void 0)return;a.push({from:i,to:l})}a.forEach(({from:i,to:l})=>{const c=t.slice(s).map(i,-1),u=t.slice(s).map(l),d=t.invert().map(c,-1),f=t.invert().map(u);r.push({oldRange:{from:d,to:f},newRange:{from:c,to:u}})})}),vWe(r)}var bWe=(e,t,n,r=20)=>{const o=e.doc.resolve(n);let s=r,a=null;for(;s>0&&a===null;){const i=o.node(s);i?.type.name===t?a=i:s-=1}return[a,s]};function Ny(e,t,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const o=e.find(s=>s.type===t&&s.name===r);return o?o.attribute.keepOnSplit:!1}))}function xWe(e,t,n={}){const{empty:r,ranges:o}=e.selection,s=t?gu(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(d=>s?s.name===d.type.name:!0).find(d=>N0(d.attrs,n,{strict:!1}));let a=0;const i=[];if(o.forEach(({$from:d,$to:f})=>{const p=d.pos,m=f.pos;e.doc.nodesBetween(p,m,(h,g)=>{if(!h.isText&&!h.marks.length)return;const v=Math.max(p,g),x=Math.min(m,g+h.nodeSize),$=x-v;a+=$,i.push(...h.marks.map(C=>({mark:C,from:v,to:x})))})}),a===0)return!1;const l=i.filter(d=>s?s.name===d.mark.type.name:!0).filter(d=>N0(d.mark.attrs,n,{strict:!1})).reduce((d,f)=>d+f.to-f.from,0),c=i.filter(d=>s?d.mark.type!==s&&d.mark.type.excludes(s):!0).reduce((d,f)=>d+f.to-f.from,0);return(l>0?l+c:l)>=a}var wWe=(e,t)=>{const{$from:n,$to:r,$anchor:o}=e.selection;if(t){const s=nw(i=>i.type.name===t)(e.selection);if(!s)return!1;const a=e.doc.resolve(s.pos+1);return o.pos+1===a.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},kWe=e=>{const{$from:t,$to:n}=e.selection;return!(t.parentOffset>0||t.pos!==n.pos)};function BD(e,t){const{nodeExtensions:n}=CU(t),r=n.find(a=>a.name===e);if(!r)return!1;const o={name:r.name,options:r.options,storage:r.storage},s=F0(Vm(r,"group",o));return typeof s!="string"?!1:s.split(" ").includes("list")}function MU(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((r=e.text)!=null?r:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let o=!0;return e.content.forEach(s=>{o!==!1&&(MU(s,{ignoreWhitespace:n,checkChildren:t})||(o=!1))}),o}return!1}function _We(e,t,n){var r;const{selection:o}=t;let s=null;if(kU(o)&&(s=o.$cursor),s){const i=(r=e.storedMarks)!=null?r:s.marks();return s.parent.type.allowsMarkType(n)&&(!!n.isInSet(i)||!i.some(c=>c.type.excludes(n)))}const{ranges:a}=o;return a.some(({$from:i,$to:l})=>{let c=i.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(i.pos,l.pos,(u,d,f)=>{if(c)return!1;if(u.isInline){const p=!f||f.type.allowsMarkType(n),m=!!n.isInSet(u.marks)||!u.marks.some(h=>h.type.excludes(n));c=p&&m}return!c}),c})}var SWe=(e,t={})=>({tr:n,state:r,dispatch:o})=>{const{selection:s}=n,{empty:a,ranges:i}=s,l=gu(e,r.schema);if(o)if(a){const c=lWe(r,l);n.addStoredMark(l.create({...c,...t}))}else i.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;r.doc.nodesBetween(u,d,(f,p)=>{const m=Math.max(p,u),h=Math.min(p+f.nodeSize,d);f.marks.find(v=>v.type===l)?f.marks.forEach(v=>{l===v.type&&n.addMark(m,h,l.create({...v.attrs,...t}))}):n.addMark(m,h,l.create(t))})});return _We(r,n,l)},$We=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),CWe=(e,t={})=>({state:n,dispatch:r,chain:o})=>{const s=Nr(e,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),s.isTextblock?o().command(({commands:i})=>cn(s,{...a,...t})(n)?!0:i.clearNodes()).command(({state:i})=>cn(s,{...a,...t})(i,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},MWe=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,o=nc(e,0,r.content.size),s=Ge.create(r,o);t.setSelection(s)}return!0},AWe=(e,t)=>({tr:n,state:r,dispatch:o})=>{const{selection:s}=r;let a,i;return typeof t=="number"?(a=t,i=t):t&&"from"in t&&"to"in t?(a=t.from,i=t.to):(a=s.from,i=s.to),o&&n.doc.nodesBetween(a,i,(l,c)=>{l.isText||n.setNodeMarkup(c,void 0,{...l.attrs,dir:e})}),!0},TWe=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,{from:o,to:s}=typeof e=="number"?{from:e,to:e}:e,a=ie.atStart(r).from,i=ie.atEnd(r).to,l=nc(o,a,i),c=nc(s,a,i),u=ie.create(r,l,c);t.setSelection(u)}return!0},EWe=e=>({state:t,dispatch:n})=>{const r=Nr(e,t.schema);return yo(r)(t,n)};function ND(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(o=>t?.includes(o.type.name));e.tr.ensureMarks(r)}}var IWe=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:o})=>{const{selection:s,doc:a}=t,{$from:i,$to:l}=s,c=o.extensionManager.attributes,u=Ny(c,i.node().type.name,i.node().attrs);if(s instanceof Ge&&s.node.isBlock)return!i.parentOffset||!ot(a,i.pos)?!1:(r&&(e&&ND(n,o.extensionManager.splittableMarks),t.split(i.pos).scrollIntoView()),!0);if(!i.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,f=i.depth===0?void 0:cWe(i.node(-1).contentMatchAt(i.indexAfter(-1)));let p=d&&f?[{type:f,attrs:u}]:void 0,m=ot(t.doc,t.mapping.map(i.pos),1,p);if(!p&&!m&&ot(t.doc,t.mapping.map(i.pos),1,f?[{type:f}]:void 0)&&(m=!0,p=f?[{type:f,attrs:u}]:void 0),r){if(m&&(s instanceof ie&&t.deleteSelection(),t.split(t.mapping.map(i.pos),1,p),f&&!d&&!i.parentOffset&&i.parent.type!==f)){const h=t.mapping.map(i.before()),g=t.doc.resolve(h);i.node(-1).canReplaceWith(g.index(),g.index()+1,f)&&t.setNodeMarkup(t.mapping.map(i.before()),f)}e&&ND(n,o.extensionManager.splittableMarks),t.scrollIntoView()}return m},PWe=(e,t={})=>({tr:n,state:r,dispatch:o,editor:s})=>{var a;const i=Nr(e,r.schema),{$from:l,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const d=l.node(-1);if(d.type!==i)return!1;const f=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==i||l.index(-2)!==l.node(-2).childCount-1)return!1;if(o){let v=de.empty;const x=l.index(-1)?1:l.index(-2)?2:3;for(let P=l.depth-x;P>=l.depth-3;P-=1)v=de.from(l.node(P).copy(v));const $=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,C={...Ny(f,l.node().type.name,l.node().attrs),...t},M=((a=i.contentMatch.defaultType)==null?void 0:a.createAndFill(C))||void 0;v=v.append(de.from(i.createAndFill(null,M)||void 0));const I=l.before(l.depth-(x-1));n.replace(I,l.after(-$),new Je(v,4-x,0));let E=-1;n.doc.nodesBetween(I,n.doc.content.size,(P,O)=>{if(E>-1)return!1;P.isTextblock&&P.content.size===0&&(E=O+1)}),E>-1&&n.setSelection(ie.near(n.doc.resolve(E))),n.scrollIntoView()}return!0}const p=c.pos===l.end()?d.contentMatchAt(0).defaultType:null,m={...Ny(f,d.type.name,d.attrs),...t},h={...Ny(f,l.node().type.name,l.node().attrs),...t};n.delete(l.pos,c.pos);const g=p?[{type:i,attrs:m},{type:p,attrs:h}]:[{type:i,attrs:m}];if(!ot(n.doc,l.pos,2))return!1;if(o){const{selection:v,storedMarks:x}=r,{splittableMarks:$}=s.extensionManager,C=x||v.$to.parentOffset&&v.$from.marks();if(n.split(l.pos,2,g).scrollIntoView(),!C||!o)return!0;const M=C.filter(I=>$.includes(I.type.name));n.ensureMarks(M)}return!0},H_=(e,t)=>{const n=nw(a=>a.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const o=e.doc.nodeAt(r);return n.node.type===o?.type&&Ht(e.doc,n.pos)&&e.join(n.pos),!0},W_=(e,t)=>{const n=nw(a=>a.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const o=e.doc.nodeAt(r);return n.node.type===o?.type&&Ht(e.doc,r)&&e.join(r),!0},OWe=(e,t,n,r={})=>({editor:o,tr:s,state:a,dispatch:i,chain:l,commands:c,can:u})=>{const{extensions:d,splittableMarks:f}=o.extensionManager,p=Nr(e,a.schema),m=Nr(t,a.schema),{selection:h,storedMarks:g}=a,{$from:v,$to:x}=h,$=v.blockRange(x),C=g||h.$to.parentOffset&&h.$from.marks();if(!$)return!1;const M=nw(I=>BD(I.type.name,d))(h);if($.depth>=1&&M&&$.depth-M.depth<=1){if(M.node.type===p)return c.liftListItem(m);if(BD(M.node.type.name,d)&&p.validContent(M.node.content)&&i)return l().command(()=>(s.setNodeMarkup(M.pos,p),!0)).command(()=>H_(s,p)).command(()=>W_(s,p)).run()}return!n||!C||!i?l().command(()=>u().wrapInList(p,r)?!0:c.clearNodes()).wrapInList(p,r).command(()=>H_(s,p)).command(()=>W_(s,p)).run():l().command(()=>{const I=u().wrapInList(p,r),E=C.filter(P=>f.includes(P.type.name));return s.ensureMarks(E),I?!0:c.clearNodes()}).wrapInList(p,r).command(()=>H_(s,p)).command(()=>W_(s,p)).run()},RWe=(e,t={},n={})=>({state:r,commands:o})=>{const{extendEmptyMarkRange:s=!1}=n,a=gu(e,r.schema);return xWe(r,a,t)?o.unsetMark(a,{extendEmptyMarkRange:s}):o.setMark(a,t)},BWe=(e,t,n={})=>({state:r,commands:o})=>{const s=Nr(e,r.schema),a=Nr(t,r.schema),i=rf(r,s,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),i?o.setNode(a,l):o.setNode(s,{...l,...n})},NWe=(e,t={})=>({state:n,commands:r})=>{const o=Nr(e,n.schema);return rf(n,o,t)?r.lift(o):r.wrapIn(o,t)},DWe=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const o=n[r];let s;if(o.spec.isInputRules&&(s=o.getState(e))){if(t){const a=e.tr,i=s.transform;for(let l=i.steps.length-1;l>=0;l-=1)a.step(i.steps[l].invert(i.docs[l]));if(s.text){const l=a.doc.resolve(s.from).marks();a.replaceWith(s.from,s.to,e.schema.text(s.text,l))}else a.delete(s.from,s.to)}return!0}}return!1},FWe=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:o}=n;return r||t&&o.forEach(s=>{e.removeMark(s.$from.pos,s.$to.pos)}),!0},qWe=(e,t={})=>({tr:n,state:r,dispatch:o})=>{var s;const{extendEmptyMarkRange:a=!1}=t,{selection:i}=n,l=gu(e,r.schema),{$from:c,empty:u,ranges:d}=i;if(!o)return!0;if(u&&a){let{from:f,to:p}=i;const m=(s=c.marks().find(g=>g.type===l))==null?void 0:s.attrs,h=wU(c,l,m);h&&(f=h.from,p=h.to),n.removeMark(f,p,l)}else d.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,l)});return n.removeStoredMark(l),!0},zWe=e=>({tr:t,state:n,dispatch:r})=>{const{selection:o}=n;let s,a;return typeof e=="number"?(s=e,a=e):e&&"from"in e&&"to"in e?(s=e.from,a=e.to):(s=o.from,a=o.to),r&&t.doc.nodesBetween(s,a,(i,l)=>{if(i.isText)return;const c={...i.attrs};delete c.dir,t.setNodeMarkup(l,void 0,c)}),!0},LWe=(e,t={})=>({tr:n,state:r,dispatch:o})=>{let s=null,a=null;const i=$U(typeof e=="string"?e:e.name,r.schema);if(!i)return!1;i==="node"&&(s=Nr(e,r.schema)),i==="mark"&&(a=gu(e,r.schema));let l=!1;return n.selection.ranges.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;let f,p,m,h;n.selection.empty?r.doc.nodesBetween(u,d,(g,v)=>{s&&s===g.type&&(l=!0,m=Math.max(v,u),h=Math.min(v+g.nodeSize,d),f=v,p=g)}):r.doc.nodesBetween(u,d,(g,v)=>{v<u&&s&&s===g.type&&(l=!0,m=Math.max(v,u),h=Math.min(v+g.nodeSize,d),f=v,p=g),v>=u&&v<=d&&(s&&s===g.type&&(l=!0,o&&n.setNodeMarkup(v,void 0,{...g.attrs,...t})),a&&g.marks.length&&g.marks.forEach(x=>{if(a===x.type&&(l=!0,o)){const $=Math.max(v,u),C=Math.min(v+g.nodeSize,d);n.addMark($,C,a.create({...x.attrs,...t}))}}))}),p&&(f!==void 0&&o&&n.setNodeMarkup(f,void 0,{...p.attrs,...t}),a&&p.marks.length&&p.marks.forEach(g=>{a===g.type&&o&&n.addMark(m,h,a.create({...g.attrs,...t}))}))}),l},jWe=(e,t={})=>({state:n,dispatch:r})=>{const o=Nr(e,n.schema);return ho(o,t)(n,r)},VWe=(e,t={})=>({state:n,dispatch:r})=>{const o=Nr(e,n.schema);return go(o,t)(n,r)},UWe=class{constructor(t){var n;this.find=t.find,this.handler=t.handler,this.undoable=(n=t.undoable)!=null?n:!0}};function KWe(e){return Object.prototype.toString.call(e).slice(8,-1)}function Hv(e){return KWe(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function AU(e,t){const n={...e};return Hv(e)&&Hv(t)&&Object.keys(t).forEach(r=>{Hv(t[r])&&Hv(e[r])?n[r]=AU(e[r],t[r]):n[r]=t[r]}),n}var TU=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...F0(Vm(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...F0(Vm(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const n=this.extend({...this.config,addOptions:()=>AU(this.options,t)});return n.name=this.name,n.parent=this.parent,n}extend(t={}){const n=new this.constructor({...this.config,...t});return n.parent=this,this.child=n,n.name="name"in t?t.name:n.parent.name,n}},HWe={};uT(HWe,{ClipboardTextSerializer:()=>WWe,Commands:()=>GWe,Delete:()=>JWe,Drop:()=>YWe,Editable:()=>QWe,FocusEvents:()=>XWe,Keymap:()=>ZWe,Paste:()=>e7e,Tabindex:()=>t7e,TextDirection:()=>n7e,focusEventsPluginKey:()=>IU});var ia=class EU extends TU{constructor(){super(...arguments),this.type="extension"}static create(t={}){const n=typeof t=="function"?t():t;return new EU(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},WWe=ia.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Se({key:new Ce("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:o}=t,{ranges:s}=o,a=Math.min(...s.map(u=>u.$from.pos)),i=Math.max(...s.map(u=>u.$to.pos)),l=hWe(n);return mWe(r,{from:a,to:i},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),GWe=ia.create({name:"commands",addCommands(){return{...bU}}}),JWe=ia.create({name:"delete",onUpdate({transaction:e,appendedTransactions:t}){var n,r,o;const s=()=>{var a,i,l,c;if((c=(l=(i=(a=this.editor.options.coreExtensionOptions)==null?void 0:a.delete)==null?void 0:i.filterTransaction)==null?void 0:l.call(i,e))!=null?c:e.getMeta("y-sync$"))return;const u=uWe(e.before,[e,...t]);yWe(u).forEach(p=>{u.mapping.mapResult(p.oldRange.from).deletedAfter&&u.mapping.mapResult(p.oldRange.to).deletedBefore&&u.before.nodesBetween(p.oldRange.from,p.oldRange.to,(m,h)=>{const g=h+m.nodeSize-2,v=p.oldRange.from<=h&&g<=p.oldRange.to;this.editor.emit("delete",{type:"node",node:m,from:h,to:g,newFrom:u.mapping.map(h),newTo:u.mapping.map(g),deletedRange:p.oldRange,newRange:p.newRange,partial:!v,editor:this.editor,transaction:e,combinedTransform:u})})});const f=u.mapping;u.steps.forEach((p,m)=>{var h,g;if(p instanceof En){const v=f.slice(m).map(p.from,-1),x=f.slice(m).map(p.to),$=f.invert().map(v,-1),C=f.invert().map(x),M=(h=u.doc.nodeAt(v-1))==null?void 0:h.marks.some(E=>E.eq(p.mark)),I=(g=u.doc.nodeAt(x))==null?void 0:g.marks.some(E=>E.eq(p.mark));this.editor.emit("delete",{type:"mark",mark:p.mark,from:p.from,to:p.to,deletedRange:{from:$,to:C},newRange:{from:v,to:x},partial:!!(I||M),editor:this.editor,transaction:e,combinedTransform:u})}})};(o=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||o?setTimeout(s,0):s()}}),YWe=ia.create({name:"drop",addProseMirrorPlugins(){return[new Se({key:new Ce("tiptapDrop"),props:{handleDrop:(e,t,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:r})}}})]}}),QWe=ia.create({name:"editable",addProseMirrorPlugins(){return[new Se({key:new Ce("editable"),props:{editable:()=>this.editor.options.editable}})]}}),IU=new Ce("focusEvents"),XWe=ia.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new Se({key:IU,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),ZWe=ia.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:i})=>{const{selection:l,doc:c}=i,{empty:u,$anchor:d}=l,{pos:f,parent:p}=d,m=d.parent.isTextblock&&f>0?i.doc.resolve(f-1):d,h=m.parent.type.spec.isolating,g=d.pos-d.parentOffset,v=h&&m.parent.childCount===1?g===d.pos:Pe.atStart(c).from===f;return!u||!p.type.isTextblock||p.textContent.length||!v||v&&d.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},o={...r},s={...r,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return D0()||SU()?s:o},addProseMirrorPlugins(){return[new Se({key:new Ce("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(h=>h.getMeta("composition")))return;const r=e.some(h=>h.docChanged)&&!t.doc.eq(n.doc),o=e.some(h=>h.getMeta("preventClearDocument"));if(!r||o)return;const{empty:s,from:a,to:i}=t.selection,l=Pe.atStart(t.doc).from,c=Pe.atEnd(t.doc).to;if(s||!(a===l&&i===c)||!MU(n.doc))return;const f=n.tr,p=yU({state:n,transaction:f}),{commands:m}=new mHe({editor:this.editor,state:p});if(m.clearNodes(),!!f.steps.length)return f}})]}}),e7e=ia.create({name:"paste",addProseMirrorPlugins(){return[new Se({key:new Ce("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),t7e=ia.create({name:"tabindex",addProseMirrorPlugins(){return[new Se({key:new Ce("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),n7e=ia.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:e}=CU(this.extensions);return[{types:e.filter(t=>t.name!=="text").map(t=>t.name),attributes:{dir:{default:this.options.direction,parseHTML:t=>{const n=t.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:t=>t.dir?{dir:t.dir}:{}}}}]},addProseMirrorPlugins(){return[new Se({key:new Ce("textDirection"),props:{attributes:()=>{const e=this.options.direction;return e?{dir:e}:{}}}})]}});function Um(e){return new UWe({find:e.find,handler:({state:t,range:n,match:r,chain:o})=>{const s=F0(e.getAttributes,void 0,r)||{},a=t.tr.delete(n.from,n.to),l=a.doc.resolve(n.from).blockRange(),c=l&&Kx(l,e.type,s);if(!c)return null;if(a.wrap(l,c),e.keepMarks&&e.editor){const{selection:d,storedMarks:f}=t,{splittableMarks:p}=e.editor.extensionManager,m=f||d.$to.parentOffset&&d.$from.marks();if(m){const h=m.filter(g=>p.includes(g.type.name));a.ensureMarks(h)}}if(e.keepAttributes){const d=e.type.name==="bulletList"||e.type.name==="orderedList"?"listItem":"taskList";o().updateAttributes(d,s).run()}const u=a.doc.resolve(n.from-1).nodeBefore;u&&u.type===e.type&&Ht(a.doc,n.from-1)&&(!e.joinPredicate||e.joinPredicate(r,u))&&a.join(n.from-1)},undoable:e.undoable})}var r7e={};uT(r7e,{createAtomBlockMarkdownSpec:()=>o7e,createBlockMarkdownSpec:()=>s7e,createInlineMarkdownSpec:()=>l7e,parseAttributes:()=>cT,parseIndentedBlocks:()=>J$,renderNestedMarkdownContent:()=>fT,serializeAttributes:()=>dT});function cT(e){if(!e?.trim())return{};const t={},n=[],r=e.replace(/["']([^"']*)["']/g,c=>(n.push(c),`__QUOTED_${n.length-1}__`)),o=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(o){const c=o.map(u=>u.trim().slice(1));t.class=c.join(" ")}const s=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);s&&(t.id=s[1]);const a=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(a)).forEach(([,c,u])=>{var d;const f=parseInt(((d=u.match(/__QUOTED_(\d+)__/))==null?void 0:d[1])||"0",10),p=n[f];p&&(t[c]=p.slice(1,-1))});const l=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return l&&l.split(/\s+/).filter(Boolean).forEach(u=>{u.match(/^[a-zA-Z][\w-]*$/)&&(t[u]=!0)}),t}function dT(e){if(!e||Object.keys(e).length===0)return"";const t=[];return e.class&&String(e.class).split(/\s+/).filter(Boolean).forEach(r=>t.push(`.${r}`)),e.id&&t.push(`#${e.id}`),Object.entries(e).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?t.push(n):r!==!1&&r!=null&&t.push(`${n}="${String(r)}"`))}),t.join(" ")}function o7e(e){const{nodeName:t,name:n,parseAttributes:r=cT,serializeAttributes:o=dT,defaultAttributes:s={},requiredAttributes:a=[],allowedAttributes:i}=e,l=n||t,c=u=>{if(!i)return u;const d={};return i.forEach(f=>{f in u&&(d[f]=u[f])}),d};return{parseMarkdown:(u,d)=>{const f={...s,...u.attributes};return d.createNode(t,f,[])},markdownTokenizer:{name:t,level:"block",start(u){var d;const f=new RegExp(`^:::${l}(?:\\s|$)`,"m"),p=(d=u.match(f))==null?void 0:d.index;return p!==void 0?p:-1},tokenize(u,d,f){const p=new RegExp(`^:::${l}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),m=u.match(p);if(!m)return;const h=m[1]||"",g=r(h);if(!a.find(x=>!(x in g)))return{type:t,raw:m[0],attributes:g}}},renderMarkdown:u=>{const d=c(u.attrs||{}),f=o(d),p=f?` {${f}}`:"";return`:::${l}${p} :::`}}}function s7e(e){const{nodeName:t,name:n,getContent:r,parseAttributes:o=cT,serializeAttributes:s=dT,defaultAttributes:a={},content:i="block",allowedAttributes:l}=e,c=n||t,u=d=>{if(!l)return d;const f={};return l.forEach(p=>{p in d&&(f[p]=d[p])}),f};return{parseMarkdown:(d,f)=>{let p;if(r){const h=r(d);p=typeof h=="string"?[{type:"text",text:h}]:h}else i==="block"?p=f.parseChildren(d.tokens||[]):p=f.parseInline(d.tokens||[]);const m={...a,...d.attributes};return f.createNode(t,m,p)},markdownTokenizer:{name:t,level:"block",start(d){var f;const p=new RegExp(`^:::${c}`,"m"),m=(f=d.match(p))==null?void 0:f.index;return m!==void 0?m:-1},tokenize(d,f,p){var m;const h=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),g=d.match(h);if(!g)return;const[v,x=""]=g,$=o(x);let C=1;const M=v.length;let I="";const E=/^:::([\w-]*)(\s.*)?/gm,P=d.slice(M);for(E.lastIndex=0;;){const O=E.exec(P);if(O===null)break;const D=O.index,L=O[1];if(!((m=O[2])!=null&&m.endsWith(":::"))){if(L)C+=1;else if(C-=1,C===0){const V=P.slice(0,D);I=V.trim();const F=d.slice(0,M+D+O[0].length);let z=[];if(I)if(i==="block")for(z=p.blockTokens(V),z.forEach(N=>{N.text&&(!N.tokens||N.tokens.length===0)&&(N.tokens=p.inlineTokens(N.text))});z.length>0;){const N=z[z.length-1];if(N.type==="paragraph"&&(!N.text||N.text.trim()===""))z.pop();else break}else z=p.inlineTokens(I);return{type:t,raw:F,attributes:$,content:I,tokens:z}}}}}},renderMarkdown:(d,f)=>{const p=u(d.attrs||{}),m=s(p),h=m?` {${m}}`:"",g=f.renderChildren(d.content||[],`

`);return`:::${c}${h}

${g}

:::`}}}function a7e(e){if(!e.trim())return{};const t={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(e);for(;r!==null;){const[,o,s,a]=r;t[o]=s||a,r=n.exec(e)}return t}function i7e(e){return Object.entries(e).filter(([,t])=>t!=null).map(([t,n])=>`${t}="${n}"`).join(" ")}function l7e(e){const{nodeName:t,name:n,getContent:r,parseAttributes:o=a7e,serializeAttributes:s=i7e,defaultAttributes:a={},selfClosing:i=!1,allowedAttributes:l}=e,c=n||t,u=f=>{if(!l)return f;const p={};return l.forEach(m=>{const h=typeof m=="string"?m:m.name,g=typeof m=="string"?void 0:m.skipIfDefault;if(h in f){const v=f[h];if(g!==void 0&&v===g)return;p[h]=v}}),p},d=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(f,p)=>{const m={...a,...f.attributes};if(i)return p.createNode(t,m);const h=r?r(f):f.content||"";return h?p.createNode(t,m,[p.createTextNode(h)]):p.createNode(t,m,[])},markdownTokenizer:{name:t,level:"inline",start(f){const p=i?new RegExp(`\\[${d}\\s*[^\\]]*\\]`):new RegExp(`\\[${d}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${d}\\]`),m=f.match(p),h=m?.index;return h!==void 0?h:-1},tokenize(f,p,m){const h=i?new RegExp(`^\\[${d}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${d}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${d}\\]`),g=f.match(h);if(!g)return;let v="",x="";if(i){const[,C]=g;x=C}else{const[,C,M]=g;x=C,v=M||""}const $=o(x.trim());return{type:t,raw:g[0],content:v.trim(),attributes:$}}},renderMarkdown:f=>{let p="";r?p=r(f):f.content&&f.content.length>0&&(p=f.content.filter(v=>v.type==="text").map(v=>v.text).join(""));const m=u(f.attrs||{}),h=s(m),g=h?` ${h}`:"";return i?`[${c}${g}]`:`[${c}${g}]${p}[/${c}]`}}}function J$(e,t,n){var r,o,s,a;const i=e.split(`
`),l=[];let c="",u=0;const d=t.baseIndentSize||2;for(;u<i.length;){const f=i[u],p=f.match(t.itemPattern);if(!p){if(l.length>0)break;if(f.trim()===""){u+=1,c=`${c}${f}
`;continue}else return}const m=t.extractItemData(p),{indentLevel:h,mainContent:g}=m;c=`${c}${f}
`;const v=[g];for(u+=1;u<i.length;){const M=i[u];if(M.trim()===""){const E=i.slice(u+1).findIndex(D=>D.trim()!=="");if(E===-1)break;if((((o=(r=i[u+1+E].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:o.length)||0)>h){v.push(M),c=`${c}${M}
`,u+=1;continue}else break}if((((a=(s=M.match(/^(\s*)/))==null?void 0:s[1])==null?void 0:a.length)||0)>h)v.push(M),c=`${c}${M}
`,u+=1;else break}let x;const $=v.slice(1);if($.length>0){const M=$.map(I=>I.slice(h+d)).join(`
`);M.trim()&&(t.customNestedParser?x=t.customNestedParser(M):x=n.blockTokens(M))}const C=t.createToken(m,x);l.push(C)}if(l.length!==0)return{items:l,raw:c}}function fT(e,t,n,r){if(!e||!Array.isArray(e.content))return"";const o=typeof n=="function"?n(r):n,[s,...a]=e.content,i=t.renderChildren([s]),l=[`${o}${i}`];return a&&a.length>0&&a.forEach(c=>{const u=t.renderChildren([c]);if(u){const d=u.split(`
`).map(f=>f?t.indent(f):"").join(`
`);l.push(d)}}),l.join(`
`)}var zh=class PU extends TU{constructor(){super(...arguments),this.type="node"}static create(t={}){const n=typeof t=="function"?t():t;return new PU(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},u7e=Object.defineProperty,c7e=(e,t)=>{for(var n in t)u7e(e,n,{get:t[n],enumerable:!0})},d7e="listItem",DD="textStyle",FD=/^\s*([-+*])\s$/,OU=zh.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:e}){return["ul",Ac(this.options.HTMLAttributes,e),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>e.type!=="list"||e.ordered?[]:{type:"bulletList",content:e.items?t.parseChildren(e.items):[]},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(d7e,this.editor.getAttributes(DD)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=Um({find:FD,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=Um({find:FD,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(DD),editor:this.editor})),[e]}}),RU=zh.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",Ac(this.options.HTMLAttributes,e),0]},markdownTokenName:"list_item",parseMarkdown:(e,t)=>{if(e.type!=="list_item")return[];let n=[];if(e.tokens&&e.tokens.length>0)if(e.tokens.some(o=>o.type==="paragraph"))n=t.parseChildren(e.tokens);else{const o=e.tokens[0];if(o&&o.type==="text"&&o.tokens&&o.tokens.length>0){if(n=[{type:"paragraph",content:t.parseInline(o.tokens)}],e.tokens.length>1){const a=e.tokens.slice(1),i=t.parseChildren(a);n.push(...i)}}else n=t.parseChildren(e.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(e,t,n)=>fT(e,t,r=>r.parentType==="bulletList"?"- ":r.parentType==="orderedList"?`${r.index+1}. `:"- ",n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),f7e={};c7e(f7e,{findListItemPos:()=>Lh,getNextListDepth:()=>pT,handleBackspace:()=>Y$,handleDelete:()=>Q$,hasListBefore:()=>BU,hasListItemAfter:()=>p7e,hasListItemBefore:()=>NU,listItemHasSubList:()=>DU,nextListIsDeeper:()=>FU,nextListIsHigher:()=>qU});var Lh=(e,t)=>{const{$from:n}=t.selection,r=Nr(e,t.schema);let o=null,s=n.depth,a=n.pos,i=null;for(;s>0&&i===null;)o=n.node(s),o.type===r?i=s:(s-=1,a-=1);return i===null?null:{$pos:t.doc.resolve(a),depth:i}},pT=(e,t)=>{const n=Lh(e,t);if(!n)return!1;const[,r]=bWe(t,e,n.$pos.pos+4);return r},BU=(e,t,n)=>{const{$anchor:r}=e.selection,o=Math.max(0,r.pos-2),s=e.doc.resolve(o).node();return!(!s||!n.includes(s.type.name))},NU=(e,t)=>{var n;const{$anchor:r}=t.selection,o=t.doc.resolve(r.pos-2);return!(o.index()===0||((n=o.nodeBefore)==null?void 0:n.type.name)!==e)},DU=(e,t,n)=>{if(!n)return!1;const r=Nr(e,t.schema);let o=!1;return n.descendants(s=>{s.type===r&&(o=!0)}),o},Y$=(e,t,n)=>{if(e.commands.undoInputRule())return!0;if(e.state.selection.from!==e.state.selection.to)return!1;if(!rf(e.state,t)&&BU(e.state,t,n)){const{$anchor:i}=e.state.selection,l=e.state.doc.resolve(i.before()-1),c=[];l.node().descendants((f,p)=>{f.type.name===t&&c.push({node:f,pos:p})});const u=c.at(-1);if(!u)return!1;const d=e.state.doc.resolve(l.start()+u.pos+1);return e.chain().cut({from:i.start()-1,to:i.end()+1},d.end()).joinForward().run()}if(!rf(e.state,t)||!kWe(e.state))return!1;const r=Lh(t,e.state);if(!r)return!1;const s=e.state.doc.resolve(r.$pos.pos-2).node(r.depth),a=DU(t,e.state,s);return NU(t,e.state)&&!a?e.commands.joinItemBackward():e.chain().liftListItem(t).run()},FU=(e,t)=>{const n=pT(e,t),r=Lh(e,t);return!r||!n?!1:n>r.depth},qU=(e,t)=>{const n=pT(e,t),r=Lh(e,t);return!r||!n?!1:n<r.depth},Q$=(e,t)=>{if(!rf(e.state,t)||!wWe(e.state,t))return!1;const{selection:n}=e.state,{$from:r,$to:o}=n;return!n.empty&&r.sameParent(o)?!1:FU(t,e.state)?e.chain().focus(e.state.selection.from+4).lift(t).joinBackward().run():qU(t,e.state)?e.chain().joinForward().joinBackward().run():e.commands.joinItemForward()},p7e=(e,t)=>{var n;const{$anchor:r}=t.selection,o=t.doc.resolve(r.pos-r.parentOffset-2);return!(o.index()===o.parent.childCount-1||((n=o.nodeAfter)==null?void 0:n.type.name)!==e)},zU=ia.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n})=>{e.state.schema.nodes[n]!==void 0&&Q$(e,n)&&(t=!0)}),t},"Mod-Delete":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n})=>{e.state.schema.nodes[n]!==void 0&&Q$(e,n)&&(t=!0)}),t},Backspace:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{e.state.schema.nodes[n]!==void 0&&Y$(e,n,r)&&(t=!0)}),t},"Mod-Backspace":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{e.state.schema.nodes[n]!==void 0&&Y$(e,n,r)&&(t=!0)}),t}}}}),qD=/^(\s*)(\d+)\.\s+(.*)$/,m7e=/^\s/;function h7e(e){const t=[];let n=0,r=0;for(;n<e.length;){const o=e[n],s=o.match(qD);if(!s)break;const[,a,i,l]=s,c=a.length;let u=l,d=n+1;const f=[o];for(;d<e.length;){const p=e[d];if(p.match(qD))break;if(p.trim()==="")f.push(p),u+=`
`,d+=1;else if(p.match(m7e))f.push(p),u+=`
${p.slice(c+2)}`,d+=1;else break}t.push({indent:c,number:parseInt(i,10),content:u.trim(),raw:f.join(`
`)}),r=d,n=d}return[t,r]}function LU(e,t,n){var r;const o=[];let s=0;for(;s<e.length;){const a=e[s];if(a.indent===t){const i=a.content.split(`
`),l=((r=i[0])==null?void 0:r.trim())||"",c=[];l&&c.push({type:"paragraph",raw:l,tokens:n.inlineTokens(l)});const u=i.slice(1).join(`
`).trim();if(u){const p=n.blockTokens(u);c.push(...p)}let d=s+1;const f=[];for(;d<e.length&&e[d].indent>t;)f.push(e[d]),d+=1;if(f.length>0){const p=Math.min(...f.map(h=>h.indent)),m=LU(f,p,n);c.push({type:"list",ordered:!0,start:f[0].number,items:m,raw:f.map(h=>h.raw).join(`
`)})}o.push({type:"list_item",raw:a.raw,tokens:c}),s=d}else s+=1}return o}function g7e(e,t){return e.map(n=>{if(n.type!=="list_item")return t.parseChildren([n])[0];const r=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(o=>{if(o.type==="paragraph"||o.type==="list"||o.type==="blockquote"||o.type==="code")r.push(...t.parseChildren([o]));else if(o.type==="text"&&o.tokens){const s=t.parseChildren([o]);r.push({type:"paragraph",content:s})}else{const s=t.parseChildren([o]);s.length>0&&r.push(...s)}}),{type:"listItem",content:r}})}var v7e="listItem",zD="textStyle",LD=/^(\d+)\.\s$/,jU=zh.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1},type:{default:null,parseHTML:e=>e.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:e}){const{start:t,...n}=e;return t===1?["ol",Ac(this.options.HTMLAttributes,n),0]:["ol",Ac(this.options.HTMLAttributes,e),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>{if(e.type!=="list"||!e.ordered)return[];const n=e.start||1,r=e.items?g7e(e.items,t):[];return n!==1?{type:"orderedList",attrs:{start:n},content:r}:{type:"orderedList",content:r}},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:e=>{const t=e.match(/^(\s*)(\d+)\.\s+/),n=t?.index;return n!==void 0?n:-1},tokenize:(e,t,n)=>{var r;const o=e.split(`
`),[s,a]=h7e(o);if(s.length===0)return;const i=LU(s,0,n);return i.length===0?void 0:{type:"list",ordered:!0,start:((r=s[0])==null?void 0:r.number)||1,items:i,raw:o.slice(0,a).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(v7e,this.editor.getAttributes(zD)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=Um({find:LD,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=Um({find:LD,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(zD)}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1],editor:this.editor})),[e]}}),y7e=/^\s*(\[([( |x])?\])\s$/,b7e=zh.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:e=>{const t=e.getAttribute("data-checked");return t===""||t==="true"},renderHTML:e=>({"data-checked":e.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:e,HTMLAttributes:t}){return["li",Ac(this.options.HTMLAttributes,t,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:e.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(e,t)=>{const n=[];if(e.tokens&&e.tokens.length>0?n.push(t.createNode("paragraph",{},t.parseInline(e.tokens))):e.text?n.push(t.createNode("paragraph",{},[t.createNode("text",{text:e.text})])):n.push(t.createNode("paragraph",{},[])),e.nestedTokens&&e.nestedTokens.length>0){const r=t.parseChildren(e.nestedTokens);n.push(...r)}return t.createNode("taskItem",{checked:e.checked||!1},n)},renderMarkdown:(e,t)=>{var n;const o=`- [${(n=e.attrs)!=null&&n.checked?"x":" "}] `;return fT(e,t,o)},addKeyboardShortcuts(){const e={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...e,Tab:()=>this.editor.commands.sinkListItem(this.name)}:e},addNodeView(){return({node:e,HTMLAttributes:t,getPos:n,editor:r})=>{const o=document.createElement("li"),s=document.createElement("label"),a=document.createElement("span"),i=document.createElement("input"),l=document.createElement("div"),c=d=>{var f,p;i.ariaLabel=((p=(f=this.options.a11y)==null?void 0:f.checkboxLabel)==null?void 0:p.call(f,d,i.checked))||`Task item checkbox for ${d.textContent||"empty task item"}`};c(e),s.contentEditable="false",i.type="checkbox",i.addEventListener("mousedown",d=>d.preventDefault()),i.addEventListener("change",d=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){i.checked=!i.checked;return}const{checked:f}=d.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:p})=>{const m=n();if(typeof m!="number")return!1;const h=p.doc.nodeAt(m);return p.setNodeMarkup(m,void 0,{...h?.attrs,checked:f}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(e,f)||(i.checked=!i.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([d,f])=>{o.setAttribute(d,f)}),o.dataset.checked=e.attrs.checked,i.checked=e.attrs.checked,s.append(i,a),o.append(s,l),Object.entries(t).forEach(([d,f])=>{o.setAttribute(d,f)});let u=new Set(Object.keys(t));return{dom:o,contentDOM:l,update:d=>{if(d.type!==this.type)return!1;o.dataset.checked=d.attrs.checked,i.checked=d.attrs.checked,c(d);const f=r.extensionManager.attributes,p=pWe(d,f),m=new Set(Object.keys(p)),h=this.options.HTMLAttributes;return u.forEach(g=>{m.has(g)||(g in h?o.setAttribute(g,h[g]):o.removeAttribute(g))}),Object.entries(p).forEach(([g,v])=>{v==null?g in h?o.setAttribute(g,h[g]):o.removeAttribute(g):o.setAttribute(g,v)}),u=m,!0}}}},addInputRules(){return[Um({find:y7e,type:this.type,getAttributes:e=>({checked:e[e.length-1]==="x"})})]}}),x7e=zh.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:e}){return["ul",Ac(this.options.HTMLAttributes,e,{"data-type":this.name}),0]},parseMarkdown:(e,t)=>t.createNode("taskList",{},t.parseChildren(e.items||[])),renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(e){var t;const n=(t=e.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:t.index;return n!==void 0?n:-1},tokenize(e,t,n){const r=s=>{const a=J$(s,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:i=>({indentLevel:i[1].length,mainContent:i[4],checked:i[3].toLowerCase()==="x"}),createToken:(i,l)=>({type:"taskItem",raw:"",mainContent:i.mainContent,indentLevel:i.indentLevel,checked:i.checked,text:i.mainContent,tokens:n.inlineTokens(i.mainContent),nestedTokens:l}),customNestedParser:r},n);return a?[{type:"taskList",raw:a.raw,items:a.items}]:n.blockTokens(s)},o=J$(e,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:s=>({indentLevel:s[1].length,mainContent:s[4],checked:s[3].toLowerCase()==="x"}),createToken:(s,a)=>({type:"taskItem",raw:"",mainContent:s.mainContent,indentLevel:s.indentLevel,checked:s.checked,text:s.mainContent,tokens:n.inlineTokens(s.mainContent),nestedTokens:a}),customNestedParser:r},n);if(o)return{type:"taskList",raw:o.raw,items:o.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});ia.create({name:"listKit",addExtensions(){const e=[];return this.options.bulletList!==!1&&e.push(OU.configure(this.options.bulletList)),this.options.listItem!==!1&&e.push(RU.configure(this.options.listItem)),this.options.listKeymap!==!1&&e.push(zU.configure(this.options.listKeymap)),this.options.orderedList!==!1&&e.push(jU.configure(this.options.orderedList)),this.options.taskItem!==!1&&e.push(b7e.configure(this.options.taskItem)),this.options.taskList!==!1&&e.push(x7e.configure(this.options.taskList)),e}});var w7e=Object.defineProperty,mT=(e,t)=>{for(var n in t)w7e(e,n,{get:t[n],enumerable:!0})};function VU(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:o}=n,{storedMarks:s}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return s},get selection(){return r},get doc(){return o},get tr(){return r=n.selection,o=n.doc,s=n.storedMarks,n}}}var k7e=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:n,state:r}=this,{view:o}=n,{tr:s}=r,a=this.buildProps(s);return Object.fromEntries(Object.entries(t).map(([i,l])=>[i,(...u)=>{const d=l(...u)(a);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(s),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,n=!0){const{rawCommands:r,editor:o,state:s}=this,{view:a}=o,i=[],l=!!t,c=t||s.tr,u=()=>(!l&&n&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(c),i.every(f=>f===!0)),d={...Object.fromEntries(Object.entries(r).map(([f,p])=>[f,(...h)=>{const g=this.buildProps(c,n),v=p(...h)(g);return i.push(v),d}])),run:u};return d}createCan(t){const{rawCommands:n,state:r}=this,o=!1,s=t||r.tr,a=this.buildProps(s,o);return{...Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...u)=>c(...u)({...a,dispatch:void 0})])),chain:()=>this.createChain(s,o)}}buildProps(t,n=!0){const{rawCommands:r,editor:o,state:s}=this,{view:a}=o,i={tr:t,editor:o,view:a,state:VU({state:s,transaction:t}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(t,n),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...u)=>c(...u)(i)]))}};return i}},UU={};mT(UU,{blur:()=>_7e,clearContent:()=>S7e,clearNodes:()=>$7e,command:()=>C7e,createParagraphNear:()=>M7e,cut:()=>A7e,deleteCurrentNode:()=>T7e,deleteNode:()=>E7e,deleteRange:()=>I7e,deleteSelection:()=>P7e,enter:()=>O7e,exitCode:()=>R7e,extendMarkRange:()=>N7e,first:()=>D7e,focus:()=>z7e,forEach:()=>L7e,insertContent:()=>j7e,insertContentAt:()=>K7e,joinBackward:()=>G7e,joinDown:()=>W7e,joinForward:()=>J7e,joinItemBackward:()=>Y7e,joinItemForward:()=>Q7e,joinTextblockBackward:()=>X7e,joinTextblockForward:()=>Z7e,joinUp:()=>H7e,keyboardShortcut:()=>t9e,lift:()=>n9e,liftEmptyBlock:()=>r9e,liftListItem:()=>o9e,newlineInCode:()=>s9e,resetAttributes:()=>a9e,scrollIntoView:()=>i9e,selectAll:()=>l9e,selectNodeBackward:()=>u9e,selectNodeForward:()=>c9e,selectParentNode:()=>d9e,selectTextblockEnd:()=>f9e,selectTextblockStart:()=>p9e,setContent:()=>h9e,setMark:()=>T9e,setMeta:()=>E9e,setNode:()=>I9e,setNodeSelection:()=>P9e,setTextDirection:()=>O9e,setTextSelection:()=>R9e,sinkListItem:()=>B9e,splitBlock:()=>N9e,splitListItem:()=>D9e,toggleList:()=>F9e,toggleMark:()=>q9e,toggleNode:()=>z9e,toggleWrap:()=>L9e,undoInputRule:()=>j9e,unsetAllMarks:()=>V9e,unsetMark:()=>U9e,unsetTextDirection:()=>K9e,updateAttributes:()=>H9e,wrapIn:()=>W9e,wrapInList:()=>G9e});var _7e=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),S7e=(e=!0)=>({commands:t})=>t.setContent("",{emitUpdate:e}),$7e=()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:o}=r;return n&&o.forEach(({$from:s,$to:a})=>{e.doc.nodesBetween(s.pos,a.pos,(i,l)=>{if(i.type.isText)return;const{doc:c,mapping:u}=t,d=c.resolve(u.map(l)),f=c.resolve(u.map(l+i.nodeSize)),p=d.blockRange(f);if(!p)return;const m=lr(p);if(i.type.isTextblock){const{defaultType:h}=d.parent.contentMatchAt(d.index());t.setNodeMarkup(p.start,h)}(m||m===0)&&t.lift(p,m)})}),!0},C7e=e=>t=>e(t),M7e=()=>({state:e,dispatch:t})=>Hr(e,t),A7e=(e,t)=>({editor:n,tr:r})=>{const{state:o}=n,s=o.doc.slice(e.from,e.to);r.deleteRange(e.from,e.to);const a=r.mapping.map(t);return r.insert(a,s.content),r.setSelection(new ie(r.doc.resolve(Math.max(a-1,0)))),!0},T7e=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;const o=e.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===r.type){if(t){const i=o.before(s),l=o.after(s);e.delete(i,l).scrollIntoView()}return!0}return!1};function zo(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}var E7e=e=>({tr:t,state:n,dispatch:r})=>{const o=zo(e,n.schema),s=t.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===o){if(r){const l=s.before(a),c=s.after(a);t.delete(l,c).scrollIntoView()}return!0}return!1},I7e=e=>({tr:t,dispatch:n})=>{const{from:r,to:o}=e;return n&&t.delete(r,o),!0},P7e=()=>({state:e,dispatch:t})=>Cr(e,t),O7e=()=>({commands:e})=>e.keyboardShortcut("Enter"),R7e=()=>({state:e,dispatch:t})=>co(e,t);function B7e(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function q0(e,t,n={strict:!0}){const r=Object.keys(t);return r.length?r.every(o=>n.strict?t[o]===e[o]:B7e(t[o])?t[o].test(e[o]):t[o]===e[o]):!0}function KU(e,t,n={}){return e.find(r=>r.type===t&&q0(Object.fromEntries(Object.keys(n).map(o=>[o,r.attrs[o]])),n))}function jD(e,t,n={}){return!!KU(e,t,n)}function HU(e,t,n){var r;if(!e||!t)return;let o=e.parent.childAfter(e.parentOffset);if((!o.node||!o.node.marks.some(u=>u.type===t))&&(o=e.parent.childBefore(e.parentOffset)),!o.node||!o.node.marks.some(u=>u.type===t)||(n=n||((r=o.node.marks[0])==null?void 0:r.attrs),!KU([...o.node.marks],t,n)))return;let a=o.index,i=e.start()+o.offset,l=a+1,c=i+o.node.nodeSize;for(;a>0&&jD([...e.parent.child(a-1).marks],t,n);)a-=1,i-=e.parent.child(a).nodeSize;for(;l<e.parent.childCount&&jD([...e.parent.child(l).marks],t,n);)c+=e.parent.child(l).nodeSize,l+=1;return{from:i,to:c}}function vu(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}var N7e=(e,t={})=>({tr:n,state:r,dispatch:o})=>{const s=vu(e,r.schema),{doc:a,selection:i}=n,{$from:l,from:c,to:u}=i;if(o){const d=HU(l,s,t);if(d&&d.from<=c&&d.to>=u){const f=ie.create(a,d.from,d.to);n.setSelection(f)}}return!0},D7e=e=>t=>{const n=typeof e=="function"?e(t):e;for(let r=0;r<n.length;r+=1)if(n[r](t))return!0;return!1};function WU(e){return e instanceof ie}function rc(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function F7e(e,t=null){if(!t)return null;const n=Pe.atStart(e),r=Pe.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return r;const o=n.from,s=r.to;return t==="all"?ie.create(e,rc(0,o,s),rc(e.content.size,o,s)):ie.create(e,rc(t,o,s),rc(t,o,s))}function VD(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function z0(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function q7e(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}var z7e=(e=null,t={})=>({editor:n,view:r,tr:o,dispatch:s})=>{t={scrollIntoView:!0,...t};const a=()=>{(z0()||VD())&&r.dom.focus(),q7e()&&!z0()&&!VD()&&r.dom.focus({preventScroll:!0}),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),t?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&e===null||e===!1)return!0;if(s&&e===null&&!WU(n.state.selection))return a(),!0;const i=F7e(o.doc,e)||n.state.selection,l=n.state.selection.eq(i);return s&&(l||o.setSelection(i),l&&o.storedMarks&&o.setStoredMarks(o.storedMarks),a()),!0},L7e=(e,t)=>n=>e.every((r,o)=>t(r,{...n,index:o})),j7e=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),GU=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const r=t[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):r.nodeType===1&&GU(r)}return e};function Wv(e){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t=`<body>${e}</body>`,n=new window.DOMParser().parseFromString(t,"text/html").body;return GU(n)}function Km(e,t,n){if(e instanceof Hn||e instanceof de)return e;n={slice:!0,parseOptions:{},...n};const r=typeof e=="object"&&e!==null,o=typeof e=="string";if(r)try{if(Array.isArray(e)&&e.length>0)return de.fromArray(e.map(i=>t.nodeFromJSON(i)));const a=t.nodeFromJSON(e);return n.errorOnInvalidContent&&a.check(),a}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",s),Km("",t,n)}if(o){if(n.errorOnInvalidContent){let a=!1,i="";const l=new qr({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(a=!0,i=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?gt.fromSchema(l).parseSlice(Wv(e),n.parseOptions):gt.fromSchema(l).parse(Wv(e),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${i}`)})}const s=gt.fromSchema(t);return n.slice?s.parseSlice(Wv(e),n.parseOptions).content:s.parse(Wv(e),n.parseOptions)}return Km("",t,n)}function V7e(e,t,n){const r=e.steps.length-1;if(r<t)return;const o=e.steps[r];if(!(o instanceof ln||o instanceof un))return;const s=e.mapping.maps[r];let a=0;s.forEach((i,l,c,u)=>{a===0&&(a=u)}),e.setSelection(Pe.near(e.doc.resolve(a),n))}var U7e=e=>!("type"in e),K7e=(e,t,n)=>({tr:r,dispatch:o,editor:s})=>{var a;if(o){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let i;const l=g=>{s.emit("contentError",{editor:s,error:g,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{Km(t,s.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(g){l(g)}try{i=Km(t,s.schema,{parseOptions:c,errorOnInvalidContent:(a=n.errorOnInvalidContent)!=null?a:s.options.enableContentCheck})}catch(g){return l(g),!1}let{from:u,to:d}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},f=!0,p=!0;if((U7e(i)?i:[i]).forEach(g=>{g.check(),f=f?g.isText&&g.marks.length===0:!1,p=p?g.isBlock:!1}),u===d&&p){const{parent:g}=r.doc.resolve(u);g.isTextblock&&!g.type.spec.code&&!g.childCount&&(u-=1,d+=1)}let h;if(f){if(Array.isArray(t))h=t.map(g=>g.text||"").join("");else if(t instanceof de){let g="";t.forEach(v=>{v.text&&(g+=v.text)}),h=g}else typeof t=="object"&&t&&t.text?h=t.text:h=t;r.insertText(h,u,d)}else{h=i;const g=r.doc.resolve(u),v=g.node(),x=g.parentOffset===0,$=v.isText||v.isTextblock,C=v.content.size>0;x&&$&&C&&(u=Math.max(0,u-1)),r.replaceWith(u,d,h)}n.updateSelection&&V7e(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:u,text:h}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:u,text:h})}return!0},H7e=()=>({state:e,dispatch:t})=>io(e,t),W7e=()=>({state:e,dispatch:t})=>lo(e,t),G7e=()=>({state:e,dispatch:t})=>Lr(e,t),J7e=()=>({state:e,dispatch:t})=>Vr(e,t),Y7e=()=>({state:e,dispatch:t,tr:n})=>{try{const r=on(e.doc,e.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},Q7e=()=>({state:e,dispatch:t,tr:n})=>{try{const r=on(e.doc,e.selection.$from.pos,1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},X7e=()=>({state:e,dispatch:t})=>so(e,t),Z7e=()=>({state:e,dispatch:t})=>ao(e,t);function JU(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function e9e(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let r,o,s,a;for(let i=0;i<t.length-1;i+=1){const l=t[i];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))o=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))z0()||JU()?a=!0:o=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),o&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}var t9e=e=>({editor:t,view:n,tr:r,dispatch:o})=>{const s=e9e(e).split(/-(?!$)/),a=s.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),i=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,i))});return l?.steps.forEach(c=>{const u=c.map(r.mapping);u&&o&&r.maybeStep(u)}),!0};function hT(e,t,n={}){const{from:r,to:o,empty:s}=e.selection,a=t?zo(t,e.schema):null,i=[];e.doc.nodesBetween(r,o,(d,f)=>{if(d.isText)return;const p=Math.max(r,f),m=Math.min(o,f+d.nodeSize);i.push({node:d,from:p,to:m})});const l=o-r,c=i.filter(d=>a?a.name===d.node.type.name:!0).filter(d=>q0(d.node.attrs,n,{strict:!1}));return s?!!c.length:c.reduce((d,f)=>d+f.to-f.from,0)>=l}var n9e=(e,t={})=>({state:n,dispatch:r})=>{const o=zo(e,n.schema);return hT(n,o,t)?uo(n,r):!1},r9e=()=>({state:e,dispatch:t})=>Wr(e,t),o9e=e=>({state:t,dispatch:n})=>{const r=zo(e,t.schema);return vo(r)(t,n)},s9e=()=>({state:e,dispatch:t})=>Kr(e,t);function YU(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function UD(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((r,o)=>(n.includes(o)||(r[o]=e[o]),r),{})}var a9e=(e,t)=>({tr:n,state:r,dispatch:o})=>{let s=null,a=null;const i=YU(typeof e=="string"?e:e.name,r.schema);if(!i)return!1;i==="node"&&(s=zo(e,r.schema)),i==="mark"&&(a=vu(e,r.schema));let l=!1;return n.selection.ranges.forEach(c=>{r.doc.nodesBetween(c.$from.pos,c.$to.pos,(u,d)=>{s&&s===u.type&&(l=!0,o&&n.setNodeMarkup(d,void 0,UD(u.attrs,t))),a&&u.marks.length&&u.marks.forEach(f=>{a===f.type&&(l=!0,o&&n.addMark(d,d+u.nodeSize,a.create(UD(f.attrs,t))))})})}),l},i9e=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),l9e=()=>({tr:e,dispatch:t})=>{if(t){const n=new Sn(e.doc);e.setSelection(n)}return!0},u9e=()=>({state:e,dispatch:t})=>jr(e,t),c9e=()=>({state:e,dispatch:t})=>Ur(e,t),d9e=()=>({state:e,dispatch:t})=>fo(e,t),f9e=()=>({state:e,dispatch:t})=>mo(e,t),p9e=()=>({state:e,dispatch:t})=>po(e,t);function m9e(e,t,n={},r={}){return Km(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var h9e=(e,{errorOnInvalidContent:t,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:o,tr:s,dispatch:a,commands:i})=>{const{doc:l}=s;if(r.preserveWhitespace!=="full"){const c=m9e(e,o.schema,r,{errorOnInvalidContent:t??o.options.enableContentCheck});return a&&s.replaceWith(0,l.content.size,c).setMeta("preventUpdate",!n),!0}return a&&s.setMeta("preventUpdate",!n),i.insertContentAt({from:0,to:l.content.size},e,{parseOptions:r,errorOnInvalidContent:t??o.options.enableContentCheck})};function g9e(e,t){const n=vu(t,e.schema),{from:r,to:o,empty:s}=e.selection,a=[];s?(e.storedMarks&&a.push(...e.storedMarks),a.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,o,l=>{a.push(...l.marks)});const i=a.find(l=>l.type.name===n.name);return i?{...i.attrs}:{}}function v9e(e,t){const n=new zr(e);return t.forEach(r=>{r.steps.forEach(o=>{n.step(o)})}),n}function y9e(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function b9e(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function gT(e){return t=>b9e(t.$from,e)}function Hm(e,t,n){return e.config[t]===void 0&&e.parent?Hm(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind({...n,parent:e.parent?Hm(e.parent,t,n):null}):e.config[t]}function x9e(e){return typeof e=="function"}function X$(e,t=void 0,...n){return x9e(e)?t?e.bind(t)(...n):e(...n):e}function QU(e){const t=e.filter(o=>o.type==="extension"),n=e.filter(o=>o.type==="node"),r=e.filter(o=>o.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:r}}function w9e(...e){return e.filter(t=>!!t).reduce((t,n)=>{const r={...t};return Object.entries(n).forEach(([o,s])=>{if(!r[o]){r[o]=s;return}if(o==="class"){const i=s?String(s).split(" "):[],l=r[o]?r[o].split(" "):[],c=i.filter(u=>!l.includes(u));r[o]=[...l,...c].join(" ")}else if(o==="style"){const i=s?s.split(";").map(u=>u.trim()).filter(Boolean):[],l=r[o]?r[o].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;l.forEach(u=>{const[d,f]=u.split(":").map(p=>p.trim());c.set(d,f)}),i.forEach(u=>{const[d,f]=u.split(":").map(p=>p.trim());c.set(d,f)}),r[o]=Array.from(c.entries()).map(([u,d])=>`${u}: ${d}`).join("; ")}else r[o]=s}),r},{})}function k9e(e,t,n){const{from:r,to:o}=t,{blockSeparator:s=`

`,textSerializers:a={}}=n||{};let i="";return e.nodesBetween(r,o,(l,c,u,d)=>{var f;l.isBlock&&c>r&&(i+=s);const p=a?.[l.type.name];if(p)return u&&(i+=p({node:l,pos:c,parent:u,index:d,range:t})),!1;l.isText&&(i+=(f=l?.text)==null?void 0:f.slice(Math.max(r,c)-c,o-c))}),i}function _9e(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}function S9e(e,t=JSON.stringify){const n={};return e.filter(r=>{const o=t(r);return Object.prototype.hasOwnProperty.call(n,o)?!1:n[o]=!0})}function $9e(e){const t=S9e(e);return t.length===1?t:t.filter((n,r)=>!t.filter((s,a)=>a!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function C9e(e){const{mapping:t,steps:n}=e,r=[];return t.maps.forEach((o,s)=>{const a=[];if(o.ranges.length)o.forEach((i,l)=>{a.push({from:i,to:l})});else{const{from:i,to:l}=n[s];if(i===void 0||l===void 0)return;a.push({from:i,to:l})}a.forEach(({from:i,to:l})=>{const c=t.slice(s).map(i,-1),u=t.slice(s).map(l),d=t.invert().map(c,-1),f=t.invert().map(u);r.push({oldRange:{from:d,to:f},newRange:{from:c,to:u}})})}),$9e(r)}function Dy(e,t,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const o=e.find(s=>s.type===t&&s.name===r);return o?o.attribute.keepOnSplit:!1}))}function M9e(e,t,n={}){const{empty:r,ranges:o}=e.selection,s=t?vu(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(d=>s?s.name===d.type.name:!0).find(d=>q0(d.attrs,n,{strict:!1}));let a=0;const i=[];if(o.forEach(({$from:d,$to:f})=>{const p=d.pos,m=f.pos;e.doc.nodesBetween(p,m,(h,g)=>{if(!h.isText&&!h.marks.length)return;const v=Math.max(p,g),x=Math.min(m,g+h.nodeSize),$=x-v;a+=$,i.push(...h.marks.map(C=>({mark:C,from:v,to:x})))})}),a===0)return!1;const l=i.filter(d=>s?s.name===d.mark.type.name:!0).filter(d=>q0(d.mark.attrs,n,{strict:!1})).reduce((d,f)=>d+f.to-f.from,0),c=i.filter(d=>s?d.mark.type!==s&&d.mark.type.excludes(s):!0).reduce((d,f)=>d+f.to-f.from,0);return(l>0?l+c:l)>=a}function KD(e,t){const{nodeExtensions:n}=QU(t),r=n.find(a=>a.name===e);if(!r)return!1;const o={name:r.name,options:r.options,storage:r.storage},s=X$(Hm(r,"group",o));return typeof s!="string"?!1:s.split(" ").includes("list")}function XU(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((r=e.text)!=null?r:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let o=!0;return e.content.forEach(s=>{o!==!1&&(XU(s,{ignoreWhitespace:n,checkChildren:t})||(o=!1))}),o}return!1}function A9e(e,t,n){var r;const{selection:o}=t;let s=null;if(WU(o)&&(s=o.$cursor),s){const i=(r=e.storedMarks)!=null?r:s.marks();return s.parent.type.allowsMarkType(n)&&(!!n.isInSet(i)||!i.some(c=>c.type.excludes(n)))}const{ranges:a}=o;return a.some(({$from:i,$to:l})=>{let c=i.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(i.pos,l.pos,(u,d,f)=>{if(c)return!1;if(u.isInline){const p=!f||f.type.allowsMarkType(n),m=!!n.isInSet(u.marks)||!u.marks.some(h=>h.type.excludes(n));c=p&&m}return!c}),c})}var T9e=(e,t={})=>({tr:n,state:r,dispatch:o})=>{const{selection:s}=n,{empty:a,ranges:i}=s,l=vu(e,r.schema);if(o)if(a){const c=g9e(r,l);n.addStoredMark(l.create({...c,...t}))}else i.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;r.doc.nodesBetween(u,d,(f,p)=>{const m=Math.max(p,u),h=Math.min(p+f.nodeSize,d);f.marks.find(v=>v.type===l)?f.marks.forEach(v=>{l===v.type&&n.addMark(m,h,l.create({...v.attrs,...t}))}):n.addMark(m,h,l.create(t))})});return A9e(r,n,l)},E9e=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),I9e=(e,t={})=>({state:n,dispatch:r,chain:o})=>{const s=zo(e,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),s.isTextblock?o().command(({commands:i})=>cn(s,{...a,...t})(n)?!0:i.clearNodes()).command(({state:i})=>cn(s,{...a,...t})(i,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},P9e=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,o=rc(e,0,r.content.size),s=Ge.create(r,o);t.setSelection(s)}return!0},O9e=(e,t)=>({tr:n,state:r,dispatch:o})=>{const{selection:s}=r;let a,i;return typeof t=="number"?(a=t,i=t):t&&"from"in t&&"to"in t?(a=t.from,i=t.to):(a=s.from,i=s.to),o&&n.doc.nodesBetween(a,i,(l,c)=>{l.isText||n.setNodeMarkup(c,void 0,{...l.attrs,dir:e})}),!0},R9e=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,{from:o,to:s}=typeof e=="number"?{from:e,to:e}:e,a=ie.atStart(r).from,i=ie.atEnd(r).to,l=rc(o,a,i),c=rc(s,a,i),u=ie.create(r,l,c);t.setSelection(u)}return!0},B9e=e=>({state:t,dispatch:n})=>{const r=zo(e,t.schema);return yo(r)(t,n)};function HD(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(o=>t?.includes(o.type.name));e.tr.ensureMarks(r)}}var N9e=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:o})=>{const{selection:s,doc:a}=t,{$from:i,$to:l}=s,c=o.extensionManager.attributes,u=Dy(c,i.node().type.name,i.node().attrs);if(s instanceof Ge&&s.node.isBlock)return!i.parentOffset||!ot(a,i.pos)?!1:(r&&(e&&HD(n,o.extensionManager.splittableMarks),t.split(i.pos).scrollIntoView()),!0);if(!i.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,f=i.depth===0?void 0:y9e(i.node(-1).contentMatchAt(i.indexAfter(-1)));let p=d&&f?[{type:f,attrs:u}]:void 0,m=ot(t.doc,t.mapping.map(i.pos),1,p);if(!p&&!m&&ot(t.doc,t.mapping.map(i.pos),1,f?[{type:f}]:void 0)&&(m=!0,p=f?[{type:f,attrs:u}]:void 0),r){if(m&&(s instanceof ie&&t.deleteSelection(),t.split(t.mapping.map(i.pos),1,p),f&&!d&&!i.parentOffset&&i.parent.type!==f)){const h=t.mapping.map(i.before()),g=t.doc.resolve(h);i.node(-1).canReplaceWith(g.index(),g.index()+1,f)&&t.setNodeMarkup(t.mapping.map(i.before()),f)}e&&HD(n,o.extensionManager.splittableMarks),t.scrollIntoView()}return m},D9e=(e,t={})=>({tr:n,state:r,dispatch:o,editor:s})=>{var a;const i=zo(e,r.schema),{$from:l,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const d=l.node(-1);if(d.type!==i)return!1;const f=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==i||l.index(-2)!==l.node(-2).childCount-1)return!1;if(o){let v=de.empty;const x=l.index(-1)?1:l.index(-2)?2:3;for(let P=l.depth-x;P>=l.depth-3;P-=1)v=de.from(l.node(P).copy(v));const $=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,C={...Dy(f,l.node().type.name,l.node().attrs),...t},M=((a=i.contentMatch.defaultType)==null?void 0:a.createAndFill(C))||void 0;v=v.append(de.from(i.createAndFill(null,M)||void 0));const I=l.before(l.depth-(x-1));n.replace(I,l.after(-$),new Je(v,4-x,0));let E=-1;n.doc.nodesBetween(I,n.doc.content.size,(P,O)=>{if(E>-1)return!1;P.isTextblock&&P.content.size===0&&(E=O+1)}),E>-1&&n.setSelection(ie.near(n.doc.resolve(E))),n.scrollIntoView()}return!0}const p=c.pos===l.end()?d.contentMatchAt(0).defaultType:null,m={...Dy(f,d.type.name,d.attrs),...t},h={...Dy(f,l.node().type.name,l.node().attrs),...t};n.delete(l.pos,c.pos);const g=p?[{type:i,attrs:m},{type:p,attrs:h}]:[{type:i,attrs:m}];if(!ot(n.doc,l.pos,2))return!1;if(o){const{selection:v,storedMarks:x}=r,{splittableMarks:$}=s.extensionManager,C=x||v.$to.parentOffset&&v.$from.marks();if(n.split(l.pos,2,g).scrollIntoView(),!C||!o)return!0;const M=C.filter(I=>$.includes(I.type.name));n.ensureMarks(M)}return!0},G_=(e,t)=>{const n=gT(a=>a.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const o=e.doc.nodeAt(r);return n.node.type===o?.type&&Ht(e.doc,n.pos)&&e.join(n.pos),!0},J_=(e,t)=>{const n=gT(a=>a.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const o=e.doc.nodeAt(r);return n.node.type===o?.type&&Ht(e.doc,r)&&e.join(r),!0},F9e=(e,t,n,r={})=>({editor:o,tr:s,state:a,dispatch:i,chain:l,commands:c,can:u})=>{const{extensions:d,splittableMarks:f}=o.extensionManager,p=zo(e,a.schema),m=zo(t,a.schema),{selection:h,storedMarks:g}=a,{$from:v,$to:x}=h,$=v.blockRange(x),C=g||h.$to.parentOffset&&h.$from.marks();if(!$)return!1;const M=gT(I=>KD(I.type.name,d))(h);if($.depth>=1&&M&&$.depth-M.depth<=1){if(M.node.type===p)return c.liftListItem(m);if(KD(M.node.type.name,d)&&p.validContent(M.node.content)&&i)return l().command(()=>(s.setNodeMarkup(M.pos,p),!0)).command(()=>G_(s,p)).command(()=>J_(s,p)).run()}return!n||!C||!i?l().command(()=>u().wrapInList(p,r)?!0:c.clearNodes()).wrapInList(p,r).command(()=>G_(s,p)).command(()=>J_(s,p)).run():l().command(()=>{const I=u().wrapInList(p,r),E=C.filter(P=>f.includes(P.type.name));return s.ensureMarks(E),I?!0:c.clearNodes()}).wrapInList(p,r).command(()=>G_(s,p)).command(()=>J_(s,p)).run()},q9e=(e,t={},n={})=>({state:r,commands:o})=>{const{extendEmptyMarkRange:s=!1}=n,a=vu(e,r.schema);return M9e(r,a,t)?o.unsetMark(a,{extendEmptyMarkRange:s}):o.setMark(a,t)},z9e=(e,t,n={})=>({state:r,commands:o})=>{const s=zo(e,r.schema),a=zo(t,r.schema),i=hT(r,s,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),i?o.setNode(a,l):o.setNode(s,{...l,...n})},L9e=(e,t={})=>({state:n,commands:r})=>{const o=zo(e,n.schema);return hT(n,o,t)?r.lift(o):r.wrapIn(o,t)},j9e=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const o=n[r];let s;if(o.spec.isInputRules&&(s=o.getState(e))){if(t){const a=e.tr,i=s.transform;for(let l=i.steps.length-1;l>=0;l-=1)a.step(i.steps[l].invert(i.docs[l]));if(s.text){const l=a.doc.resolve(s.from).marks();a.replaceWith(s.from,s.to,e.schema.text(s.text,l))}else a.delete(s.from,s.to)}return!0}}return!1},V9e=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:o}=n;return r||t&&o.forEach(s=>{e.removeMark(s.$from.pos,s.$to.pos)}),!0},U9e=(e,t={})=>({tr:n,state:r,dispatch:o})=>{var s;const{extendEmptyMarkRange:a=!1}=t,{selection:i}=n,l=vu(e,r.schema),{$from:c,empty:u,ranges:d}=i;if(!o)return!0;if(u&&a){let{from:f,to:p}=i;const m=(s=c.marks().find(g=>g.type===l))==null?void 0:s.attrs,h=HU(c,l,m);h&&(f=h.from,p=h.to),n.removeMark(f,p,l)}else d.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,l)});return n.removeStoredMark(l),!0},K9e=e=>({tr:t,state:n,dispatch:r})=>{const{selection:o}=n;let s,a;return typeof e=="number"?(s=e,a=e):e&&"from"in e&&"to"in e?(s=e.from,a=e.to):(s=o.from,a=o.to),r&&t.doc.nodesBetween(s,a,(i,l)=>{if(i.isText)return;const c={...i.attrs};delete c.dir,t.setNodeMarkup(l,void 0,c)}),!0},H9e=(e,t={})=>({tr:n,state:r,dispatch:o})=>{let s=null,a=null;const i=YU(typeof e=="string"?e:e.name,r.schema);if(!i)return!1;i==="node"&&(s=zo(e,r.schema)),i==="mark"&&(a=vu(e,r.schema));let l=!1;return n.selection.ranges.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;let f,p,m,h;n.selection.empty?r.doc.nodesBetween(u,d,(g,v)=>{s&&s===g.type&&(l=!0,m=Math.max(v,u),h=Math.min(v+g.nodeSize,d),f=v,p=g)}):r.doc.nodesBetween(u,d,(g,v)=>{v<u&&s&&s===g.type&&(l=!0,m=Math.max(v,u),h=Math.min(v+g.nodeSize,d),f=v,p=g),v>=u&&v<=d&&(s&&s===g.type&&(l=!0,o&&n.setNodeMarkup(v,void 0,{...g.attrs,...t})),a&&g.marks.length&&g.marks.forEach(x=>{if(a===x.type&&(l=!0,o)){const $=Math.max(v,u),C=Math.min(v+g.nodeSize,d);n.addMark($,C,a.create({...x.attrs,...t}))}}))}),p&&(f!==void 0&&o&&n.setNodeMarkup(f,void 0,{...p.attrs,...t}),a&&p.marks.length&&p.marks.forEach(g=>{a===g.type&&o&&n.addMark(m,h,a.create({...g.attrs,...t}))}))}),l},W9e=(e,t={})=>({state:n,dispatch:r})=>{const o=zo(e,n.schema);return ho(o,t)(n,r)},G9e=(e,t={})=>({state:n,dispatch:r})=>{const o=zo(e,n.schema);return go(o,t)(n,r)};function J9e(e){return Object.prototype.toString.call(e).slice(8,-1)}function Gv(e){return J9e(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function ZU(e,t){const n={...e};return Gv(e)&&Gv(t)&&Object.keys(t).forEach(r=>{Gv(t[r])&&Gv(e[r])?n[r]=ZU(e[r],t[r]):n[r]=t[r]}),n}var eK=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...X$(Hm(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...X$(Hm(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const n=this.extend({...this.config,addOptions:()=>ZU(this.options,t)});return n.name=this.name,n.parent=this.parent,n}extend(t={}){const n=new this.constructor({...this.config,...t});return n.parent=this,this.child=n,n.name="name"in t?t.name:n.parent.name,n}},Y9e={};mT(Y9e,{ClipboardTextSerializer:()=>Q9e,Commands:()=>X9e,Delete:()=>Z9e,Drop:()=>eGe,Editable:()=>tGe,FocusEvents:()=>nGe,Keymap:()=>rGe,Paste:()=>oGe,Tabindex:()=>sGe,TextDirection:()=>aGe,focusEventsPluginKey:()=>nK});var bi=class tK extends eK{constructor(){super(...arguments),this.type="extension"}static create(t={}){const n=typeof t=="function"?t():t;return new tK(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},Q9e=bi.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Se({key:new Ce("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:o}=t,{ranges:s}=o,a=Math.min(...s.map(u=>u.$from.pos)),i=Math.max(...s.map(u=>u.$to.pos)),l=_9e(n);return k9e(r,{from:a,to:i},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),X9e=bi.create({name:"commands",addCommands(){return{...UU}}}),Z9e=bi.create({name:"delete",onUpdate({transaction:e,appendedTransactions:t}){var n,r,o;const s=()=>{var a,i,l,c;if((c=(l=(i=(a=this.editor.options.coreExtensionOptions)==null?void 0:a.delete)==null?void 0:i.filterTransaction)==null?void 0:l.call(i,e))!=null?c:e.getMeta("y-sync$"))return;const u=v9e(e.before,[e,...t]);C9e(u).forEach(p=>{u.mapping.mapResult(p.oldRange.from).deletedAfter&&u.mapping.mapResult(p.oldRange.to).deletedBefore&&u.before.nodesBetween(p.oldRange.from,p.oldRange.to,(m,h)=>{const g=h+m.nodeSize-2,v=p.oldRange.from<=h&&g<=p.oldRange.to;this.editor.emit("delete",{type:"node",node:m,from:h,to:g,newFrom:u.mapping.map(h),newTo:u.mapping.map(g),deletedRange:p.oldRange,newRange:p.newRange,partial:!v,editor:this.editor,transaction:e,combinedTransform:u})})});const f=u.mapping;u.steps.forEach((p,m)=>{var h,g;if(p instanceof En){const v=f.slice(m).map(p.from,-1),x=f.slice(m).map(p.to),$=f.invert().map(v,-1),C=f.invert().map(x),M=(h=u.doc.nodeAt(v-1))==null?void 0:h.marks.some(E=>E.eq(p.mark)),I=(g=u.doc.nodeAt(x))==null?void 0:g.marks.some(E=>E.eq(p.mark));this.editor.emit("delete",{type:"mark",mark:p.mark,from:p.from,to:p.to,deletedRange:{from:$,to:C},newRange:{from:v,to:x},partial:!!(I||M),editor:this.editor,transaction:e,combinedTransform:u})}})};(o=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||o?setTimeout(s,0):s()}}),eGe=bi.create({name:"drop",addProseMirrorPlugins(){return[new Se({key:new Ce("tiptapDrop"),props:{handleDrop:(e,t,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:r})}}})]}}),tGe=bi.create({name:"editable",addProseMirrorPlugins(){return[new Se({key:new Ce("editable"),props:{editable:()=>this.editor.options.editable}})]}}),nK=new Ce("focusEvents"),nGe=bi.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new Se({key:nK,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),rGe=bi.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:i})=>{const{selection:l,doc:c}=i,{empty:u,$anchor:d}=l,{pos:f,parent:p}=d,m=d.parent.isTextblock&&f>0?i.doc.resolve(f-1):d,h=m.parent.type.spec.isolating,g=d.pos-d.parentOffset,v=h&&m.parent.childCount===1?g===d.pos:Pe.atStart(c).from===f;return!u||!p.type.isTextblock||p.textContent.length||!v||v&&d.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},o={...r},s={...r,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return z0()||JU()?s:o},addProseMirrorPlugins(){return[new Se({key:new Ce("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(h=>h.getMeta("composition")))return;const r=e.some(h=>h.docChanged)&&!t.doc.eq(n.doc),o=e.some(h=>h.getMeta("preventClearDocument"));if(!r||o)return;const{empty:s,from:a,to:i}=t.selection,l=Pe.atStart(t.doc).from,c=Pe.atEnd(t.doc).to;if(s||!(a===l&&i===c)||!XU(n.doc))return;const f=n.tr,p=VU({state:n,transaction:f}),{commands:m}=new k7e({editor:this.editor,state:p});if(m.clearNodes(),!!f.steps.length)return f}})]}}),oGe=bi.create({name:"paste",addProseMirrorPlugins(){return[new Se({key:new Ce("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),sGe=bi.create({name:"tabindex",addProseMirrorPlugins(){return[new Se({key:new Ce("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),aGe=bi.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:e}=QU(this.extensions);return[{types:e.filter(t=>t.name!=="text").map(t=>t.name),attributes:{dir:{default:this.options.direction,parseHTML:t=>{const n=t.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:t=>t.dir?{dir:t.dir}:{}}}}]},addProseMirrorPlugins(){return[new Se({key:new Ce("textDirection"),props:{attributes:()=>{const e=this.options.direction;return e?{dir:e}:{}}}})]}}),iGe={};mT(iGe,{createAtomBlockMarkdownSpec:()=>lGe,createBlockMarkdownSpec:()=>uGe,createInlineMarkdownSpec:()=>fGe,parseAttributes:()=>vT,parseIndentedBlocks:()=>pGe,renderNestedMarkdownContent:()=>mGe,serializeAttributes:()=>yT});function vT(e){if(!e?.trim())return{};const t={},n=[],r=e.replace(/["']([^"']*)["']/g,c=>(n.push(c),`__QUOTED_${n.length-1}__`)),o=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(o){const c=o.map(u=>u.trim().slice(1));t.class=c.join(" ")}const s=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);s&&(t.id=s[1]);const a=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(a)).forEach(([,c,u])=>{var d;const f=parseInt(((d=u.match(/__QUOTED_(\d+)__/))==null?void 0:d[1])||"0",10),p=n[f];p&&(t[c]=p.slice(1,-1))});const l=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return l&&l.split(/\s+/).filter(Boolean).forEach(u=>{u.match(/^[a-zA-Z][\w-]*$/)&&(t[u]=!0)}),t}function yT(e){if(!e||Object.keys(e).length===0)return"";const t=[];return e.class&&String(e.class).split(/\s+/).filter(Boolean).forEach(r=>t.push(`.${r}`)),e.id&&t.push(`#${e.id}`),Object.entries(e).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?t.push(n):r!==!1&&r!=null&&t.push(`${n}="${String(r)}"`))}),t.join(" ")}function lGe(e){const{nodeName:t,name:n,parseAttributes:r=vT,serializeAttributes:o=yT,defaultAttributes:s={},requiredAttributes:a=[],allowedAttributes:i}=e,l=n||t,c=u=>{if(!i)return u;const d={};return i.forEach(f=>{f in u&&(d[f]=u[f])}),d};return{parseMarkdown:(u,d)=>{const f={...s,...u.attributes};return d.createNode(t,f,[])},markdownTokenizer:{name:t,level:"block",start(u){var d;const f=new RegExp(`^:::${l}(?:\\s|$)`,"m"),p=(d=u.match(f))==null?void 0:d.index;return p!==void 0?p:-1},tokenize(u,d,f){const p=new RegExp(`^:::${l}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),m=u.match(p);if(!m)return;const h=m[1]||"",g=r(h);if(!a.find(x=>!(x in g)))return{type:t,raw:m[0],attributes:g}}},renderMarkdown:u=>{const d=c(u.attrs||{}),f=o(d),p=f?` {${f}}`:"";return`:::${l}${p} :::`}}}function uGe(e){const{nodeName:t,name:n,getContent:r,parseAttributes:o=vT,serializeAttributes:s=yT,defaultAttributes:a={},content:i="block",allowedAttributes:l}=e,c=n||t,u=d=>{if(!l)return d;const f={};return l.forEach(p=>{p in d&&(f[p]=d[p])}),f};return{parseMarkdown:(d,f)=>{let p;if(r){const h=r(d);p=typeof h=="string"?[{type:"text",text:h}]:h}else i==="block"?p=f.parseChildren(d.tokens||[]):p=f.parseInline(d.tokens||[]);const m={...a,...d.attributes};return f.createNode(t,m,p)},markdownTokenizer:{name:t,level:"block",start(d){var f;const p=new RegExp(`^:::${c}`,"m"),m=(f=d.match(p))==null?void 0:f.index;return m!==void 0?m:-1},tokenize(d,f,p){var m;const h=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),g=d.match(h);if(!g)return;const[v,x=""]=g,$=o(x);let C=1;const M=v.length;let I="";const E=/^:::([\w-]*)(\s.*)?/gm,P=d.slice(M);for(E.lastIndex=0;;){const O=E.exec(P);if(O===null)break;const D=O.index,L=O[1];if(!((m=O[2])!=null&&m.endsWith(":::"))){if(L)C+=1;else if(C-=1,C===0){const V=P.slice(0,D);I=V.trim();const F=d.slice(0,M+D+O[0].length);let z=[];if(I)if(i==="block")for(z=p.blockTokens(V),z.forEach(N=>{N.text&&(!N.tokens||N.tokens.length===0)&&(N.tokens=p.inlineTokens(N.text))});z.length>0;){const N=z[z.length-1];if(N.type==="paragraph"&&(!N.text||N.text.trim()===""))z.pop();else break}else z=p.inlineTokens(I);return{type:t,raw:F,attributes:$,content:I,tokens:z}}}}}},renderMarkdown:(d,f)=>{const p=u(d.attrs||{}),m=s(p),h=m?` {${m}}`:"",g=f.renderChildren(d.content||[],`

`);return`:::${c}${h}

${g}

:::`}}}function cGe(e){if(!e.trim())return{};const t={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(e);for(;r!==null;){const[,o,s,a]=r;t[o]=s||a,r=n.exec(e)}return t}function dGe(e){return Object.entries(e).filter(([,t])=>t!=null).map(([t,n])=>`${t}="${n}"`).join(" ")}function fGe(e){const{nodeName:t,name:n,getContent:r,parseAttributes:o=cGe,serializeAttributes:s=dGe,defaultAttributes:a={},selfClosing:i=!1,allowedAttributes:l}=e,c=n||t,u=f=>{if(!l)return f;const p={};return l.forEach(m=>{const h=typeof m=="string"?m:m.name,g=typeof m=="string"?void 0:m.skipIfDefault;if(h in f){const v=f[h];if(g!==void 0&&v===g)return;p[h]=v}}),p},d=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(f,p)=>{const m={...a,...f.attributes};if(i)return p.createNode(t,m);const h=r?r(f):f.content||"";return h?p.createNode(t,m,[p.createTextNode(h)]):p.createNode(t,m,[])},markdownTokenizer:{name:t,level:"inline",start(f){const p=i?new RegExp(`\\[${d}\\s*[^\\]]*\\]`):new RegExp(`\\[${d}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${d}\\]`),m=f.match(p),h=m?.index;return h!==void 0?h:-1},tokenize(f,p,m){const h=i?new RegExp(`^\\[${d}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${d}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${d}\\]`),g=f.match(h);if(!g)return;let v="",x="";if(i){const[,C]=g;x=C}else{const[,C,M]=g;x=C,v=M||""}const $=o(x.trim());return{type:t,raw:g[0],content:v.trim(),attributes:$}}},renderMarkdown:f=>{let p="";r?p=r(f):f.content&&f.content.length>0&&(p=f.content.filter(v=>v.type==="text").map(v=>v.text).join(""));const m=u(f.attrs||{}),h=s(m),g=h?` ${h}`:"";return i?`[${c}${g}]`:`[${c}${g}]${p}[/${c}]`}}}function pGe(e,t,n){var r,o,s,a;const i=e.split(`
`),l=[];let c="",u=0;const d=t.baseIndentSize||2;for(;u<i.length;){const f=i[u],p=f.match(t.itemPattern);if(!p){if(l.length>0)break;if(f.trim()===""){u+=1,c=`${c}${f}
`;continue}else return}const m=t.extractItemData(p),{indentLevel:h,mainContent:g}=m;c=`${c}${f}
`;const v=[g];for(u+=1;u<i.length;){const M=i[u];if(M.trim()===""){const E=i.slice(u+1).findIndex(D=>D.trim()!=="");if(E===-1)break;if((((o=(r=i[u+1+E].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:o.length)||0)>h){v.push(M),c=`${c}${M}
`,u+=1;continue}else break}if((((a=(s=M.match(/^(\s*)/))==null?void 0:s[1])==null?void 0:a.length)||0)>h)v.push(M),c=`${c}${M}
`,u+=1;else break}let x;const $=v.slice(1);if($.length>0){const M=$.map(I=>I.slice(h+d)).join(`
`);M.trim()&&(t.customNestedParser?x=t.customNestedParser(M):x=n.blockTokens(M))}const C=t.createToken(m,x);l.push(C)}if(l.length!==0)return{items:l,raw:c}}function mGe(e,t,n,r){if(!e||!Array.isArray(e.content))return"";const o=typeof n=="function"?n(r):n,[s,...a]=e.content,i=t.renderChildren([s]),l=[`${o}${i}`];return a&&a.length>0&&a.forEach(c=>{const u=t.renderChildren([c]);if(u){const d=u.split(`
`).map(f=>f?t.indent(f):"").join(`
`);l.push(d)}}),l.join(`
`)}var hGe=class rK extends eK{constructor(){super(...arguments),this.type="node"}static create(t={}){const n=typeof t=="function"?t():t;return new rK(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},gGe=hGe.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:e}){return["p",w9e(this.options.HTMLAttributes,e),0]},parseMarkdown:(e,t)=>{const n=e.tokens||[];return n.length===1&&n[0].type==="image"?t.parseChildren([n[0]]):t.createNode("paragraph",void 0,t.parseInline(n))},renderMarkdown:(e,t)=>!e||!Array.isArray(e.content)?"":t.renderChildren(e.content),addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),vGe=Object.defineProperty,bT=(e,t)=>{for(var n in t)vGe(e,n,{get:t[n],enumerable:!0})};function oK(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:o}=n,{storedMarks:s}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return s},get selection(){return r},get doc(){return o},get tr(){return r=n.selection,o=n.doc,s=n.storedMarks,n}}}var yGe=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:n,state:r}=this,{view:o}=n,{tr:s}=r,a=this.buildProps(s);return Object.fromEntries(Object.entries(t).map(([i,l])=>[i,(...u)=>{const d=l(...u)(a);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(s),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,n=!0){const{rawCommands:r,editor:o,state:s}=this,{view:a}=o,i=[],l=!!t,c=t||s.tr,u=()=>(!l&&n&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(c),i.every(f=>f===!0)),d={...Object.fromEntries(Object.entries(r).map(([f,p])=>[f,(...h)=>{const g=this.buildProps(c,n),v=p(...h)(g);return i.push(v),d}])),run:u};return d}createCan(t){const{rawCommands:n,state:r}=this,o=!1,s=t||r.tr,a=this.buildProps(s,o);return{...Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...u)=>c(...u)({...a,dispatch:void 0})])),chain:()=>this.createChain(s,o)}}buildProps(t,n=!0){const{rawCommands:r,editor:o,state:s}=this,{view:a}=o,i={tr:t,editor:o,view:a,state:oK({state:s,transaction:t}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(t,n),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...u)=>c(...u)(i)]))}};return i}},sK={};bT(sK,{blur:()=>bGe,clearContent:()=>xGe,clearNodes:()=>wGe,command:()=>kGe,createParagraphNear:()=>_Ge,cut:()=>SGe,deleteCurrentNode:()=>$Ge,deleteNode:()=>CGe,deleteRange:()=>MGe,deleteSelection:()=>AGe,enter:()=>TGe,exitCode:()=>EGe,extendMarkRange:()=>PGe,first:()=>OGe,focus:()=>NGe,forEach:()=>DGe,insertContent:()=>FGe,insertContentAt:()=>LGe,joinBackward:()=>UGe,joinDown:()=>VGe,joinForward:()=>KGe,joinItemBackward:()=>HGe,joinItemForward:()=>WGe,joinTextblockBackward:()=>GGe,joinTextblockForward:()=>JGe,joinUp:()=>jGe,keyboardShortcut:()=>QGe,lift:()=>XGe,liftEmptyBlock:()=>ZGe,liftListItem:()=>eJe,newlineInCode:()=>tJe,resetAttributes:()=>nJe,scrollIntoView:()=>rJe,selectAll:()=>oJe,selectNodeBackward:()=>sJe,selectNodeForward:()=>aJe,selectParentNode:()=>iJe,selectTextblockEnd:()=>lJe,selectTextblockStart:()=>uJe,setContent:()=>dJe,setMark:()=>$Je,setMeta:()=>CJe,setNode:()=>MJe,setNodeSelection:()=>AJe,setTextDirection:()=>TJe,setTextSelection:()=>EJe,sinkListItem:()=>IJe,splitBlock:()=>PJe,splitListItem:()=>OJe,toggleList:()=>RJe,toggleMark:()=>BJe,toggleNode:()=>NJe,toggleWrap:()=>DJe,undoInputRule:()=>FJe,unsetAllMarks:()=>qJe,unsetMark:()=>zJe,unsetTextDirection:()=>LJe,updateAttributes:()=>jJe,wrapIn:()=>VJe,wrapInList:()=>UJe});var bGe=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),xGe=(e=!0)=>({commands:t})=>t.setContent("",{emitUpdate:e}),wGe=()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:o}=r;return n&&o.forEach(({$from:s,$to:a})=>{e.doc.nodesBetween(s.pos,a.pos,(i,l)=>{if(i.type.isText)return;const{doc:c,mapping:u}=t,d=c.resolve(u.map(l)),f=c.resolve(u.map(l+i.nodeSize)),p=d.blockRange(f);if(!p)return;const m=lr(p);if(i.type.isTextblock){const{defaultType:h}=d.parent.contentMatchAt(d.index());t.setNodeMarkup(p.start,h)}(m||m===0)&&t.lift(p,m)})}),!0},kGe=e=>t=>e(t),_Ge=()=>({state:e,dispatch:t})=>Hr(e,t),SGe=(e,t)=>({editor:n,tr:r})=>{const{state:o}=n,s=o.doc.slice(e.from,e.to);r.deleteRange(e.from,e.to);const a=r.mapping.map(t);return r.insert(a,s.content),r.setSelection(new ie(r.doc.resolve(Math.max(a-1,0)))),!0},$Ge=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;const o=e.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===r.type){if(t){const i=o.before(s),l=o.after(s);e.delete(i,l).scrollIntoView()}return!0}return!1};function Lo(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}var CGe=e=>({tr:t,state:n,dispatch:r})=>{const o=Lo(e,n.schema),s=t.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===o){if(r){const l=s.before(a),c=s.after(a);t.delete(l,c).scrollIntoView()}return!0}return!1},MGe=e=>({tr:t,dispatch:n})=>{const{from:r,to:o}=e;return n&&t.delete(r,o),!0},AGe=()=>({state:e,dispatch:t})=>Cr(e,t),TGe=()=>({commands:e})=>e.keyboardShortcut("Enter"),EGe=()=>({state:e,dispatch:t})=>co(e,t);function IGe(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function L0(e,t,n={strict:!0}){const r=Object.keys(t);return r.length?r.every(o=>n.strict?t[o]===e[o]:IGe(t[o])?t[o].test(e[o]):t[o]===e[o]):!0}function aK(e,t,n={}){return e.find(r=>r.type===t&&L0(Object.fromEntries(Object.keys(n).map(o=>[o,r.attrs[o]])),n))}function WD(e,t,n={}){return!!aK(e,t,n)}function xT(e,t,n){var r;if(!e||!t)return;let o=e.parent.childAfter(e.parentOffset);if((!o.node||!o.node.marks.some(u=>u.type===t))&&(o=e.parent.childBefore(e.parentOffset)),!o.node||!o.node.marks.some(u=>u.type===t)||(n=n||((r=o.node.marks[0])==null?void 0:r.attrs),!aK([...o.node.marks],t,n)))return;let a=o.index,i=e.start()+o.offset,l=a+1,c=i+o.node.nodeSize;for(;a>0&&WD([...e.parent.child(a-1).marks],t,n);)a-=1,i-=e.parent.child(a).nodeSize;for(;l<e.parent.childCount&&WD([...e.parent.child(l).marks],t,n);)c+=e.parent.child(l).nodeSize,l+=1;return{from:i,to:c}}function yu(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}var PGe=(e,t={})=>({tr:n,state:r,dispatch:o})=>{const s=yu(e,r.schema),{doc:a,selection:i}=n,{$from:l,from:c,to:u}=i;if(o){const d=xT(l,s,t);if(d&&d.from<=c&&d.to>=u){const f=ie.create(a,d.from,d.to);n.setSelection(f)}}return!0},OGe=e=>t=>{const n=typeof e=="function"?e(t):e;for(let r=0;r<n.length;r+=1)if(n[r](t))return!0;return!1};function iK(e){return e instanceof ie}function oc(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function RGe(e,t=null){if(!t)return null;const n=Pe.atStart(e),r=Pe.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return r;const o=n.from,s=r.to;return t==="all"?ie.create(e,oc(0,o,s),oc(e.content.size,o,s)):ie.create(e,oc(t,o,s),oc(t,o,s))}function GD(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function j0(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function BGe(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}var NGe=(e=null,t={})=>({editor:n,view:r,tr:o,dispatch:s})=>{t={scrollIntoView:!0,...t};const a=()=>{(j0()||GD())&&r.dom.focus(),BGe()&&!j0()&&!GD()&&r.dom.focus({preventScroll:!0}),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),t?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&e===null||e===!1)return!0;if(s&&e===null&&!iK(n.state.selection))return a(),!0;const i=RGe(o.doc,e)||n.state.selection,l=n.state.selection.eq(i);return s&&(l||o.setSelection(i),l&&o.storedMarks&&o.setStoredMarks(o.storedMarks),a()),!0},DGe=(e,t)=>n=>e.every((r,o)=>t(r,{...n,index:o})),FGe=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),lK=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const r=t[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):r.nodeType===1&&lK(r)}return e};function Jv(e){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t=`<body>${e}</body>`,n=new window.DOMParser().parseFromString(t,"text/html").body;return lK(n)}function Wm(e,t,n){if(e instanceof Hn||e instanceof de)return e;n={slice:!0,parseOptions:{},...n};const r=typeof e=="object"&&e!==null,o=typeof e=="string";if(r)try{if(Array.isArray(e)&&e.length>0)return de.fromArray(e.map(i=>t.nodeFromJSON(i)));const a=t.nodeFromJSON(e);return n.errorOnInvalidContent&&a.check(),a}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",s),Wm("",t,n)}if(o){if(n.errorOnInvalidContent){let a=!1,i="";const l=new qr({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(a=!0,i=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?gt.fromSchema(l).parseSlice(Jv(e),n.parseOptions):gt.fromSchema(l).parse(Jv(e),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${i}`)})}const s=gt.fromSchema(t);return n.slice?s.parseSlice(Jv(e),n.parseOptions).content:s.parse(Jv(e),n.parseOptions)}return Wm("",t,n)}function qGe(e,t,n){const r=e.steps.length-1;if(r<t)return;const o=e.steps[r];if(!(o instanceof ln||o instanceof un))return;const s=e.mapping.maps[r];let a=0;s.forEach((i,l,c,u)=>{a===0&&(a=u)}),e.setSelection(Pe.near(e.doc.resolve(a),n))}var zGe=e=>!("type"in e),LGe=(e,t,n)=>({tr:r,dispatch:o,editor:s})=>{var a;if(o){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let i;const l=g=>{s.emit("contentError",{editor:s,error:g,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{Wm(t,s.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(g){l(g)}try{i=Wm(t,s.schema,{parseOptions:c,errorOnInvalidContent:(a=n.errorOnInvalidContent)!=null?a:s.options.enableContentCheck})}catch(g){return l(g),!1}let{from:u,to:d}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},f=!0,p=!0;if((zGe(i)?i:[i]).forEach(g=>{g.check(),f=f?g.isText&&g.marks.length===0:!1,p=p?g.isBlock:!1}),u===d&&p){const{parent:g}=r.doc.resolve(u);g.isTextblock&&!g.type.spec.code&&!g.childCount&&(u-=1,d+=1)}let h;if(f){if(Array.isArray(t))h=t.map(g=>g.text||"").join("");else if(t instanceof de){let g="";t.forEach(v=>{v.text&&(g+=v.text)}),h=g}else typeof t=="object"&&t&&t.text?h=t.text:h=t;r.insertText(h,u,d)}else{h=i;const g=r.doc.resolve(u),v=g.node(),x=g.parentOffset===0,$=v.isText||v.isTextblock,C=v.content.size>0;x&&$&&C&&(u=Math.max(0,u-1)),r.replaceWith(u,d,h)}n.updateSelection&&qGe(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:u,text:h}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:u,text:h})}return!0},jGe=()=>({state:e,dispatch:t})=>io(e,t),VGe=()=>({state:e,dispatch:t})=>lo(e,t),UGe=()=>({state:e,dispatch:t})=>Lr(e,t),KGe=()=>({state:e,dispatch:t})=>Vr(e,t),HGe=()=>({state:e,dispatch:t,tr:n})=>{try{const r=on(e.doc,e.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},WGe=()=>({state:e,dispatch:t,tr:n})=>{try{const r=on(e.doc,e.selection.$from.pos,1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},GGe=()=>({state:e,dispatch:t})=>so(e,t),JGe=()=>({state:e,dispatch:t})=>ao(e,t);function uK(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function YGe(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let r,o,s,a;for(let i=0;i<t.length-1;i+=1){const l=t[i];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))o=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))j0()||uK()?a=!0:o=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),o&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}var QGe=e=>({editor:t,view:n,tr:r,dispatch:o})=>{const s=YGe(e).split(/-(?!$)/),a=s.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),i=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,i))});return l?.steps.forEach(c=>{const u=c.map(r.mapping);u&&o&&r.maybeStep(u)}),!0};function wT(e,t,n={}){const{from:r,to:o,empty:s}=e.selection,a=t?Lo(t,e.schema):null,i=[];e.doc.nodesBetween(r,o,(d,f)=>{if(d.isText)return;const p=Math.max(r,f),m=Math.min(o,f+d.nodeSize);i.push({node:d,from:p,to:m})});const l=o-r,c=i.filter(d=>a?a.name===d.node.type.name:!0).filter(d=>L0(d.node.attrs,n,{strict:!1}));return s?!!c.length:c.reduce((d,f)=>d+f.to-f.from,0)>=l}var XGe=(e,t={})=>({state:n,dispatch:r})=>{const o=Lo(e,n.schema);return wT(n,o,t)?uo(n,r):!1},ZGe=()=>({state:e,dispatch:t})=>Wr(e,t),eJe=e=>({state:t,dispatch:n})=>{const r=Lo(e,t.schema);return vo(r)(t,n)},tJe=()=>({state:e,dispatch:t})=>Kr(e,t);function cK(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function JD(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((r,o)=>(n.includes(o)||(r[o]=e[o]),r),{})}var nJe=(e,t)=>({tr:n,state:r,dispatch:o})=>{let s=null,a=null;const i=cK(typeof e=="string"?e:e.name,r.schema);if(!i)return!1;i==="node"&&(s=Lo(e,r.schema)),i==="mark"&&(a=yu(e,r.schema));let l=!1;return n.selection.ranges.forEach(c=>{r.doc.nodesBetween(c.$from.pos,c.$to.pos,(u,d)=>{s&&s===u.type&&(l=!0,o&&n.setNodeMarkup(d,void 0,JD(u.attrs,t))),a&&u.marks.length&&u.marks.forEach(f=>{a===f.type&&(l=!0,o&&n.addMark(d,d+u.nodeSize,a.create(JD(f.attrs,t))))})})}),l},rJe=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),oJe=()=>({tr:e,dispatch:t})=>{if(t){const n=new Sn(e.doc);e.setSelection(n)}return!0},sJe=()=>({state:e,dispatch:t})=>jr(e,t),aJe=()=>({state:e,dispatch:t})=>Ur(e,t),iJe=()=>({state:e,dispatch:t})=>fo(e,t),lJe=()=>({state:e,dispatch:t})=>mo(e,t),uJe=()=>({state:e,dispatch:t})=>po(e,t);function cJe(e,t,n={},r={}){return Wm(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var dJe=(e,{errorOnInvalidContent:t,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:o,tr:s,dispatch:a,commands:i})=>{const{doc:l}=s;if(r.preserveWhitespace!=="full"){const c=cJe(e,o.schema,r,{errorOnInvalidContent:t??o.options.enableContentCheck});return a&&s.replaceWith(0,l.content.size,c).setMeta("preventUpdate",!n),!0}return a&&s.setMeta("preventUpdate",!n),i.insertContentAt({from:0,to:l.content.size},e,{parseOptions:r,errorOnInvalidContent:t??o.options.enableContentCheck})};function fJe(e,t){const n=yu(t,e.schema),{from:r,to:o,empty:s}=e.selection,a=[];s?(e.storedMarks&&a.push(...e.storedMarks),a.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,o,l=>{a.push(...l.marks)});const i=a.find(l=>l.type.name===n.name);return i?{...i.attrs}:{}}function pJe(e,t){const n=new zr(e);return t.forEach(r=>{r.steps.forEach(o=>{n.step(o)})}),n}function mJe(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function hJe(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function kT(e){return t=>hJe(t.$from,e)}function Gm(e,t,n){return e.config[t]===void 0&&e.parent?Gm(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind({...n,parent:e.parent?Gm(e.parent,t,n):null}):e.config[t]}function gJe(e){return typeof e=="function"}function Jm(e,t=void 0,...n){return gJe(e)?t?e.bind(t)(...n):e(...n):e}function dK(e){const t=e.filter(o=>o.type==="extension"),n=e.filter(o=>o.type==="node"),r=e.filter(o=>o.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:r}}function vJe(...e){return e.filter(t=>!!t).reduce((t,n)=>{const r={...t};return Object.entries(n).forEach(([o,s])=>{if(!r[o]){r[o]=s;return}if(o==="class"){const i=s?String(s).split(" "):[],l=r[o]?r[o].split(" "):[],c=i.filter(u=>!l.includes(u));r[o]=[...l,...c].join(" ")}else if(o==="style"){const i=s?s.split(";").map(u=>u.trim()).filter(Boolean):[],l=r[o]?r[o].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;l.forEach(u=>{const[d,f]=u.split(":").map(p=>p.trim());c.set(d,f)}),i.forEach(u=>{const[d,f]=u.split(":").map(p=>p.trim());c.set(d,f)}),r[o]=Array.from(c.entries()).map(([u,d])=>`${u}: ${d}`).join("; ")}else r[o]=s}),r},{})}function yJe(e,t,n){const{from:r,to:o}=t,{blockSeparator:s=`

`,textSerializers:a={}}=n||{};let i="";return e.nodesBetween(r,o,(l,c,u,d)=>{var f;l.isBlock&&c>r&&(i+=s);const p=a?.[l.type.name];if(p)return u&&(i+=p({node:l,pos:c,parent:u,index:d,range:t})),!1;l.isText&&(i+=(f=l?.text)==null?void 0:f.slice(Math.max(r,c)-c,o-c))}),i}function bJe(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}function xJe(e,t=JSON.stringify){const n={};return e.filter(r=>{const o=t(r);return Object.prototype.hasOwnProperty.call(n,o)?!1:n[o]=!0})}function wJe(e){const t=xJe(e);return t.length===1?t:t.filter((n,r)=>!t.filter((s,a)=>a!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function kJe(e){const{mapping:t,steps:n}=e,r=[];return t.maps.forEach((o,s)=>{const a=[];if(o.ranges.length)o.forEach((i,l)=>{a.push({from:i,to:l})});else{const{from:i,to:l}=n[s];if(i===void 0||l===void 0)return;a.push({from:i,to:l})}a.forEach(({from:i,to:l})=>{const c=t.slice(s).map(i,-1),u=t.slice(s).map(l),d=t.invert().map(c,-1),f=t.invert().map(u);r.push({oldRange:{from:d,to:f},newRange:{from:c,to:u}})})}),wJe(r)}function fK(e,t,n){const r=[];return e===t?n.resolve(e).marks().forEach(o=>{const s=n.resolve(e),a=xT(s,o.type);a&&r.push({mark:o,...a})}):n.nodesBetween(e,t,(o,s)=>{!o||o?.nodeSize===void 0||r.push(...o.marks.map(a=>({from:s,to:s+o.nodeSize,mark:a})))}),r}function Fy(e,t,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const o=e.find(s=>s.type===t&&s.name===r);return o?o.attribute.keepOnSplit:!1}))}function _Je(e,t,n={}){const{empty:r,ranges:o}=e.selection,s=t?yu(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(d=>s?s.name===d.type.name:!0).find(d=>L0(d.attrs,n,{strict:!1}));let a=0;const i=[];if(o.forEach(({$from:d,$to:f})=>{const p=d.pos,m=f.pos;e.doc.nodesBetween(p,m,(h,g)=>{if(!h.isText&&!h.marks.length)return;const v=Math.max(p,g),x=Math.min(m,g+h.nodeSize),$=x-v;a+=$,i.push(...h.marks.map(C=>({mark:C,from:v,to:x})))})}),a===0)return!1;const l=i.filter(d=>s?s.name===d.mark.type.name:!0).filter(d=>L0(d.mark.attrs,n,{strict:!1})).reduce((d,f)=>d+f.to-f.from,0),c=i.filter(d=>s?d.mark.type!==s&&d.mark.type.excludes(s):!0).reduce((d,f)=>d+f.to-f.from,0);return(l>0?l+c:l)>=a}function YD(e,t){const{nodeExtensions:n}=dK(t),r=n.find(a=>a.name===e);if(!r)return!1;const o={name:r.name,options:r.options,storage:r.storage},s=Jm(Gm(r,"group",o));return typeof s!="string"?!1:s.split(" ").includes("list")}function pK(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((r=e.text)!=null?r:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let o=!0;return e.content.forEach(s=>{o!==!1&&(pK(s,{ignoreWhitespace:n,checkChildren:t})||(o=!1))}),o}return!1}function SJe(e,t,n){var r;const{selection:o}=t;let s=null;if(iK(o)&&(s=o.$cursor),s){const i=(r=e.storedMarks)!=null?r:s.marks();return s.parent.type.allowsMarkType(n)&&(!!n.isInSet(i)||!i.some(c=>c.type.excludes(n)))}const{ranges:a}=o;return a.some(({$from:i,$to:l})=>{let c=i.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(i.pos,l.pos,(u,d,f)=>{if(c)return!1;if(u.isInline){const p=!f||f.type.allowsMarkType(n),m=!!n.isInSet(u.marks)||!u.marks.some(h=>h.type.excludes(n));c=p&&m}return!c}),c})}var $Je=(e,t={})=>({tr:n,state:r,dispatch:o})=>{const{selection:s}=n,{empty:a,ranges:i}=s,l=yu(e,r.schema);if(o)if(a){const c=fJe(r,l);n.addStoredMark(l.create({...c,...t}))}else i.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;r.doc.nodesBetween(u,d,(f,p)=>{const m=Math.max(p,u),h=Math.min(p+f.nodeSize,d);f.marks.find(v=>v.type===l)?f.marks.forEach(v=>{l===v.type&&n.addMark(m,h,l.create({...v.attrs,...t}))}):n.addMark(m,h,l.create(t))})});return SJe(r,n,l)},CJe=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),MJe=(e,t={})=>({state:n,dispatch:r,chain:o})=>{const s=Lo(e,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),s.isTextblock?o().command(({commands:i})=>cn(s,{...a,...t})(n)?!0:i.clearNodes()).command(({state:i})=>cn(s,{...a,...t})(i,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},AJe=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,o=oc(e,0,r.content.size),s=Ge.create(r,o);t.setSelection(s)}return!0},TJe=(e,t)=>({tr:n,state:r,dispatch:o})=>{const{selection:s}=r;let a,i;return typeof t=="number"?(a=t,i=t):t&&"from"in t&&"to"in t?(a=t.from,i=t.to):(a=s.from,i=s.to),o&&n.doc.nodesBetween(a,i,(l,c)=>{l.isText||n.setNodeMarkup(c,void 0,{...l.attrs,dir:e})}),!0},EJe=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,{from:o,to:s}=typeof e=="number"?{from:e,to:e}:e,a=ie.atStart(r).from,i=ie.atEnd(r).to,l=oc(o,a,i),c=oc(s,a,i),u=ie.create(r,l,c);t.setSelection(u)}return!0},IJe=e=>({state:t,dispatch:n})=>{const r=Lo(e,t.schema);return yo(r)(t,n)};function QD(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(o=>t?.includes(o.type.name));e.tr.ensureMarks(r)}}var PJe=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:o})=>{const{selection:s,doc:a}=t,{$from:i,$to:l}=s,c=o.extensionManager.attributes,u=Fy(c,i.node().type.name,i.node().attrs);if(s instanceof Ge&&s.node.isBlock)return!i.parentOffset||!ot(a,i.pos)?!1:(r&&(e&&QD(n,o.extensionManager.splittableMarks),t.split(i.pos).scrollIntoView()),!0);if(!i.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,f=i.depth===0?void 0:mJe(i.node(-1).contentMatchAt(i.indexAfter(-1)));let p=d&&f?[{type:f,attrs:u}]:void 0,m=ot(t.doc,t.mapping.map(i.pos),1,p);if(!p&&!m&&ot(t.doc,t.mapping.map(i.pos),1,f?[{type:f}]:void 0)&&(m=!0,p=f?[{type:f,attrs:u}]:void 0),r){if(m&&(s instanceof ie&&t.deleteSelection(),t.split(t.mapping.map(i.pos),1,p),f&&!d&&!i.parentOffset&&i.parent.type!==f)){const h=t.mapping.map(i.before()),g=t.doc.resolve(h);i.node(-1).canReplaceWith(g.index(),g.index()+1,f)&&t.setNodeMarkup(t.mapping.map(i.before()),f)}e&&QD(n,o.extensionManager.splittableMarks),t.scrollIntoView()}return m},OJe=(e,t={})=>({tr:n,state:r,dispatch:o,editor:s})=>{var a;const i=Lo(e,r.schema),{$from:l,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const d=l.node(-1);if(d.type!==i)return!1;const f=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==i||l.index(-2)!==l.node(-2).childCount-1)return!1;if(o){let v=de.empty;const x=l.index(-1)?1:l.index(-2)?2:3;for(let P=l.depth-x;P>=l.depth-3;P-=1)v=de.from(l.node(P).copy(v));const $=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,C={...Fy(f,l.node().type.name,l.node().attrs),...t},M=((a=i.contentMatch.defaultType)==null?void 0:a.createAndFill(C))||void 0;v=v.append(de.from(i.createAndFill(null,M)||void 0));const I=l.before(l.depth-(x-1));n.replace(I,l.after(-$),new Je(v,4-x,0));let E=-1;n.doc.nodesBetween(I,n.doc.content.size,(P,O)=>{if(E>-1)return!1;P.isTextblock&&P.content.size===0&&(E=O+1)}),E>-1&&n.setSelection(ie.near(n.doc.resolve(E))),n.scrollIntoView()}return!0}const p=c.pos===l.end()?d.contentMatchAt(0).defaultType:null,m={...Fy(f,d.type.name,d.attrs),...t},h={...Fy(f,l.node().type.name,l.node().attrs),...t};n.delete(l.pos,c.pos);const g=p?[{type:i,attrs:m},{type:p,attrs:h}]:[{type:i,attrs:m}];if(!ot(n.doc,l.pos,2))return!1;if(o){const{selection:v,storedMarks:x}=r,{splittableMarks:$}=s.extensionManager,C=x||v.$to.parentOffset&&v.$from.marks();if(n.split(l.pos,2,g).scrollIntoView(),!C||!o)return!0;const M=C.filter(I=>$.includes(I.type.name));n.ensureMarks(M)}return!0},Y_=(e,t)=>{const n=kT(a=>a.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const o=e.doc.nodeAt(r);return n.node.type===o?.type&&Ht(e.doc,n.pos)&&e.join(n.pos),!0},Q_=(e,t)=>{const n=kT(a=>a.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const o=e.doc.nodeAt(r);return n.node.type===o?.type&&Ht(e.doc,r)&&e.join(r),!0},RJe=(e,t,n,r={})=>({editor:o,tr:s,state:a,dispatch:i,chain:l,commands:c,can:u})=>{const{extensions:d,splittableMarks:f}=o.extensionManager,p=Lo(e,a.schema),m=Lo(t,a.schema),{selection:h,storedMarks:g}=a,{$from:v,$to:x}=h,$=v.blockRange(x),C=g||h.$to.parentOffset&&h.$from.marks();if(!$)return!1;const M=kT(I=>YD(I.type.name,d))(h);if($.depth>=1&&M&&$.depth-M.depth<=1){if(M.node.type===p)return c.liftListItem(m);if(YD(M.node.type.name,d)&&p.validContent(M.node.content)&&i)return l().command(()=>(s.setNodeMarkup(M.pos,p),!0)).command(()=>Y_(s,p)).command(()=>Q_(s,p)).run()}return!n||!C||!i?l().command(()=>u().wrapInList(p,r)?!0:c.clearNodes()).wrapInList(p,r).command(()=>Y_(s,p)).command(()=>Q_(s,p)).run():l().command(()=>{const I=u().wrapInList(p,r),E=C.filter(P=>f.includes(P.type.name));return s.ensureMarks(E),I?!0:c.clearNodes()}).wrapInList(p,r).command(()=>Y_(s,p)).command(()=>Q_(s,p)).run()},BJe=(e,t={},n={})=>({state:r,commands:o})=>{const{extendEmptyMarkRange:s=!1}=n,a=yu(e,r.schema);return _Je(r,a,t)?o.unsetMark(a,{extendEmptyMarkRange:s}):o.setMark(a,t)},NJe=(e,t,n={})=>({state:r,commands:o})=>{const s=Lo(e,r.schema),a=Lo(t,r.schema),i=wT(r,s,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),i?o.setNode(a,l):o.setNode(s,{...l,...n})},DJe=(e,t={})=>({state:n,commands:r})=>{const o=Lo(e,n.schema);return wT(n,o,t)?r.lift(o):r.wrapIn(o,t)},FJe=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const o=n[r];let s;if(o.spec.isInputRules&&(s=o.getState(e))){if(t){const a=e.tr,i=s.transform;for(let l=i.steps.length-1;l>=0;l-=1)a.step(i.steps[l].invert(i.docs[l]));if(s.text){const l=a.doc.resolve(s.from).marks();a.replaceWith(s.from,s.to,e.schema.text(s.text,l))}else a.delete(s.from,s.to)}return!0}}return!1},qJe=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:o}=n;return r||t&&o.forEach(s=>{e.removeMark(s.$from.pos,s.$to.pos)}),!0},zJe=(e,t={})=>({tr:n,state:r,dispatch:o})=>{var s;const{extendEmptyMarkRange:a=!1}=t,{selection:i}=n,l=yu(e,r.schema),{$from:c,empty:u,ranges:d}=i;if(!o)return!0;if(u&&a){let{from:f,to:p}=i;const m=(s=c.marks().find(g=>g.type===l))==null?void 0:s.attrs,h=xT(c,l,m);h&&(f=h.from,p=h.to),n.removeMark(f,p,l)}else d.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,l)});return n.removeStoredMark(l),!0},LJe=e=>({tr:t,state:n,dispatch:r})=>{const{selection:o}=n;let s,a;return typeof e=="number"?(s=e,a=e):e&&"from"in e&&"to"in e?(s=e.from,a=e.to):(s=o.from,a=o.to),r&&t.doc.nodesBetween(s,a,(i,l)=>{if(i.isText)return;const c={...i.attrs};delete c.dir,t.setNodeMarkup(l,void 0,c)}),!0},jJe=(e,t={})=>({tr:n,state:r,dispatch:o})=>{let s=null,a=null;const i=cK(typeof e=="string"?e:e.name,r.schema);if(!i)return!1;i==="node"&&(s=Lo(e,r.schema)),i==="mark"&&(a=yu(e,r.schema));let l=!1;return n.selection.ranges.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;let f,p,m,h;n.selection.empty?r.doc.nodesBetween(u,d,(g,v)=>{s&&s===g.type&&(l=!0,m=Math.max(v,u),h=Math.min(v+g.nodeSize,d),f=v,p=g)}):r.doc.nodesBetween(u,d,(g,v)=>{v<u&&s&&s===g.type&&(l=!0,m=Math.max(v,u),h=Math.min(v+g.nodeSize,d),f=v,p=g),v>=u&&v<=d&&(s&&s===g.type&&(l=!0,o&&n.setNodeMarkup(v,void 0,{...g.attrs,...t})),a&&g.marks.length&&g.marks.forEach(x=>{if(a===x.type&&(l=!0,o)){const $=Math.max(v,u),C=Math.min(v+g.nodeSize,d);n.addMark($,C,a.create({...x.attrs,...t}))}}))}),p&&(f!==void 0&&o&&n.setNodeMarkup(f,void 0,{...p.attrs,...t}),a&&p.marks.length&&p.marks.forEach(g=>{a===g.type&&o&&n.addMark(m,h,a.create({...g.attrs,...t}))}))}),l},VJe=(e,t={})=>({state:n,dispatch:r})=>{const o=Lo(e,n.schema);return ho(o,t)(n,r)},UJe=(e,t={})=>({state:n,dispatch:r})=>{const o=Lo(e,n.schema);return go(o,t)(n,r)},KJe=class{constructor(e){var t;this.find=e.find,this.handler=e.handler,this.undoable=(t=e.undoable)!=null?t:!0}};function HJe(e){return Object.prototype.toString.call(e).slice(8,-1)}function Yv(e){return HJe(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function mK(e,t){const n={...e};return Yv(e)&&Yv(t)&&Object.keys(t).forEach(r=>{Yv(t[r])&&Yv(e[r])?n[r]=mK(e[r],t[r]):n[r]=t[r]}),n}var hK=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...Jm(Gm(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Jm(Gm(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const n=this.extend({...this.config,addOptions:()=>mK(this.options,t)});return n.name=this.name,n.parent=this.parent,n}extend(t={}){const n=new this.constructor({...this.config,...t});return n.parent=this,this.child=n,n.name="name"in t?t.name:n.parent.name,n}},WJe=class gK extends hK{constructor(){super(...arguments),this.type="mark"}static create(t={}){const n=typeof t=="function"?t():t;return new gK(n)}static handleExit({editor:t,mark:n}){const{tr:r}=t.state,o=t.state.selection.$from;if(o.pos===o.end()){const a=o.marks();if(!!!a.find(c=>c?.type.name===n.name))return!1;const l=a.find(c=>c?.type.name===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",o.pos),t.view.dispatch(r),!0}return!1}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},GJe=class{constructor(e){this.find=e.find,this.handler=e.handler}},JJe={};bT(JJe,{ClipboardTextSerializer:()=>YJe,Commands:()=>QJe,Delete:()=>XJe,Drop:()=>ZJe,Editable:()=>eYe,FocusEvents:()=>tYe,Keymap:()=>nYe,Paste:()=>rYe,Tabindex:()=>oYe,TextDirection:()=>sYe,focusEventsPluginKey:()=>yK});var xi=class vK extends hK{constructor(){super(...arguments),this.type="extension"}static create(t={}){const n=typeof t=="function"?t():t;return new vK(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},YJe=xi.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Se({key:new Ce("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:o}=t,{ranges:s}=o,a=Math.min(...s.map(u=>u.$from.pos)),i=Math.max(...s.map(u=>u.$to.pos)),l=bJe(n);return yJe(r,{from:a,to:i},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),QJe=xi.create({name:"commands",addCommands(){return{...sK}}}),XJe=xi.create({name:"delete",onUpdate({transaction:e,appendedTransactions:t}){var n,r,o;const s=()=>{var a,i,l,c;if((c=(l=(i=(a=this.editor.options.coreExtensionOptions)==null?void 0:a.delete)==null?void 0:i.filterTransaction)==null?void 0:l.call(i,e))!=null?c:e.getMeta("y-sync$"))return;const u=pJe(e.before,[e,...t]);kJe(u).forEach(p=>{u.mapping.mapResult(p.oldRange.from).deletedAfter&&u.mapping.mapResult(p.oldRange.to).deletedBefore&&u.before.nodesBetween(p.oldRange.from,p.oldRange.to,(m,h)=>{const g=h+m.nodeSize-2,v=p.oldRange.from<=h&&g<=p.oldRange.to;this.editor.emit("delete",{type:"node",node:m,from:h,to:g,newFrom:u.mapping.map(h),newTo:u.mapping.map(g),deletedRange:p.oldRange,newRange:p.newRange,partial:!v,editor:this.editor,transaction:e,combinedTransform:u})})});const f=u.mapping;u.steps.forEach((p,m)=>{var h,g;if(p instanceof En){const v=f.slice(m).map(p.from,-1),x=f.slice(m).map(p.to),$=f.invert().map(v,-1),C=f.invert().map(x),M=(h=u.doc.nodeAt(v-1))==null?void 0:h.marks.some(E=>E.eq(p.mark)),I=(g=u.doc.nodeAt(x))==null?void 0:g.marks.some(E=>E.eq(p.mark));this.editor.emit("delete",{type:"mark",mark:p.mark,from:p.from,to:p.to,deletedRange:{from:$,to:C},newRange:{from:v,to:x},partial:!!(I||M),editor:this.editor,transaction:e,combinedTransform:u})}})};(o=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||o?setTimeout(s,0):s()}}),ZJe=xi.create({name:"drop",addProseMirrorPlugins(){return[new Se({key:new Ce("tiptapDrop"),props:{handleDrop:(e,t,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:r})}}})]}}),eYe=xi.create({name:"editable",addProseMirrorPlugins(){return[new Se({key:new Ce("editable"),props:{editable:()=>this.editor.options.editable}})]}}),yK=new Ce("focusEvents"),tYe=xi.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new Se({key:yK,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),nYe=xi.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:i})=>{const{selection:l,doc:c}=i,{empty:u,$anchor:d}=l,{pos:f,parent:p}=d,m=d.parent.isTextblock&&f>0?i.doc.resolve(f-1):d,h=m.parent.type.spec.isolating,g=d.pos-d.parentOffset,v=h&&m.parent.childCount===1?g===d.pos:Pe.atStart(c).from===f;return!u||!p.type.isTextblock||p.textContent.length||!v||v&&d.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},o={...r},s={...r,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return j0()||uK()?s:o},addProseMirrorPlugins(){return[new Se({key:new Ce("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(h=>h.getMeta("composition")))return;const r=e.some(h=>h.docChanged)&&!t.doc.eq(n.doc),o=e.some(h=>h.getMeta("preventClearDocument"));if(!r||o)return;const{empty:s,from:a,to:i}=t.selection,l=Pe.atStart(t.doc).from,c=Pe.atEnd(t.doc).to;if(s||!(a===l&&i===c)||!pK(n.doc))return;const f=n.tr,p=oK({state:n,transaction:f}),{commands:m}=new yGe({editor:this.editor,state:p});if(m.clearNodes(),!!f.steps.length)return f}})]}}),rYe=xi.create({name:"paste",addProseMirrorPlugins(){return[new Se({key:new Ce("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),oYe=xi.create({name:"tabindex",addProseMirrorPlugins(){return[new Se({key:new Ce("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),sYe=xi.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:e}=dK(this.extensions);return[{types:e.filter(t=>t.name!=="text").map(t=>t.name),attributes:{dir:{default:this.options.direction,parseHTML:t=>{const n=t.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:t=>t.dir?{dir:t.dir}:{}}}}]},addProseMirrorPlugins(){return[new Se({key:new Ce("textDirection"),props:{attributes:()=>{const e=this.options.direction;return e?{dir:e}:{}}}})]}});function aYe(e){return new KJe({find:e.find,handler:({state:t,range:n,match:r})=>{const o=Jm(e.getAttributes,void 0,r);if(o===!1||o===null)return null;const{tr:s}=t,a=r[r.length-1],i=r[0];if(a){const l=i.search(/\S/),c=n.from+i.indexOf(a),u=c+a.length;if(fK(n.from,n.to,t.doc).filter(p=>p.mark.type.excluded.find(h=>h===e.type&&h!==p.mark.type)).filter(p=>p.to>c).length)return null;u<n.to&&s.delete(u,n.to),c>n.from&&s.delete(n.from+l,c);const f=n.from+l+a.length;s.addMark(n.from+l,f,e.type.create(o||{})),s.removeStoredMark(e.type)}},undoable:e.undoable})}var iYe={};bT(iYe,{createAtomBlockMarkdownSpec:()=>lYe,createBlockMarkdownSpec:()=>uYe,createInlineMarkdownSpec:()=>fYe,parseAttributes:()=>_T,parseIndentedBlocks:()=>pYe,renderNestedMarkdownContent:()=>mYe,serializeAttributes:()=>ST});function _T(e){if(!e?.trim())return{};const t={},n=[],r=e.replace(/["']([^"']*)["']/g,c=>(n.push(c),`__QUOTED_${n.length-1}__`)),o=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(o){const c=o.map(u=>u.trim().slice(1));t.class=c.join(" ")}const s=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);s&&(t.id=s[1]);const a=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(a)).forEach(([,c,u])=>{var d;const f=parseInt(((d=u.match(/__QUOTED_(\d+)__/))==null?void 0:d[1])||"0",10),p=n[f];p&&(t[c]=p.slice(1,-1))});const l=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return l&&l.split(/\s+/).filter(Boolean).forEach(u=>{u.match(/^[a-zA-Z][\w-]*$/)&&(t[u]=!0)}),t}function ST(e){if(!e||Object.keys(e).length===0)return"";const t=[];return e.class&&String(e.class).split(/\s+/).filter(Boolean).forEach(r=>t.push(`.${r}`)),e.id&&t.push(`#${e.id}`),Object.entries(e).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?t.push(n):r!==!1&&r!=null&&t.push(`${n}="${String(r)}"`))}),t.join(" ")}function lYe(e){const{nodeName:t,name:n,parseAttributes:r=_T,serializeAttributes:o=ST,defaultAttributes:s={},requiredAttributes:a=[],allowedAttributes:i}=e,l=n||t,c=u=>{if(!i)return u;const d={};return i.forEach(f=>{f in u&&(d[f]=u[f])}),d};return{parseMarkdown:(u,d)=>{const f={...s,...u.attributes};return d.createNode(t,f,[])},markdownTokenizer:{name:t,level:"block",start(u){var d;const f=new RegExp(`^:::${l}(?:\\s|$)`,"m"),p=(d=u.match(f))==null?void 0:d.index;return p!==void 0?p:-1},tokenize(u,d,f){const p=new RegExp(`^:::${l}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),m=u.match(p);if(!m)return;const h=m[1]||"",g=r(h);if(!a.find(x=>!(x in g)))return{type:t,raw:m[0],attributes:g}}},renderMarkdown:u=>{const d=c(u.attrs||{}),f=o(d),p=f?` {${f}}`:"";return`:::${l}${p} :::`}}}function uYe(e){const{nodeName:t,name:n,getContent:r,parseAttributes:o=_T,serializeAttributes:s=ST,defaultAttributes:a={},content:i="block",allowedAttributes:l}=e,c=n||t,u=d=>{if(!l)return d;const f={};return l.forEach(p=>{p in d&&(f[p]=d[p])}),f};return{parseMarkdown:(d,f)=>{let p;if(r){const h=r(d);p=typeof h=="string"?[{type:"text",text:h}]:h}else i==="block"?p=f.parseChildren(d.tokens||[]):p=f.parseInline(d.tokens||[]);const m={...a,...d.attributes};return f.createNode(t,m,p)},markdownTokenizer:{name:t,level:"block",start(d){var f;const p=new RegExp(`^:::${c}`,"m"),m=(f=d.match(p))==null?void 0:f.index;return m!==void 0?m:-1},tokenize(d,f,p){var m;const h=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),g=d.match(h);if(!g)return;const[v,x=""]=g,$=o(x);let C=1;const M=v.length;let I="";const E=/^:::([\w-]*)(\s.*)?/gm,P=d.slice(M);for(E.lastIndex=0;;){const O=E.exec(P);if(O===null)break;const D=O.index,L=O[1];if(!((m=O[2])!=null&&m.endsWith(":::"))){if(L)C+=1;else if(C-=1,C===0){const V=P.slice(0,D);I=V.trim();const F=d.slice(0,M+D+O[0].length);let z=[];if(I)if(i==="block")for(z=p.blockTokens(V),z.forEach(N=>{N.text&&(!N.tokens||N.tokens.length===0)&&(N.tokens=p.inlineTokens(N.text))});z.length>0;){const N=z[z.length-1];if(N.type==="paragraph"&&(!N.text||N.text.trim()===""))z.pop();else break}else z=p.inlineTokens(I);return{type:t,raw:F,attributes:$,content:I,tokens:z}}}}}},renderMarkdown:(d,f)=>{const p=u(d.attrs||{}),m=s(p),h=m?` {${m}}`:"",g=f.renderChildren(d.content||[],`

`);return`:::${c}${h}

${g}

:::`}}}function cYe(e){if(!e.trim())return{};const t={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(e);for(;r!==null;){const[,o,s,a]=r;t[o]=s||a,r=n.exec(e)}return t}function dYe(e){return Object.entries(e).filter(([,t])=>t!=null).map(([t,n])=>`${t}="${n}"`).join(" ")}function fYe(e){const{nodeName:t,name:n,getContent:r,parseAttributes:o=cYe,serializeAttributes:s=dYe,defaultAttributes:a={},selfClosing:i=!1,allowedAttributes:l}=e,c=n||t,u=f=>{if(!l)return f;const p={};return l.forEach(m=>{const h=typeof m=="string"?m:m.name,g=typeof m=="string"?void 0:m.skipIfDefault;if(h in f){const v=f[h];if(g!==void 0&&v===g)return;p[h]=v}}),p},d=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(f,p)=>{const m={...a,...f.attributes};if(i)return p.createNode(t,m);const h=r?r(f):f.content||"";return h?p.createNode(t,m,[p.createTextNode(h)]):p.createNode(t,m,[])},markdownTokenizer:{name:t,level:"inline",start(f){const p=i?new RegExp(`\\[${d}\\s*[^\\]]*\\]`):new RegExp(`\\[${d}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${d}\\]`),m=f.match(p),h=m?.index;return h!==void 0?h:-1},tokenize(f,p,m){const h=i?new RegExp(`^\\[${d}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${d}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${d}\\]`),g=f.match(h);if(!g)return;let v="",x="";if(i){const[,C]=g;x=C}else{const[,C,M]=g;x=C,v=M||""}const $=o(x.trim());return{type:t,raw:g[0],content:v.trim(),attributes:$}}},renderMarkdown:f=>{let p="";r?p=r(f):f.content&&f.content.length>0&&(p=f.content.filter(v=>v.type==="text").map(v=>v.text).join(""));const m=u(f.attrs||{}),h=s(m),g=h?` ${h}`:"";return i?`[${c}${g}]`:`[${c}${g}]${p}[/${c}]`}}}function pYe(e,t,n){var r,o,s,a;const i=e.split(`
`),l=[];let c="",u=0;const d=t.baseIndentSize||2;for(;u<i.length;){const f=i[u],p=f.match(t.itemPattern);if(!p){if(l.length>0)break;if(f.trim()===""){u+=1,c=`${c}${f}
`;continue}else return}const m=t.extractItemData(p),{indentLevel:h,mainContent:g}=m;c=`${c}${f}
`;const v=[g];for(u+=1;u<i.length;){const M=i[u];if(M.trim()===""){const E=i.slice(u+1).findIndex(D=>D.trim()!=="");if(E===-1)break;if((((o=(r=i[u+1+E].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:o.length)||0)>h){v.push(M),c=`${c}${M}
`,u+=1;continue}else break}if((((a=(s=M.match(/^(\s*)/))==null?void 0:s[1])==null?void 0:a.length)||0)>h)v.push(M),c=`${c}${M}
`,u+=1;else break}let x;const $=v.slice(1);if($.length>0){const M=$.map(I=>I.slice(h+d)).join(`
`);M.trim()&&(t.customNestedParser?x=t.customNestedParser(M):x=n.blockTokens(M))}const C=t.createToken(m,x);l.push(C)}if(l.length!==0)return{items:l,raw:c}}function mYe(e,t,n,r){if(!e||!Array.isArray(e.content))return"";const o=typeof n=="function"?n(r):n,[s,...a]=e.content,i=t.renderChildren([s]),l=[`${o}${i}`];return a&&a.length>0&&a.forEach(c=>{const u=t.renderChildren([c]);if(u){const d=u.split(`
`).map(f=>f?t.indent(f):"").join(`
`);l.push(d)}}),l.join(`
`)}function hYe(e){return new GJe({find:e.find,handler:({state:t,range:n,match:r,pasteEvent:o})=>{const s=Jm(e.getAttributes,void 0,r,o);if(s===!1||s===null)return null;const{tr:a}=t,i=r[r.length-1],l=r[0];let c=n.to;if(i){const u=l.search(/\S/),d=n.from+l.indexOf(i),f=d+i.length;if(fK(n.from,n.to,t.doc).filter(m=>m.mark.type.excluded.find(g=>g===e.type&&g!==m.mark.type)).filter(m=>m.to>d).length)return null;f<n.to&&a.delete(f,n.to),d>n.from&&a.delete(n.from+u,d),c=n.from+u+i.length,a.addMark(n.from+u,c,e.type.create(s||{})),a.removeStoredMark(e.type)}}})}var gYe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,vYe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,yYe=WJe.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["s",vJe(this.options.HTMLAttributes,e),0]},markdownTokenName:"del",parseMarkdown:(e,t)=>t.applyMark("strike",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`~~${t.renderChildren(e)}~~`,addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[aYe({find:gYe,type:this.type})]},addPasteRules(){return[hYe({find:vYe,type:this.type})]}}),bYe=Object.defineProperty,$T=(e,t)=>{for(var n in t)bYe(e,n,{get:t[n],enumerable:!0})};function bK(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:o}=n,{storedMarks:s}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return s},get selection(){return r},get doc(){return o},get tr(){return r=n.selection,o=n.doc,s=n.storedMarks,n}}}var xYe=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:n,state:r}=this,{view:o}=n,{tr:s}=r,a=this.buildProps(s);return Object.fromEntries(Object.entries(t).map(([i,l])=>[i,(...u)=>{const d=l(...u)(a);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(s),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,n=!0){const{rawCommands:r,editor:o,state:s}=this,{view:a}=o,i=[],l=!!t,c=t||s.tr,u=()=>(!l&&n&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(c),i.every(f=>f===!0)),d={...Object.fromEntries(Object.entries(r).map(([f,p])=>[f,(...h)=>{const g=this.buildProps(c,n),v=p(...h)(g);return i.push(v),d}])),run:u};return d}createCan(t){const{rawCommands:n,state:r}=this,o=!1,s=t||r.tr,a=this.buildProps(s,o);return{...Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...u)=>c(...u)({...a,dispatch:void 0})])),chain:()=>this.createChain(s,o)}}buildProps(t,n=!0){const{rawCommands:r,editor:o,state:s}=this,{view:a}=o,i={tr:t,editor:o,view:a,state:bK({state:s,transaction:t}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(t,n),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...u)=>c(...u)(i)]))}};return i}},xK={};$T(xK,{blur:()=>wYe,clearContent:()=>kYe,clearNodes:()=>_Ye,command:()=>SYe,createParagraphNear:()=>$Ye,cut:()=>CYe,deleteCurrentNode:()=>MYe,deleteNode:()=>AYe,deleteRange:()=>TYe,deleteSelection:()=>EYe,enter:()=>IYe,exitCode:()=>PYe,extendMarkRange:()=>RYe,first:()=>BYe,focus:()=>FYe,forEach:()=>qYe,insertContent:()=>zYe,insertContentAt:()=>VYe,joinBackward:()=>HYe,joinDown:()=>KYe,joinForward:()=>WYe,joinItemBackward:()=>GYe,joinItemForward:()=>JYe,joinTextblockBackward:()=>YYe,joinTextblockForward:()=>QYe,joinUp:()=>UYe,keyboardShortcut:()=>ZYe,lift:()=>eQe,liftEmptyBlock:()=>tQe,liftListItem:()=>nQe,newlineInCode:()=>rQe,resetAttributes:()=>oQe,scrollIntoView:()=>sQe,selectAll:()=>aQe,selectNodeBackward:()=>iQe,selectNodeForward:()=>lQe,selectParentNode:()=>uQe,selectTextblockEnd:()=>cQe,selectTextblockStart:()=>dQe,setContent:()=>pQe,setMark:()=>CQe,setMeta:()=>MQe,setNode:()=>AQe,setNodeSelection:()=>TQe,setTextDirection:()=>EQe,setTextSelection:()=>IQe,sinkListItem:()=>PQe,splitBlock:()=>OQe,splitListItem:()=>RQe,toggleList:()=>BQe,toggleMark:()=>NQe,toggleNode:()=>DQe,toggleWrap:()=>FQe,undoInputRule:()=>qQe,unsetAllMarks:()=>zQe,unsetMark:()=>LQe,unsetTextDirection:()=>jQe,updateAttributes:()=>VQe,wrapIn:()=>UQe,wrapInList:()=>KQe});var wYe=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),kYe=(e=!0)=>({commands:t})=>t.setContent("",{emitUpdate:e}),_Ye=()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:o}=r;return n&&o.forEach(({$from:s,$to:a})=>{e.doc.nodesBetween(s.pos,a.pos,(i,l)=>{if(i.type.isText)return;const{doc:c,mapping:u}=t,d=c.resolve(u.map(l)),f=c.resolve(u.map(l+i.nodeSize)),p=d.blockRange(f);if(!p)return;const m=lr(p);if(i.type.isTextblock){const{defaultType:h}=d.parent.contentMatchAt(d.index());t.setNodeMarkup(p.start,h)}(m||m===0)&&t.lift(p,m)})}),!0},SYe=e=>t=>e(t),$Ye=()=>({state:e,dispatch:t})=>Hr(e,t),CYe=(e,t)=>({editor:n,tr:r})=>{const{state:o}=n,s=o.doc.slice(e.from,e.to);r.deleteRange(e.from,e.to);const a=r.mapping.map(t);return r.insert(a,s.content),r.setSelection(new ie(r.doc.resolve(Math.max(a-1,0)))),!0},MYe=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;const o=e.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===r.type){if(t){const i=o.before(s),l=o.after(s);e.delete(i,l).scrollIntoView()}return!0}return!1};function jo(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}var AYe=e=>({tr:t,state:n,dispatch:r})=>{const o=jo(e,n.schema),s=t.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===o){if(r){const l=s.before(a),c=s.after(a);t.delete(l,c).scrollIntoView()}return!0}return!1},TYe=e=>({tr:t,dispatch:n})=>{const{from:r,to:o}=e;return n&&t.delete(r,o),!0},EYe=()=>({state:e,dispatch:t})=>Cr(e,t),IYe=()=>({commands:e})=>e.keyboardShortcut("Enter"),PYe=()=>({state:e,dispatch:t})=>co(e,t);function OYe(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function V0(e,t,n={strict:!0}){const r=Object.keys(t);return r.length?r.every(o=>n.strict?t[o]===e[o]:OYe(t[o])?t[o].test(e[o]):t[o]===e[o]):!0}function wK(e,t,n={}){return e.find(r=>r.type===t&&V0(Object.fromEntries(Object.keys(n).map(o=>[o,r.attrs[o]])),n))}function XD(e,t,n={}){return!!wK(e,t,n)}function kK(e,t,n){var r;if(!e||!t)return;let o=e.parent.childAfter(e.parentOffset);if((!o.node||!o.node.marks.some(u=>u.type===t))&&(o=e.parent.childBefore(e.parentOffset)),!o.node||!o.node.marks.some(u=>u.type===t)||(n=n||((r=o.node.marks[0])==null?void 0:r.attrs),!wK([...o.node.marks],t,n)))return;let a=o.index,i=e.start()+o.offset,l=a+1,c=i+o.node.nodeSize;for(;a>0&&XD([...e.parent.child(a-1).marks],t,n);)a-=1,i-=e.parent.child(a).nodeSize;for(;l<e.parent.childCount&&XD([...e.parent.child(l).marks],t,n);)c+=e.parent.child(l).nodeSize,l+=1;return{from:i,to:c}}function bu(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}var RYe=(e,t={})=>({tr:n,state:r,dispatch:o})=>{const s=bu(e,r.schema),{doc:a,selection:i}=n,{$from:l,from:c,to:u}=i;if(o){const d=kK(l,s,t);if(d&&d.from<=c&&d.to>=u){const f=ie.create(a,d.from,d.to);n.setSelection(f)}}return!0},BYe=e=>t=>{const n=typeof e=="function"?e(t):e;for(let r=0;r<n.length;r+=1)if(n[r](t))return!0;return!1};function _K(e){return e instanceof ie}function sc(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function NYe(e,t=null){if(!t)return null;const n=Pe.atStart(e),r=Pe.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return r;const o=n.from,s=r.to;return t==="all"?ie.create(e,sc(0,o,s),sc(e.content.size,o,s)):ie.create(e,sc(t,o,s),sc(t,o,s))}function ZD(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function U0(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function DYe(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}var FYe=(e=null,t={})=>({editor:n,view:r,tr:o,dispatch:s})=>{t={scrollIntoView:!0,...t};const a=()=>{(U0()||ZD())&&r.dom.focus(),DYe()&&!U0()&&!ZD()&&r.dom.focus({preventScroll:!0}),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),t?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&e===null||e===!1)return!0;if(s&&e===null&&!_K(n.state.selection))return a(),!0;const i=NYe(o.doc,e)||n.state.selection,l=n.state.selection.eq(i);return s&&(l||o.setSelection(i),l&&o.storedMarks&&o.setStoredMarks(o.storedMarks),a()),!0},qYe=(e,t)=>n=>e.every((r,o)=>t(r,{...n,index:o})),zYe=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),SK=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const r=t[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):r.nodeType===1&&SK(r)}return e};function Qv(e){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t=`<body>${e}</body>`,n=new window.DOMParser().parseFromString(t,"text/html").body;return SK(n)}function Ym(e,t,n){if(e instanceof Hn||e instanceof de)return e;n={slice:!0,parseOptions:{},...n};const r=typeof e=="object"&&e!==null,o=typeof e=="string";if(r)try{if(Array.isArray(e)&&e.length>0)return de.fromArray(e.map(i=>t.nodeFromJSON(i)));const a=t.nodeFromJSON(e);return n.errorOnInvalidContent&&a.check(),a}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",s),Ym("",t,n)}if(o){if(n.errorOnInvalidContent){let a=!1,i="";const l=new qr({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(a=!0,i=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?gt.fromSchema(l).parseSlice(Qv(e),n.parseOptions):gt.fromSchema(l).parse(Qv(e),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${i}`)})}const s=gt.fromSchema(t);return n.slice?s.parseSlice(Qv(e),n.parseOptions).content:s.parse(Qv(e),n.parseOptions)}return Ym("",t,n)}function LYe(e,t,n){const r=e.steps.length-1;if(r<t)return;const o=e.steps[r];if(!(o instanceof ln||o instanceof un))return;const s=e.mapping.maps[r];let a=0;s.forEach((i,l,c,u)=>{a===0&&(a=u)}),e.setSelection(Pe.near(e.doc.resolve(a),n))}var jYe=e=>!("type"in e),VYe=(e,t,n)=>({tr:r,dispatch:o,editor:s})=>{var a;if(o){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let i;const l=g=>{s.emit("contentError",{editor:s,error:g,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{Ym(t,s.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(g){l(g)}try{i=Ym(t,s.schema,{parseOptions:c,errorOnInvalidContent:(a=n.errorOnInvalidContent)!=null?a:s.options.enableContentCheck})}catch(g){return l(g),!1}let{from:u,to:d}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},f=!0,p=!0;if((jYe(i)?i:[i]).forEach(g=>{g.check(),f=f?g.isText&&g.marks.length===0:!1,p=p?g.isBlock:!1}),u===d&&p){const{parent:g}=r.doc.resolve(u);g.isTextblock&&!g.type.spec.code&&!g.childCount&&(u-=1,d+=1)}let h;if(f){if(Array.isArray(t))h=t.map(g=>g.text||"").join("");else if(t instanceof de){let g="";t.forEach(v=>{v.text&&(g+=v.text)}),h=g}else typeof t=="object"&&t&&t.text?h=t.text:h=t;r.insertText(h,u,d)}else{h=i;const g=r.doc.resolve(u),v=g.node(),x=g.parentOffset===0,$=v.isText||v.isTextblock,C=v.content.size>0;x&&$&&C&&(u=Math.max(0,u-1)),r.replaceWith(u,d,h)}n.updateSelection&&LYe(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:u,text:h}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:u,text:h})}return!0},UYe=()=>({state:e,dispatch:t})=>io(e,t),KYe=()=>({state:e,dispatch:t})=>lo(e,t),HYe=()=>({state:e,dispatch:t})=>Lr(e,t),WYe=()=>({state:e,dispatch:t})=>Vr(e,t),GYe=()=>({state:e,dispatch:t,tr:n})=>{try{const r=on(e.doc,e.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},JYe=()=>({state:e,dispatch:t,tr:n})=>{try{const r=on(e.doc,e.selection.$from.pos,1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},YYe=()=>({state:e,dispatch:t})=>so(e,t),QYe=()=>({state:e,dispatch:t})=>ao(e,t);function $K(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function XYe(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let r,o,s,a;for(let i=0;i<t.length-1;i+=1){const l=t[i];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))o=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))U0()||$K()?a=!0:o=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),o&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}var ZYe=e=>({editor:t,view:n,tr:r,dispatch:o})=>{const s=XYe(e).split(/-(?!$)/),a=s.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),i=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,i))});return l?.steps.forEach(c=>{const u=c.map(r.mapping);u&&o&&r.maybeStep(u)}),!0};function CT(e,t,n={}){const{from:r,to:o,empty:s}=e.selection,a=t?jo(t,e.schema):null,i=[];e.doc.nodesBetween(r,o,(d,f)=>{if(d.isText)return;const p=Math.max(r,f),m=Math.min(o,f+d.nodeSize);i.push({node:d,from:p,to:m})});const l=o-r,c=i.filter(d=>a?a.name===d.node.type.name:!0).filter(d=>V0(d.node.attrs,n,{strict:!1}));return s?!!c.length:c.reduce((d,f)=>d+f.to-f.from,0)>=l}var eQe=(e,t={})=>({state:n,dispatch:r})=>{const o=jo(e,n.schema);return CT(n,o,t)?uo(n,r):!1},tQe=()=>({state:e,dispatch:t})=>Wr(e,t),nQe=e=>({state:t,dispatch:n})=>{const r=jo(e,t.schema);return vo(r)(t,n)},rQe=()=>({state:e,dispatch:t})=>Kr(e,t);function CK(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function eF(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((r,o)=>(n.includes(o)||(r[o]=e[o]),r),{})}var oQe=(e,t)=>({tr:n,state:r,dispatch:o})=>{let s=null,a=null;const i=CK(typeof e=="string"?e:e.name,r.schema);if(!i)return!1;i==="node"&&(s=jo(e,r.schema)),i==="mark"&&(a=bu(e,r.schema));let l=!1;return n.selection.ranges.forEach(c=>{r.doc.nodesBetween(c.$from.pos,c.$to.pos,(u,d)=>{s&&s===u.type&&(l=!0,o&&n.setNodeMarkup(d,void 0,eF(u.attrs,t))),a&&u.marks.length&&u.marks.forEach(f=>{a===f.type&&(l=!0,o&&n.addMark(d,d+u.nodeSize,a.create(eF(f.attrs,t))))})})}),l},sQe=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),aQe=()=>({tr:e,dispatch:t})=>{if(t){const n=new Sn(e.doc);e.setSelection(n)}return!0},iQe=()=>({state:e,dispatch:t})=>jr(e,t),lQe=()=>({state:e,dispatch:t})=>Ur(e,t),uQe=()=>({state:e,dispatch:t})=>fo(e,t),cQe=()=>({state:e,dispatch:t})=>mo(e,t),dQe=()=>({state:e,dispatch:t})=>po(e,t);function fQe(e,t,n={},r={}){return Ym(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var pQe=(e,{errorOnInvalidContent:t,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:o,tr:s,dispatch:a,commands:i})=>{const{doc:l}=s;if(r.preserveWhitespace!=="full"){const c=fQe(e,o.schema,r,{errorOnInvalidContent:t??o.options.enableContentCheck});return a&&s.replaceWith(0,l.content.size,c).setMeta("preventUpdate",!n),!0}return a&&s.setMeta("preventUpdate",!n),i.insertContentAt({from:0,to:l.content.size},e,{parseOptions:r,errorOnInvalidContent:t??o.options.enableContentCheck})};function mQe(e,t){const n=bu(t,e.schema),{from:r,to:o,empty:s}=e.selection,a=[];s?(e.storedMarks&&a.push(...e.storedMarks),a.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,o,l=>{a.push(...l.marks)});const i=a.find(l=>l.type.name===n.name);return i?{...i.attrs}:{}}function hQe(e,t){const n=new zr(e);return t.forEach(r=>{r.steps.forEach(o=>{n.step(o)})}),n}function gQe(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function vQe(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function MT(e){return t=>vQe(t.$from,e)}function Qm(e,t,n){return e.config[t]===void 0&&e.parent?Qm(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind({...n,parent:e.parent?Qm(e.parent,t,n):null}):e.config[t]}function yQe(e){return typeof e=="function"}function Z$(e,t=void 0,...n){return yQe(e)?t?e.bind(t)(...n):e(...n):e}function MK(e){const t=e.filter(o=>o.type==="extension"),n=e.filter(o=>o.type==="node"),r=e.filter(o=>o.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:r}}function bQe(e,t,n){const{from:r,to:o}=t,{blockSeparator:s=`

`,textSerializers:a={}}=n||{};let i="";return e.nodesBetween(r,o,(l,c,u,d)=>{var f;l.isBlock&&c>r&&(i+=s);const p=a?.[l.type.name];if(p)return u&&(i+=p({node:l,pos:c,parent:u,index:d,range:t})),!1;l.isText&&(i+=(f=l?.text)==null?void 0:f.slice(Math.max(r,c)-c,o-c))}),i}function xQe(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}function wQe(e,t=JSON.stringify){const n={};return e.filter(r=>{const o=t(r);return Object.prototype.hasOwnProperty.call(n,o)?!1:n[o]=!0})}function kQe(e){const t=wQe(e);return t.length===1?t:t.filter((n,r)=>!t.filter((s,a)=>a!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function _Qe(e){const{mapping:t,steps:n}=e,r=[];return t.maps.forEach((o,s)=>{const a=[];if(o.ranges.length)o.forEach((i,l)=>{a.push({from:i,to:l})});else{const{from:i,to:l}=n[s];if(i===void 0||l===void 0)return;a.push({from:i,to:l})}a.forEach(({from:i,to:l})=>{const c=t.slice(s).map(i,-1),u=t.slice(s).map(l),d=t.invert().map(c,-1),f=t.invert().map(u);r.push({oldRange:{from:d,to:f},newRange:{from:c,to:u}})})}),kQe(r)}function qy(e,t,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const o=e.find(s=>s.type===t&&s.name===r);return o?o.attribute.keepOnSplit:!1}))}function SQe(e,t,n={}){const{empty:r,ranges:o}=e.selection,s=t?bu(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(d=>s?s.name===d.type.name:!0).find(d=>V0(d.attrs,n,{strict:!1}));let a=0;const i=[];if(o.forEach(({$from:d,$to:f})=>{const p=d.pos,m=f.pos;e.doc.nodesBetween(p,m,(h,g)=>{if(!h.isText&&!h.marks.length)return;const v=Math.max(p,g),x=Math.min(m,g+h.nodeSize),$=x-v;a+=$,i.push(...h.marks.map(C=>({mark:C,from:v,to:x})))})}),a===0)return!1;const l=i.filter(d=>s?s.name===d.mark.type.name:!0).filter(d=>V0(d.mark.attrs,n,{strict:!1})).reduce((d,f)=>d+f.to-f.from,0),c=i.filter(d=>s?d.mark.type!==s&&d.mark.type.excludes(s):!0).reduce((d,f)=>d+f.to-f.from,0);return(l>0?l+c:l)>=a}function tF(e,t){const{nodeExtensions:n}=MK(t),r=n.find(a=>a.name===e);if(!r)return!1;const o={name:r.name,options:r.options,storage:r.storage},s=Z$(Qm(r,"group",o));return typeof s!="string"?!1:s.split(" ").includes("list")}function AK(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((r=e.text)!=null?r:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let o=!0;return e.content.forEach(s=>{o!==!1&&(AK(s,{ignoreWhitespace:n,checkChildren:t})||(o=!1))}),o}return!1}function $Qe(e,t,n){var r;const{selection:o}=t;let s=null;if(_K(o)&&(s=o.$cursor),s){const i=(r=e.storedMarks)!=null?r:s.marks();return s.parent.type.allowsMarkType(n)&&(!!n.isInSet(i)||!i.some(c=>c.type.excludes(n)))}const{ranges:a}=o;return a.some(({$from:i,$to:l})=>{let c=i.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(i.pos,l.pos,(u,d,f)=>{if(c)return!1;if(u.isInline){const p=!f||f.type.allowsMarkType(n),m=!!n.isInSet(u.marks)||!u.marks.some(h=>h.type.excludes(n));c=p&&m}return!c}),c})}var CQe=(e,t={})=>({tr:n,state:r,dispatch:o})=>{const{selection:s}=n,{empty:a,ranges:i}=s,l=bu(e,r.schema);if(o)if(a){const c=mQe(r,l);n.addStoredMark(l.create({...c,...t}))}else i.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;r.doc.nodesBetween(u,d,(f,p)=>{const m=Math.max(p,u),h=Math.min(p+f.nodeSize,d);f.marks.find(v=>v.type===l)?f.marks.forEach(v=>{l===v.type&&n.addMark(m,h,l.create({...v.attrs,...t}))}):n.addMark(m,h,l.create(t))})});return $Qe(r,n,l)},MQe=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),AQe=(e,t={})=>({state:n,dispatch:r,chain:o})=>{const s=jo(e,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),s.isTextblock?o().command(({commands:i})=>cn(s,{...a,...t})(n)?!0:i.clearNodes()).command(({state:i})=>cn(s,{...a,...t})(i,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},TQe=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,o=sc(e,0,r.content.size),s=Ge.create(r,o);t.setSelection(s)}return!0},EQe=(e,t)=>({tr:n,state:r,dispatch:o})=>{const{selection:s}=r;let a,i;return typeof t=="number"?(a=t,i=t):t&&"from"in t&&"to"in t?(a=t.from,i=t.to):(a=s.from,i=s.to),o&&n.doc.nodesBetween(a,i,(l,c)=>{l.isText||n.setNodeMarkup(c,void 0,{...l.attrs,dir:e})}),!0},IQe=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,{from:o,to:s}=typeof e=="number"?{from:e,to:e}:e,a=ie.atStart(r).from,i=ie.atEnd(r).to,l=sc(o,a,i),c=sc(s,a,i),u=ie.create(r,l,c);t.setSelection(u)}return!0},PQe=e=>({state:t,dispatch:n})=>{const r=jo(e,t.schema);return yo(r)(t,n)};function nF(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(o=>t?.includes(o.type.name));e.tr.ensureMarks(r)}}var OQe=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:o})=>{const{selection:s,doc:a}=t,{$from:i,$to:l}=s,c=o.extensionManager.attributes,u=qy(c,i.node().type.name,i.node().attrs);if(s instanceof Ge&&s.node.isBlock)return!i.parentOffset||!ot(a,i.pos)?!1:(r&&(e&&nF(n,o.extensionManager.splittableMarks),t.split(i.pos).scrollIntoView()),!0);if(!i.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,f=i.depth===0?void 0:gQe(i.node(-1).contentMatchAt(i.indexAfter(-1)));let p=d&&f?[{type:f,attrs:u}]:void 0,m=ot(t.doc,t.mapping.map(i.pos),1,p);if(!p&&!m&&ot(t.doc,t.mapping.map(i.pos),1,f?[{type:f}]:void 0)&&(m=!0,p=f?[{type:f,attrs:u}]:void 0),r){if(m&&(s instanceof ie&&t.deleteSelection(),t.split(t.mapping.map(i.pos),1,p),f&&!d&&!i.parentOffset&&i.parent.type!==f)){const h=t.mapping.map(i.before()),g=t.doc.resolve(h);i.node(-1).canReplaceWith(g.index(),g.index()+1,f)&&t.setNodeMarkup(t.mapping.map(i.before()),f)}e&&nF(n,o.extensionManager.splittableMarks),t.scrollIntoView()}return m},RQe=(e,t={})=>({tr:n,state:r,dispatch:o,editor:s})=>{var a;const i=jo(e,r.schema),{$from:l,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const d=l.node(-1);if(d.type!==i)return!1;const f=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==i||l.index(-2)!==l.node(-2).childCount-1)return!1;if(o){let v=de.empty;const x=l.index(-1)?1:l.index(-2)?2:3;for(let P=l.depth-x;P>=l.depth-3;P-=1)v=de.from(l.node(P).copy(v));const $=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,C={...qy(f,l.node().type.name,l.node().attrs),...t},M=((a=i.contentMatch.defaultType)==null?void 0:a.createAndFill(C))||void 0;v=v.append(de.from(i.createAndFill(null,M)||void 0));const I=l.before(l.depth-(x-1));n.replace(I,l.after(-$),new Je(v,4-x,0));let E=-1;n.doc.nodesBetween(I,n.doc.content.size,(P,O)=>{if(E>-1)return!1;P.isTextblock&&P.content.size===0&&(E=O+1)}),E>-1&&n.setSelection(ie.near(n.doc.resolve(E))),n.scrollIntoView()}return!0}const p=c.pos===l.end()?d.contentMatchAt(0).defaultType:null,m={...qy(f,d.type.name,d.attrs),...t},h={...qy(f,l.node().type.name,l.node().attrs),...t};n.delete(l.pos,c.pos);const g=p?[{type:i,attrs:m},{type:p,attrs:h}]:[{type:i,attrs:m}];if(!ot(n.doc,l.pos,2))return!1;if(o){const{selection:v,storedMarks:x}=r,{splittableMarks:$}=s.extensionManager,C=x||v.$to.parentOffset&&v.$from.marks();if(n.split(l.pos,2,g).scrollIntoView(),!C||!o)return!0;const M=C.filter(I=>$.includes(I.type.name));n.ensureMarks(M)}return!0},X_=(e,t)=>{const n=MT(a=>a.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const o=e.doc.nodeAt(r);return n.node.type===o?.type&&Ht(e.doc,n.pos)&&e.join(n.pos),!0},Z_=(e,t)=>{const n=MT(a=>a.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const o=e.doc.nodeAt(r);return n.node.type===o?.type&&Ht(e.doc,r)&&e.join(r),!0},BQe=(e,t,n,r={})=>({editor:o,tr:s,state:a,dispatch:i,chain:l,commands:c,can:u})=>{const{extensions:d,splittableMarks:f}=o.extensionManager,p=jo(e,a.schema),m=jo(t,a.schema),{selection:h,storedMarks:g}=a,{$from:v,$to:x}=h,$=v.blockRange(x),C=g||h.$to.parentOffset&&h.$from.marks();if(!$)return!1;const M=MT(I=>tF(I.type.name,d))(h);if($.depth>=1&&M&&$.depth-M.depth<=1){if(M.node.type===p)return c.liftListItem(m);if(tF(M.node.type.name,d)&&p.validContent(M.node.content)&&i)return l().command(()=>(s.setNodeMarkup(M.pos,p),!0)).command(()=>X_(s,p)).command(()=>Z_(s,p)).run()}return!n||!C||!i?l().command(()=>u().wrapInList(p,r)?!0:c.clearNodes()).wrapInList(p,r).command(()=>X_(s,p)).command(()=>Z_(s,p)).run():l().command(()=>{const I=u().wrapInList(p,r),E=C.filter(P=>f.includes(P.type.name));return s.ensureMarks(E),I?!0:c.clearNodes()}).wrapInList(p,r).command(()=>X_(s,p)).command(()=>Z_(s,p)).run()},NQe=(e,t={},n={})=>({state:r,commands:o})=>{const{extendEmptyMarkRange:s=!1}=n,a=bu(e,r.schema);return SQe(r,a,t)?o.unsetMark(a,{extendEmptyMarkRange:s}):o.setMark(a,t)},DQe=(e,t,n={})=>({state:r,commands:o})=>{const s=jo(e,r.schema),a=jo(t,r.schema),i=CT(r,s,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),i?o.setNode(a,l):o.setNode(s,{...l,...n})},FQe=(e,t={})=>({state:n,commands:r})=>{const o=jo(e,n.schema);return CT(n,o,t)?r.lift(o):r.wrapIn(o,t)},qQe=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const o=n[r];let s;if(o.spec.isInputRules&&(s=o.getState(e))){if(t){const a=e.tr,i=s.transform;for(let l=i.steps.length-1;l>=0;l-=1)a.step(i.steps[l].invert(i.docs[l]));if(s.text){const l=a.doc.resolve(s.from).marks();a.replaceWith(s.from,s.to,e.schema.text(s.text,l))}else a.delete(s.from,s.to)}return!0}}return!1},zQe=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:o}=n;return r||t&&o.forEach(s=>{e.removeMark(s.$from.pos,s.$to.pos)}),!0},LQe=(e,t={})=>({tr:n,state:r,dispatch:o})=>{var s;const{extendEmptyMarkRange:a=!1}=t,{selection:i}=n,l=bu(e,r.schema),{$from:c,empty:u,ranges:d}=i;if(!o)return!0;if(u&&a){let{from:f,to:p}=i;const m=(s=c.marks().find(g=>g.type===l))==null?void 0:s.attrs,h=kK(c,l,m);h&&(f=h.from,p=h.to),n.removeMark(f,p,l)}else d.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,l)});return n.removeStoredMark(l),!0},jQe=e=>({tr:t,state:n,dispatch:r})=>{const{selection:o}=n;let s,a;return typeof e=="number"?(s=e,a=e):e&&"from"in e&&"to"in e?(s=e.from,a=e.to):(s=o.from,a=o.to),r&&t.doc.nodesBetween(s,a,(i,l)=>{if(i.isText)return;const c={...i.attrs};delete c.dir,t.setNodeMarkup(l,void 0,c)}),!0},VQe=(e,t={})=>({tr:n,state:r,dispatch:o})=>{let s=null,a=null;const i=CK(typeof e=="string"?e:e.name,r.schema);if(!i)return!1;i==="node"&&(s=jo(e,r.schema)),i==="mark"&&(a=bu(e,r.schema));let l=!1;return n.selection.ranges.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;let f,p,m,h;n.selection.empty?r.doc.nodesBetween(u,d,(g,v)=>{s&&s===g.type&&(l=!0,m=Math.max(v,u),h=Math.min(v+g.nodeSize,d),f=v,p=g)}):r.doc.nodesBetween(u,d,(g,v)=>{v<u&&s&&s===g.type&&(l=!0,m=Math.max(v,u),h=Math.min(v+g.nodeSize,d),f=v,p=g),v>=u&&v<=d&&(s&&s===g.type&&(l=!0,o&&n.setNodeMarkup(v,void 0,{...g.attrs,...t})),a&&g.marks.length&&g.marks.forEach(x=>{if(a===x.type&&(l=!0,o)){const $=Math.max(v,u),C=Math.min(v+g.nodeSize,d);n.addMark($,C,a.create({...x.attrs,...t}))}}))}),p&&(f!==void 0&&o&&n.setNodeMarkup(f,void 0,{...p.attrs,...t}),a&&p.marks.length&&p.marks.forEach(g=>{a===g.type&&o&&n.addMark(m,h,a.create({...g.attrs,...t}))}))}),l},UQe=(e,t={})=>({state:n,dispatch:r})=>{const o=jo(e,n.schema);return ho(o,t)(n,r)},KQe=(e,t={})=>({state:n,dispatch:r})=>{const o=jo(e,n.schema);return go(o,t)(n,r)};function HQe(e){return Object.prototype.toString.call(e).slice(8,-1)}function Xv(e){return HQe(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function TK(e,t){const n={...e};return Xv(e)&&Xv(t)&&Object.keys(t).forEach(r=>{Xv(t[r])&&Xv(e[r])?n[r]=TK(e[r],t[r]):n[r]=t[r]}),n}var EK=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...Z$(Qm(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Z$(Qm(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const n=this.extend({...this.config,addOptions:()=>TK(this.options,t)});return n.name=this.name,n.parent=this.parent,n}extend(t={}){const n=new this.constructor({...this.config,...t});return n.parent=this,this.child=n,n.name="name"in t?t.name:n.parent.name,n}},WQe={};$T(WQe,{ClipboardTextSerializer:()=>GQe,Commands:()=>JQe,Delete:()=>YQe,Drop:()=>QQe,Editable:()=>XQe,FocusEvents:()=>ZQe,Keymap:()=>eXe,Paste:()=>tXe,Tabindex:()=>nXe,TextDirection:()=>rXe,focusEventsPluginKey:()=>PK});var wi=class IK extends EK{constructor(){super(...arguments),this.type="extension"}static create(t={}){const n=typeof t=="function"?t():t;return new IK(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},GQe=wi.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Se({key:new Ce("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:o}=t,{ranges:s}=o,a=Math.min(...s.map(u=>u.$from.pos)),i=Math.max(...s.map(u=>u.$to.pos)),l=xQe(n);return bQe(r,{from:a,to:i},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),JQe=wi.create({name:"commands",addCommands(){return{...xK}}}),YQe=wi.create({name:"delete",onUpdate({transaction:e,appendedTransactions:t}){var n,r,o;const s=()=>{var a,i,l,c;if((c=(l=(i=(a=this.editor.options.coreExtensionOptions)==null?void 0:a.delete)==null?void 0:i.filterTransaction)==null?void 0:l.call(i,e))!=null?c:e.getMeta("y-sync$"))return;const u=hQe(e.before,[e,...t]);_Qe(u).forEach(p=>{u.mapping.mapResult(p.oldRange.from).deletedAfter&&u.mapping.mapResult(p.oldRange.to).deletedBefore&&u.before.nodesBetween(p.oldRange.from,p.oldRange.to,(m,h)=>{const g=h+m.nodeSize-2,v=p.oldRange.from<=h&&g<=p.oldRange.to;this.editor.emit("delete",{type:"node",node:m,from:h,to:g,newFrom:u.mapping.map(h),newTo:u.mapping.map(g),deletedRange:p.oldRange,newRange:p.newRange,partial:!v,editor:this.editor,transaction:e,combinedTransform:u})})});const f=u.mapping;u.steps.forEach((p,m)=>{var h,g;if(p instanceof En){const v=f.slice(m).map(p.from,-1),x=f.slice(m).map(p.to),$=f.invert().map(v,-1),C=f.invert().map(x),M=(h=u.doc.nodeAt(v-1))==null?void 0:h.marks.some(E=>E.eq(p.mark)),I=(g=u.doc.nodeAt(x))==null?void 0:g.marks.some(E=>E.eq(p.mark));this.editor.emit("delete",{type:"mark",mark:p.mark,from:p.from,to:p.to,deletedRange:{from:$,to:C},newRange:{from:v,to:x},partial:!!(I||M),editor:this.editor,transaction:e,combinedTransform:u})}})};(o=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||o?setTimeout(s,0):s()}}),QQe=wi.create({name:"drop",addProseMirrorPlugins(){return[new Se({key:new Ce("tiptapDrop"),props:{handleDrop:(e,t,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:r})}}})]}}),XQe=wi.create({name:"editable",addProseMirrorPlugins(){return[new Se({key:new Ce("editable"),props:{editable:()=>this.editor.options.editable}})]}}),PK=new Ce("focusEvents"),ZQe=wi.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new Se({key:PK,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),eXe=wi.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:i})=>{const{selection:l,doc:c}=i,{empty:u,$anchor:d}=l,{pos:f,parent:p}=d,m=d.parent.isTextblock&&f>0?i.doc.resolve(f-1):d,h=m.parent.type.spec.isolating,g=d.pos-d.parentOffset,v=h&&m.parent.childCount===1?g===d.pos:Pe.atStart(c).from===f;return!u||!p.type.isTextblock||p.textContent.length||!v||v&&d.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},o={...r},s={...r,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return U0()||$K()?s:o},addProseMirrorPlugins(){return[new Se({key:new Ce("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(h=>h.getMeta("composition")))return;const r=e.some(h=>h.docChanged)&&!t.doc.eq(n.doc),o=e.some(h=>h.getMeta("preventClearDocument"));if(!r||o)return;const{empty:s,from:a,to:i}=t.selection,l=Pe.atStart(t.doc).from,c=Pe.atEnd(t.doc).to;if(s||!(a===l&&i===c)||!AK(n.doc))return;const f=n.tr,p=bK({state:n,transaction:f}),{commands:m}=new xYe({editor:this.editor,state:p});if(m.clearNodes(),!!f.steps.length)return f}})]}}),tXe=wi.create({name:"paste",addProseMirrorPlugins(){return[new Se({key:new Ce("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),nXe=wi.create({name:"tabindex",addProseMirrorPlugins(){return[new Se({key:new Ce("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),rXe=wi.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:e}=MK(this.extensions);return[{types:e.filter(t=>t.name!=="text").map(t=>t.name),attributes:{dir:{default:this.options.direction,parseHTML:t=>{const n=t.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:t=>t.dir?{dir:t.dir}:{}}}}]},addProseMirrorPlugins(){return[new Se({key:new Ce("textDirection"),props:{attributes:()=>{const e=this.options.direction;return e?{dir:e}:{}}}})]}}),oXe={};$T(oXe,{createAtomBlockMarkdownSpec:()=>sXe,createBlockMarkdownSpec:()=>aXe,createInlineMarkdownSpec:()=>uXe,parseAttributes:()=>AT,parseIndentedBlocks:()=>cXe,renderNestedMarkdownContent:()=>dXe,serializeAttributes:()=>TT});function AT(e){if(!e?.trim())return{};const t={},n=[],r=e.replace(/["']([^"']*)["']/g,c=>(n.push(c),`__QUOTED_${n.length-1}__`)),o=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(o){const c=o.map(u=>u.trim().slice(1));t.class=c.join(" ")}const s=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);s&&(t.id=s[1]);const a=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(a)).forEach(([,c,u])=>{var d;const f=parseInt(((d=u.match(/__QUOTED_(\d+)__/))==null?void 0:d[1])||"0",10),p=n[f];p&&(t[c]=p.slice(1,-1))});const l=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return l&&l.split(/\s+/).filter(Boolean).forEach(u=>{u.match(/^[a-zA-Z][\w-]*$/)&&(t[u]=!0)}),t}function TT(e){if(!e||Object.keys(e).length===0)return"";const t=[];return e.class&&String(e.class).split(/\s+/).filter(Boolean).forEach(r=>t.push(`.${r}`)),e.id&&t.push(`#${e.id}`),Object.entries(e).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?t.push(n):r!==!1&&r!=null&&t.push(`${n}="${String(r)}"`))}),t.join(" ")}function sXe(e){const{nodeName:t,name:n,parseAttributes:r=AT,serializeAttributes:o=TT,defaultAttributes:s={},requiredAttributes:a=[],allowedAttributes:i}=e,l=n||t,c=u=>{if(!i)return u;const d={};return i.forEach(f=>{f in u&&(d[f]=u[f])}),d};return{parseMarkdown:(u,d)=>{const f={...s,...u.attributes};return d.createNode(t,f,[])},markdownTokenizer:{name:t,level:"block",start(u){var d;const f=new RegExp(`^:::${l}(?:\\s|$)`,"m"),p=(d=u.match(f))==null?void 0:d.index;return p!==void 0?p:-1},tokenize(u,d,f){const p=new RegExp(`^:::${l}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),m=u.match(p);if(!m)return;const h=m[1]||"",g=r(h);if(!a.find(x=>!(x in g)))return{type:t,raw:m[0],attributes:g}}},renderMarkdown:u=>{const d=c(u.attrs||{}),f=o(d),p=f?` {${f}}`:"";return`:::${l}${p} :::`}}}function aXe(e){const{nodeName:t,name:n,getContent:r,parseAttributes:o=AT,serializeAttributes:s=TT,defaultAttributes:a={},content:i="block",allowedAttributes:l}=e,c=n||t,u=d=>{if(!l)return d;const f={};return l.forEach(p=>{p in d&&(f[p]=d[p])}),f};return{parseMarkdown:(d,f)=>{let p;if(r){const h=r(d);p=typeof h=="string"?[{type:"text",text:h}]:h}else i==="block"?p=f.parseChildren(d.tokens||[]):p=f.parseInline(d.tokens||[]);const m={...a,...d.attributes};return f.createNode(t,m,p)},markdownTokenizer:{name:t,level:"block",start(d){var f;const p=new RegExp(`^:::${c}`,"m"),m=(f=d.match(p))==null?void 0:f.index;return m!==void 0?m:-1},tokenize(d,f,p){var m;const h=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),g=d.match(h);if(!g)return;const[v,x=""]=g,$=o(x);let C=1;const M=v.length;let I="";const E=/^:::([\w-]*)(\s.*)?/gm,P=d.slice(M);for(E.lastIndex=0;;){const O=E.exec(P);if(O===null)break;const D=O.index,L=O[1];if(!((m=O[2])!=null&&m.endsWith(":::"))){if(L)C+=1;else if(C-=1,C===0){const V=P.slice(0,D);I=V.trim();const F=d.slice(0,M+D+O[0].length);let z=[];if(I)if(i==="block")for(z=p.blockTokens(V),z.forEach(N=>{N.text&&(!N.tokens||N.tokens.length===0)&&(N.tokens=p.inlineTokens(N.text))});z.length>0;){const N=z[z.length-1];if(N.type==="paragraph"&&(!N.text||N.text.trim()===""))z.pop();else break}else z=p.inlineTokens(I);return{type:t,raw:F,attributes:$,content:I,tokens:z}}}}}},renderMarkdown:(d,f)=>{const p=u(d.attrs||{}),m=s(p),h=m?` {${m}}`:"",g=f.renderChildren(d.content||[],`

`);return`:::${c}${h}

${g}

:::`}}}function iXe(e){if(!e.trim())return{};const t={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(e);for(;r!==null;){const[,o,s,a]=r;t[o]=s||a,r=n.exec(e)}return t}function lXe(e){return Object.entries(e).filter(([,t])=>t!=null).map(([t,n])=>`${t}="${n}"`).join(" ")}function uXe(e){const{nodeName:t,name:n,getContent:r,parseAttributes:o=iXe,serializeAttributes:s=lXe,defaultAttributes:a={},selfClosing:i=!1,allowedAttributes:l}=e,c=n||t,u=f=>{if(!l)return f;const p={};return l.forEach(m=>{const h=typeof m=="string"?m:m.name,g=typeof m=="string"?void 0:m.skipIfDefault;if(h in f){const v=f[h];if(g!==void 0&&v===g)return;p[h]=v}}),p},d=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(f,p)=>{const m={...a,...f.attributes};if(i)return p.createNode(t,m);const h=r?r(f):f.content||"";return h?p.createNode(t,m,[p.createTextNode(h)]):p.createNode(t,m,[])},markdownTokenizer:{name:t,level:"inline",start(f){const p=i?new RegExp(`\\[${d}\\s*[^\\]]*\\]`):new RegExp(`\\[${d}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${d}\\]`),m=f.match(p),h=m?.index;return h!==void 0?h:-1},tokenize(f,p,m){const h=i?new RegExp(`^\\[${d}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${d}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${d}\\]`),g=f.match(h);if(!g)return;let v="",x="";if(i){const[,C]=g;x=C}else{const[,C,M]=g;x=C,v=M||""}const $=o(x.trim());return{type:t,raw:g[0],content:v.trim(),attributes:$}}},renderMarkdown:f=>{let p="";r?p=r(f):f.content&&f.content.length>0&&(p=f.content.filter(v=>v.type==="text").map(v=>v.text).join(""));const m=u(f.attrs||{}),h=s(m),g=h?` ${h}`:"";return i?`[${c}${g}]`:`[${c}${g}]${p}[/${c}]`}}}function cXe(e,t,n){var r,o,s,a;const i=e.split(`
`),l=[];let c="",u=0;const d=t.baseIndentSize||2;for(;u<i.length;){const f=i[u],p=f.match(t.itemPattern);if(!p){if(l.length>0)break;if(f.trim()===""){u+=1,c=`${c}${f}
`;continue}else return}const m=t.extractItemData(p),{indentLevel:h,mainContent:g}=m;c=`${c}${f}
`;const v=[g];for(u+=1;u<i.length;){const M=i[u];if(M.trim()===""){const E=i.slice(u+1).findIndex(D=>D.trim()!=="");if(E===-1)break;if((((o=(r=i[u+1+E].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:o.length)||0)>h){v.push(M),c=`${c}${M}
`,u+=1;continue}else break}if((((a=(s=M.match(/^(\s*)/))==null?void 0:s[1])==null?void 0:a.length)||0)>h)v.push(M),c=`${c}${M}
`,u+=1;else break}let x;const $=v.slice(1);if($.length>0){const M=$.map(I=>I.slice(h+d)).join(`
`);M.trim()&&(t.customNestedParser?x=t.customNestedParser(M):x=n.blockTokens(M))}const C=t.createToken(m,x);l.push(C)}if(l.length!==0)return{items:l,raw:c}}function dXe(e,t,n,r){if(!e||!Array.isArray(e.content))return"";const o=typeof n=="function"?n(r):n,[s,...a]=e.content,i=t.renderChildren([s]),l=[`${o}${i}`];return a&&a.length>0&&a.forEach(c=>{const u=t.renderChildren([c]);if(u){const d=u.split(`
`).map(f=>f?t.indent(f):"").join(`
`);l.push(d)}}),l.join(`
`)}var fXe=class OK extends EK{constructor(){super(...arguments),this.type="node"}static create(t={}){const n=typeof t=="function"?t():t;return new OK(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},pXe=fXe.create({name:"text",group:"inline",parseMarkdown:e=>({type:"text",text:e.text||""}),renderMarkdown:e=>e.text||""}),mXe=Object.defineProperty,ET=(e,t)=>{for(var n in t)mXe(e,n,{get:t[n],enumerable:!0})};function RK(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:o}=n,{storedMarks:s}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return s},get selection(){return r},get doc(){return o},get tr(){return r=n.selection,o=n.doc,s=n.storedMarks,n}}}var hXe=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:n,state:r}=this,{view:o}=n,{tr:s}=r,a=this.buildProps(s);return Object.fromEntries(Object.entries(t).map(([i,l])=>[i,(...u)=>{const d=l(...u)(a);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(s),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,n=!0){const{rawCommands:r,editor:o,state:s}=this,{view:a}=o,i=[],l=!!t,c=t||s.tr,u=()=>(!l&&n&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(c),i.every(f=>f===!0)),d={...Object.fromEntries(Object.entries(r).map(([f,p])=>[f,(...h)=>{const g=this.buildProps(c,n),v=p(...h)(g);return i.push(v),d}])),run:u};return d}createCan(t){const{rawCommands:n,state:r}=this,o=!1,s=t||r.tr,a=this.buildProps(s,o);return{...Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...u)=>c(...u)({...a,dispatch:void 0})])),chain:()=>this.createChain(s,o)}}buildProps(t,n=!0){const{rawCommands:r,editor:o,state:s}=this,{view:a}=o,i={tr:t,editor:o,view:a,state:RK({state:s,transaction:t}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(t,n),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...u)=>c(...u)(i)]))}};return i}},BK={};ET(BK,{blur:()=>gXe,clearContent:()=>vXe,clearNodes:()=>yXe,command:()=>bXe,createParagraphNear:()=>xXe,cut:()=>wXe,deleteCurrentNode:()=>kXe,deleteNode:()=>_Xe,deleteRange:()=>SXe,deleteSelection:()=>$Xe,enter:()=>CXe,exitCode:()=>MXe,extendMarkRange:()=>TXe,first:()=>EXe,focus:()=>OXe,forEach:()=>RXe,insertContent:()=>BXe,insertContentAt:()=>FXe,joinBackward:()=>LXe,joinDown:()=>zXe,joinForward:()=>jXe,joinItemBackward:()=>VXe,joinItemForward:()=>UXe,joinTextblockBackward:()=>KXe,joinTextblockForward:()=>HXe,joinUp:()=>qXe,keyboardShortcut:()=>GXe,lift:()=>JXe,liftEmptyBlock:()=>YXe,liftListItem:()=>QXe,newlineInCode:()=>XXe,resetAttributes:()=>ZXe,scrollIntoView:()=>eZe,selectAll:()=>tZe,selectNodeBackward:()=>nZe,selectNodeForward:()=>rZe,selectParentNode:()=>oZe,selectTextblockEnd:()=>sZe,selectTextblockStart:()=>aZe,setContent:()=>lZe,setMark:()=>kZe,setMeta:()=>_Ze,setNode:()=>SZe,setNodeSelection:()=>$Ze,setTextDirection:()=>CZe,setTextSelection:()=>MZe,sinkListItem:()=>AZe,splitBlock:()=>TZe,splitListItem:()=>EZe,toggleList:()=>IZe,toggleMark:()=>PZe,toggleNode:()=>OZe,toggleWrap:()=>RZe,undoInputRule:()=>BZe,unsetAllMarks:()=>NZe,unsetMark:()=>DZe,unsetTextDirection:()=>FZe,updateAttributes:()=>qZe,wrapIn:()=>zZe,wrapInList:()=>LZe});var gXe=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),vXe=(e=!0)=>({commands:t})=>t.setContent("",{emitUpdate:e}),yXe=()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:o}=r;return n&&o.forEach(({$from:s,$to:a})=>{e.doc.nodesBetween(s.pos,a.pos,(i,l)=>{if(i.type.isText)return;const{doc:c,mapping:u}=t,d=c.resolve(u.map(l)),f=c.resolve(u.map(l+i.nodeSize)),p=d.blockRange(f);if(!p)return;const m=lr(p);if(i.type.isTextblock){const{defaultType:h}=d.parent.contentMatchAt(d.index());t.setNodeMarkup(p.start,h)}(m||m===0)&&t.lift(p,m)})}),!0},bXe=e=>t=>e(t),xXe=()=>({state:e,dispatch:t})=>Hr(e,t),wXe=(e,t)=>({editor:n,tr:r})=>{const{state:o}=n,s=o.doc.slice(e.from,e.to);r.deleteRange(e.from,e.to);const a=r.mapping.map(t);return r.insert(a,s.content),r.setSelection(new ie(r.doc.resolve(Math.max(a-1,0)))),!0},kXe=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;const o=e.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===r.type){if(t){const i=o.before(s),l=o.after(s);e.delete(i,l).scrollIntoView()}return!0}return!1};function Vo(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}var _Xe=e=>({tr:t,state:n,dispatch:r})=>{const o=Vo(e,n.schema),s=t.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===o){if(r){const l=s.before(a),c=s.after(a);t.delete(l,c).scrollIntoView()}return!0}return!1},SXe=e=>({tr:t,dispatch:n})=>{const{from:r,to:o}=e;return n&&t.delete(r,o),!0},$Xe=()=>({state:e,dispatch:t})=>Cr(e,t),CXe=()=>({commands:e})=>e.keyboardShortcut("Enter"),MXe=()=>({state:e,dispatch:t})=>co(e,t);function AXe(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function K0(e,t,n={strict:!0}){const r=Object.keys(t);return r.length?r.every(o=>n.strict?t[o]===e[o]:AXe(t[o])?t[o].test(e[o]):t[o]===e[o]):!0}function NK(e,t,n={}){return e.find(r=>r.type===t&&K0(Object.fromEntries(Object.keys(n).map(o=>[o,r.attrs[o]])),n))}function rF(e,t,n={}){return!!NK(e,t,n)}function DK(e,t,n){var r;if(!e||!t)return;let o=e.parent.childAfter(e.parentOffset);if((!o.node||!o.node.marks.some(u=>u.type===t))&&(o=e.parent.childBefore(e.parentOffset)),!o.node||!o.node.marks.some(u=>u.type===t)||(n=n||((r=o.node.marks[0])==null?void 0:r.attrs),!NK([...o.node.marks],t,n)))return;let a=o.index,i=e.start()+o.offset,l=a+1,c=i+o.node.nodeSize;for(;a>0&&rF([...e.parent.child(a-1).marks],t,n);)a-=1,i-=e.parent.child(a).nodeSize;for(;l<e.parent.childCount&&rF([...e.parent.child(l).marks],t,n);)c+=e.parent.child(l).nodeSize,l+=1;return{from:i,to:c}}function xu(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}var TXe=(e,t={})=>({tr:n,state:r,dispatch:o})=>{const s=xu(e,r.schema),{doc:a,selection:i}=n,{$from:l,from:c,to:u}=i;if(o){const d=DK(l,s,t);if(d&&d.from<=c&&d.to>=u){const f=ie.create(a,d.from,d.to);n.setSelection(f)}}return!0},EXe=e=>t=>{const n=typeof e=="function"?e(t):e;for(let r=0;r<n.length;r+=1)if(n[r](t))return!0;return!1};function FK(e){return e instanceof ie}function ac(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function IXe(e,t=null){if(!t)return null;const n=Pe.atStart(e),r=Pe.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return r;const o=n.from,s=r.to;return t==="all"?ie.create(e,ac(0,o,s),ac(e.content.size,o,s)):ie.create(e,ac(t,o,s),ac(t,o,s))}function oF(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function H0(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function PXe(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}var OXe=(e=null,t={})=>({editor:n,view:r,tr:o,dispatch:s})=>{t={scrollIntoView:!0,...t};const a=()=>{(H0()||oF())&&r.dom.focus(),PXe()&&!H0()&&!oF()&&r.dom.focus({preventScroll:!0}),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),t?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&e===null||e===!1)return!0;if(s&&e===null&&!FK(n.state.selection))return a(),!0;const i=IXe(o.doc,e)||n.state.selection,l=n.state.selection.eq(i);return s&&(l||o.setSelection(i),l&&o.storedMarks&&o.setStoredMarks(o.storedMarks),a()),!0},RXe=(e,t)=>n=>e.every((r,o)=>t(r,{...n,index:o})),BXe=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),qK=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const r=t[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):r.nodeType===1&&qK(r)}return e};function Zv(e){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t=`<body>${e}</body>`,n=new window.DOMParser().parseFromString(t,"text/html").body;return qK(n)}function Xm(e,t,n){if(e instanceof Hn||e instanceof de)return e;n={slice:!0,parseOptions:{},...n};const r=typeof e=="object"&&e!==null,o=typeof e=="string";if(r)try{if(Array.isArray(e)&&e.length>0)return de.fromArray(e.map(i=>t.nodeFromJSON(i)));const a=t.nodeFromJSON(e);return n.errorOnInvalidContent&&a.check(),a}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",s),Xm("",t,n)}if(o){if(n.errorOnInvalidContent){let a=!1,i="";const l=new qr({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(a=!0,i=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?gt.fromSchema(l).parseSlice(Zv(e),n.parseOptions):gt.fromSchema(l).parse(Zv(e),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${i}`)})}const s=gt.fromSchema(t);return n.slice?s.parseSlice(Zv(e),n.parseOptions).content:s.parse(Zv(e),n.parseOptions)}return Xm("",t,n)}function NXe(e,t,n){const r=e.steps.length-1;if(r<t)return;const o=e.steps[r];if(!(o instanceof ln||o instanceof un))return;const s=e.mapping.maps[r];let a=0;s.forEach((i,l,c,u)=>{a===0&&(a=u)}),e.setSelection(Pe.near(e.doc.resolve(a),n))}var DXe=e=>!("type"in e),FXe=(e,t,n)=>({tr:r,dispatch:o,editor:s})=>{var a;if(o){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let i;const l=g=>{s.emit("contentError",{editor:s,error:g,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{Xm(t,s.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(g){l(g)}try{i=Xm(t,s.schema,{parseOptions:c,errorOnInvalidContent:(a=n.errorOnInvalidContent)!=null?a:s.options.enableContentCheck})}catch(g){return l(g),!1}let{from:u,to:d}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},f=!0,p=!0;if((DXe(i)?i:[i]).forEach(g=>{g.check(),f=f?g.isText&&g.marks.length===0:!1,p=p?g.isBlock:!1}),u===d&&p){const{parent:g}=r.doc.resolve(u);g.isTextblock&&!g.type.spec.code&&!g.childCount&&(u-=1,d+=1)}let h;if(f){if(Array.isArray(t))h=t.map(g=>g.text||"").join("");else if(t instanceof de){let g="";t.forEach(v=>{v.text&&(g+=v.text)}),h=g}else typeof t=="object"&&t&&t.text?h=t.text:h=t;r.insertText(h,u,d)}else{h=i;const g=r.doc.resolve(u),v=g.node(),x=g.parentOffset===0,$=v.isText||v.isTextblock,C=v.content.size>0;x&&$&&C&&(u=Math.max(0,u-1)),r.replaceWith(u,d,h)}n.updateSelection&&NXe(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:u,text:h}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:u,text:h})}return!0},qXe=()=>({state:e,dispatch:t})=>io(e,t),zXe=()=>({state:e,dispatch:t})=>lo(e,t),LXe=()=>({state:e,dispatch:t})=>Lr(e,t),jXe=()=>({state:e,dispatch:t})=>Vr(e,t),VXe=()=>({state:e,dispatch:t,tr:n})=>{try{const r=on(e.doc,e.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},UXe=()=>({state:e,dispatch:t,tr:n})=>{try{const r=on(e.doc,e.selection.$from.pos,1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},KXe=()=>({state:e,dispatch:t})=>so(e,t),HXe=()=>({state:e,dispatch:t})=>ao(e,t);function zK(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function WXe(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let r,o,s,a;for(let i=0;i<t.length-1;i+=1){const l=t[i];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))o=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))H0()||zK()?a=!0:o=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),o&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}var GXe=e=>({editor:t,view:n,tr:r,dispatch:o})=>{const s=WXe(e).split(/-(?!$)/),a=s.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),i=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,i))});return l?.steps.forEach(c=>{const u=c.map(r.mapping);u&&o&&r.maybeStep(u)}),!0};function IT(e,t,n={}){const{from:r,to:o,empty:s}=e.selection,a=t?Vo(t,e.schema):null,i=[];e.doc.nodesBetween(r,o,(d,f)=>{if(d.isText)return;const p=Math.max(r,f),m=Math.min(o,f+d.nodeSize);i.push({node:d,from:p,to:m})});const l=o-r,c=i.filter(d=>a?a.name===d.node.type.name:!0).filter(d=>K0(d.node.attrs,n,{strict:!1}));return s?!!c.length:c.reduce((d,f)=>d+f.to-f.from,0)>=l}var JXe=(e,t={})=>({state:n,dispatch:r})=>{const o=Vo(e,n.schema);return IT(n,o,t)?uo(n,r):!1},YXe=()=>({state:e,dispatch:t})=>Wr(e,t),QXe=e=>({state:t,dispatch:n})=>{const r=Vo(e,t.schema);return vo(r)(t,n)},XXe=()=>({state:e,dispatch:t})=>Kr(e,t);function LK(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function sF(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((r,o)=>(n.includes(o)||(r[o]=e[o]),r),{})}var ZXe=(e,t)=>({tr:n,state:r,dispatch:o})=>{let s=null,a=null;const i=LK(typeof e=="string"?e:e.name,r.schema);if(!i)return!1;i==="node"&&(s=Vo(e,r.schema)),i==="mark"&&(a=xu(e,r.schema));let l=!1;return n.selection.ranges.forEach(c=>{r.doc.nodesBetween(c.$from.pos,c.$to.pos,(u,d)=>{s&&s===u.type&&(l=!0,o&&n.setNodeMarkup(d,void 0,sF(u.attrs,t))),a&&u.marks.length&&u.marks.forEach(f=>{a===f.type&&(l=!0,o&&n.addMark(d,d+u.nodeSize,a.create(sF(f.attrs,t))))})})}),l},eZe=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),tZe=()=>({tr:e,dispatch:t})=>{if(t){const n=new Sn(e.doc);e.setSelection(n)}return!0},nZe=()=>({state:e,dispatch:t})=>jr(e,t),rZe=()=>({state:e,dispatch:t})=>Ur(e,t),oZe=()=>({state:e,dispatch:t})=>fo(e,t),sZe=()=>({state:e,dispatch:t})=>mo(e,t),aZe=()=>({state:e,dispatch:t})=>po(e,t);function iZe(e,t,n={},r={}){return Xm(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var lZe=(e,{errorOnInvalidContent:t,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:o,tr:s,dispatch:a,commands:i})=>{const{doc:l}=s;if(r.preserveWhitespace!=="full"){const c=iZe(e,o.schema,r,{errorOnInvalidContent:t??o.options.enableContentCheck});return a&&s.replaceWith(0,l.content.size,c).setMeta("preventUpdate",!n),!0}return a&&s.setMeta("preventUpdate",!n),i.insertContentAt({from:0,to:l.content.size},e,{parseOptions:r,errorOnInvalidContent:t??o.options.enableContentCheck})};function uZe(e,t){const n=xu(t,e.schema),{from:r,to:o,empty:s}=e.selection,a=[];s?(e.storedMarks&&a.push(...e.storedMarks),a.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,o,l=>{a.push(...l.marks)});const i=a.find(l=>l.type.name===n.name);return i?{...i.attrs}:{}}function cZe(e,t){const n=new zr(e);return t.forEach(r=>{r.steps.forEach(o=>{n.step(o)})}),n}function dZe(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function fZe(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function PT(e){return t=>fZe(t.$from,e)}function Zm(e,t,n){return e.config[t]===void 0&&e.parent?Zm(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind({...n,parent:e.parent?Zm(e.parent,t,n):null}):e.config[t]}function pZe(e){return typeof e=="function"}function eC(e,t=void 0,...n){return pZe(e)?t?e.bind(t)(...n):e(...n):e}function jK(e){const t=e.filter(o=>o.type==="extension"),n=e.filter(o=>o.type==="node"),r=e.filter(o=>o.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:r}}function mZe(...e){return e.filter(t=>!!t).reduce((t,n)=>{const r={...t};return Object.entries(n).forEach(([o,s])=>{if(!r[o]){r[o]=s;return}if(o==="class"){const i=s?String(s).split(" "):[],l=r[o]?r[o].split(" "):[],c=i.filter(u=>!l.includes(u));r[o]=[...l,...c].join(" ")}else if(o==="style"){const i=s?s.split(";").map(u=>u.trim()).filter(Boolean):[],l=r[o]?r[o].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;l.forEach(u=>{const[d,f]=u.split(":").map(p=>p.trim());c.set(d,f)}),i.forEach(u=>{const[d,f]=u.split(":").map(p=>p.trim());c.set(d,f)}),r[o]=Array.from(c.entries()).map(([u,d])=>`${u}: ${d}`).join("; ")}else r[o]=s}),r},{})}function hZe(e,t,n){const{from:r,to:o}=t,{blockSeparator:s=`

`,textSerializers:a={}}=n||{};let i="";return e.nodesBetween(r,o,(l,c,u,d)=>{var f;l.isBlock&&c>r&&(i+=s);const p=a?.[l.type.name];if(p)return u&&(i+=p({node:l,pos:c,parent:u,index:d,range:t})),!1;l.isText&&(i+=(f=l?.text)==null?void 0:f.slice(Math.max(r,c)-c,o-c))}),i}function gZe(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}function vZe(e,t=JSON.stringify){const n={};return e.filter(r=>{const o=t(r);return Object.prototype.hasOwnProperty.call(n,o)?!1:n[o]=!0})}function yZe(e){const t=vZe(e);return t.length===1?t:t.filter((n,r)=>!t.filter((s,a)=>a!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function bZe(e){const{mapping:t,steps:n}=e,r=[];return t.maps.forEach((o,s)=>{const a=[];if(o.ranges.length)o.forEach((i,l)=>{a.push({from:i,to:l})});else{const{from:i,to:l}=n[s];if(i===void 0||l===void 0)return;a.push({from:i,to:l})}a.forEach(({from:i,to:l})=>{const c=t.slice(s).map(i,-1),u=t.slice(s).map(l),d=t.invert().map(c,-1),f=t.invert().map(u);r.push({oldRange:{from:d,to:f},newRange:{from:c,to:u}})})}),yZe(r)}function zy(e,t,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const o=e.find(s=>s.type===t&&s.name===r);return o?o.attribute.keepOnSplit:!1}))}function xZe(e,t,n={}){const{empty:r,ranges:o}=e.selection,s=t?xu(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(d=>s?s.name===d.type.name:!0).find(d=>K0(d.attrs,n,{strict:!1}));let a=0;const i=[];if(o.forEach(({$from:d,$to:f})=>{const p=d.pos,m=f.pos;e.doc.nodesBetween(p,m,(h,g)=>{if(!h.isText&&!h.marks.length)return;const v=Math.max(p,g),x=Math.min(m,g+h.nodeSize),$=x-v;a+=$,i.push(...h.marks.map(C=>({mark:C,from:v,to:x})))})}),a===0)return!1;const l=i.filter(d=>s?s.name===d.mark.type.name:!0).filter(d=>K0(d.mark.attrs,n,{strict:!1})).reduce((d,f)=>d+f.to-f.from,0),c=i.filter(d=>s?d.mark.type!==s&&d.mark.type.excludes(s):!0).reduce((d,f)=>d+f.to-f.from,0);return(l>0?l+c:l)>=a}function aF(e,t){const{nodeExtensions:n}=jK(t),r=n.find(a=>a.name===e);if(!r)return!1;const o={name:r.name,options:r.options,storage:r.storage},s=eC(Zm(r,"group",o));return typeof s!="string"?!1:s.split(" ").includes("list")}function VK(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((r=e.text)!=null?r:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let o=!0;return e.content.forEach(s=>{o!==!1&&(VK(s,{ignoreWhitespace:n,checkChildren:t})||(o=!1))}),o}return!1}function wZe(e,t,n){var r;const{selection:o}=t;let s=null;if(FK(o)&&(s=o.$cursor),s){const i=(r=e.storedMarks)!=null?r:s.marks();return s.parent.type.allowsMarkType(n)&&(!!n.isInSet(i)||!i.some(c=>c.type.excludes(n)))}const{ranges:a}=o;return a.some(({$from:i,$to:l})=>{let c=i.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(i.pos,l.pos,(u,d,f)=>{if(c)return!1;if(u.isInline){const p=!f||f.type.allowsMarkType(n),m=!!n.isInSet(u.marks)||!u.marks.some(h=>h.type.excludes(n));c=p&&m}return!c}),c})}var kZe=(e,t={})=>({tr:n,state:r,dispatch:o})=>{const{selection:s}=n,{empty:a,ranges:i}=s,l=xu(e,r.schema);if(o)if(a){const c=uZe(r,l);n.addStoredMark(l.create({...c,...t}))}else i.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;r.doc.nodesBetween(u,d,(f,p)=>{const m=Math.max(p,u),h=Math.min(p+f.nodeSize,d);f.marks.find(v=>v.type===l)?f.marks.forEach(v=>{l===v.type&&n.addMark(m,h,l.create({...v.attrs,...t}))}):n.addMark(m,h,l.create(t))})});return wZe(r,n,l)},_Ze=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),SZe=(e,t={})=>({state:n,dispatch:r,chain:o})=>{const s=Vo(e,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),s.isTextblock?o().command(({commands:i})=>cn(s,{...a,...t})(n)?!0:i.clearNodes()).command(({state:i})=>cn(s,{...a,...t})(i,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},$Ze=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,o=ac(e,0,r.content.size),s=Ge.create(r,o);t.setSelection(s)}return!0},CZe=(e,t)=>({tr:n,state:r,dispatch:o})=>{const{selection:s}=r;let a,i;return typeof t=="number"?(a=t,i=t):t&&"from"in t&&"to"in t?(a=t.from,i=t.to):(a=s.from,i=s.to),o&&n.doc.nodesBetween(a,i,(l,c)=>{l.isText||n.setNodeMarkup(c,void 0,{...l.attrs,dir:e})}),!0},MZe=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,{from:o,to:s}=typeof e=="number"?{from:e,to:e}:e,a=ie.atStart(r).from,i=ie.atEnd(r).to,l=ac(o,a,i),c=ac(s,a,i),u=ie.create(r,l,c);t.setSelection(u)}return!0},AZe=e=>({state:t,dispatch:n})=>{const r=Vo(e,t.schema);return yo(r)(t,n)};function iF(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(o=>t?.includes(o.type.name));e.tr.ensureMarks(r)}}var TZe=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:o})=>{const{selection:s,doc:a}=t,{$from:i,$to:l}=s,c=o.extensionManager.attributes,u=zy(c,i.node().type.name,i.node().attrs);if(s instanceof Ge&&s.node.isBlock)return!i.parentOffset||!ot(a,i.pos)?!1:(r&&(e&&iF(n,o.extensionManager.splittableMarks),t.split(i.pos).scrollIntoView()),!0);if(!i.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,f=i.depth===0?void 0:dZe(i.node(-1).contentMatchAt(i.indexAfter(-1)));let p=d&&f?[{type:f,attrs:u}]:void 0,m=ot(t.doc,t.mapping.map(i.pos),1,p);if(!p&&!m&&ot(t.doc,t.mapping.map(i.pos),1,f?[{type:f}]:void 0)&&(m=!0,p=f?[{type:f,attrs:u}]:void 0),r){if(m&&(s instanceof ie&&t.deleteSelection(),t.split(t.mapping.map(i.pos),1,p),f&&!d&&!i.parentOffset&&i.parent.type!==f)){const h=t.mapping.map(i.before()),g=t.doc.resolve(h);i.node(-1).canReplaceWith(g.index(),g.index()+1,f)&&t.setNodeMarkup(t.mapping.map(i.before()),f)}e&&iF(n,o.extensionManager.splittableMarks),t.scrollIntoView()}return m},EZe=(e,t={})=>({tr:n,state:r,dispatch:o,editor:s})=>{var a;const i=Vo(e,r.schema),{$from:l,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const d=l.node(-1);if(d.type!==i)return!1;const f=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==i||l.index(-2)!==l.node(-2).childCount-1)return!1;if(o){let v=de.empty;const x=l.index(-1)?1:l.index(-2)?2:3;for(let P=l.depth-x;P>=l.depth-3;P-=1)v=de.from(l.node(P).copy(v));const $=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,C={...zy(f,l.node().type.name,l.node().attrs),...t},M=((a=i.contentMatch.defaultType)==null?void 0:a.createAndFill(C))||void 0;v=v.append(de.from(i.createAndFill(null,M)||void 0));const I=l.before(l.depth-(x-1));n.replace(I,l.after(-$),new Je(v,4-x,0));let E=-1;n.doc.nodesBetween(I,n.doc.content.size,(P,O)=>{if(E>-1)return!1;P.isTextblock&&P.content.size===0&&(E=O+1)}),E>-1&&n.setSelection(ie.near(n.doc.resolve(E))),n.scrollIntoView()}return!0}const p=c.pos===l.end()?d.contentMatchAt(0).defaultType:null,m={...zy(f,d.type.name,d.attrs),...t},h={...zy(f,l.node().type.name,l.node().attrs),...t};n.delete(l.pos,c.pos);const g=p?[{type:i,attrs:m},{type:p,attrs:h}]:[{type:i,attrs:m}];if(!ot(n.doc,l.pos,2))return!1;if(o){const{selection:v,storedMarks:x}=r,{splittableMarks:$}=s.extensionManager,C=x||v.$to.parentOffset&&v.$from.marks();if(n.split(l.pos,2,g).scrollIntoView(),!C||!o)return!0;const M=C.filter(I=>$.includes(I.type.name));n.ensureMarks(M)}return!0},eS=(e,t)=>{const n=PT(a=>a.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const o=e.doc.nodeAt(r);return n.node.type===o?.type&&Ht(e.doc,n.pos)&&e.join(n.pos),!0},tS=(e,t)=>{const n=PT(a=>a.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const o=e.doc.nodeAt(r);return n.node.type===o?.type&&Ht(e.doc,r)&&e.join(r),!0},IZe=(e,t,n,r={})=>({editor:o,tr:s,state:a,dispatch:i,chain:l,commands:c,can:u})=>{const{extensions:d,splittableMarks:f}=o.extensionManager,p=Vo(e,a.schema),m=Vo(t,a.schema),{selection:h,storedMarks:g}=a,{$from:v,$to:x}=h,$=v.blockRange(x),C=g||h.$to.parentOffset&&h.$from.marks();if(!$)return!1;const M=PT(I=>aF(I.type.name,d))(h);if($.depth>=1&&M&&$.depth-M.depth<=1){if(M.node.type===p)return c.liftListItem(m);if(aF(M.node.type.name,d)&&p.validContent(M.node.content)&&i)return l().command(()=>(s.setNodeMarkup(M.pos,p),!0)).command(()=>eS(s,p)).command(()=>tS(s,p)).run()}return!n||!C||!i?l().command(()=>u().wrapInList(p,r)?!0:c.clearNodes()).wrapInList(p,r).command(()=>eS(s,p)).command(()=>tS(s,p)).run():l().command(()=>{const I=u().wrapInList(p,r),E=C.filter(P=>f.includes(P.type.name));return s.ensureMarks(E),I?!0:c.clearNodes()}).wrapInList(p,r).command(()=>eS(s,p)).command(()=>tS(s,p)).run()},PZe=(e,t={},n={})=>({state:r,commands:o})=>{const{extendEmptyMarkRange:s=!1}=n,a=xu(e,r.schema);return xZe(r,a,t)?o.unsetMark(a,{extendEmptyMarkRange:s}):o.setMark(a,t)},OZe=(e,t,n={})=>({state:r,commands:o})=>{const s=Vo(e,r.schema),a=Vo(t,r.schema),i=IT(r,s,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),i?o.setNode(a,l):o.setNode(s,{...l,...n})},RZe=(e,t={})=>({state:n,commands:r})=>{const o=Vo(e,n.schema);return IT(n,o,t)?r.lift(o):r.wrapIn(o,t)},BZe=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const o=n[r];let s;if(o.spec.isInputRules&&(s=o.getState(e))){if(t){const a=e.tr,i=s.transform;for(let l=i.steps.length-1;l>=0;l-=1)a.step(i.steps[l].invert(i.docs[l]));if(s.text){const l=a.doc.resolve(s.from).marks();a.replaceWith(s.from,s.to,e.schema.text(s.text,l))}else a.delete(s.from,s.to)}return!0}}return!1},NZe=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:o}=n;return r||t&&o.forEach(s=>{e.removeMark(s.$from.pos,s.$to.pos)}),!0},DZe=(e,t={})=>({tr:n,state:r,dispatch:o})=>{var s;const{extendEmptyMarkRange:a=!1}=t,{selection:i}=n,l=xu(e,r.schema),{$from:c,empty:u,ranges:d}=i;if(!o)return!0;if(u&&a){let{from:f,to:p}=i;const m=(s=c.marks().find(g=>g.type===l))==null?void 0:s.attrs,h=DK(c,l,m);h&&(f=h.from,p=h.to),n.removeMark(f,p,l)}else d.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,l)});return n.removeStoredMark(l),!0},FZe=e=>({tr:t,state:n,dispatch:r})=>{const{selection:o}=n;let s,a;return typeof e=="number"?(s=e,a=e):e&&"from"in e&&"to"in e?(s=e.from,a=e.to):(s=o.from,a=o.to),r&&t.doc.nodesBetween(s,a,(i,l)=>{if(i.isText)return;const c={...i.attrs};delete c.dir,t.setNodeMarkup(l,void 0,c)}),!0},qZe=(e,t={})=>({tr:n,state:r,dispatch:o})=>{let s=null,a=null;const i=LK(typeof e=="string"?e:e.name,r.schema);if(!i)return!1;i==="node"&&(s=Vo(e,r.schema)),i==="mark"&&(a=xu(e,r.schema));let l=!1;return n.selection.ranges.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;let f,p,m,h;n.selection.empty?r.doc.nodesBetween(u,d,(g,v)=>{s&&s===g.type&&(l=!0,m=Math.max(v,u),h=Math.min(v+g.nodeSize,d),f=v,p=g)}):r.doc.nodesBetween(u,d,(g,v)=>{v<u&&s&&s===g.type&&(l=!0,m=Math.max(v,u),h=Math.min(v+g.nodeSize,d),f=v,p=g),v>=u&&v<=d&&(s&&s===g.type&&(l=!0,o&&n.setNodeMarkup(v,void 0,{...g.attrs,...t})),a&&g.marks.length&&g.marks.forEach(x=>{if(a===x.type&&(l=!0,o)){const $=Math.max(v,u),C=Math.min(v+g.nodeSize,d);n.addMark($,C,a.create({...x.attrs,...t}))}}))}),p&&(f!==void 0&&o&&n.setNodeMarkup(f,void 0,{...p.attrs,...t}),a&&p.marks.length&&p.marks.forEach(g=>{a===g.type&&o&&n.addMark(m,h,a.create({...g.attrs,...t}))}))}),l},zZe=(e,t={})=>({state:n,dispatch:r})=>{const o=Vo(e,n.schema);return ho(o,t)(n,r)},LZe=(e,t={})=>({state:n,dispatch:r})=>{const o=Vo(e,n.schema);return go(o,t)(n,r)};function jZe(e){return Object.prototype.toString.call(e).slice(8,-1)}function ey(e){return jZe(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function UK(e,t){const n={...e};return ey(e)&&ey(t)&&Object.keys(t).forEach(r=>{ey(t[r])&&ey(e[r])?n[r]=UK(e[r],t[r]):n[r]=t[r]}),n}var KK=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...eC(Zm(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...eC(Zm(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const n=this.extend({...this.config,addOptions:()=>UK(this.options,t)});return n.name=this.name,n.parent=this.parent,n}extend(t={}){const n=new this.constructor({...this.config,...t});return n.parent=this,this.child=n,n.name="name"in t?t.name:n.parent.name,n}},VZe=class HK extends KK{constructor(){super(...arguments),this.type="mark"}static create(t={}){const n=typeof t=="function"?t():t;return new HK(n)}static handleExit({editor:t,mark:n}){const{tr:r}=t.state,o=t.state.selection.$from;if(o.pos===o.end()){const a=o.marks();if(!!!a.find(c=>c?.type.name===n.name))return!1;const l=a.find(c=>c?.type.name===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",o.pos),t.view.dispatch(r),!0}return!1}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},UZe={};ET(UZe,{ClipboardTextSerializer:()=>KZe,Commands:()=>HZe,Delete:()=>WZe,Drop:()=>GZe,Editable:()=>JZe,FocusEvents:()=>YZe,Keymap:()=>QZe,Paste:()=>XZe,Tabindex:()=>ZZe,TextDirection:()=>eet,focusEventsPluginKey:()=>GK});var ki=class WK extends KK{constructor(){super(...arguments),this.type="extension"}static create(t={}){const n=typeof t=="function"?t():t;return new WK(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},KZe=ki.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Se({key:new Ce("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:o}=t,{ranges:s}=o,a=Math.min(...s.map(u=>u.$from.pos)),i=Math.max(...s.map(u=>u.$to.pos)),l=gZe(n);return hZe(r,{from:a,to:i},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),HZe=ki.create({name:"commands",addCommands(){return{...BK}}}),WZe=ki.create({name:"delete",onUpdate({transaction:e,appendedTransactions:t}){var n,r,o;const s=()=>{var a,i,l,c;if((c=(l=(i=(a=this.editor.options.coreExtensionOptions)==null?void 0:a.delete)==null?void 0:i.filterTransaction)==null?void 0:l.call(i,e))!=null?c:e.getMeta("y-sync$"))return;const u=cZe(e.before,[e,...t]);bZe(u).forEach(p=>{u.mapping.mapResult(p.oldRange.from).deletedAfter&&u.mapping.mapResult(p.oldRange.to).deletedBefore&&u.before.nodesBetween(p.oldRange.from,p.oldRange.to,(m,h)=>{const g=h+m.nodeSize-2,v=p.oldRange.from<=h&&g<=p.oldRange.to;this.editor.emit("delete",{type:"node",node:m,from:h,to:g,newFrom:u.mapping.map(h),newTo:u.mapping.map(g),deletedRange:p.oldRange,newRange:p.newRange,partial:!v,editor:this.editor,transaction:e,combinedTransform:u})})});const f=u.mapping;u.steps.forEach((p,m)=>{var h,g;if(p instanceof En){const v=f.slice(m).map(p.from,-1),x=f.slice(m).map(p.to),$=f.invert().map(v,-1),C=f.invert().map(x),M=(h=u.doc.nodeAt(v-1))==null?void 0:h.marks.some(E=>E.eq(p.mark)),I=(g=u.doc.nodeAt(x))==null?void 0:g.marks.some(E=>E.eq(p.mark));this.editor.emit("delete",{type:"mark",mark:p.mark,from:p.from,to:p.to,deletedRange:{from:$,to:C},newRange:{from:v,to:x},partial:!!(I||M),editor:this.editor,transaction:e,combinedTransform:u})}})};(o=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||o?setTimeout(s,0):s()}}),GZe=ki.create({name:"drop",addProseMirrorPlugins(){return[new Se({key:new Ce("tiptapDrop"),props:{handleDrop:(e,t,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:r})}}})]}}),JZe=ki.create({name:"editable",addProseMirrorPlugins(){return[new Se({key:new Ce("editable"),props:{editable:()=>this.editor.options.editable}})]}}),GK=new Ce("focusEvents"),YZe=ki.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new Se({key:GK,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),QZe=ki.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:i})=>{const{selection:l,doc:c}=i,{empty:u,$anchor:d}=l,{pos:f,parent:p}=d,m=d.parent.isTextblock&&f>0?i.doc.resolve(f-1):d,h=m.parent.type.spec.isolating,g=d.pos-d.parentOffset,v=h&&m.parent.childCount===1?g===d.pos:Pe.atStart(c).from===f;return!u||!p.type.isTextblock||p.textContent.length||!v||v&&d.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},o={...r},s={...r,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return H0()||zK()?s:o},addProseMirrorPlugins(){return[new Se({key:new Ce("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(h=>h.getMeta("composition")))return;const r=e.some(h=>h.docChanged)&&!t.doc.eq(n.doc),o=e.some(h=>h.getMeta("preventClearDocument"));if(!r||o)return;const{empty:s,from:a,to:i}=t.selection,l=Pe.atStart(t.doc).from,c=Pe.atEnd(t.doc).to;if(s||!(a===l&&i===c)||!VK(n.doc))return;const f=n.tr,p=RK({state:n,transaction:f}),{commands:m}=new hXe({editor:this.editor,state:p});if(m.clearNodes(),!!f.steps.length)return f}})]}}),XZe=ki.create({name:"paste",addProseMirrorPlugins(){return[new Se({key:new Ce("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),ZZe=ki.create({name:"tabindex",addProseMirrorPlugins(){return[new Se({key:new Ce("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),eet=ki.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:e}=jK(this.extensions);return[{types:e.filter(t=>t.name!=="text").map(t=>t.name),attributes:{dir:{default:this.options.direction,parseHTML:t=>{const n=t.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:t=>t.dir?{dir:t.dir}:{}}}}]},addProseMirrorPlugins(){return[new Se({key:new Ce("textDirection"),props:{attributes:()=>{const e=this.options.direction;return e?{dir:e}:{}}}})]}}),tet={};ET(tet,{createAtomBlockMarkdownSpec:()=>net,createBlockMarkdownSpec:()=>ret,createInlineMarkdownSpec:()=>aet,parseAttributes:()=>OT,parseIndentedBlocks:()=>iet,renderNestedMarkdownContent:()=>uet,serializeAttributes:()=>RT});function OT(e){if(!e?.trim())return{};const t={},n=[],r=e.replace(/["']([^"']*)["']/g,c=>(n.push(c),`__QUOTED_${n.length-1}__`)),o=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(o){const c=o.map(u=>u.trim().slice(1));t.class=c.join(" ")}const s=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);s&&(t.id=s[1]);const a=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(a)).forEach(([,c,u])=>{var d;const f=parseInt(((d=u.match(/__QUOTED_(\d+)__/))==null?void 0:d[1])||"0",10),p=n[f];p&&(t[c]=p.slice(1,-1))});const l=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return l&&l.split(/\s+/).filter(Boolean).forEach(u=>{u.match(/^[a-zA-Z][\w-]*$/)&&(t[u]=!0)}),t}function RT(e){if(!e||Object.keys(e).length===0)return"";const t=[];return e.class&&String(e.class).split(/\s+/).filter(Boolean).forEach(r=>t.push(`.${r}`)),e.id&&t.push(`#${e.id}`),Object.entries(e).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?t.push(n):r!==!1&&r!=null&&t.push(`${n}="${String(r)}"`))}),t.join(" ")}function net(e){const{nodeName:t,name:n,parseAttributes:r=OT,serializeAttributes:o=RT,defaultAttributes:s={},requiredAttributes:a=[],allowedAttributes:i}=e,l=n||t,c=u=>{if(!i)return u;const d={};return i.forEach(f=>{f in u&&(d[f]=u[f])}),d};return{parseMarkdown:(u,d)=>{const f={...s,...u.attributes};return d.createNode(t,f,[])},markdownTokenizer:{name:t,level:"block",start(u){var d;const f=new RegExp(`^:::${l}(?:\\s|$)`,"m"),p=(d=u.match(f))==null?void 0:d.index;return p!==void 0?p:-1},tokenize(u,d,f){const p=new RegExp(`^:::${l}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),m=u.match(p);if(!m)return;const h=m[1]||"",g=r(h);if(!a.find(x=>!(x in g)))return{type:t,raw:m[0],attributes:g}}},renderMarkdown:u=>{const d=c(u.attrs||{}),f=o(d),p=f?` {${f}}`:"";return`:::${l}${p} :::`}}}function ret(e){const{nodeName:t,name:n,getContent:r,parseAttributes:o=OT,serializeAttributes:s=RT,defaultAttributes:a={},content:i="block",allowedAttributes:l}=e,c=n||t,u=d=>{if(!l)return d;const f={};return l.forEach(p=>{p in d&&(f[p]=d[p])}),f};return{parseMarkdown:(d,f)=>{let p;if(r){const h=r(d);p=typeof h=="string"?[{type:"text",text:h}]:h}else i==="block"?p=f.parseChildren(d.tokens||[]):p=f.parseInline(d.tokens||[]);const m={...a,...d.attributes};return f.createNode(t,m,p)},markdownTokenizer:{name:t,level:"block",start(d){var f;const p=new RegExp(`^:::${c}`,"m"),m=(f=d.match(p))==null?void 0:f.index;return m!==void 0?m:-1},tokenize(d,f,p){var m;const h=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),g=d.match(h);if(!g)return;const[v,x=""]=g,$=o(x);let C=1;const M=v.length;let I="";const E=/^:::([\w-]*)(\s.*)?/gm,P=d.slice(M);for(E.lastIndex=0;;){const O=E.exec(P);if(O===null)break;const D=O.index,L=O[1];if(!((m=O[2])!=null&&m.endsWith(":::"))){if(L)C+=1;else if(C-=1,C===0){const V=P.slice(0,D);I=V.trim();const F=d.slice(0,M+D+O[0].length);let z=[];if(I)if(i==="block")for(z=p.blockTokens(V),z.forEach(N=>{N.text&&(!N.tokens||N.tokens.length===0)&&(N.tokens=p.inlineTokens(N.text))});z.length>0;){const N=z[z.length-1];if(N.type==="paragraph"&&(!N.text||N.text.trim()===""))z.pop();else break}else z=p.inlineTokens(I);return{type:t,raw:F,attributes:$,content:I,tokens:z}}}}}},renderMarkdown:(d,f)=>{const p=u(d.attrs||{}),m=s(p),h=m?` {${m}}`:"",g=f.renderChildren(d.content||[],`

`);return`:::${c}${h}

${g}

:::`}}}function oet(e){if(!e.trim())return{};const t={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(e);for(;r!==null;){const[,o,s,a]=r;t[o]=s||a,r=n.exec(e)}return t}function set(e){return Object.entries(e).filter(([,t])=>t!=null).map(([t,n])=>`${t}="${n}"`).join(" ")}function aet(e){const{nodeName:t,name:n,getContent:r,parseAttributes:o=oet,serializeAttributes:s=set,defaultAttributes:a={},selfClosing:i=!1,allowedAttributes:l}=e,c=n||t,u=f=>{if(!l)return f;const p={};return l.forEach(m=>{const h=typeof m=="string"?m:m.name,g=typeof m=="string"?void 0:m.skipIfDefault;if(h in f){const v=f[h];if(g!==void 0&&v===g)return;p[h]=v}}),p},d=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(f,p)=>{const m={...a,...f.attributes};if(i)return p.createNode(t,m);const h=r?r(f):f.content||"";return h?p.createNode(t,m,[p.createTextNode(h)]):p.createNode(t,m,[])},markdownTokenizer:{name:t,level:"inline",start(f){const p=i?new RegExp(`\\[${d}\\s*[^\\]]*\\]`):new RegExp(`\\[${d}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${d}\\]`),m=f.match(p),h=m?.index;return h!==void 0?h:-1},tokenize(f,p,m){const h=i?new RegExp(`^\\[${d}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${d}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${d}\\]`),g=f.match(h);if(!g)return;let v="",x="";if(i){const[,C]=g;x=C}else{const[,C,M]=g;x=C,v=M||""}const $=o(x.trim());return{type:t,raw:g[0],content:v.trim(),attributes:$}}},renderMarkdown:f=>{let p="";r?p=r(f):f.content&&f.content.length>0&&(p=f.content.filter(v=>v.type==="text").map(v=>v.text).join(""));const m=u(f.attrs||{}),h=s(m),g=h?` ${h}`:"";return i?`[${c}${g}]`:`[${c}${g}]${p}[/${c}]`}}}function iet(e,t,n){var r,o,s,a;const i=e.split(`
`),l=[];let c="",u=0;const d=t.baseIndentSize||2;for(;u<i.length;){const f=i[u],p=f.match(t.itemPattern);if(!p){if(l.length>0)break;if(f.trim()===""){u+=1,c=`${c}${f}
`;continue}else return}const m=t.extractItemData(p),{indentLevel:h,mainContent:g}=m;c=`${c}${f}
`;const v=[g];for(u+=1;u<i.length;){const M=i[u];if(M.trim()===""){const E=i.slice(u+1).findIndex(D=>D.trim()!=="");if(E===-1)break;if((((o=(r=i[u+1+E].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:o.length)||0)>h){v.push(M),c=`${c}${M}
`,u+=1;continue}else break}if((((a=(s=M.match(/^(\s*)/))==null?void 0:s[1])==null?void 0:a.length)||0)>h)v.push(M),c=`${c}${M}
`,u+=1;else break}let x;const $=v.slice(1);if($.length>0){const M=$.map(I=>I.slice(h+d)).join(`
`);M.trim()&&(t.customNestedParser?x=t.customNestedParser(M):x=n.blockTokens(M))}const C=t.createToken(m,x);l.push(C)}if(l.length!==0)return{items:l,raw:c}}function uet(e,t,n,r){if(!e||!Array.isArray(e.content))return"";const o=typeof n=="function"?n(r):n,[s,...a]=e.content,i=t.renderChildren([s]),l=[`${o}${i}`];return a&&a.length>0&&a.forEach(c=>{const u=t.renderChildren([c]);if(u){const d=u.split(`
`).map(f=>f?t.indent(f):"").join(`
`);l.push(d)}}),l.join(`
`)}var cet=VZe.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["u",mZe(this.options.HTMLAttributes,e),0]},parseMarkdown(e,t){return t.applyMark(this.name||"underline",t.parseInline(e.tokens||[]))},renderMarkdown(e,t){return`++${t.renderChildren(e)}++`},markdownTokenizer:{name:"underline",level:"inline",start(e){return e.indexOf("++")},tokenize(e,t,n){const o=/^(\+\+)([\s\S]+?)(\+\+)/.exec(e);if(!o)return;const s=o[2].trim();return{type:"underline",raw:o[0],text:s,tokens:n.inlineTokens(s)}}},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),det=Object.defineProperty,BT=(e,t)=>{for(var n in t)det(e,n,{get:t[n],enumerable:!0})};function JK(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:o}=n,{storedMarks:s}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return s},get selection(){return r},get doc(){return o},get tr(){return r=n.selection,o=n.doc,s=n.storedMarks,n}}}var fet=class{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:n}=this,{view:r}=t,{tr:o}=n,s=this.buildProps(o);return Object.fromEntries(Object.entries(e).map(([a,i])=>[a,(...c)=>{const u=i(...c)(s);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(o),u}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:n,editor:r,state:o}=this,{view:s}=r,a=[],i=!!e,l=e||o.tr,c=()=>(!i&&t&&!l.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(l),a.every(d=>d===!0)),u={...Object.fromEntries(Object.entries(n).map(([d,f])=>[d,(...m)=>{const h=this.buildProps(l,t),g=f(...m)(h);return a.push(g),u}])),run:c};return u}createCan(e){const{rawCommands:t,state:n}=this,r=!1,o=e||n.tr,s=this.buildProps(o,r);return{...Object.fromEntries(Object.entries(t).map(([i,l])=>[i,(...c)=>l(...c)({...s,dispatch:void 0})])),chain:()=>this.createChain(o,r)}}buildProps(e,t=!0){const{rawCommands:n,editor:r,state:o}=this,{view:s}=r,a={tr:e,editor:r,view:s,state:JK({state:o,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(([i,l])=>[i,(...c)=>l(...c)(a)]))}};return a}},YK={};BT(YK,{blur:()=>pet,clearContent:()=>met,clearNodes:()=>het,command:()=>get,createParagraphNear:()=>vet,cut:()=>yet,deleteCurrentNode:()=>bet,deleteNode:()=>xet,deleteRange:()=>wet,deleteSelection:()=>ket,enter:()=>_et,exitCode:()=>$et,extendMarkRange:()=>Met,first:()=>Aet,focus:()=>Iet,forEach:()=>Pet,insertContent:()=>Oet,insertContentAt:()=>Net,joinBackward:()=>qet,joinDown:()=>Fet,joinForward:()=>zet,joinItemBackward:()=>Let,joinItemForward:()=>jet,joinTextblockBackward:()=>Vet,joinTextblockForward:()=>Uet,joinUp:()=>Det,keyboardShortcut:()=>Het,lift:()=>Wet,liftEmptyBlock:()=>Get,liftListItem:()=>Jet,newlineInCode:()=>Yet,resetAttributes:()=>Qet,scrollIntoView:()=>Xet,selectAll:()=>Zet,selectNodeBackward:()=>ett,selectNodeForward:()=>ttt,selectParentNode:()=>ntt,selectTextblockEnd:()=>rtt,selectTextblockStart:()=>ott,setContent:()=>att,setMark:()=>xtt,setMeta:()=>wtt,setNode:()=>ktt,setNodeSelection:()=>_tt,setTextDirection:()=>Stt,setTextSelection:()=>$tt,sinkListItem:()=>Ctt,splitBlock:()=>Mtt,splitListItem:()=>Att,toggleList:()=>Ttt,toggleMark:()=>Ett,toggleNode:()=>Itt,toggleWrap:()=>Ptt,undoInputRule:()=>Ott,unsetAllMarks:()=>Rtt,unsetMark:()=>Btt,unsetTextDirection:()=>Ntt,updateAttributes:()=>Dtt,wrapIn:()=>Ftt,wrapInList:()=>qtt});var pet=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),met=(e=!0)=>({commands:t})=>t.setContent("",{emitUpdate:e}),het=()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:o}=r;return n&&o.forEach(({$from:s,$to:a})=>{e.doc.nodesBetween(s.pos,a.pos,(i,l)=>{if(i.type.isText)return;const{doc:c,mapping:u}=t,d=c.resolve(u.map(l)),f=c.resolve(u.map(l+i.nodeSize)),p=d.blockRange(f);if(!p)return;const m=lr(p);if(i.type.isTextblock){const{defaultType:h}=d.parent.contentMatchAt(d.index());t.setNodeMarkup(p.start,h)}(m||m===0)&&t.lift(p,m)})}),!0},get=e=>t=>e(t),vet=()=>({state:e,dispatch:t})=>Hr(e,t),yet=(e,t)=>({editor:n,tr:r})=>{const{state:o}=n,s=o.doc.slice(e.from,e.to);r.deleteRange(e.from,e.to);const a=r.mapping.map(t);return r.insert(a,s.content),r.setSelection(new ie(r.doc.resolve(Math.max(a-1,0)))),!0},bet=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;const o=e.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===r.type){if(t){const i=o.before(s),l=o.after(s);e.delete(i,l).scrollIntoView()}return!0}return!1};function Uo(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}var xet=e=>({tr:t,state:n,dispatch:r})=>{const o=Uo(e,n.schema),s=t.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===o){if(r){const l=s.before(a),c=s.after(a);t.delete(l,c).scrollIntoView()}return!0}return!1},wet=e=>({tr:t,dispatch:n})=>{const{from:r,to:o}=e;return n&&t.delete(r,o),!0},ket=()=>({state:e,dispatch:t})=>Cr(e,t),_et=()=>({commands:e})=>e.keyboardShortcut("Enter"),$et=()=>({state:e,dispatch:t})=>co(e,t);function Cet(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function W0(e,t,n={strict:!0}){const r=Object.keys(t);return r.length?r.every(o=>n.strict?t[o]===e[o]:Cet(t[o])?t[o].test(e[o]):t[o]===e[o]):!0}function QK(e,t,n={}){return e.find(r=>r.type===t&&W0(Object.fromEntries(Object.keys(n).map(o=>[o,r.attrs[o]])),n))}function lF(e,t,n={}){return!!QK(e,t,n)}function XK(e,t,n){var r;if(!e||!t)return;let o=e.parent.childAfter(e.parentOffset);if((!o.node||!o.node.marks.some(u=>u.type===t))&&(o=e.parent.childBefore(e.parentOffset)),!o.node||!o.node.marks.some(u=>u.type===t)||(n=n||((r=o.node.marks[0])==null?void 0:r.attrs),!QK([...o.node.marks],t,n)))return;let a=o.index,i=e.start()+o.offset,l=a+1,c=i+o.node.nodeSize;for(;a>0&&lF([...e.parent.child(a-1).marks],t,n);)a-=1,i-=e.parent.child(a).nodeSize;for(;l<e.parent.childCount&&lF([...e.parent.child(l).marks],t,n);)c+=e.parent.child(l).nodeSize,l+=1;return{from:i,to:c}}function wu(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}var Met=(e,t={})=>({tr:n,state:r,dispatch:o})=>{const s=wu(e,r.schema),{doc:a,selection:i}=n,{$from:l,from:c,to:u}=i;if(o){const d=XK(l,s,t);if(d&&d.from<=c&&d.to>=u){const f=ie.create(a,d.from,d.to);n.setSelection(f)}}return!0},Aet=e=>t=>{const n=typeof e=="function"?e(t):e;for(let r=0;r<n.length;r+=1)if(n[r](t))return!0;return!1};function ZK(e){return e instanceof ie}function ic(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function Tet(e,t=null){if(!t)return null;const n=Pe.atStart(e),r=Pe.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return r;const o=n.from,s=r.to;return t==="all"?ie.create(e,ic(0,o,s),ic(e.content.size,o,s)):ie.create(e,ic(t,o,s),ic(t,o,s))}function uF(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function G0(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function Eet(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}var Iet=(e=null,t={})=>({editor:n,view:r,tr:o,dispatch:s})=>{t={scrollIntoView:!0,...t};const a=()=>{(G0()||uF())&&r.dom.focus(),Eet()&&!G0()&&!uF()&&r.dom.focus({preventScroll:!0}),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),t?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&e===null||e===!1)return!0;if(s&&e===null&&!ZK(n.state.selection))return a(),!0;const i=Tet(o.doc,e)||n.state.selection,l=n.state.selection.eq(i);return s&&(l||o.setSelection(i),l&&o.storedMarks&&o.setStoredMarks(o.storedMarks),a()),!0},Pet=(e,t)=>n=>e.every((r,o)=>t(r,{...n,index:o})),Oet=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),eH=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const r=t[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):r.nodeType===1&&eH(r)}return e};function ty(e){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t=`<body>${e}</body>`,n=new window.DOMParser().parseFromString(t,"text/html").body;return eH(n)}function eh(e,t,n){if(e instanceof Hn||e instanceof de)return e;n={slice:!0,parseOptions:{},...n};const r=typeof e=="object"&&e!==null,o=typeof e=="string";if(r)try{if(Array.isArray(e)&&e.length>0)return de.fromArray(e.map(i=>t.nodeFromJSON(i)));const a=t.nodeFromJSON(e);return n.errorOnInvalidContent&&a.check(),a}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",s),eh("",t,n)}if(o){if(n.errorOnInvalidContent){let a=!1,i="";const l=new qr({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(a=!0,i=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?gt.fromSchema(l).parseSlice(ty(e),n.parseOptions):gt.fromSchema(l).parse(ty(e),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${i}`)})}const s=gt.fromSchema(t);return n.slice?s.parseSlice(ty(e),n.parseOptions).content:s.parse(ty(e),n.parseOptions)}return eh("",t,n)}function Ret(e,t,n){const r=e.steps.length-1;if(r<t)return;const o=e.steps[r];if(!(o instanceof ln||o instanceof un))return;const s=e.mapping.maps[r];let a=0;s.forEach((i,l,c,u)=>{a===0&&(a=u)}),e.setSelection(Pe.near(e.doc.resolve(a),n))}var Bet=e=>!("type"in e),Net=(e,t,n)=>({tr:r,dispatch:o,editor:s})=>{var a;if(o){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let i;const l=g=>{s.emit("contentError",{editor:s,error:g,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{eh(t,s.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(g){l(g)}try{i=eh(t,s.schema,{parseOptions:c,errorOnInvalidContent:(a=n.errorOnInvalidContent)!=null?a:s.options.enableContentCheck})}catch(g){return l(g),!1}let{from:u,to:d}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},f=!0,p=!0;if((Bet(i)?i:[i]).forEach(g=>{g.check(),f=f?g.isText&&g.marks.length===0:!1,p=p?g.isBlock:!1}),u===d&&p){const{parent:g}=r.doc.resolve(u);g.isTextblock&&!g.type.spec.code&&!g.childCount&&(u-=1,d+=1)}let h;if(f){if(Array.isArray(t))h=t.map(g=>g.text||"").join("");else if(t instanceof de){let g="";t.forEach(v=>{v.text&&(g+=v.text)}),h=g}else typeof t=="object"&&t&&t.text?h=t.text:h=t;r.insertText(h,u,d)}else{h=i;const g=r.doc.resolve(u),v=g.node(),x=g.parentOffset===0,$=v.isText||v.isTextblock,C=v.content.size>0;x&&$&&C&&(u=Math.max(0,u-1)),r.replaceWith(u,d,h)}n.updateSelection&&Ret(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:u,text:h}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:u,text:h})}return!0},Det=()=>({state:e,dispatch:t})=>io(e,t),Fet=()=>({state:e,dispatch:t})=>lo(e,t),qet=()=>({state:e,dispatch:t})=>Lr(e,t),zet=()=>({state:e,dispatch:t})=>Vr(e,t),Let=()=>({state:e,dispatch:t,tr:n})=>{try{const r=on(e.doc,e.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},jet=()=>({state:e,dispatch:t,tr:n})=>{try{const r=on(e.doc,e.selection.$from.pos,1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},Vet=()=>({state:e,dispatch:t})=>so(e,t),Uet=()=>({state:e,dispatch:t})=>ao(e,t);function tH(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function Ket(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let r,o,s,a;for(let i=0;i<t.length-1;i+=1){const l=t[i];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))o=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))G0()||tH()?a=!0:o=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),o&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}var Het=e=>({editor:t,view:n,tr:r,dispatch:o})=>{const s=Ket(e).split(/-(?!$)/),a=s.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),i=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,i))});return l?.steps.forEach(c=>{const u=c.map(r.mapping);u&&o&&r.maybeStep(u)}),!0};function NT(e,t,n={}){const{from:r,to:o,empty:s}=e.selection,a=t?Uo(t,e.schema):null,i=[];e.doc.nodesBetween(r,o,(d,f)=>{if(d.isText)return;const p=Math.max(r,f),m=Math.min(o,f+d.nodeSize);i.push({node:d,from:p,to:m})});const l=o-r,c=i.filter(d=>a?a.name===d.node.type.name:!0).filter(d=>W0(d.node.attrs,n,{strict:!1}));return s?!!c.length:c.reduce((d,f)=>d+f.to-f.from,0)>=l}var Wet=(e,t={})=>({state:n,dispatch:r})=>{const o=Uo(e,n.schema);return NT(n,o,t)?uo(n,r):!1},Get=()=>({state:e,dispatch:t})=>Wr(e,t),Jet=e=>({state:t,dispatch:n})=>{const r=Uo(e,t.schema);return vo(r)(t,n)},Yet=()=>({state:e,dispatch:t})=>Kr(e,t);function nH(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function cF(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((r,o)=>(n.includes(o)||(r[o]=e[o]),r),{})}var Qet=(e,t)=>({tr:n,state:r,dispatch:o})=>{let s=null,a=null;const i=nH(typeof e=="string"?e:e.name,r.schema);if(!i)return!1;i==="node"&&(s=Uo(e,r.schema)),i==="mark"&&(a=wu(e,r.schema));let l=!1;return n.selection.ranges.forEach(c=>{r.doc.nodesBetween(c.$from.pos,c.$to.pos,(u,d)=>{s&&s===u.type&&(l=!0,o&&n.setNodeMarkup(d,void 0,cF(u.attrs,t))),a&&u.marks.length&&u.marks.forEach(f=>{a===f.type&&(l=!0,o&&n.addMark(d,d+u.nodeSize,a.create(cF(f.attrs,t))))})})}),l},Xet=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),Zet=()=>({tr:e,dispatch:t})=>{if(t){const n=new Sn(e.doc);e.setSelection(n)}return!0},ett=()=>({state:e,dispatch:t})=>jr(e,t),ttt=()=>({state:e,dispatch:t})=>Ur(e,t),ntt=()=>({state:e,dispatch:t})=>fo(e,t),rtt=()=>({state:e,dispatch:t})=>mo(e,t),ott=()=>({state:e,dispatch:t})=>po(e,t);function stt(e,t,n={},r={}){return eh(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var att=(e,{errorOnInvalidContent:t,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:o,tr:s,dispatch:a,commands:i})=>{const{doc:l}=s;if(r.preserveWhitespace!=="full"){const c=stt(e,o.schema,r,{errorOnInvalidContent:t??o.options.enableContentCheck});return a&&s.replaceWith(0,l.content.size,c).setMeta("preventUpdate",!n),!0}return a&&s.setMeta("preventUpdate",!n),i.insertContentAt({from:0,to:l.content.size},e,{parseOptions:r,errorOnInvalidContent:t??o.options.enableContentCheck})};function itt(e,t){const n=wu(t,e.schema),{from:r,to:o,empty:s}=e.selection,a=[];s?(e.storedMarks&&a.push(...e.storedMarks),a.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,o,l=>{a.push(...l.marks)});const i=a.find(l=>l.type.name===n.name);return i?{...i.attrs}:{}}function ltt(e,t){const n=new zr(e);return t.forEach(r=>{r.steps.forEach(o=>{n.step(o)})}),n}function utt(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function ctt(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function DT(e){return t=>ctt(t.$from,e)}function of(e,t,n){return e.config[t]===void 0&&e.parent?of(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind({...n,parent:e.parent?of(e.parent,t,n):null}):e.config[t]}function dtt(e){return typeof e=="function"}function J0(e,t=void 0,...n){return dtt(e)?t?e.bind(t)(...n):e(...n):e}function rH(e){const t=e.filter(o=>o.type==="extension"),n=e.filter(o=>o.type==="node"),r=e.filter(o=>o.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:r}}function ftt(e,t,n){const{from:r,to:o}=t,{blockSeparator:s=`

`,textSerializers:a={}}=n||{};let i="";return e.nodesBetween(r,o,(l,c,u,d)=>{var f;l.isBlock&&c>r&&(i+=s);const p=a?.[l.type.name];if(p)return u&&(i+=p({node:l,pos:c,parent:u,index:d,range:t})),!1;l.isText&&(i+=(f=l?.text)==null?void 0:f.slice(Math.max(r,c)-c,o-c))}),i}function ptt(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}function mtt(e,t=JSON.stringify){const n={};return e.filter(r=>{const o=t(r);return Object.prototype.hasOwnProperty.call(n,o)?!1:n[o]=!0})}function htt(e){const t=mtt(e);return t.length===1?t:t.filter((n,r)=>!t.filter((s,a)=>a!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function gtt(e){const{mapping:t,steps:n}=e,r=[];return t.maps.forEach((o,s)=>{const a=[];if(o.ranges.length)o.forEach((i,l)=>{a.push({from:i,to:l})});else{const{from:i,to:l}=n[s];if(i===void 0||l===void 0)return;a.push({from:i,to:l})}a.forEach(({from:i,to:l})=>{const c=t.slice(s).map(i,-1),u=t.slice(s).map(l),d=t.invert().map(c,-1),f=t.invert().map(u);r.push({oldRange:{from:d,to:f},newRange:{from:c,to:u}})})}),htt(r)}function Ly(e,t,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const o=e.find(s=>s.type===t&&s.name===r);return o?o.attribute.keepOnSplit:!1}))}function vtt(e,t,n={}){const{empty:r,ranges:o}=e.selection,s=t?wu(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(d=>s?s.name===d.type.name:!0).find(d=>W0(d.attrs,n,{strict:!1}));let a=0;const i=[];if(o.forEach(({$from:d,$to:f})=>{const p=d.pos,m=f.pos;e.doc.nodesBetween(p,m,(h,g)=>{if(!h.isText&&!h.marks.length)return;const v=Math.max(p,g),x=Math.min(m,g+h.nodeSize),$=x-v;a+=$,i.push(...h.marks.map(C=>({mark:C,from:v,to:x})))})}),a===0)return!1;const l=i.filter(d=>s?s.name===d.mark.type.name:!0).filter(d=>W0(d.mark.attrs,n,{strict:!1})).reduce((d,f)=>d+f.to-f.from,0),c=i.filter(d=>s?d.mark.type!==s&&d.mark.type.excludes(s):!0).reduce((d,f)=>d+f.to-f.from,0);return(l>0?l+c:l)>=a}function dF(e,t){const{nodeExtensions:n}=rH(t),r=n.find(a=>a.name===e);if(!r)return!1;const o={name:r.name,options:r.options,storage:r.storage},s=J0(of(r,"group",o));return typeof s!="string"?!1:s.split(" ").includes("list")}function FT(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((r=e.text)!=null?r:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let o=!0;return e.content.forEach(s=>{o!==!1&&(FT(s,{ignoreWhitespace:n,checkChildren:t})||(o=!1))}),o}return!1}function ytt(e){return e instanceof Ge}function btt(e,t,n){var r;const{selection:o}=t;let s=null;if(ZK(o)&&(s=o.$cursor),s){const i=(r=e.storedMarks)!=null?r:s.marks();return s.parent.type.allowsMarkType(n)&&(!!n.isInSet(i)||!i.some(c=>c.type.excludes(n)))}const{ranges:a}=o;return a.some(({$from:i,$to:l})=>{let c=i.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(i.pos,l.pos,(u,d,f)=>{if(c)return!1;if(u.isInline){const p=!f||f.type.allowsMarkType(n),m=!!n.isInSet(u.marks)||!u.marks.some(h=>h.type.excludes(n));c=p&&m}return!c}),c})}var xtt=(e,t={})=>({tr:n,state:r,dispatch:o})=>{const{selection:s}=n,{empty:a,ranges:i}=s,l=wu(e,r.schema);if(o)if(a){const c=itt(r,l);n.addStoredMark(l.create({...c,...t}))}else i.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;r.doc.nodesBetween(u,d,(f,p)=>{const m=Math.max(p,u),h=Math.min(p+f.nodeSize,d);f.marks.find(v=>v.type===l)?f.marks.forEach(v=>{l===v.type&&n.addMark(m,h,l.create({...v.attrs,...t}))}):n.addMark(m,h,l.create(t))})});return btt(r,n,l)},wtt=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),ktt=(e,t={})=>({state:n,dispatch:r,chain:o})=>{const s=Uo(e,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),s.isTextblock?o().command(({commands:i})=>cn(s,{...a,...t})(n)?!0:i.clearNodes()).command(({state:i})=>cn(s,{...a,...t})(i,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},_tt=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,o=ic(e,0,r.content.size),s=Ge.create(r,o);t.setSelection(s)}return!0},Stt=(e,t)=>({tr:n,state:r,dispatch:o})=>{const{selection:s}=r;let a,i;return typeof t=="number"?(a=t,i=t):t&&"from"in t&&"to"in t?(a=t.from,i=t.to):(a=s.from,i=s.to),o&&n.doc.nodesBetween(a,i,(l,c)=>{l.isText||n.setNodeMarkup(c,void 0,{...l.attrs,dir:e})}),!0},$tt=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,{from:o,to:s}=typeof e=="number"?{from:e,to:e}:e,a=ie.atStart(r).from,i=ie.atEnd(r).to,l=ic(o,a,i),c=ic(s,a,i),u=ie.create(r,l,c);t.setSelection(u)}return!0},Ctt=e=>({state:t,dispatch:n})=>{const r=Uo(e,t.schema);return yo(r)(t,n)};function fF(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(o=>t?.includes(o.type.name));e.tr.ensureMarks(r)}}var Mtt=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:o})=>{const{selection:s,doc:a}=t,{$from:i,$to:l}=s,c=o.extensionManager.attributes,u=Ly(c,i.node().type.name,i.node().attrs);if(s instanceof Ge&&s.node.isBlock)return!i.parentOffset||!ot(a,i.pos)?!1:(r&&(e&&fF(n,o.extensionManager.splittableMarks),t.split(i.pos).scrollIntoView()),!0);if(!i.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,f=i.depth===0?void 0:utt(i.node(-1).contentMatchAt(i.indexAfter(-1)));let p=d&&f?[{type:f,attrs:u}]:void 0,m=ot(t.doc,t.mapping.map(i.pos),1,p);if(!p&&!m&&ot(t.doc,t.mapping.map(i.pos),1,f?[{type:f}]:void 0)&&(m=!0,p=f?[{type:f,attrs:u}]:void 0),r){if(m&&(s instanceof ie&&t.deleteSelection(),t.split(t.mapping.map(i.pos),1,p),f&&!d&&!i.parentOffset&&i.parent.type!==f)){const h=t.mapping.map(i.before()),g=t.doc.resolve(h);i.node(-1).canReplaceWith(g.index(),g.index()+1,f)&&t.setNodeMarkup(t.mapping.map(i.before()),f)}e&&fF(n,o.extensionManager.splittableMarks),t.scrollIntoView()}return m},Att=(e,t={})=>({tr:n,state:r,dispatch:o,editor:s})=>{var a;const i=Uo(e,r.schema),{$from:l,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const d=l.node(-1);if(d.type!==i)return!1;const f=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==i||l.index(-2)!==l.node(-2).childCount-1)return!1;if(o){let v=de.empty;const x=l.index(-1)?1:l.index(-2)?2:3;for(let P=l.depth-x;P>=l.depth-3;P-=1)v=de.from(l.node(P).copy(v));const $=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,C={...Ly(f,l.node().type.name,l.node().attrs),...t},M=((a=i.contentMatch.defaultType)==null?void 0:a.createAndFill(C))||void 0;v=v.append(de.from(i.createAndFill(null,M)||void 0));const I=l.before(l.depth-(x-1));n.replace(I,l.after(-$),new Je(v,4-x,0));let E=-1;n.doc.nodesBetween(I,n.doc.content.size,(P,O)=>{if(E>-1)return!1;P.isTextblock&&P.content.size===0&&(E=O+1)}),E>-1&&n.setSelection(ie.near(n.doc.resolve(E))),n.scrollIntoView()}return!0}const p=c.pos===l.end()?d.contentMatchAt(0).defaultType:null,m={...Ly(f,d.type.name,d.attrs),...t},h={...Ly(f,l.node().type.name,l.node().attrs),...t};n.delete(l.pos,c.pos);const g=p?[{type:i,attrs:m},{type:p,attrs:h}]:[{type:i,attrs:m}];if(!ot(n.doc,l.pos,2))return!1;if(o){const{selection:v,storedMarks:x}=r,{splittableMarks:$}=s.extensionManager,C=x||v.$to.parentOffset&&v.$from.marks();if(n.split(l.pos,2,g).scrollIntoView(),!C||!o)return!0;const M=C.filter(I=>$.includes(I.type.name));n.ensureMarks(M)}return!0},nS=(e,t)=>{const n=DT(a=>a.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const o=e.doc.nodeAt(r);return n.node.type===o?.type&&Ht(e.doc,n.pos)&&e.join(n.pos),!0},rS=(e,t)=>{const n=DT(a=>a.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const o=e.doc.nodeAt(r);return n.node.type===o?.type&&Ht(e.doc,r)&&e.join(r),!0},Ttt=(e,t,n,r={})=>({editor:o,tr:s,state:a,dispatch:i,chain:l,commands:c,can:u})=>{const{extensions:d,splittableMarks:f}=o.extensionManager,p=Uo(e,a.schema),m=Uo(t,a.schema),{selection:h,storedMarks:g}=a,{$from:v,$to:x}=h,$=v.blockRange(x),C=g||h.$to.parentOffset&&h.$from.marks();if(!$)return!1;const M=DT(I=>dF(I.type.name,d))(h);if($.depth>=1&&M&&$.depth-M.depth<=1){if(M.node.type===p)return c.liftListItem(m);if(dF(M.node.type.name,d)&&p.validContent(M.node.content)&&i)return l().command(()=>(s.setNodeMarkup(M.pos,p),!0)).command(()=>nS(s,p)).command(()=>rS(s,p)).run()}return!n||!C||!i?l().command(()=>u().wrapInList(p,r)?!0:c.clearNodes()).wrapInList(p,r).command(()=>nS(s,p)).command(()=>rS(s,p)).run():l().command(()=>{const I=u().wrapInList(p,r),E=C.filter(P=>f.includes(P.type.name));return s.ensureMarks(E),I?!0:c.clearNodes()}).wrapInList(p,r).command(()=>nS(s,p)).command(()=>rS(s,p)).run()},Ett=(e,t={},n={})=>({state:r,commands:o})=>{const{extendEmptyMarkRange:s=!1}=n,a=wu(e,r.schema);return vtt(r,a,t)?o.unsetMark(a,{extendEmptyMarkRange:s}):o.setMark(a,t)},Itt=(e,t,n={})=>({state:r,commands:o})=>{const s=Uo(e,r.schema),a=Uo(t,r.schema),i=NT(r,s,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),i?o.setNode(a,l):o.setNode(s,{...l,...n})},Ptt=(e,t={})=>({state:n,commands:r})=>{const o=Uo(e,n.schema);return NT(n,o,t)?r.lift(o):r.wrapIn(o,t)},Ott=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const o=n[r];let s;if(o.spec.isInputRules&&(s=o.getState(e))){if(t){const a=e.tr,i=s.transform;for(let l=i.steps.length-1;l>=0;l-=1)a.step(i.steps[l].invert(i.docs[l]));if(s.text){const l=a.doc.resolve(s.from).marks();a.replaceWith(s.from,s.to,e.schema.text(s.text,l))}else a.delete(s.from,s.to)}return!0}}return!1},Rtt=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:o}=n;return r||t&&o.forEach(s=>{e.removeMark(s.$from.pos,s.$to.pos)}),!0},Btt=(e,t={})=>({tr:n,state:r,dispatch:o})=>{var s;const{extendEmptyMarkRange:a=!1}=t,{selection:i}=n,l=wu(e,r.schema),{$from:c,empty:u,ranges:d}=i;if(!o)return!0;if(u&&a){let{from:f,to:p}=i;const m=(s=c.marks().find(g=>g.type===l))==null?void 0:s.attrs,h=XK(c,l,m);h&&(f=h.from,p=h.to),n.removeMark(f,p,l)}else d.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,l)});return n.removeStoredMark(l),!0},Ntt=e=>({tr:t,state:n,dispatch:r})=>{const{selection:o}=n;let s,a;return typeof e=="number"?(s=e,a=e):e&&"from"in e&&"to"in e?(s=e.from,a=e.to):(s=o.from,a=o.to),r&&t.doc.nodesBetween(s,a,(i,l)=>{if(i.isText)return;const c={...i.attrs};delete c.dir,t.setNodeMarkup(l,void 0,c)}),!0},Dtt=(e,t={})=>({tr:n,state:r,dispatch:o})=>{let s=null,a=null;const i=nH(typeof e=="string"?e:e.name,r.schema);if(!i)return!1;i==="node"&&(s=Uo(e,r.schema)),i==="mark"&&(a=wu(e,r.schema));let l=!1;return n.selection.ranges.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;let f,p,m,h;n.selection.empty?r.doc.nodesBetween(u,d,(g,v)=>{s&&s===g.type&&(l=!0,m=Math.max(v,u),h=Math.min(v+g.nodeSize,d),f=v,p=g)}):r.doc.nodesBetween(u,d,(g,v)=>{v<u&&s&&s===g.type&&(l=!0,m=Math.max(v,u),h=Math.min(v+g.nodeSize,d),f=v,p=g),v>=u&&v<=d&&(s&&s===g.type&&(l=!0,o&&n.setNodeMarkup(v,void 0,{...g.attrs,...t})),a&&g.marks.length&&g.marks.forEach(x=>{if(a===x.type&&(l=!0,o)){const $=Math.max(v,u),C=Math.min(v+g.nodeSize,d);n.addMark($,C,a.create({...x.attrs,...t}))}}))}),p&&(f!==void 0&&o&&n.setNodeMarkup(f,void 0,{...p.attrs,...t}),a&&p.marks.length&&p.marks.forEach(g=>{a===g.type&&o&&n.addMark(m,h,a.create({...g.attrs,...t}))}))}),l},Ftt=(e,t={})=>({state:n,dispatch:r})=>{const o=Uo(e,n.schema);return ho(o,t)(n,r)},qtt=(e,t={})=>({state:n,dispatch:r})=>{const o=Uo(e,n.schema);return go(o,t)(n,r)};function ztt(e){return Object.prototype.toString.call(e).slice(8,-1)}function ny(e){return ztt(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function oH(e,t){const n={...e};return ny(e)&&ny(t)&&Object.keys(t).forEach(r=>{ny(t[r])&&ny(e[r])?n[r]=oH(e[r],t[r]):n[r]=t[r]}),n}var Ltt=class{constructor(e={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...e},this.name=this.config.name}get options(){return{...J0(of(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...J0(of(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(e={}){const t=this.extend({...this.config,addOptions:()=>oH(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new this.constructor({...this.config,...e});return t.parent=this,this.child=t,t.name="name"in e?e.name:t.parent.name,t}},jtt={};BT(jtt,{ClipboardTextSerializer:()=>Vtt,Commands:()=>Utt,Delete:()=>Ktt,Drop:()=>Htt,Editable:()=>Wtt,FocusEvents:()=>Gtt,Keymap:()=>Jtt,Paste:()=>Ytt,Tabindex:()=>Qtt,TextDirection:()=>Xtt,focusEventsPluginKey:()=>aH});var Gr=class sH extends Ltt{constructor(){super(...arguments),this.type="extension"}static create(t={}){const n=typeof t=="function"?t():t;return new sH(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},Vtt=Gr.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Se({key:new Ce("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:o}=t,{ranges:s}=o,a=Math.min(...s.map(u=>u.$from.pos)),i=Math.max(...s.map(u=>u.$to.pos)),l=ptt(n);return ftt(r,{from:a,to:i},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),Utt=Gr.create({name:"commands",addCommands(){return{...YK}}}),Ktt=Gr.create({name:"delete",onUpdate({transaction:e,appendedTransactions:t}){var n,r,o;const s=()=>{var a,i,l,c;if((c=(l=(i=(a=this.editor.options.coreExtensionOptions)==null?void 0:a.delete)==null?void 0:i.filterTransaction)==null?void 0:l.call(i,e))!=null?c:e.getMeta("y-sync$"))return;const u=ltt(e.before,[e,...t]);gtt(u).forEach(p=>{u.mapping.mapResult(p.oldRange.from).deletedAfter&&u.mapping.mapResult(p.oldRange.to).deletedBefore&&u.before.nodesBetween(p.oldRange.from,p.oldRange.to,(m,h)=>{const g=h+m.nodeSize-2,v=p.oldRange.from<=h&&g<=p.oldRange.to;this.editor.emit("delete",{type:"node",node:m,from:h,to:g,newFrom:u.mapping.map(h),newTo:u.mapping.map(g),deletedRange:p.oldRange,newRange:p.newRange,partial:!v,editor:this.editor,transaction:e,combinedTransform:u})})});const f=u.mapping;u.steps.forEach((p,m)=>{var h,g;if(p instanceof En){const v=f.slice(m).map(p.from,-1),x=f.slice(m).map(p.to),$=f.invert().map(v,-1),C=f.invert().map(x),M=(h=u.doc.nodeAt(v-1))==null?void 0:h.marks.some(E=>E.eq(p.mark)),I=(g=u.doc.nodeAt(x))==null?void 0:g.marks.some(E=>E.eq(p.mark));this.editor.emit("delete",{type:"mark",mark:p.mark,from:p.from,to:p.to,deletedRange:{from:$,to:C},newRange:{from:v,to:x},partial:!!(I||M),editor:this.editor,transaction:e,combinedTransform:u})}})};(o=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||o?setTimeout(s,0):s()}}),Htt=Gr.create({name:"drop",addProseMirrorPlugins(){return[new Se({key:new Ce("tiptapDrop"),props:{handleDrop:(e,t,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:r})}}})]}}),Wtt=Gr.create({name:"editable",addProseMirrorPlugins(){return[new Se({key:new Ce("editable"),props:{editable:()=>this.editor.options.editable}})]}}),aH=new Ce("focusEvents"),Gtt=Gr.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new Se({key:aH,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),Jtt=Gr.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:i})=>{const{selection:l,doc:c}=i,{empty:u,$anchor:d}=l,{pos:f,parent:p}=d,m=d.parent.isTextblock&&f>0?i.doc.resolve(f-1):d,h=m.parent.type.spec.isolating,g=d.pos-d.parentOffset,v=h&&m.parent.childCount===1?g===d.pos:Pe.atStart(c).from===f;return!u||!p.type.isTextblock||p.textContent.length||!v||v&&d.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},o={...r},s={...r,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return G0()||tH()?s:o},addProseMirrorPlugins(){return[new Se({key:new Ce("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(h=>h.getMeta("composition")))return;const r=e.some(h=>h.docChanged)&&!t.doc.eq(n.doc),o=e.some(h=>h.getMeta("preventClearDocument"));if(!r||o)return;const{empty:s,from:a,to:i}=t.selection,l=Pe.atStart(t.doc).from,c=Pe.atEnd(t.doc).to;if(s||!(a===l&&i===c)||!FT(n.doc))return;const f=n.tr,p=JK({state:n,transaction:f}),{commands:m}=new fet({editor:this.editor,state:p});if(m.clearNodes(),!!f.steps.length)return f}})]}}),Ytt=Gr.create({name:"paste",addProseMirrorPlugins(){return[new Se({key:new Ce("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),Qtt=Gr.create({name:"tabindex",addProseMirrorPlugins(){return[new Se({key:new Ce("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),Xtt=Gr.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:e}=rH(this.extensions);return[{types:e.filter(t=>t.name!=="text").map(t=>t.name),attributes:{dir:{default:this.options.direction,parseHTML:t=>{const n=t.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:t=>t.dir?{dir:t.dir}:{}}}}]},addProseMirrorPlugins(){return[new Se({key:new Ce("textDirection"),props:{attributes:()=>{const e=this.options.direction;return e?{dir:e}:{}}}})]}}),Ztt={};BT(Ztt,{createAtomBlockMarkdownSpec:()=>ent,createBlockMarkdownSpec:()=>tnt,createInlineMarkdownSpec:()=>ont,parseAttributes:()=>qT,parseIndentedBlocks:()=>snt,renderNestedMarkdownContent:()=>ant,serializeAttributes:()=>zT});function qT(e){if(!e?.trim())return{};const t={},n=[],r=e.replace(/["']([^"']*)["']/g,c=>(n.push(c),`__QUOTED_${n.length-1}__`)),o=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(o){const c=o.map(u=>u.trim().slice(1));t.class=c.join(" ")}const s=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);s&&(t.id=s[1]);const a=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(a)).forEach(([,c,u])=>{var d;const f=parseInt(((d=u.match(/__QUOTED_(\d+)__/))==null?void 0:d[1])||"0",10),p=n[f];p&&(t[c]=p.slice(1,-1))});const l=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return l&&l.split(/\s+/).filter(Boolean).forEach(u=>{u.match(/^[a-zA-Z][\w-]*$/)&&(t[u]=!0)}),t}function zT(e){if(!e||Object.keys(e).length===0)return"";const t=[];return e.class&&String(e.class).split(/\s+/).filter(Boolean).forEach(r=>t.push(`.${r}`)),e.id&&t.push(`#${e.id}`),Object.entries(e).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?t.push(n):r!==!1&&r!=null&&t.push(`${n}="${String(r)}"`))}),t.join(" ")}function ent(e){const{nodeName:t,name:n,parseAttributes:r=qT,serializeAttributes:o=zT,defaultAttributes:s={},requiredAttributes:a=[],allowedAttributes:i}=e,l=n||t,c=u=>{if(!i)return u;const d={};return i.forEach(f=>{f in u&&(d[f]=u[f])}),d};return{parseMarkdown:(u,d)=>{const f={...s,...u.attributes};return d.createNode(t,f,[])},markdownTokenizer:{name:t,level:"block",start(u){var d;const f=new RegExp(`^:::${l}(?:\\s|$)`,"m"),p=(d=u.match(f))==null?void 0:d.index;return p!==void 0?p:-1},tokenize(u,d,f){const p=new RegExp(`^:::${l}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),m=u.match(p);if(!m)return;const h=m[1]||"",g=r(h);if(!a.find(x=>!(x in g)))return{type:t,raw:m[0],attributes:g}}},renderMarkdown:u=>{const d=c(u.attrs||{}),f=o(d),p=f?` {${f}}`:"";return`:::${l}${p} :::`}}}function tnt(e){const{nodeName:t,name:n,getContent:r,parseAttributes:o=qT,serializeAttributes:s=zT,defaultAttributes:a={},content:i="block",allowedAttributes:l}=e,c=n||t,u=d=>{if(!l)return d;const f={};return l.forEach(p=>{p in d&&(f[p]=d[p])}),f};return{parseMarkdown:(d,f)=>{let p;if(r){const h=r(d);p=typeof h=="string"?[{type:"text",text:h}]:h}else i==="block"?p=f.parseChildren(d.tokens||[]):p=f.parseInline(d.tokens||[]);const m={...a,...d.attributes};return f.createNode(t,m,p)},markdownTokenizer:{name:t,level:"block",start(d){var f;const p=new RegExp(`^:::${c}`,"m"),m=(f=d.match(p))==null?void 0:f.index;return m!==void 0?m:-1},tokenize(d,f,p){var m;const h=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),g=d.match(h);if(!g)return;const[v,x=""]=g,$=o(x);let C=1;const M=v.length;let I="";const E=/^:::([\w-]*)(\s.*)?/gm,P=d.slice(M);for(E.lastIndex=0;;){const O=E.exec(P);if(O===null)break;const D=O.index,L=O[1];if(!((m=O[2])!=null&&m.endsWith(":::"))){if(L)C+=1;else if(C-=1,C===0){const V=P.slice(0,D);I=V.trim();const F=d.slice(0,M+D+O[0].length);let z=[];if(I)if(i==="block")for(z=p.blockTokens(V),z.forEach(N=>{N.text&&(!N.tokens||N.tokens.length===0)&&(N.tokens=p.inlineTokens(N.text))});z.length>0;){const N=z[z.length-1];if(N.type==="paragraph"&&(!N.text||N.text.trim()===""))z.pop();else break}else z=p.inlineTokens(I);return{type:t,raw:F,attributes:$,content:I,tokens:z}}}}}},renderMarkdown:(d,f)=>{const p=u(d.attrs||{}),m=s(p),h=m?` {${m}}`:"",g=f.renderChildren(d.content||[],`

`);return`:::${c}${h}

${g}

:::`}}}function nnt(e){if(!e.trim())return{};const t={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(e);for(;r!==null;){const[,o,s,a]=r;t[o]=s||a,r=n.exec(e)}return t}function rnt(e){return Object.entries(e).filter(([,t])=>t!=null).map(([t,n])=>`${t}="${n}"`).join(" ")}function ont(e){const{nodeName:t,name:n,getContent:r,parseAttributes:o=nnt,serializeAttributes:s=rnt,defaultAttributes:a={},selfClosing:i=!1,allowedAttributes:l}=e,c=n||t,u=f=>{if(!l)return f;const p={};return l.forEach(m=>{const h=typeof m=="string"?m:m.name,g=typeof m=="string"?void 0:m.skipIfDefault;if(h in f){const v=f[h];if(g!==void 0&&v===g)return;p[h]=v}}),p},d=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(f,p)=>{const m={...a,...f.attributes};if(i)return p.createNode(t,m);const h=r?r(f):f.content||"";return h?p.createNode(t,m,[p.createTextNode(h)]):p.createNode(t,m,[])},markdownTokenizer:{name:t,level:"inline",start(f){const p=i?new RegExp(`\\[${d}\\s*[^\\]]*\\]`):new RegExp(`\\[${d}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${d}\\]`),m=f.match(p),h=m?.index;return h!==void 0?h:-1},tokenize(f,p,m){const h=i?new RegExp(`^\\[${d}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${d}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${d}\\]`),g=f.match(h);if(!g)return;let v="",x="";if(i){const[,C]=g;x=C}else{const[,C,M]=g;x=C,v=M||""}const $=o(x.trim());return{type:t,raw:g[0],content:v.trim(),attributes:$}}},renderMarkdown:f=>{let p="";r?p=r(f):f.content&&f.content.length>0&&(p=f.content.filter(v=>v.type==="text").map(v=>v.text).join(""));const m=u(f.attrs||{}),h=s(m),g=h?` ${h}`:"";return i?`[${c}${g}]`:`[${c}${g}]${p}[/${c}]`}}}function snt(e,t,n){var r,o,s,a;const i=e.split(`
`),l=[];let c="",u=0;const d=t.baseIndentSize||2;for(;u<i.length;){const f=i[u],p=f.match(t.itemPattern);if(!p){if(l.length>0)break;if(f.trim()===""){u+=1,c=`${c}${f}
`;continue}else return}const m=t.extractItemData(p),{indentLevel:h,mainContent:g}=m;c=`${c}${f}
`;const v=[g];for(u+=1;u<i.length;){const M=i[u];if(M.trim()===""){const E=i.slice(u+1).findIndex(D=>D.trim()!=="");if(E===-1)break;if((((o=(r=i[u+1+E].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:o.length)||0)>h){v.push(M),c=`${c}${M}
`,u+=1;continue}else break}if((((a=(s=M.match(/^(\s*)/))==null?void 0:s[1])==null?void 0:a.length)||0)>h)v.push(M),c=`${c}${M}
`,u+=1;else break}let x;const $=v.slice(1);if($.length>0){const M=$.map(I=>I.slice(h+d)).join(`
`);M.trim()&&(t.customNestedParser?x=t.customNestedParser(M):x=n.blockTokens(M))}const C=t.createToken(m,x);l.push(C)}if(l.length!==0)return{items:l,raw:c}}function ant(e,t,n,r){if(!e||!Array.isArray(e.content))return"";const o=typeof n=="function"?n(r):n,[s,...a]=e.content,i=t.renderChildren([s]),l=[`${o}${i}`];return a&&a.length>0&&a.forEach(c=>{const u=t.renderChildren([c]);if(u){const d=u.split(`
`).map(f=>f?t.indent(f):"").join(`
`);l.push(d)}}),l.join(`
`)}function int(e={}){return new Se({view(t){return new lnt(t,e)}})}class lnt{constructor(t,n){var r;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(o=>{let s=a=>{this[o](a)};return t.dom.addEventListener(o,s),{name:o,handler:s}})}destroy(){this.handlers.forEach(({name:t,handler:n})=>this.editorView.dom.removeEventListener(t,n))}update(t,n){this.cursorPos!=null&&n.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,t==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t=this.editorView.state.doc.resolve(this.cursorPos),n=!t.parent.inlineContent,r,o=this.editorView.dom,s=o.getBoundingClientRect(),a=s.width/o.offsetWidth,i=s.height/o.offsetHeight;if(n){let d=t.nodeBefore,f=t.nodeAfter;if(d||f){let p=this.editorView.nodeDOM(this.cursorPos-(d?d.nodeSize:0));if(p){let m=p.getBoundingClientRect(),h=d?m.bottom:m.top;d&&f&&(h=(h+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let g=this.width/2*i;r={left:m.left,right:m.right,top:h-g,bottom:h+g}}}}if(!r){let d=this.editorView.coordsAtPos(this.cursorPos),f=this.width/2*a;r={left:d.left-f,right:d.left+f,top:d.top,bottom:d.bottom}}let l=this.editorView.dom.offsetParent;this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let c,u;if(!l||l==document.body&&getComputedStyle(l).position=="static")c=-pageXOffset,u=-pageYOffset;else{let d=l.getBoundingClientRect(),f=d.width/l.offsetWidth,p=d.height/l.offsetHeight;c=d.left-l.scrollLeft*f,u=d.top-l.scrollTop*p}this.element.style.left=(r.left-c)/a+"px",this.element.style.top=(r.top-u)/i+"px",this.element.style.width=(r.right-r.left)/a+"px",this.element.style.height=(r.bottom-r.top)/i+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),t)}dragover(t){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),o=r&&r.type.spec.disableDropCursor,s=typeof o=="function"?o(this.editorView,n,t):o;if(n&&!s){let a=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let i=GV(this.editorView.state.doc,a,this.editorView.dragging.slice);i!=null&&(a=i)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)}}class rr extends Pe{constructor(t){super(t,t)}map(t,n){let r=t.resolve(n.map(this.head));return rr.valid(r)?new rr(r):Pe.near(r)}content(){return Je.empty}eq(t){return t instanceof rr&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new rr(t.resolve(n.pos))}getBookmark(){return new LT(this.anchor)}static valid(t){let n=t.parent;if(n.isTextblock||!unt(t)||!cnt(t))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let o=n.contentMatchAt(t.index()).defaultType;return o&&o.isTextblock}static findGapCursorFrom(t,n,r=!1){e:for(;;){if(!r&&rr.valid(t))return t;let o=t.pos,s=null;for(let a=t.depth;;a--){let i=t.node(a);if(n>0?t.indexAfter(a)<i.childCount:t.index(a)>0){s=i.child(n>0?t.indexAfter(a):t.index(a)-1);break}else if(a==0)return null;o+=n;let l=t.doc.resolve(o);if(rr.valid(l))return l}for(;;){let a=n>0?s.firstChild:s.lastChild;if(!a){if(s.isAtom&&!s.isText&&!Ge.isSelectable(s)){t=t.doc.resolve(o+s.nodeSize*n),r=!1;continue e}break}s=a,o+=n;let i=t.doc.resolve(o);if(rr.valid(i))return i}return null}}}rr.prototype.visible=!1;rr.findFrom=rr.findGapCursorFrom;Pe.jsonID("gapcursor",rr);class LT{constructor(t){this.pos=t}map(t){return new LT(t.map(this.pos))}resolve(t){let n=t.resolve(this.pos);return rr.valid(n)?new rr(n):Pe.near(n)}}function iH(e){return e.isAtom||e.spec.isolating||e.spec.createGapCursor}function unt(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let o=r.child(n-1);;o=o.lastChild){if(o.childCount==0&&!o.inlineContent||iH(o.type))return!0;if(o.inlineContent)return!1}}return!0}function cnt(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let o=r.child(n);;o=o.firstChild){if(o.childCount==0&&!o.inlineContent||iH(o.type))return!0;if(o.inlineContent)return!1}}return!0}function dnt(){return new Se({props:{decorations:hnt,createSelectionBetween(e,t,n){return t.pos==n.pos&&rr.valid(n)?new rr(n):null},handleClick:pnt,handleKeyDown:fnt,handleDOMEvents:{beforeinput:mnt}}})}const fnt=L4({ArrowLeft:ry("horiz",-1),ArrowRight:ry("horiz",1),ArrowUp:ry("vert",-1),ArrowDown:ry("vert",1)});function ry(e,t){const n=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(r,o,s){let a=r.selection,i=t>0?a.$to:a.$from,l=a.empty;if(a instanceof ie){if(!s.endOfTextblock(n)||i.depth==0)return!1;l=!1,i=r.doc.resolve(t>0?i.after():i.before())}let c=rr.findGapCursorFrom(i,t,l);return c?(o&&o(r.tr.setSelection(new rr(c))),!0):!1}}function pnt(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!rr.valid(r))return!1;let o=e.posAtCoords({left:n.clientX,top:n.clientY});return o&&o.inside>-1&&Ge.isSelectable(e.state.doc.nodeAt(o.inside))?!1:(e.dispatch(e.state.tr.setSelection(new rr(r))),!0)}function mnt(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof rr))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let o=de.empty;for(let a=r.length-1;a>=0;a--)o=de.from(r[a].createAndFill(null,o));let s=e.state.tr.replace(n.pos,n.pos,new Je(o,0,0));return s.setSelection(ie.near(s.doc.resolve(n.pos+1))),e.dispatch(s),!1}function hnt(e){if(!(e.selection instanceof rr))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",Xn.create(e.doc,[ns.widget(e.selection.head,t,{key:"gapcursor"})])}var Y0=200,Rr=function(){};Rr.prototype.append=function(t){return t.length?(t=Rr.from(t),!this.length&&t||t.length<Y0&&this.leafAppend(t)||this.length<Y0&&t.leafPrepend(this)||this.appendInner(t)):this};Rr.prototype.prepend=function(t){return t.length?Rr.from(t).append(this):this};Rr.prototype.appendInner=function(t){return new gnt(this,t)};Rr.prototype.slice=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.length),t>=n?Rr.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,n))};Rr.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};Rr.prototype.forEach=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(t,n,r,0):this.forEachInvertedInner(t,n,r,0)};Rr.prototype.map=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var o=[];return this.forEach(function(s,a){return o.push(t(s,a))},n,r),o};Rr.from=function(t){return t instanceof Rr?t:t&&t.length?new lH(t):Rr.empty};var lH=(function(e){function t(r){e.call(this),this.values=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(o,s){return o==0&&s==this.length?this:new t(this.values.slice(o,s))},t.prototype.getInner=function(o){return this.values[o]},t.prototype.forEachInner=function(o,s,a,i){for(var l=s;l<a;l++)if(o(this.values[l],i+l)===!1)return!1},t.prototype.forEachInvertedInner=function(o,s,a,i){for(var l=s-1;l>=a;l--)if(o(this.values[l],i+l)===!1)return!1},t.prototype.leafAppend=function(o){if(this.length+o.length<=Y0)return new t(this.values.concat(o.flatten()))},t.prototype.leafPrepend=function(o){if(this.length+o.length<=Y0)return new t(o.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t})(Rr);Rr.empty=new lH([]);var gnt=(function(e){function t(n,r){e.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},t.prototype.forEachInner=function(r,o,s,a){var i=this.left.length;if(o<i&&this.left.forEachInner(r,o,Math.min(s,i),a)===!1||s>i&&this.right.forEachInner(r,Math.max(o-i,0),Math.min(this.length,s)-i,a+i)===!1)return!1},t.prototype.forEachInvertedInner=function(r,o,s,a){var i=this.left.length;if(o>i&&this.right.forEachInvertedInner(r,o-i,Math.max(s,i)-i,a+i)===!1||s<i&&this.left.forEachInvertedInner(r,Math.min(o,i),s,a)===!1)return!1},t.prototype.sliceInner=function(r,o){if(r==0&&o==this.length)return this;var s=this.left.length;return o<=s?this.left.slice(r,o):r>=s?this.right.slice(r-s,o-s):this.left.slice(r,s).append(this.right.slice(0,o-s))},t.prototype.leafAppend=function(r){var o=this.right.leafAppend(r);if(o)return new t(this.left,o)},t.prototype.leafPrepend=function(r){var o=this.left.leafPrepend(r);if(o)return new t(o,this.right)},t.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new t(this.left,new t(this.right,r)):new t(this,r)},t})(Rr);const vnt=500;class va{constructor(t,n){this.items=t,this.eventCount=n}popEvent(t,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let o,s;n&&(o=this.remapping(r,this.items.length),s=o.maps.length);let a=t.tr,i,l,c=[],u=[];return this.items.forEach((d,f)=>{if(!d.step){o||(o=this.remapping(r,f+1),s=o.maps.length),s--,u.push(d);return}if(o){u.push(new La(d.map));let p=d.step.map(o.slice(s)),m;p&&a.maybeStep(p).doc&&(m=a.mapping.maps[a.mapping.maps.length-1],c.push(new La(m,void 0,void 0,c.length+u.length))),s--,m&&o.appendMap(m,s)}else a.maybeStep(d.step);if(d.selection)return i=o?d.selection.map(o.slice(s)):d.selection,l=new va(this.items.slice(0,r).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:a,selection:i}}addTransform(t,n,r,o){let s=[],a=this.eventCount,i=this.items,l=!o&&i.length?i.get(i.length-1):null;for(let u=0;u<t.steps.length;u++){let d=t.steps[u].invert(t.docs[u]),f=new La(t.mapping.maps[u],d,n),p;(p=l&&l.merge(f))&&(f=p,u?s.pop():i=i.slice(0,i.length-1)),s.push(f),n&&(a++,n=void 0),o||(l=f)}let c=a-r.depth;return c>bnt&&(i=ynt(i,c),a-=c),new va(i.append(s),a)}remapping(t,n){let r=new cm;return this.items.forEach((o,s)=>{let a=o.mirrorOffset!=null&&s-o.mirrorOffset>=t?r.maps.length-o.mirrorOffset:void 0;r.appendMap(o.map,a)},t,n),r}addMaps(t){return this.eventCount==0?this:new va(this.items.append(t.map(n=>new La(n))),this.eventCount)}rebased(t,n){if(!this.eventCount)return this;let r=[],o=Math.max(0,this.items.length-n),s=t.mapping,a=t.steps.length,i=this.eventCount;this.items.forEach(f=>{f.selection&&i--},o);let l=n;this.items.forEach(f=>{let p=s.getMirror(--l);if(p==null)return;a=Math.min(a,p);let m=s.maps[p];if(f.step){let h=t.steps[p].invert(t.docs[p]),g=f.selection&&f.selection.map(s.slice(l+1,p));g&&i++,r.push(new La(m,h,g))}else r.push(new La(m))},o);let c=[];for(let f=n;f<a;f++)c.push(new La(s.maps[f]));let u=this.items.slice(0,o).append(c).append(r),d=new va(u,i);return d.emptyItemCount()>vnt&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let t=0;return this.items.forEach(n=>{n.step||t++}),t}compress(t=this.items.length){let n=this.remapping(0,t),r=n.maps.length,o=[],s=0;return this.items.forEach((a,i)=>{if(i>=t)o.push(a),a.selection&&s++;else if(a.step){let l=a.step.map(n.slice(r)),c=l&&l.getMap();if(r--,c&&n.appendMap(c,r),l){let u=a.selection&&a.selection.map(n.slice(r));u&&s++;let d=new La(c.invert(),l,u),f,p=o.length-1;(f=o.length&&o[p].merge(d))?o[p]=f:o.push(d)}}else a.map&&r--},this.items.length,0),new va(Rr.from(o.reverse()),s)}}va.empty=new va(Rr.empty,0);function ynt(e,t){let n;return e.forEach((r,o)=>{if(r.selection&&t--==0)return n=o,!1}),e.slice(n)}class La{constructor(t,n,r,o){this.map=t,this.step=n,this.selection=r,this.mirrorOffset=o}merge(t){if(this.step&&t.step&&!t.selection){let n=t.step.merge(this.step);if(n)return new La(n.getMap().invert(),n,this.selection)}}}class Ol{constructor(t,n,r,o,s){this.done=t,this.undone=n,this.prevRanges=r,this.prevTime=o,this.prevComposition=s}}const bnt=20;function xnt(e,t,n,r){let o=n.getMeta(yc),s;if(o)return o.historyState;n.getMeta(_nt)&&(e=new Ol(e.done,e.undone,null,0,-1));let a=n.getMeta("appendedTransaction");if(n.steps.length==0)return e;if(a&&a.getMeta(yc))return a.getMeta(yc).redo?new Ol(e.done.addTransform(n,void 0,r,jy(t)),e.undone,pF(n.mapping.maps),e.prevTime,e.prevComposition):new Ol(e.done,e.undone.addTransform(n,void 0,r,jy(t)),null,e.prevTime,e.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let i=n.getMeta("composition"),l=e.prevTime==0||!a&&e.prevComposition!=i&&(e.prevTime<(n.time||0)-r.newGroupDelay||!wnt(n,e.prevRanges)),c=a?oS(e.prevRanges,n.mapping):pF(n.mapping.maps);return new Ol(e.done.addTransform(n,l?t.selection.getBookmark():void 0,r,jy(t)),va.empty,c,n.time,i??e.prevComposition)}else return(s=n.getMeta("rebased"))?new Ol(e.done.rebased(n,s),e.undone.rebased(n,s),oS(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new Ol(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),oS(e.prevRanges,n.mapping),e.prevTime,e.prevComposition)}function wnt(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((r,o)=>{for(let s=0;s<t.length;s+=2)r<=t[s+1]&&o>=t[s]&&(n=!0)}),n}function pF(e){let t=[];for(let n=e.length-1;n>=0&&t.length==0;n--)e[n].forEach((r,o,s,a)=>t.push(s,a));return t}function oS(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let o=t.map(e[r],1),s=t.map(e[r+1],-1);o<=s&&n.push(o,s)}return n}function knt(e,t,n){let r=jy(t),o=yc.get(t).spec.config,s=(n?e.undone:e.done).popEvent(t,r);if(!s)return null;let a=s.selection.resolve(s.transform.doc),i=(n?e.done:e.undone).addTransform(s.transform,t.selection.getBookmark(),o,r),l=new Ol(n?i:s.remaining,n?s.remaining:i,null,0,-1);return s.transform.setSelection(a).setMeta(yc,{redo:n,historyState:l})}let sS=!1,mF=null;function jy(e){let t=e.plugins;if(mF!=t){sS=!1,mF=t;for(let n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){sS=!0;break}}return sS}const yc=new Ce("history"),_nt=new Ce("closeHistory");function Snt(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new Se({key:yc,state:{init(){return new Ol(va.empty,va.empty,null,0,-1)},apply(t,n,r){return xnt(n,r,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,n){let r=n.inputType,o=r=="historyUndo"?cH:r=="historyRedo"?dH:null;return!o||!t.editable?!1:(n.preventDefault(),o(t.state,t.dispatch))}}}})}function uH(e,t){return(n,r)=>{let o=yc.getState(n);if(!o||(e?o.undone:o.done).eventCount==0)return!1;if(r){let s=knt(o,n,e);s&&r(t?s.scrollIntoView():s)}return!0}}const cH=uH(!1,!0),dH=uH(!0,!0);Gr.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:e=>e.length,wordCounter:e=>e.split(" ").filter(t=>t!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=e=>{const t=e?.node||this.editor.state.doc;if((e?.mode||this.options.mode)==="textSize"){const r=t.textBetween(0,t.content.size,void 0," ");return this.options.textCounter(r)}return t.nodeSize},this.storage.words=e=>{const t=e?.node||this.editor.state.doc,n=t.textBetween(0,t.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let e=!1;return[new Se({key:new Ce("characterCount"),appendTransaction:(t,n,r)=>{if(e)return;const o=this.options.limit;if(o==null||o===0){e=!0;return}const s=this.storage.characters({node:r.doc});if(s>o){const a=s-o,i=0,l=a;console.warn(`[CharacterCount] Initial content exceeded limit of ${o} characters. Content was automatically trimmed.`);const c=r.tr.deleteRange(i,l);return e=!0,c}e=!0},filterTransaction:(t,n)=>{const r=this.options.limit;if(!t.docChanged||r===0||r===null||r===void 0)return!0;const o=this.storage.characters({node:n.doc}),s=this.storage.characters({node:t.doc});if(s<=r||o>r&&s>r&&s<=o)return!0;if(o>r&&s>r&&s>o||!t.getMeta("paste"))return!1;const i=t.selection.$head.pos,l=s-r,c=i-l,u=i;return t.deleteRange(c,u),!(this.storage.characters({node:t.doc})>r)}})]}});var $nt=Gr.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[int(this.options)]}});Gr.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Se({key:new Ce("focus"),props:{decorations:({doc:e,selection:t})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:o}=t,s=[];if(!n||!r)return Xn.create(e,[]);let a=0;this.options.mode==="deepest"&&e.descendants((l,c)=>{if(l.isText)return;if(!(o>=c&&o<=c+l.nodeSize-1))return!1;a+=1});let i=0;return e.descendants((l,c)=>{if(l.isText||!(o>=c&&o<=c+l.nodeSize-1))return!1;if(i+=1,this.options.mode==="deepest"&&a-i>0||this.options.mode==="shallowest"&&i>1)return this.options.mode==="deepest";s.push(ns.node(c,c+l.nodeSize,{class:this.options.className}))}),Xn.create(e,s)}}})]}});var Cnt=Gr.create({name:"gapCursor",addProseMirrorPlugins(){return[dnt()]},extendNodeSchema(e){var t;const n={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:(t=J0(of(e,"allowGapCursor",n)))!=null?t:null}}});Gr.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Se({key:new Ce("placeholder"),props:{decorations:({doc:e,selection:t})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=t,o=[];if(!n)return null;const s=this.editor.isEmpty;return e.descendants((a,i)=>{const l=r>=i&&r<=i+a.nodeSize,c=!a.isLeaf&&FT(a);if((l||!this.options.showOnlyCurrent)&&c){const u=[this.options.emptyNodeClass];s&&u.push(this.options.emptyEditorClass);const d=ns.node(i,i+a.nodeSize,{class:u.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:a,pos:i,hasAnchor:l}):this.options.placeholder});o.push(d)}return this.options.includeChildren}),Xn.create(e,o)}}})]}});Gr.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:e,options:t}=this;return[new Se({key:new Ce("selection"),props:{decorations(n){return n.selection.empty||e.isFocused||!e.isEditable||ytt(n.selection)||e.view.dragging?null:Xn.create(n.doc,[ns.inline(n.selection.from,n.selection.to,{class:t.className})])}}})]}});function hF({types:e,node:t}){return t&&Array.isArray(e)&&e.includes(t.type)||t?.type===e}var Mnt=Gr.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var e;const t=new Ce(this.name),n=this.options.node||((e=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:e.name)||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,o])=>o).filter(o=>(this.options.notAfter||[]).concat(n).includes(o.name));return[new Se({key:t,appendTransaction:(o,s,a)=>{const{doc:i,tr:l,schema:c}=a,u=t.getState(a),d=i.content.size,f=c.nodes[n];if(u)return l.insert(d,f.create())},state:{init:(o,s)=>{const a=s.tr.doc.lastChild;return!hF({node:a,types:r})},apply:(o,s)=>{if(!o.docChanged||o.getMeta("__uniqueIDTransaction"))return s;const a=o.doc.lastChild;return!hF({node:a,types:r})}}})]}}),Ant=Gr.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:e,dispatch:t})=>cH(e,t),redo:()=>({state:e,dispatch:t})=>dH(e,t)}},addProseMirrorPlugins(){return[Snt(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),Tnt=Ta.create({name:"starterKit",addExtensions(){var e,t,n,r;const o=[];return this.options.bold!==!1&&o.push(XNe.configure(this.options.bold)),this.options.blockquote!==!1&&o.push(YRe.configure(this.options.blockquote)),this.options.bulletList!==!1&&o.push(OU.configure(this.options.bulletList)),this.options.code!==!1&&o.push(eqe.configure(this.options.code)),this.options.codeBlock!==!1&&o.push(Zze.configure(this.options.codeBlock)),this.options.document!==!1&&o.push(GLe.configure(this.options.document)),this.options.dropcursor!==!1&&o.push($nt.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&o.push(Cnt.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&o.push(UVe.configure(this.options.hardBreak)),this.options.heading!==!1&&o.push(j8e.configure(this.options.heading)),this.options.undoRedo!==!1&&o.push(Ant.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&o.push(V8e.configure(this.options.horizontalRule)),this.options.italic!==!1&&o.push(K6e.configure(this.options.italic)),this.options.listItem!==!1&&o.push(RU.configure(this.options.listItem)),this.options.listKeymap!==!1&&o.push(zU.configure((e=this.options)==null?void 0:e.listKeymap)),this.options.link!==!1&&o.push(vU.configure((t=this.options)==null?void 0:t.link)),this.options.orderedList!==!1&&o.push(jU.configure(this.options.orderedList)),this.options.paragraph!==!1&&o.push(gGe.configure(this.options.paragraph)),this.options.strike!==!1&&o.push(yYe.configure(this.options.strike)),this.options.text!==!1&&o.push(pXe.configure(this.options.text)),this.options.underline!==!1&&o.push(cet.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&o.push(Mnt.configure((r=this.options)==null?void 0:r.trailingNode)),o}}),Ent=Tnt;const Int=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n},Pnt={class:"border border-gray-200 dark:border-gray-800 rounded-lg overflow-hidden bg-white dark:bg-gray-900 focus-within:ring-2 focus-within:ring-primary-500/20 focus-within:border-primary-500 transition-all duration-200"},Ont={key:0,class:"flex flex-wrap items-center gap-1 p-2 border-b border-gray-100 dark:border-gray-800 bg-gray-50/50 dark:bg-gray-900/50"},Rnt={__name:"TiptapEditor",props:{modelValue:{type:String,default:""}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,r=t,o=XIe({content:n.modelValue,extensions:[Ent,fHe.configure({openOnClick:!1})],editorProps:{attributes:{class:"min-h-[300px] outline-none"}},onUpdate:()=>{r("update:modelValue",o.value.getHTML())}});He(()=>n.modelValue,a=>{o.value.getHTML()!==a&&o.value.commands.setContent(a,!1)});const s=[{icon:"i-lucide-bold",action:"toggleBold",name:"bold",label:"Bold"},{icon:"i-lucide-italic",action:"toggleItalic",name:"italic",label:"Italic"},{icon:"i-lucide-strikethrough",action:"toggleStrike",name:"strike",label:"Strike"},{icon:"i-lucide-code",action:"toggleCode",name:"code",label:"Code"},{icon:"i-lucide-heading-1",action:"toggleHeading",name:"heading",attributes:{level:1},label:"H1"},{icon:"i-lucide-heading-2",action:"toggleHeading",name:"heading",attributes:{level:2},label:"H2"},{icon:"i-lucide-heading-3",action:"toggleHeading",name:"heading",attributes:{level:3},label:"H3"},{icon:"i-lucide-list",action:"toggleBulletList",name:"bulletList",label:"Bullet List"},{icon:"i-lucide-list-ordered",action:"toggleOrderedList",name:"orderedList",label:"Ordered List"},{icon:"i-lucide-quote",action:"toggleBlockquote",name:"blockquote",label:"Blockquote"}];return Tc(()=>{o.value.destroy()}),(a,i)=>{const l=We;return A(),W("div",Pnt,[y(o)?(A(),W("div",Ont,[(A(),W(Ee,null,Ve(s,c=>_(l,{key:c.icon,icon:c.icon,color:y(o).isActive(c.name,c.attributes)?"primary":"neutral",variant:"ghost",size:"xs",disabled:!y(o).can().chain().focus()[c.action](c.attributes).run(),onClick:u=>c.action?y(o).chain().focus()[c.action](c.attributes).run():null,title:c.label},null,8,["icon","color","disabled","onClick","title"])),64)),i[2]||(i[2]=k("div",{class:"w-px h-4 bg-gray-200 dark:bg-gray-700 mx-1"},null,-1)),_(l,{icon:"i-lucide-undo",color:"neutral",variant:"ghost",size:"xs",disabled:!y(o).can().chain().focus().undo().run(),onClick:i[0]||(i[0]=c=>y(o).chain().focus().undo().run()),title:"Undo"},null,8,["disabled"]),_(l,{icon:"i-lucide-redo",color:"neutral",variant:"ghost",size:"xs",disabled:!y(o).can().chain().focus().redo().run(),onClick:i[1]||(i[1]=c=>y(o).chain().focus().redo().run()),title:"Redo"},null,8,["disabled"])])):X("",!0),_(y(QIe),{editor:y(o),class:"prose prose-sm dark:prose-invert max-w-none p-4 min-h-[300px] outline-none"},null,8,["editor"])])}}},fH=Int(Rnt,[["__scopeId","data-v-0c45b4e4"]]),Bnt={class:"grid grid-cols-3 gap-6"},Nnt={class:"col-span-2 space-y-6"},Dnt={class:"space-y-6"},Fnt={class:"space-y-3"},qnt={key:0,class:"relative"},znt=["src"],Lnt={class:"flex items-center gap-3"},jnt={class:"text-sm"},Vnt={class:"flex gap-2 pt-4 border-t"},Unt={__name:"Create",setup(e){const t=Rt({title:"",excerpt:"",content:"",image:null,category:"Kegiatan",published_at:new Date().toISOString().slice(0,16),is_published:!0}),n=["Kegiatan","Prestasi","Acara","Pengumuman","Artikel"],r=K(null),o=i=>{const l=i.target.files[0];if(l){t.image=l;const c=new FileReader;c.onload=u=>{r.value=u.target.result},c.readAsDataURL(l)}},s=()=>{t.image=null,r.value=null},a=()=>{t.post("/dashboard/cms/posts")};return(i,l)=>{const c=We,u=bt,d=qt,f=Wn,p=er,m=kV,h=li,g=ht;return A(),B($t,{title:"Tambah Berita",heading:"Buat Berita Baru",description:"Tambahkan berita atau artikel baru","page-id":"cms-posts-create"},{header:S(()=>[_(c,{color:"neutral",icon:"i-lucide-arrow-left",label:"Kembali",variant:"ghost",to:"/dashboard/cms/posts"})]),default:S(()=>[_(g,null,{default:S(()=>[_(h,{state:y(t),onSubmit:a,class:"space-y-6 p-4 max-w-6xl mx-auto"},{default:S(()=>[k("div",Bnt,[k("div",Nnt,[_(d,{label:"Judul Berita",name:"title",required:""},{default:S(()=>[_(u,{modelValue:y(t).title,"onUpdate:modelValue":l[0]||(l[0]=v=>y(t).title=v),placeholder:"Masukkan judul berita...",size:"lg",class:"w-full"},null,8,["modelValue"])]),_:1}),_(d,{label:"Ringkasan",name:"excerpt",required:"",hint:"Ringkasan singkat untuk preview (max 500 karakter)"},{default:S(()=>[_(f,{modelValue:y(t).excerpt,"onUpdate:modelValue":l[1]||(l[1]=v=>y(t).excerpt=v),placeholder:"Masukkan ringkasan berita...",rows:3,class:"w-full"},null,8,["modelValue"])]),_:1}),_(d,{label:"Konten",name:"content",required:""},{default:S(()=>[_(fH,{modelValue:y(t).content,"onUpdate:modelValue":l[2]||(l[2]=v=>y(t).content=v),placeholder:"Masukkan konten berita lengkap..."},null,8,["modelValue"])]),_:1})]),k("div",Dnt,[_(d,{label:"Gambar Utama",name:"image",required:""},{default:S(()=>[k("div",Fnt,[k("input",{type:"file",accept:"image/*",onChange:o,class:"block w-full text-sm file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-primary file:text-white hover:file:bg-primary-600"},null,32),r.value?(A(),W("div",qnt,[k("img",{src:r.value,alt:"Preview",class:"w-full rounded-lg"},null,8,znt),_(c,{icon:"i-lucide-x",color:"error",size:"xs",class:"absolute top-2 right-2",onClick:s})])):X("",!0),l[6]||(l[6]=k("p",{class:"text-xs text-gray-500"},"Format: JPG, PNG, WebP. Max: 2MB",-1))])]),_:1}),_(d,{label:"Kategori",name:"category",required:""},{default:S(()=>[_(p,{modelValue:y(t).category,"onUpdate:modelValue":l[3]||(l[3]=v=>y(t).category=v),options:n,placeholder:"Pilih kategori"},null,8,["modelValue"])]),_:1}),_(d,{label:"Tanggal Publikasi",name:"published_at"},{default:S(()=>[_(u,{modelValue:y(t).published_at,"onUpdate:modelValue":l[4]||(l[4]=v=>y(t).published_at=v),type:"datetime-local"},null,8,["modelValue"])]),_:1}),_(d,{label:"Status Publikasi",name:"is_published"},{default:S(()=>[k("div",Lnt,[_(m,{modelValue:y(t).is_published,"onUpdate:modelValue":l[5]||(l[5]=v=>y(t).is_published=v)},null,8,["modelValue"]),k("span",jnt,q(y(t).is_published?"Publish":"Draft"),1)])]),_:1})])]),k("div",Vnt,[_(c,{type:"submit",label:"Simpan Berita",icon:"i-lucide-save",loading:y(t).processing},null,8,["loading"]),_(c,{label:"Batal",color:"neutral",variant:"outline",to:"/dashboard/cms/posts"})])]),_:1},8,["state"])]),_:1})]),_:1})}}},Knt=Object.freeze(Object.defineProperty({__proto__:null,default:Unt},Symbol.toStringTag,{value:"Module"})),Hnt={class:"grid grid-cols-3 gap-6"},Wnt={class:"col-span-2 space-y-6"},Gnt={class:"space-y-6"},Jnt={class:"space-y-3"},Ynt={key:0,class:"relative"},Qnt=["src"],Xnt={key:1,class:"relative"},Znt=["src"],ert={class:"flex items-center gap-3"},trt={class:"text-sm"},nrt={class:"flex gap-2 pt-4 border-t"},rrt={__name:"Edit",props:{post:Object},setup(e){const t=e,n=Rt({title:t.post.title,excerpt:t.post.excerpt,content:t.post.content,image:null,category:t.post.category,published_at:t.post.published_at?new Date(t.post.published_at).toISOString().slice(0,16):"",is_published:t.post.is_published}),r=["Kegiatan","Prestasi","Acara","Pengumuman","Artikel"],o=K(null),s=l=>{const c=l.target.files[0];if(c){n.image=c;const u=new FileReader;u.onload=d=>{o.value=d.target.result},u.readAsDataURL(c)}},a=()=>{n.image=null,o.value=null},i=()=>{n.transform(l=>({...l,_method:"PUT"})).post(`/dashboard/cms/posts/${t.post.id}`,{forceFormData:!0})};return(l,c)=>{const u=We,d=bt,f=qt,p=Wn,m=er,h=kV,g=li,v=ht;return A(),B($t,{title:"Edit Berita",heading:"Edit Berita",description:"Ubah informasi berita","page-id":"cms-posts-edit"},{header:S(()=>[_(u,{color:"neutral",icon:"i-lucide-arrow-left",label:"Kembali",variant:"ghost",to:"/dashboard/cms/posts"})]),default:S(()=>[_(v,null,{default:S(()=>[_(g,{state:y(n),onSubmit:i,class:"space-y-6 p-4 max-w-6xl mx-auto"},{default:S(()=>[k("div",Hnt,[k("div",Wnt,[_(f,{label:"Judul Berita",name:"title",required:""},{default:S(()=>[_(d,{modelValue:y(n).title,"onUpdate:modelValue":c[0]||(c[0]=x=>y(n).title=x),placeholder:"Masukkan judul berita...",size:"lg",class:"w-full"},null,8,["modelValue"])]),_:1}),_(f,{label:"Ringkasan",name:"excerpt",required:"",hint:"Ringkasan singkat untuk preview (max 500 karakter)"},{default:S(()=>[_(p,{modelValue:y(n).excerpt,"onUpdate:modelValue":c[1]||(c[1]=x=>y(n).excerpt=x),placeholder:"Masukkan ringkasan berita...",rows:3,class:"w-full"},null,8,["modelValue"])]),_:1}),_(f,{label:"Konten",name:"content",required:""},{default:S(()=>[_(fH,{modelValue:y(n).content,"onUpdate:modelValue":c[2]||(c[2]=x=>y(n).content=x),placeholder:"Masukkan konten berita lengkap..."},null,8,["modelValue"])]),_:1})]),k("div",Gnt,[_(f,{label:"Gambar Utama",name:"image"},{default:S(()=>[k("div",Jnt,[!o.value&&e.post.image?(A(),W("div",Ynt,[k("img",{src:e.post.image.startsWith("http")?e.post.image:`/storage/${e.post.image}`,alt:"Current",class:"w-full rounded-lg"},null,8,Qnt),c[6]||(c[6]=k("p",{class:"text-xs text-gray-500 mt-1"},"Gambar saat ini",-1))])):X("",!0),k("input",{type:"file",accept:"image/*",onChange:s,class:"block w-full text-sm file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-primary file:text-white hover:file:bg-primary-600"},null,32),o.value?(A(),W("div",Xnt,[k("img",{src:o.value,alt:"Preview",class:"w-full rounded-lg"},null,8,Znt),_(u,{icon:"i-lucide-x",color:"error",size:"xs",class:"absolute top-2 right-2",onClick:a}),c[7]||(c[7]=k("p",{class:"text-xs text-gray-500 mt-1"},"Gambar baru (belum tersimpan)",-1))])):X("",!0),c[8]||(c[8]=k("p",{class:"text-xs text-gray-500"},"Format: JPG, PNG, WebP. Max: 2MB. Kosongkan jika tidak ingin mengganti.",-1))])]),_:1}),_(f,{label:"Kategori",name:"category",required:""},{default:S(()=>[_(m,{modelValue:y(n).category,"onUpdate:modelValue":c[3]||(c[3]=x=>y(n).category=x),options:r,placeholder:"Pilih kategori"},null,8,["modelValue"])]),_:1}),_(f,{label:"Tanggal Publikasi",name:"published_at"},{default:S(()=>[_(d,{modelValue:y(n).published_at,"onUpdate:modelValue":c[4]||(c[4]=x=>y(n).published_at=x),type:"datetime-local"},null,8,["modelValue"])]),_:1}),_(f,{label:"Status Publikasi",name:"is_published"},{default:S(()=>[k("div",ert,[_(h,{modelValue:y(n).is_published,"onUpdate:modelValue":c[5]||(c[5]=x=>y(n).is_published=x)},null,8,["modelValue"]),k("span",trt,q(y(n).is_published?"Publish":"Draft"),1)])]),_:1}),_(f,{label:"Total Views",name:"views"},{default:S(()=>[_(d,{"model-value":e.post.views,disabled:""},null,8,["model-value"])]),_:1})])]),k("div",nrt,[_(u,{type:"submit",label:"Update Berita",icon:"i-lucide-save",loading:y(n).processing},null,8,["loading"]),_(u,{label:"Batal",color:"neutral",variant:"outline",to:"/dashboard/cms/posts"})])]),_:1},8,["state"])]),_:1})]),_:1})}}},ort=Object.freeze(Object.defineProperty({__proto__:null,default:rrt},Symbol.toStringTag,{value:"Module"}));var yp={exports:{}};var srt=yp.exports,gF;function art(){return gF||(gF=1,(function(e,t){(function(){var n,r="4.17.21",o=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",i="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",c=500,u="__lodash_placeholder__",d=1,f=2,p=4,m=1,h=2,g=1,v=2,x=4,$=8,C=16,M=32,I=64,E=128,P=256,O=512,D=30,L="...",V=800,F=16,z=1,N=2,ee=3,ne=1/0,Y=9007199254740991,Re=17976931348623157e292,fe=NaN,we=4294967295,ue=we-1,Ne=we>>>1,Xe=[["ary",E],["bind",g],["bindKey",v],["curry",$],["curryRight",C],["flip",O],["partial",M],["partialRight",I],["rearg",P]],st="[object Arguments]",it="[object Array]",ce="[object AsyncFunction]",ve="[object Boolean]",Ae="[object Date]",pe="[object DOMException]",et="[object Error]",kt="[object Function]",te="[object GeneratorFunction]",se="[object Map]",$e="[object Number]",Ie="[object Null]",be="[object Object]",me="[object Promise]",he="[object Proxy]",Be="[object RegExp]",_e="[object Set]",Oe="[object String]",Ze="[object Symbol]",Ue="[object Undefined]",at="[object WeakMap]",yt="[object WeakSet]",Et="[object ArrayBuffer]",Qt="[object DataView]",Lt="[object Float32Array]",Fn="[object Float64Array]",gn="[object Int8Array]",pr="[object Int16Array]",ur="[object Int32Array]",cr="[object Uint8Array]",xo="[object Uint8ClampedArray]",xe="[object Uint16Array]",ke="[object Uint32Array]",en=/\b__p \+= '';/g,vn=/\b(__p \+=) '' \+/g,Mn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Vt=/&(?:amp|lt|gt|quot|#39);/g,la=/[&<>"']/g,_i=RegExp(Vt.source),Ho=RegExp(la.source),Ea=/<%-([\s\S]+?)%>/g,$f=/<%([\s\S]+?)%>/g,Si=/<%=([\s\S]+?)%>/g,ws=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Vh=/^\w*$/,Uh=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Kc=/[\\^$.*+?()[\]{}|]/g,ku=RegExp(Kc.source),_u=/^\s+/,Hc=/\s/,Cf=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Mf=/\{\n\/\* \[wrapped with (.+)\] \*/,Kh=/,? & /,Hh=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Af=/[()=,{}\[\]\/\s]/,Wh=/\\(\\)?/g,Tf=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ef=/\w*$/,ow=/^[-+]0x[0-9a-f]+$/i,If=/^0b[01]+$/i,fl=/^\[object .+?Constructor\]$/,Wc=/^0o[0-7]+$/i,sw=/^(?:0|[1-9]\d*)$/,Gh=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Jh=/($^)/,CH=/['\n\r\u2028\u2029\\]/g,Yh="\\ud800-\\udfff",MH="\\u0300-\\u036f",AH="\\ufe20-\\ufe2f",TH="\\u20d0-\\u20ff",VT=MH+AH+TH,UT="\\u2700-\\u27bf",KT="a-z\\xdf-\\xf6\\xf8-\\xff",EH="\\xac\\xb1\\xd7\\xf7",IH="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",PH="\\u2000-\\u206f",OH=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",HT="A-Z\\xc0-\\xd6\\xd8-\\xde",WT="\\ufe0e\\ufe0f",GT=EH+IH+PH+OH,aw="[']",RH="["+Yh+"]",JT="["+GT+"]",Qh="["+VT+"]",YT="\\d+",BH="["+UT+"]",QT="["+KT+"]",XT="[^"+Yh+GT+YT+UT+KT+HT+"]",iw="\\ud83c[\\udffb-\\udfff]",NH="(?:"+Qh+"|"+iw+")",ZT="[^"+Yh+"]",lw="(?:\\ud83c[\\udde6-\\uddff]){2}",uw="[\\ud800-\\udbff][\\udc00-\\udfff]",Gc="["+HT+"]",eE="\\u200d",tE="(?:"+QT+"|"+XT+")",DH="(?:"+Gc+"|"+XT+")",nE="(?:"+aw+"(?:d|ll|m|re|s|t|ve))?",rE="(?:"+aw+"(?:D|LL|M|RE|S|T|VE))?",oE=NH+"?",sE="["+WT+"]?",FH="(?:"+eE+"(?:"+[ZT,lw,uw].join("|")+")"+sE+oE+")*",qH="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",zH="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",aE=sE+oE+FH,LH="(?:"+[BH,lw,uw].join("|")+")"+aE,jH="(?:"+[ZT+Qh+"?",Qh,lw,uw,RH].join("|")+")",VH=RegExp(aw,"g"),UH=RegExp(Qh,"g"),cw=RegExp(iw+"(?="+iw+")|"+jH+aE,"g"),KH=RegExp([Gc+"?"+QT+"+"+nE+"(?="+[JT,Gc,"$"].join("|")+")",DH+"+"+rE+"(?="+[JT,Gc+tE,"$"].join("|")+")",Gc+"?"+tE+"+"+nE,Gc+"+"+rE,zH,qH,YT,LH].join("|"),"g"),HH=RegExp("["+eE+Yh+VT+WT+"]"),WH=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,GH=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],JH=-1,qn={};qn[Lt]=qn[Fn]=qn[gn]=qn[pr]=qn[ur]=qn[cr]=qn[xo]=qn[xe]=qn[ke]=!0,qn[st]=qn[it]=qn[Et]=qn[ve]=qn[Qt]=qn[Ae]=qn[et]=qn[kt]=qn[se]=qn[$e]=qn[be]=qn[Be]=qn[_e]=qn[Oe]=qn[at]=!1;var Rn={};Rn[st]=Rn[it]=Rn[Et]=Rn[Qt]=Rn[ve]=Rn[Ae]=Rn[Lt]=Rn[Fn]=Rn[gn]=Rn[pr]=Rn[ur]=Rn[se]=Rn[$e]=Rn[be]=Rn[Be]=Rn[_e]=Rn[Oe]=Rn[Ze]=Rn[cr]=Rn[xo]=Rn[xe]=Rn[ke]=!0,Rn[et]=Rn[kt]=Rn[at]=!1;var YH={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},QH={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},XH={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ZH={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},eW=parseFloat,tW=parseInt,iE=typeof _d=="object"&&_d&&_d.Object===Object&&_d,nW=typeof self=="object"&&self&&self.Object===Object&&self,Jr=iE||nW||Function("return this")(),dw=t&&!t.nodeType&&t,Su=dw&&!0&&e&&!e.nodeType&&e,lE=Su&&Su.exports===dw,fw=lE&&iE.process,qs=(function(){try{var ge=Su&&Su.require&&Su.require("util").types;return ge||fw&&fw.binding&&fw.binding("util")}catch{}})(),uE=qs&&qs.isArrayBuffer,cE=qs&&qs.isDate,dE=qs&&qs.isMap,fE=qs&&qs.isRegExp,pE=qs&&qs.isSet,mE=qs&&qs.isTypedArray;function ks(ge,De,Te){switch(Te.length){case 0:return ge.call(De);case 1:return ge.call(De,Te[0]);case 2:return ge.call(De,Te[0],Te[1]);case 3:return ge.call(De,Te[0],Te[1],Te[2])}return ge.apply(De,Te)}function rW(ge,De,Te,ut){for(var zt=-1,yn=ge==null?0:ge.length;++zt<yn;){var wr=ge[zt];De(ut,wr,Te(wr),ge)}return ut}function zs(ge,De){for(var Te=-1,ut=ge==null?0:ge.length;++Te<ut&&De(ge[Te],Te,ge)!==!1;);return ge}function oW(ge,De){for(var Te=ge==null?0:ge.length;Te--&&De(ge[Te],Te,ge)!==!1;);return ge}function hE(ge,De){for(var Te=-1,ut=ge==null?0:ge.length;++Te<ut;)if(!De(ge[Te],Te,ge))return!1;return!0}function pl(ge,De){for(var Te=-1,ut=ge==null?0:ge.length,zt=0,yn=[];++Te<ut;){var wr=ge[Te];De(wr,Te,ge)&&(yn[zt++]=wr)}return yn}function Xh(ge,De){var Te=ge==null?0:ge.length;return!!Te&&Jc(ge,De,0)>-1}function pw(ge,De,Te){for(var ut=-1,zt=ge==null?0:ge.length;++ut<zt;)if(Te(De,ge[ut]))return!0;return!1}function Vn(ge,De){for(var Te=-1,ut=ge==null?0:ge.length,zt=Array(ut);++Te<ut;)zt[Te]=De(ge[Te],Te,ge);return zt}function ml(ge,De){for(var Te=-1,ut=De.length,zt=ge.length;++Te<ut;)ge[zt+Te]=De[Te];return ge}function mw(ge,De,Te,ut){var zt=-1,yn=ge==null?0:ge.length;for(ut&&yn&&(Te=ge[++zt]);++zt<yn;)Te=De(Te,ge[zt],zt,ge);return Te}function sW(ge,De,Te,ut){var zt=ge==null?0:ge.length;for(ut&&zt&&(Te=ge[--zt]);zt--;)Te=De(Te,ge[zt],zt,ge);return Te}function hw(ge,De){for(var Te=-1,ut=ge==null?0:ge.length;++Te<ut;)if(De(ge[Te],Te,ge))return!0;return!1}var aW=gw("length");function iW(ge){return ge.split("")}function lW(ge){return ge.match(Hh)||[]}function gE(ge,De,Te){var ut;return Te(ge,function(zt,yn,wr){if(De(zt,yn,wr))return ut=yn,!1}),ut}function Zh(ge,De,Te,ut){for(var zt=ge.length,yn=Te+(ut?1:-1);ut?yn--:++yn<zt;)if(De(ge[yn],yn,ge))return yn;return-1}function Jc(ge,De,Te){return De===De?xW(ge,De,Te):Zh(ge,vE,Te)}function uW(ge,De,Te,ut){for(var zt=Te-1,yn=ge.length;++zt<yn;)if(ut(ge[zt],De))return zt;return-1}function vE(ge){return ge!==ge}function yE(ge,De){var Te=ge==null?0:ge.length;return Te?yw(ge,De)/Te:fe}function gw(ge){return function(De){return De==null?n:De[ge]}}function vw(ge){return function(De){return ge==null?n:ge[De]}}function bE(ge,De,Te,ut,zt){return zt(ge,function(yn,wr,An){Te=ut?(ut=!1,yn):De(Te,yn,wr,An)}),Te}function cW(ge,De){var Te=ge.length;for(ge.sort(De);Te--;)ge[Te]=ge[Te].value;return ge}function yw(ge,De){for(var Te,ut=-1,zt=ge.length;++ut<zt;){var yn=De(ge[ut]);yn!==n&&(Te=Te===n?yn:Te+yn)}return Te}function bw(ge,De){for(var Te=-1,ut=Array(ge);++Te<ge;)ut[Te]=De(Te);return ut}function dW(ge,De){return Vn(De,function(Te){return[Te,ge[Te]]})}function xE(ge){return ge&&ge.slice(0,SE(ge)+1).replace(_u,"")}function _s(ge){return function(De){return ge(De)}}function xw(ge,De){return Vn(De,function(Te){return ge[Te]})}function Pf(ge,De){return ge.has(De)}function wE(ge,De){for(var Te=-1,ut=ge.length;++Te<ut&&Jc(De,ge[Te],0)>-1;);return Te}function kE(ge,De){for(var Te=ge.length;Te--&&Jc(De,ge[Te],0)>-1;);return Te}function fW(ge,De){for(var Te=ge.length,ut=0;Te--;)ge[Te]===De&&++ut;return ut}var pW=vw(YH),mW=vw(QH);function hW(ge){return"\\"+ZH[ge]}function gW(ge,De){return ge==null?n:ge[De]}function Yc(ge){return HH.test(ge)}function vW(ge){return WH.test(ge)}function yW(ge){for(var De,Te=[];!(De=ge.next()).done;)Te.push(De.value);return Te}function ww(ge){var De=-1,Te=Array(ge.size);return ge.forEach(function(ut,zt){Te[++De]=[zt,ut]}),Te}function _E(ge,De){return function(Te){return ge(De(Te))}}function hl(ge,De){for(var Te=-1,ut=ge.length,zt=0,yn=[];++Te<ut;){var wr=ge[Te];(wr===De||wr===u)&&(ge[Te]=u,yn[zt++]=Te)}return yn}function eg(ge){var De=-1,Te=Array(ge.size);return ge.forEach(function(ut){Te[++De]=ut}),Te}function bW(ge){var De=-1,Te=Array(ge.size);return ge.forEach(function(ut){Te[++De]=[ut,ut]}),Te}function xW(ge,De,Te){for(var ut=Te-1,zt=ge.length;++ut<zt;)if(ge[ut]===De)return ut;return-1}function wW(ge,De,Te){for(var ut=Te+1;ut--;)if(ge[ut]===De)return ut;return ut}function Qc(ge){return Yc(ge)?_W(ge):aW(ge)}function ua(ge){return Yc(ge)?SW(ge):iW(ge)}function SE(ge){for(var De=ge.length;De--&&Hc.test(ge.charAt(De)););return De}var kW=vw(XH);function _W(ge){for(var De=cw.lastIndex=0;cw.test(ge);)++De;return De}function SW(ge){return ge.match(cw)||[]}function $W(ge){return ge.match(KH)||[]}var CW=(function ge(De){De=De==null?Jr:Xc.defaults(Jr.Object(),De,Xc.pick(Jr,GH));var Te=De.Array,ut=De.Date,zt=De.Error,yn=De.Function,wr=De.Math,An=De.Object,kw=De.RegExp,MW=De.String,Ls=De.TypeError,tg=Te.prototype,AW=yn.prototype,Zc=An.prototype,ng=De["__core-js_shared__"],rg=AW.toString,kn=Zc.hasOwnProperty,TW=0,$E=(function(){var b=/[^.]+$/.exec(ng&&ng.keys&&ng.keys.IE_PROTO||"");return b?"Symbol(src)_1."+b:""})(),og=Zc.toString,EW=rg.call(An),IW=Jr._,PW=kw("^"+rg.call(kn).replace(Kc,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),sg=lE?De.Buffer:n,gl=De.Symbol,ag=De.Uint8Array,CE=sg?sg.allocUnsafe:n,ig=_E(An.getPrototypeOf,An),ME=An.create,AE=Zc.propertyIsEnumerable,lg=tg.splice,TE=gl?gl.isConcatSpreadable:n,Of=gl?gl.iterator:n,$u=gl?gl.toStringTag:n,ug=(function(){try{var b=Eu(An,"defineProperty");return b({},"",{}),b}catch{}})(),OW=De.clearTimeout!==Jr.clearTimeout&&De.clearTimeout,RW=ut&&ut.now!==Jr.Date.now&&ut.now,BW=De.setTimeout!==Jr.setTimeout&&De.setTimeout,cg=wr.ceil,dg=wr.floor,_w=An.getOwnPropertySymbols,NW=sg?sg.isBuffer:n,EE=De.isFinite,DW=tg.join,FW=_E(An.keys,An),kr=wr.max,wo=wr.min,qW=ut.now,zW=De.parseInt,IE=wr.random,LW=tg.reverse,Sw=Eu(De,"DataView"),Rf=Eu(De,"Map"),$w=Eu(De,"Promise"),ed=Eu(De,"Set"),Bf=Eu(De,"WeakMap"),Nf=Eu(An,"create"),fg=Bf&&new Bf,td={},jW=Iu(Sw),VW=Iu(Rf),UW=Iu($w),KW=Iu(ed),HW=Iu(Bf),pg=gl?gl.prototype:n,Df=pg?pg.valueOf:n,PE=pg?pg.toString:n;function G(b){if(tr(b)&&!jt(b)&&!(b instanceof tn)){if(b instanceof js)return b;if(kn.call(b,"__wrapped__"))return OI(b)}return new js(b)}var nd=(function(){function b(){}return function(w){if(!Gn(w))return{};if(ME)return ME(w);b.prototype=w;var T=new b;return b.prototype=n,T}})();function mg(){}function js(b,w){this.__wrapped__=b,this.__actions__=[],this.__chain__=!!w,this.__index__=0,this.__values__=n}G.templateSettings={escape:Ea,evaluate:$f,interpolate:Si,variable:"",imports:{_:G}},G.prototype=mg.prototype,G.prototype.constructor=G,js.prototype=nd(mg.prototype),js.prototype.constructor=js;function tn(b){this.__wrapped__=b,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=we,this.__views__=[]}function WW(){var b=new tn(this.__wrapped__);return b.__actions__=is(this.__actions__),b.__dir__=this.__dir__,b.__filtered__=this.__filtered__,b.__iteratees__=is(this.__iteratees__),b.__takeCount__=this.__takeCount__,b.__views__=is(this.__views__),b}function GW(){if(this.__filtered__){var b=new tn(this);b.__dir__=-1,b.__filtered__=!0}else b=this.clone(),b.__dir__*=-1;return b}function JW(){var b=this.__wrapped__.value(),w=this.__dir__,T=jt(b),R=w<0,j=T?b.length:0,Q=i9(0,j,this.__views__),re=Q.start,ae=Q.end,ye=ae-re,qe=R?ae:re-1,ze=this.__iteratees__,je=ze.length,nt=0,mt=wo(ye,this.__takeCount__);if(!T||!R&&j==ye&&mt==ye)return nI(b,this.__actions__);var Ct=[];e:for(;ye--&&nt<mt;){qe+=w;for(var Wt=-1,Mt=b[qe];++Wt<je;){var Xt=ze[Wt],sn=Xt.iteratee,Cs=Xt.type,Jo=sn(Mt);if(Cs==N)Mt=Jo;else if(!Jo){if(Cs==z)continue e;break e}}Ct[nt++]=Mt}return Ct}tn.prototype=nd(mg.prototype),tn.prototype.constructor=tn;function Cu(b){var w=-1,T=b==null?0:b.length;for(this.clear();++w<T;){var R=b[w];this.set(R[0],R[1])}}function YW(){this.__data__=Nf?Nf(null):{},this.size=0}function QW(b){var w=this.has(b)&&delete this.__data__[b];return this.size-=w?1:0,w}function XW(b){var w=this.__data__;if(Nf){var T=w[b];return T===l?n:T}return kn.call(w,b)?w[b]:n}function ZW(b){var w=this.__data__;return Nf?w[b]!==n:kn.call(w,b)}function e7(b,w){var T=this.__data__;return this.size+=this.has(b)?0:1,T[b]=Nf&&w===n?l:w,this}Cu.prototype.clear=YW,Cu.prototype.delete=QW,Cu.prototype.get=XW,Cu.prototype.has=ZW,Cu.prototype.set=e7;function $i(b){var w=-1,T=b==null?0:b.length;for(this.clear();++w<T;){var R=b[w];this.set(R[0],R[1])}}function t7(){this.__data__=[],this.size=0}function n7(b){var w=this.__data__,T=hg(w,b);if(T<0)return!1;var R=w.length-1;return T==R?w.pop():lg.call(w,T,1),--this.size,!0}function r7(b){var w=this.__data__,T=hg(w,b);return T<0?n:w[T][1]}function o7(b){return hg(this.__data__,b)>-1}function s7(b,w){var T=this.__data__,R=hg(T,b);return R<0?(++this.size,T.push([b,w])):T[R][1]=w,this}$i.prototype.clear=t7,$i.prototype.delete=n7,$i.prototype.get=r7,$i.prototype.has=o7,$i.prototype.set=s7;function Ci(b){var w=-1,T=b==null?0:b.length;for(this.clear();++w<T;){var R=b[w];this.set(R[0],R[1])}}function a7(){this.size=0,this.__data__={hash:new Cu,map:new(Rf||$i),string:new Cu}}function i7(b){var w=Mg(this,b).delete(b);return this.size-=w?1:0,w}function l7(b){return Mg(this,b).get(b)}function u7(b){return Mg(this,b).has(b)}function c7(b,w){var T=Mg(this,b),R=T.size;return T.set(b,w),this.size+=T.size==R?0:1,this}Ci.prototype.clear=a7,Ci.prototype.delete=i7,Ci.prototype.get=l7,Ci.prototype.has=u7,Ci.prototype.set=c7;function Mu(b){var w=-1,T=b==null?0:b.length;for(this.__data__=new Ci;++w<T;)this.add(b[w])}function d7(b){return this.__data__.set(b,l),this}function f7(b){return this.__data__.has(b)}Mu.prototype.add=Mu.prototype.push=d7,Mu.prototype.has=f7;function ca(b){var w=this.__data__=new $i(b);this.size=w.size}function p7(){this.__data__=new $i,this.size=0}function m7(b){var w=this.__data__,T=w.delete(b);return this.size=w.size,T}function h7(b){return this.__data__.get(b)}function g7(b){return this.__data__.has(b)}function v7(b,w){var T=this.__data__;if(T instanceof $i){var R=T.__data__;if(!Rf||R.length<o-1)return R.push([b,w]),this.size=++T.size,this;T=this.__data__=new Ci(R)}return T.set(b,w),this.size=T.size,this}ca.prototype.clear=p7,ca.prototype.delete=m7,ca.prototype.get=h7,ca.prototype.has=g7,ca.prototype.set=v7;function OE(b,w){var T=jt(b),R=!T&&Pu(b),j=!T&&!R&&wl(b),Q=!T&&!R&&!j&&ad(b),re=T||R||j||Q,ae=re?bw(b.length,MW):[],ye=ae.length;for(var qe in b)(w||kn.call(b,qe))&&!(re&&(qe=="length"||j&&(qe=="offset"||qe=="parent")||Q&&(qe=="buffer"||qe=="byteLength"||qe=="byteOffset")||Ei(qe,ye)))&&ae.push(qe);return ae}function RE(b){var w=b.length;return w?b[Nw(0,w-1)]:n}function y7(b,w){return Ag(is(b),Au(w,0,b.length))}function b7(b){return Ag(is(b))}function Cw(b,w,T){(T!==n&&!da(b[w],T)||T===n&&!(w in b))&&Mi(b,w,T)}function Ff(b,w,T){var R=b[w];(!(kn.call(b,w)&&da(R,T))||T===n&&!(w in b))&&Mi(b,w,T)}function hg(b,w){for(var T=b.length;T--;)if(da(b[T][0],w))return T;return-1}function x7(b,w,T,R){return vl(b,function(j,Q,re){w(R,j,T(j),re)}),R}function BE(b,w){return b&&Pa(w,Mr(w),b)}function w7(b,w){return b&&Pa(w,us(w),b)}function Mi(b,w,T){w=="__proto__"&&ug?ug(b,w,{configurable:!0,enumerable:!0,value:T,writable:!0}):b[w]=T}function Mw(b,w){for(var T=-1,R=w.length,j=Te(R),Q=b==null;++T<R;)j[T]=Q?n:ik(b,w[T]);return j}function Au(b,w,T){return b===b&&(T!==n&&(b=b<=T?b:T),w!==n&&(b=b>=w?b:w)),b}function Vs(b,w,T,R,j,Q){var re,ae=w&d,ye=w&f,qe=w&p;if(T&&(re=j?T(b,R,j,Q):T(b)),re!==n)return re;if(!Gn(b))return b;var ze=jt(b);if(ze){if(re=u9(b),!ae)return is(b,re)}else{var je=ko(b),nt=je==kt||je==te;if(wl(b))return sI(b,ae);if(je==be||je==st||nt&&!j){if(re=ye||nt?{}:SI(b),!ae)return ye?X7(b,w7(re,b)):Q7(b,BE(re,b))}else{if(!Rn[je])return j?b:{};re=c9(b,je,ae)}}Q||(Q=new ca);var mt=Q.get(b);if(mt)return mt;Q.set(b,re),ZI(b)?b.forEach(function(Mt){re.add(Vs(Mt,w,T,Mt,b,Q))}):QI(b)&&b.forEach(function(Mt,Xt){re.set(Xt,Vs(Mt,w,T,Xt,b,Q))});var Ct=qe?ye?Ww:Hw:ye?us:Mr,Wt=ze?n:Ct(b);return zs(Wt||b,function(Mt,Xt){Wt&&(Xt=Mt,Mt=b[Xt]),Ff(re,Xt,Vs(Mt,w,T,Xt,b,Q))}),re}function k7(b){var w=Mr(b);return function(T){return NE(T,b,w)}}function NE(b,w,T){var R=T.length;if(b==null)return!R;for(b=An(b);R--;){var j=T[R],Q=w[j],re=b[j];if(re===n&&!(j in b)||!Q(re))return!1}return!0}function DE(b,w,T){if(typeof b!="function")throw new Ls(a);return Kf(function(){b.apply(n,T)},w)}function qf(b,w,T,R){var j=-1,Q=Xh,re=!0,ae=b.length,ye=[],qe=w.length;if(!ae)return ye;T&&(w=Vn(w,_s(T))),R?(Q=pw,re=!1):w.length>=o&&(Q=Pf,re=!1,w=new Mu(w));e:for(;++j<ae;){var ze=b[j],je=T==null?ze:T(ze);if(ze=R||ze!==0?ze:0,re&&je===je){for(var nt=qe;nt--;)if(w[nt]===je)continue e;ye.push(ze)}else Q(w,je,R)||ye.push(ze)}return ye}var vl=cI(Ia),FE=cI(Tw,!0);function _7(b,w){var T=!0;return vl(b,function(R,j,Q){return T=!!w(R,j,Q),T}),T}function gg(b,w,T){for(var R=-1,j=b.length;++R<j;){var Q=b[R],re=w(Q);if(re!=null&&(ae===n?re===re&&!$s(re):T(re,ae)))var ae=re,ye=Q}return ye}function S7(b,w,T,R){var j=b.length;for(T=Kt(T),T<0&&(T=-T>j?0:j+T),R=R===n||R>j?j:Kt(R),R<0&&(R+=j),R=T>R?0:tP(R);T<R;)b[T++]=w;return b}function qE(b,w){var T=[];return vl(b,function(R,j,Q){w(R,j,Q)&&T.push(R)}),T}function Yr(b,w,T,R,j){var Q=-1,re=b.length;for(T||(T=f9),j||(j=[]);++Q<re;){var ae=b[Q];w>0&&T(ae)?w>1?Yr(ae,w-1,T,R,j):ml(j,ae):R||(j[j.length]=ae)}return j}var Aw=dI(),zE=dI(!0);function Ia(b,w){return b&&Aw(b,w,Mr)}function Tw(b,w){return b&&zE(b,w,Mr)}function vg(b,w){return pl(w,function(T){return Ii(b[T])})}function Tu(b,w){w=bl(w,b);for(var T=0,R=w.length;b!=null&&T<R;)b=b[Oa(w[T++])];return T&&T==R?b:n}function LE(b,w,T){var R=w(b);return jt(b)?R:ml(R,T(b))}function Wo(b){return b==null?b===n?Ue:Ie:$u&&$u in An(b)?a9(b):b9(b)}function Ew(b,w){return b>w}function $7(b,w){return b!=null&&kn.call(b,w)}function C7(b,w){return b!=null&&w in An(b)}function M7(b,w,T){return b>=wo(w,T)&&b<kr(w,T)}function Iw(b,w,T){for(var R=T?pw:Xh,j=b[0].length,Q=b.length,re=Q,ae=Te(Q),ye=1/0,qe=[];re--;){var ze=b[re];re&&w&&(ze=Vn(ze,_s(w))),ye=wo(ze.length,ye),ae[re]=!T&&(w||j>=120&&ze.length>=120)?new Mu(re&&ze):n}ze=b[0];var je=-1,nt=ae[0];e:for(;++je<j&&qe.length<ye;){var mt=ze[je],Ct=w?w(mt):mt;if(mt=T||mt!==0?mt:0,!(nt?Pf(nt,Ct):R(qe,Ct,T))){for(re=Q;--re;){var Wt=ae[re];if(!(Wt?Pf(Wt,Ct):R(b[re],Ct,T)))continue e}nt&&nt.push(Ct),qe.push(mt)}}return qe}function A7(b,w,T,R){return Ia(b,function(j,Q,re){w(R,T(j),Q,re)}),R}function zf(b,w,T){w=bl(w,b),b=AI(b,w);var R=b==null?b:b[Oa(Ks(w))];return R==null?n:ks(R,b,T)}function jE(b){return tr(b)&&Wo(b)==st}function T7(b){return tr(b)&&Wo(b)==Et}function E7(b){return tr(b)&&Wo(b)==Ae}function Lf(b,w,T,R,j){return b===w?!0:b==null||w==null||!tr(b)&&!tr(w)?b!==b&&w!==w:I7(b,w,T,R,Lf,j)}function I7(b,w,T,R,j,Q){var re=jt(b),ae=jt(w),ye=re?it:ko(b),qe=ae?it:ko(w);ye=ye==st?be:ye,qe=qe==st?be:qe;var ze=ye==be,je=qe==be,nt=ye==qe;if(nt&&wl(b)){if(!wl(w))return!1;re=!0,ze=!1}if(nt&&!ze)return Q||(Q=new ca),re||ad(b)?wI(b,w,T,R,j,Q):o9(b,w,ye,T,R,j,Q);if(!(T&m)){var mt=ze&&kn.call(b,"__wrapped__"),Ct=je&&kn.call(w,"__wrapped__");if(mt||Ct){var Wt=mt?b.value():b,Mt=Ct?w.value():w;return Q||(Q=new ca),j(Wt,Mt,T,R,Q)}}return nt?(Q||(Q=new ca),s9(b,w,T,R,j,Q)):!1}function P7(b){return tr(b)&&ko(b)==se}function Pw(b,w,T,R){var j=T.length,Q=j,re=!R;if(b==null)return!Q;for(b=An(b);j--;){var ae=T[j];if(re&&ae[2]?ae[1]!==b[ae[0]]:!(ae[0]in b))return!1}for(;++j<Q;){ae=T[j];var ye=ae[0],qe=b[ye],ze=ae[1];if(re&&ae[2]){if(qe===n&&!(ye in b))return!1}else{var je=new ca;if(R)var nt=R(qe,ze,ye,b,w,je);if(!(nt===n?Lf(ze,qe,m|h,R,je):nt))return!1}}return!0}function VE(b){if(!Gn(b)||m9(b))return!1;var w=Ii(b)?PW:fl;return w.test(Iu(b))}function O7(b){return tr(b)&&Wo(b)==Be}function R7(b){return tr(b)&&ko(b)==_e}function B7(b){return tr(b)&&Rg(b.length)&&!!qn[Wo(b)]}function UE(b){return typeof b=="function"?b:b==null?cs:typeof b=="object"?jt(b)?WE(b[0],b[1]):HE(b):fP(b)}function Ow(b){if(!Uf(b))return FW(b);var w=[];for(var T in An(b))kn.call(b,T)&&T!="constructor"&&w.push(T);return w}function N7(b){if(!Gn(b))return y9(b);var w=Uf(b),T=[];for(var R in b)R=="constructor"&&(w||!kn.call(b,R))||T.push(R);return T}function Rw(b,w){return b<w}function KE(b,w){var T=-1,R=ls(b)?Te(b.length):[];return vl(b,function(j,Q,re){R[++T]=w(j,Q,re)}),R}function HE(b){var w=Jw(b);return w.length==1&&w[0][2]?CI(w[0][0],w[0][1]):function(T){return T===b||Pw(T,b,w)}}function WE(b,w){return Qw(b)&&$I(w)?CI(Oa(b),w):function(T){var R=ik(T,b);return R===n&&R===w?lk(T,b):Lf(w,R,m|h)}}function yg(b,w,T,R,j){b!==w&&Aw(w,function(Q,re){if(j||(j=new ca),Gn(Q))D7(b,w,re,T,yg,R,j);else{var ae=R?R(Zw(b,re),Q,re+"",b,w,j):n;ae===n&&(ae=Q),Cw(b,re,ae)}},us)}function D7(b,w,T,R,j,Q,re){var ae=Zw(b,T),ye=Zw(w,T),qe=re.get(ye);if(qe){Cw(b,T,qe);return}var ze=Q?Q(ae,ye,T+"",b,w,re):n,je=ze===n;if(je){var nt=jt(ye),mt=!nt&&wl(ye),Ct=!nt&&!mt&&ad(ye);ze=ye,nt||mt||Ct?jt(ae)?ze=ae:dr(ae)?ze=is(ae):mt?(je=!1,ze=sI(ye,!0)):Ct?(je=!1,ze=aI(ye,!0)):ze=[]:Hf(ye)||Pu(ye)?(ze=ae,Pu(ae)?ze=nP(ae):(!Gn(ae)||Ii(ae))&&(ze=SI(ye))):je=!1}je&&(re.set(ye,ze),j(ze,ye,R,Q,re),re.delete(ye)),Cw(b,T,ze)}function GE(b,w){var T=b.length;if(T)return w+=w<0?T:0,Ei(w,T)?b[w]:n}function JE(b,w,T){w.length?w=Vn(w,function(Q){return jt(Q)?function(re){return Tu(re,Q.length===1?Q[0]:Q)}:Q}):w=[cs];var R=-1;w=Vn(w,_s(_t()));var j=KE(b,function(Q,re,ae){var ye=Vn(w,function(qe){return qe(Q)});return{criteria:ye,index:++R,value:Q}});return cW(j,function(Q,re){return Y7(Q,re,T)})}function F7(b,w){return YE(b,w,function(T,R){return lk(b,R)})}function YE(b,w,T){for(var R=-1,j=w.length,Q={};++R<j;){var re=w[R],ae=Tu(b,re);T(ae,re)&&jf(Q,bl(re,b),ae)}return Q}function q7(b){return function(w){return Tu(w,b)}}function Bw(b,w,T,R){var j=R?uW:Jc,Q=-1,re=w.length,ae=b;for(b===w&&(w=is(w)),T&&(ae=Vn(b,_s(T)));++Q<re;)for(var ye=0,qe=w[Q],ze=T?T(qe):qe;(ye=j(ae,ze,ye,R))>-1;)ae!==b&&lg.call(ae,ye,1),lg.call(b,ye,1);return b}function QE(b,w){for(var T=b?w.length:0,R=T-1;T--;){var j=w[T];if(T==R||j!==Q){var Q=j;Ei(j)?lg.call(b,j,1):qw(b,j)}}return b}function Nw(b,w){return b+dg(IE()*(w-b+1))}function z7(b,w,T,R){for(var j=-1,Q=kr(cg((w-b)/(T||1)),0),re=Te(Q);Q--;)re[R?Q:++j]=b,b+=T;return re}function Dw(b,w){var T="";if(!b||w<1||w>Y)return T;do w%2&&(T+=b),w=dg(w/2),w&&(b+=b);while(w);return T}function Jt(b,w){return ek(MI(b,w,cs),b+"")}function L7(b){return RE(id(b))}function j7(b,w){var T=id(b);return Ag(T,Au(w,0,T.length))}function jf(b,w,T,R){if(!Gn(b))return b;w=bl(w,b);for(var j=-1,Q=w.length,re=Q-1,ae=b;ae!=null&&++j<Q;){var ye=Oa(w[j]),qe=T;if(ye==="__proto__"||ye==="constructor"||ye==="prototype")return b;if(j!=re){var ze=ae[ye];qe=R?R(ze,ye,ae):n,qe===n&&(qe=Gn(ze)?ze:Ei(w[j+1])?[]:{})}Ff(ae,ye,qe),ae=ae[ye]}return b}var XE=fg?function(b,w){return fg.set(b,w),b}:cs,V7=ug?function(b,w){return ug(b,"toString",{configurable:!0,enumerable:!1,value:ck(w),writable:!0})}:cs;function U7(b){return Ag(id(b))}function Us(b,w,T){var R=-1,j=b.length;w<0&&(w=-w>j?0:j+w),T=T>j?j:T,T<0&&(T+=j),j=w>T?0:T-w>>>0,w>>>=0;for(var Q=Te(j);++R<j;)Q[R]=b[R+w];return Q}function K7(b,w){var T;return vl(b,function(R,j,Q){return T=w(R,j,Q),!T}),!!T}function bg(b,w,T){var R=0,j=b==null?R:b.length;if(typeof w=="number"&&w===w&&j<=Ne){for(;R<j;){var Q=R+j>>>1,re=b[Q];re!==null&&!$s(re)&&(T?re<=w:re<w)?R=Q+1:j=Q}return j}return Fw(b,w,cs,T)}function Fw(b,w,T,R){var j=0,Q=b==null?0:b.length;if(Q===0)return 0;w=T(w);for(var re=w!==w,ae=w===null,ye=$s(w),qe=w===n;j<Q;){var ze=dg((j+Q)/2),je=T(b[ze]),nt=je!==n,mt=je===null,Ct=je===je,Wt=$s(je);if(re)var Mt=R||Ct;else qe?Mt=Ct&&(R||nt):ae?Mt=Ct&&nt&&(R||!mt):ye?Mt=Ct&&nt&&!mt&&(R||!Wt):mt||Wt?Mt=!1:Mt=R?je<=w:je<w;Mt?j=ze+1:Q=ze}return wo(Q,ue)}function ZE(b,w){for(var T=-1,R=b.length,j=0,Q=[];++T<R;){var re=b[T],ae=w?w(re):re;if(!T||!da(ae,ye)){var ye=ae;Q[j++]=re===0?0:re}}return Q}function eI(b){return typeof b=="number"?b:$s(b)?fe:+b}function Ss(b){if(typeof b=="string")return b;if(jt(b))return Vn(b,Ss)+"";if($s(b))return PE?PE.call(b):"";var w=b+"";return w=="0"&&1/b==-ne?"-0":w}function yl(b,w,T){var R=-1,j=Xh,Q=b.length,re=!0,ae=[],ye=ae;if(T)re=!1,j=pw;else if(Q>=o){var qe=w?null:n9(b);if(qe)return eg(qe);re=!1,j=Pf,ye=new Mu}else ye=w?[]:ae;e:for(;++R<Q;){var ze=b[R],je=w?w(ze):ze;if(ze=T||ze!==0?ze:0,re&&je===je){for(var nt=ye.length;nt--;)if(ye[nt]===je)continue e;w&&ye.push(je),ae.push(ze)}else j(ye,je,T)||(ye!==ae&&ye.push(je),ae.push(ze))}return ae}function qw(b,w){return w=bl(w,b),b=AI(b,w),b==null||delete b[Oa(Ks(w))]}function tI(b,w,T,R){return jf(b,w,T(Tu(b,w)),R)}function xg(b,w,T,R){for(var j=b.length,Q=R?j:-1;(R?Q--:++Q<j)&&w(b[Q],Q,b););return T?Us(b,R?0:Q,R?Q+1:j):Us(b,R?Q+1:0,R?j:Q)}function nI(b,w){var T=b;return T instanceof tn&&(T=T.value()),mw(w,function(R,j){return j.func.apply(j.thisArg,ml([R],j.args))},T)}function zw(b,w,T){var R=b.length;if(R<2)return R?yl(b[0]):[];for(var j=-1,Q=Te(R);++j<R;)for(var re=b[j],ae=-1;++ae<R;)ae!=j&&(Q[j]=qf(Q[j]||re,b[ae],w,T));return yl(Yr(Q,1),w,T)}function rI(b,w,T){for(var R=-1,j=b.length,Q=w.length,re={};++R<j;){var ae=R<Q?w[R]:n;T(re,b[R],ae)}return re}function Lw(b){return dr(b)?b:[]}function jw(b){return typeof b=="function"?b:cs}function bl(b,w){return jt(b)?b:Qw(b,w)?[b]:PI(xn(b))}var H7=Jt;function xl(b,w,T){var R=b.length;return T=T===n?R:T,!w&&T>=R?b:Us(b,w,T)}var oI=OW||function(b){return Jr.clearTimeout(b)};function sI(b,w){if(w)return b.slice();var T=b.length,R=CE?CE(T):new b.constructor(T);return b.copy(R),R}function Vw(b){var w=new b.constructor(b.byteLength);return new ag(w).set(new ag(b)),w}function W7(b,w){var T=w?Vw(b.buffer):b.buffer;return new b.constructor(T,b.byteOffset,b.byteLength)}function G7(b){var w=new b.constructor(b.source,Ef.exec(b));return w.lastIndex=b.lastIndex,w}function J7(b){return Df?An(Df.call(b)):{}}function aI(b,w){var T=w?Vw(b.buffer):b.buffer;return new b.constructor(T,b.byteOffset,b.length)}function iI(b,w){if(b!==w){var T=b!==n,R=b===null,j=b===b,Q=$s(b),re=w!==n,ae=w===null,ye=w===w,qe=$s(w);if(!ae&&!qe&&!Q&&b>w||Q&&re&&ye&&!ae&&!qe||R&&re&&ye||!T&&ye||!j)return 1;if(!R&&!Q&&!qe&&b<w||qe&&T&&j&&!R&&!Q||ae&&T&&j||!re&&j||!ye)return-1}return 0}function Y7(b,w,T){for(var R=-1,j=b.criteria,Q=w.criteria,re=j.length,ae=T.length;++R<re;){var ye=iI(j[R],Q[R]);if(ye){if(R>=ae)return ye;var qe=T[R];return ye*(qe=="desc"?-1:1)}}return b.index-w.index}function lI(b,w,T,R){for(var j=-1,Q=b.length,re=T.length,ae=-1,ye=w.length,qe=kr(Q-re,0),ze=Te(ye+qe),je=!R;++ae<ye;)ze[ae]=w[ae];for(;++j<re;)(je||j<Q)&&(ze[T[j]]=b[j]);for(;qe--;)ze[ae++]=b[j++];return ze}function uI(b,w,T,R){for(var j=-1,Q=b.length,re=-1,ae=T.length,ye=-1,qe=w.length,ze=kr(Q-ae,0),je=Te(ze+qe),nt=!R;++j<ze;)je[j]=b[j];for(var mt=j;++ye<qe;)je[mt+ye]=w[ye];for(;++re<ae;)(nt||j<Q)&&(je[mt+T[re]]=b[j++]);return je}function is(b,w){var T=-1,R=b.length;for(w||(w=Te(R));++T<R;)w[T]=b[T];return w}function Pa(b,w,T,R){var j=!T;T||(T={});for(var Q=-1,re=w.length;++Q<re;){var ae=w[Q],ye=R?R(T[ae],b[ae],ae,T,b):n;ye===n&&(ye=b[ae]),j?Mi(T,ae,ye):Ff(T,ae,ye)}return T}function Q7(b,w){return Pa(b,Yw(b),w)}function X7(b,w){return Pa(b,kI(b),w)}function wg(b,w){return function(T,R){var j=jt(T)?rW:x7,Q=w?w():{};return j(T,b,_t(R,2),Q)}}function rd(b){return Jt(function(w,T){var R=-1,j=T.length,Q=j>1?T[j-1]:n,re=j>2?T[2]:n;for(Q=b.length>3&&typeof Q=="function"?(j--,Q):n,re&&Go(T[0],T[1],re)&&(Q=j<3?n:Q,j=1),w=An(w);++R<j;){var ae=T[R];ae&&b(w,ae,R,Q)}return w})}function cI(b,w){return function(T,R){if(T==null)return T;if(!ls(T))return b(T,R);for(var j=T.length,Q=w?j:-1,re=An(T);(w?Q--:++Q<j)&&R(re[Q],Q,re)!==!1;);return T}}function dI(b){return function(w,T,R){for(var j=-1,Q=An(w),re=R(w),ae=re.length;ae--;){var ye=re[b?ae:++j];if(T(Q[ye],ye,Q)===!1)break}return w}}function Z7(b,w,T){var R=w&g,j=Vf(b);function Q(){var re=this&&this!==Jr&&this instanceof Q?j:b;return re.apply(R?T:this,arguments)}return Q}function fI(b){return function(w){w=xn(w);var T=Yc(w)?ua(w):n,R=T?T[0]:w.charAt(0),j=T?xl(T,1).join(""):w.slice(1);return R[b]()+j}}function od(b){return function(w){return mw(cP(uP(w).replace(VH,"")),b,"")}}function Vf(b){return function(){var w=arguments;switch(w.length){case 0:return new b;case 1:return new b(w[0]);case 2:return new b(w[0],w[1]);case 3:return new b(w[0],w[1],w[2]);case 4:return new b(w[0],w[1],w[2],w[3]);case 5:return new b(w[0],w[1],w[2],w[3],w[4]);case 6:return new b(w[0],w[1],w[2],w[3],w[4],w[5]);case 7:return new b(w[0],w[1],w[2],w[3],w[4],w[5],w[6])}var T=nd(b.prototype),R=b.apply(T,w);return Gn(R)?R:T}}function e9(b,w,T){var R=Vf(b);function j(){for(var Q=arguments.length,re=Te(Q),ae=Q,ye=sd(j);ae--;)re[ae]=arguments[ae];var qe=Q<3&&re[0]!==ye&&re[Q-1]!==ye?[]:hl(re,ye);if(Q-=qe.length,Q<T)return vI(b,w,kg,j.placeholder,n,re,qe,n,n,T-Q);var ze=this&&this!==Jr&&this instanceof j?R:b;return ks(ze,this,re)}return j}function pI(b){return function(w,T,R){var j=An(w);if(!ls(w)){var Q=_t(T,3);w=Mr(w),T=function(ae){return Q(j[ae],ae,j)}}var re=b(w,T,R);return re>-1?j[Q?w[re]:re]:n}}function mI(b){return Ti(function(w){var T=w.length,R=T,j=js.prototype.thru;for(b&&w.reverse();R--;){var Q=w[R];if(typeof Q!="function")throw new Ls(a);if(j&&!re&&Cg(Q)=="wrapper")var re=new js([],!0)}for(R=re?R:T;++R<T;){Q=w[R];var ae=Cg(Q),ye=ae=="wrapper"?Gw(Q):n;ye&&Xw(ye[0])&&ye[1]==(E|$|M|P)&&!ye[4].length&&ye[9]==1?re=re[Cg(ye[0])].apply(re,ye[3]):re=Q.length==1&&Xw(Q)?re[ae]():re.thru(Q)}return function(){var qe=arguments,ze=qe[0];if(re&&qe.length==1&&jt(ze))return re.plant(ze).value();for(var je=0,nt=T?w[je].apply(this,qe):ze;++je<T;)nt=w[je].call(this,nt);return nt}})}function kg(b,w,T,R,j,Q,re,ae,ye,qe){var ze=w&E,je=w&g,nt=w&v,mt=w&($|C),Ct=w&O,Wt=nt?n:Vf(b);function Mt(){for(var Xt=arguments.length,sn=Te(Xt),Cs=Xt;Cs--;)sn[Cs]=arguments[Cs];if(mt)var Jo=sd(Mt),Ms=fW(sn,Jo);if(R&&(sn=lI(sn,R,j,mt)),Q&&(sn=uI(sn,Q,re,mt)),Xt-=Ms,mt&&Xt<qe){var fr=hl(sn,Jo);return vI(b,w,kg,Mt.placeholder,T,sn,fr,ae,ye,qe-Xt)}var fa=je?T:this,Oi=nt?fa[b]:b;return Xt=sn.length,ae?sn=x9(sn,ae):Ct&&Xt>1&&sn.reverse(),ze&&ye<Xt&&(sn.length=ye),this&&this!==Jr&&this instanceof Mt&&(Oi=Wt||Vf(Oi)),Oi.apply(fa,sn)}return Mt}function hI(b,w){return function(T,R){return A7(T,b,w(R),{})}}function _g(b,w){return function(T,R){var j;if(T===n&&R===n)return w;if(T!==n&&(j=T),R!==n){if(j===n)return R;typeof T=="string"||typeof R=="string"?(T=Ss(T),R=Ss(R)):(T=eI(T),R=eI(R)),j=b(T,R)}return j}}function Uw(b){return Ti(function(w){return w=Vn(w,_s(_t())),Jt(function(T){var R=this;return b(w,function(j){return ks(j,R,T)})})})}function Sg(b,w){w=w===n?" ":Ss(w);var T=w.length;if(T<2)return T?Dw(w,b):w;var R=Dw(w,cg(b/Qc(w)));return Yc(w)?xl(ua(R),0,b).join(""):R.slice(0,b)}function t9(b,w,T,R){var j=w&g,Q=Vf(b);function re(){for(var ae=-1,ye=arguments.length,qe=-1,ze=R.length,je=Te(ze+ye),nt=this&&this!==Jr&&this instanceof re?Q:b;++qe<ze;)je[qe]=R[qe];for(;ye--;)je[qe++]=arguments[++ae];return ks(nt,j?T:this,je)}return re}function gI(b){return function(w,T,R){return R&&typeof R!="number"&&Go(w,T,R)&&(T=R=n),w=Pi(w),T===n?(T=w,w=0):T=Pi(T),R=R===n?w<T?1:-1:Pi(R),z7(w,T,R,b)}}function $g(b){return function(w,T){return typeof w=="string"&&typeof T=="string"||(w=Hs(w),T=Hs(T)),b(w,T)}}function vI(b,w,T,R,j,Q,re,ae,ye,qe){var ze=w&$,je=ze?re:n,nt=ze?n:re,mt=ze?Q:n,Ct=ze?n:Q;w|=ze?M:I,w&=~(ze?I:M),w&x||(w&=-4);var Wt=[b,w,j,mt,je,Ct,nt,ae,ye,qe],Mt=T.apply(n,Wt);return Xw(b)&&TI(Mt,Wt),Mt.placeholder=R,EI(Mt,b,w)}function Kw(b){var w=wr[b];return function(T,R){if(T=Hs(T),R=R==null?0:wo(Kt(R),292),R&&EE(T)){var j=(xn(T)+"e").split("e"),Q=w(j[0]+"e"+(+j[1]+R));return j=(xn(Q)+"e").split("e"),+(j[0]+"e"+(+j[1]-R))}return w(T)}}var n9=ed&&1/eg(new ed([,-0]))[1]==ne?function(b){return new ed(b)}:pk;function yI(b){return function(w){var T=ko(w);return T==se?ww(w):T==_e?bW(w):dW(w,b(w))}}function Ai(b,w,T,R,j,Q,re,ae){var ye=w&v;if(!ye&&typeof b!="function")throw new Ls(a);var qe=R?R.length:0;if(qe||(w&=-97,R=j=n),re=re===n?re:kr(Kt(re),0),ae=ae===n?ae:Kt(ae),qe-=j?j.length:0,w&I){var ze=R,je=j;R=j=n}var nt=ye?n:Gw(b),mt=[b,w,T,R,j,ze,je,Q,re,ae];if(nt&&v9(mt,nt),b=mt[0],w=mt[1],T=mt[2],R=mt[3],j=mt[4],ae=mt[9]=mt[9]===n?ye?0:b.length:kr(mt[9]-qe,0),!ae&&w&($|C)&&(w&=-25),!w||w==g)var Ct=Z7(b,w,T);else w==$||w==C?Ct=e9(b,w,ae):(w==M||w==(g|M))&&!j.length?Ct=t9(b,w,T,R):Ct=kg.apply(n,mt);var Wt=nt?XE:TI;return EI(Wt(Ct,mt),b,w)}function bI(b,w,T,R){return b===n||da(b,Zc[T])&&!kn.call(R,T)?w:b}function xI(b,w,T,R,j,Q){return Gn(b)&&Gn(w)&&(Q.set(w,b),yg(b,w,n,xI,Q),Q.delete(w)),b}function r9(b){return Hf(b)?n:b}function wI(b,w,T,R,j,Q){var re=T&m,ae=b.length,ye=w.length;if(ae!=ye&&!(re&&ye>ae))return!1;var qe=Q.get(b),ze=Q.get(w);if(qe&&ze)return qe==w&&ze==b;var je=-1,nt=!0,mt=T&h?new Mu:n;for(Q.set(b,w),Q.set(w,b);++je<ae;){var Ct=b[je],Wt=w[je];if(R)var Mt=re?R(Wt,Ct,je,w,b,Q):R(Ct,Wt,je,b,w,Q);if(Mt!==n){if(Mt)continue;nt=!1;break}if(mt){if(!hw(w,function(Xt,sn){if(!Pf(mt,sn)&&(Ct===Xt||j(Ct,Xt,T,R,Q)))return mt.push(sn)})){nt=!1;break}}else if(!(Ct===Wt||j(Ct,Wt,T,R,Q))){nt=!1;break}}return Q.delete(b),Q.delete(w),nt}function o9(b,w,T,R,j,Q,re){switch(T){case Qt:if(b.byteLength!=w.byteLength||b.byteOffset!=w.byteOffset)return!1;b=b.buffer,w=w.buffer;case Et:return!(b.byteLength!=w.byteLength||!Q(new ag(b),new ag(w)));case ve:case Ae:case $e:return da(+b,+w);case et:return b.name==w.name&&b.message==w.message;case Be:case Oe:return b==w+"";case se:var ae=ww;case _e:var ye=R&m;if(ae||(ae=eg),b.size!=w.size&&!ye)return!1;var qe=re.get(b);if(qe)return qe==w;R|=h,re.set(b,w);var ze=wI(ae(b),ae(w),R,j,Q,re);return re.delete(b),ze;case Ze:if(Df)return Df.call(b)==Df.call(w)}return!1}function s9(b,w,T,R,j,Q){var re=T&m,ae=Hw(b),ye=ae.length,qe=Hw(w),ze=qe.length;if(ye!=ze&&!re)return!1;for(var je=ye;je--;){var nt=ae[je];if(!(re?nt in w:kn.call(w,nt)))return!1}var mt=Q.get(b),Ct=Q.get(w);if(mt&&Ct)return mt==w&&Ct==b;var Wt=!0;Q.set(b,w),Q.set(w,b);for(var Mt=re;++je<ye;){nt=ae[je];var Xt=b[nt],sn=w[nt];if(R)var Cs=re?R(sn,Xt,nt,w,b,Q):R(Xt,sn,nt,b,w,Q);if(!(Cs===n?Xt===sn||j(Xt,sn,T,R,Q):Cs)){Wt=!1;break}Mt||(Mt=nt=="constructor")}if(Wt&&!Mt){var Jo=b.constructor,Ms=w.constructor;Jo!=Ms&&"constructor"in b&&"constructor"in w&&!(typeof Jo=="function"&&Jo instanceof Jo&&typeof Ms=="function"&&Ms instanceof Ms)&&(Wt=!1)}return Q.delete(b),Q.delete(w),Wt}function Ti(b){return ek(MI(b,n,NI),b+"")}function Hw(b){return LE(b,Mr,Yw)}function Ww(b){return LE(b,us,kI)}var Gw=fg?function(b){return fg.get(b)}:pk;function Cg(b){for(var w=b.name+"",T=td[w],R=kn.call(td,w)?T.length:0;R--;){var j=T[R],Q=j.func;if(Q==null||Q==b)return j.name}return w}function sd(b){var w=kn.call(G,"placeholder")?G:b;return w.placeholder}function _t(){var b=G.iteratee||dk;return b=b===dk?UE:b,arguments.length?b(arguments[0],arguments[1]):b}function Mg(b,w){var T=b.__data__;return p9(w)?T[typeof w=="string"?"string":"hash"]:T.map}function Jw(b){for(var w=Mr(b),T=w.length;T--;){var R=w[T],j=b[R];w[T]=[R,j,$I(j)]}return w}function Eu(b,w){var T=gW(b,w);return VE(T)?T:n}function a9(b){var w=kn.call(b,$u),T=b[$u];try{b[$u]=n;var R=!0}catch{}var j=og.call(b);return R&&(w?b[$u]=T:delete b[$u]),j}var Yw=_w?function(b){return b==null?[]:(b=An(b),pl(_w(b),function(w){return AE.call(b,w)}))}:mk,kI=_w?function(b){for(var w=[];b;)ml(w,Yw(b)),b=ig(b);return w}:mk,ko=Wo;(Sw&&ko(new Sw(new ArrayBuffer(1)))!=Qt||Rf&&ko(new Rf)!=se||$w&&ko($w.resolve())!=me||ed&&ko(new ed)!=_e||Bf&&ko(new Bf)!=at)&&(ko=function(b){var w=Wo(b),T=w==be?b.constructor:n,R=T?Iu(T):"";if(R)switch(R){case jW:return Qt;case VW:return se;case UW:return me;case KW:return _e;case HW:return at}return w});function i9(b,w,T){for(var R=-1,j=T.length;++R<j;){var Q=T[R],re=Q.size;switch(Q.type){case"drop":b+=re;break;case"dropRight":w-=re;break;case"take":w=wo(w,b+re);break;case"takeRight":b=kr(b,w-re);break}}return{start:b,end:w}}function l9(b){var w=b.match(Mf);return w?w[1].split(Kh):[]}function _I(b,w,T){w=bl(w,b);for(var R=-1,j=w.length,Q=!1;++R<j;){var re=Oa(w[R]);if(!(Q=b!=null&&T(b,re)))break;b=b[re]}return Q||++R!=j?Q:(j=b==null?0:b.length,!!j&&Rg(j)&&Ei(re,j)&&(jt(b)||Pu(b)))}function u9(b){var w=b.length,T=new b.constructor(w);return w&&typeof b[0]=="string"&&kn.call(b,"index")&&(T.index=b.index,T.input=b.input),T}function SI(b){return typeof b.constructor=="function"&&!Uf(b)?nd(ig(b)):{}}function c9(b,w,T){var R=b.constructor;switch(w){case Et:return Vw(b);case ve:case Ae:return new R(+b);case Qt:return W7(b,T);case Lt:case Fn:case gn:case pr:case ur:case cr:case xo:case xe:case ke:return aI(b,T);case se:return new R;case $e:case Oe:return new R(b);case Be:return G7(b);case _e:return new R;case Ze:return J7(b)}}function d9(b,w){var T=w.length;if(!T)return b;var R=T-1;return w[R]=(T>1?"& ":"")+w[R],w=w.join(T>2?", ":" "),b.replace(Cf,`{
/* [wrapped with `+w+`] */
`)}function f9(b){return jt(b)||Pu(b)||!!(TE&&b&&b[TE])}function Ei(b,w){var T=typeof b;return w=w??Y,!!w&&(T=="number"||T!="symbol"&&sw.test(b))&&b>-1&&b%1==0&&b<w}function Go(b,w,T){if(!Gn(T))return!1;var R=typeof w;return(R=="number"?ls(T)&&Ei(w,T.length):R=="string"&&w in T)?da(T[w],b):!1}function Qw(b,w){if(jt(b))return!1;var T=typeof b;return T=="number"||T=="symbol"||T=="boolean"||b==null||$s(b)?!0:Vh.test(b)||!ws.test(b)||w!=null&&b in An(w)}function p9(b){var w=typeof b;return w=="string"||w=="number"||w=="symbol"||w=="boolean"?b!=="__proto__":b===null}function Xw(b){var w=Cg(b),T=G[w];if(typeof T!="function"||!(w in tn.prototype))return!1;if(b===T)return!0;var R=Gw(T);return!!R&&b===R[0]}function m9(b){return!!$E&&$E in b}var h9=ng?Ii:hk;function Uf(b){var w=b&&b.constructor,T=typeof w=="function"&&w.prototype||Zc;return b===T}function $I(b){return b===b&&!Gn(b)}function CI(b,w){return function(T){return T==null?!1:T[b]===w&&(w!==n||b in An(T))}}function g9(b){var w=Pg(b,function(R){return T.size===c&&T.clear(),R}),T=w.cache;return w}function v9(b,w){var T=b[1],R=w[1],j=T|R,Q=j<(g|v|E),re=R==E&&T==$||R==E&&T==P&&b[7].length<=w[8]||R==(E|P)&&w[7].length<=w[8]&&T==$;if(!(Q||re))return b;R&g&&(b[2]=w[2],j|=T&g?0:x);var ae=w[3];if(ae){var ye=b[3];b[3]=ye?lI(ye,ae,w[4]):ae,b[4]=ye?hl(b[3],u):w[4]}return ae=w[5],ae&&(ye=b[5],b[5]=ye?uI(ye,ae,w[6]):ae,b[6]=ye?hl(b[5],u):w[6]),ae=w[7],ae&&(b[7]=ae),R&E&&(b[8]=b[8]==null?w[8]:wo(b[8],w[8])),b[9]==null&&(b[9]=w[9]),b[0]=w[0],b[1]=j,b}function y9(b){var w=[];if(b!=null)for(var T in An(b))w.push(T);return w}function b9(b){return og.call(b)}function MI(b,w,T){return w=kr(w===n?b.length-1:w,0),function(){for(var R=arguments,j=-1,Q=kr(R.length-w,0),re=Te(Q);++j<Q;)re[j]=R[w+j];j=-1;for(var ae=Te(w+1);++j<w;)ae[j]=R[j];return ae[w]=T(re),ks(b,this,ae)}}function AI(b,w){return w.length<2?b:Tu(b,Us(w,0,-1))}function x9(b,w){for(var T=b.length,R=wo(w.length,T),j=is(b);R--;){var Q=w[R];b[R]=Ei(Q,T)?j[Q]:n}return b}function Zw(b,w){if(!(w==="constructor"&&typeof b[w]=="function")&&w!="__proto__")return b[w]}var TI=II(XE),Kf=BW||function(b,w){return Jr.setTimeout(b,w)},ek=II(V7);function EI(b,w,T){var R=w+"";return ek(b,d9(R,w9(l9(R),T)))}function II(b){var w=0,T=0;return function(){var R=qW(),j=F-(R-T);if(T=R,j>0){if(++w>=V)return arguments[0]}else w=0;return b.apply(n,arguments)}}function Ag(b,w){var T=-1,R=b.length,j=R-1;for(w=w===n?R:w;++T<w;){var Q=Nw(T,j),re=b[Q];b[Q]=b[T],b[T]=re}return b.length=w,b}var PI=g9(function(b){var w=[];return b.charCodeAt(0)===46&&w.push(""),b.replace(Uh,function(T,R,j,Q){w.push(j?Q.replace(Wh,"$1"):R||T)}),w});function Oa(b){if(typeof b=="string"||$s(b))return b;var w=b+"";return w=="0"&&1/b==-ne?"-0":w}function Iu(b){if(b!=null){try{return rg.call(b)}catch{}try{return b+""}catch{}}return""}function w9(b,w){return zs(Xe,function(T){var R="_."+T[0];w&T[1]&&!Xh(b,R)&&b.push(R)}),b.sort()}function OI(b){if(b instanceof tn)return b.clone();var w=new js(b.__wrapped__,b.__chain__);return w.__actions__=is(b.__actions__),w.__index__=b.__index__,w.__values__=b.__values__,w}function k9(b,w,T){(T?Go(b,w,T):w===n)?w=1:w=kr(Kt(w),0);var R=b==null?0:b.length;if(!R||w<1)return[];for(var j=0,Q=0,re=Te(cg(R/w));j<R;)re[Q++]=Us(b,j,j+=w);return re}function _9(b){for(var w=-1,T=b==null?0:b.length,R=0,j=[];++w<T;){var Q=b[w];Q&&(j[R++]=Q)}return j}function S9(){var b=arguments.length;if(!b)return[];for(var w=Te(b-1),T=arguments[0],R=b;R--;)w[R-1]=arguments[R];return ml(jt(T)?is(T):[T],Yr(w,1))}var $9=Jt(function(b,w){return dr(b)?qf(b,Yr(w,1,dr,!0)):[]}),C9=Jt(function(b,w){var T=Ks(w);return dr(T)&&(T=n),dr(b)?qf(b,Yr(w,1,dr,!0),_t(T,2)):[]}),M9=Jt(function(b,w){var T=Ks(w);return dr(T)&&(T=n),dr(b)?qf(b,Yr(w,1,dr,!0),n,T):[]});function A9(b,w,T){var R=b==null?0:b.length;return R?(w=T||w===n?1:Kt(w),Us(b,w<0?0:w,R)):[]}function T9(b,w,T){var R=b==null?0:b.length;return R?(w=T||w===n?1:Kt(w),w=R-w,Us(b,0,w<0?0:w)):[]}function E9(b,w){return b&&b.length?xg(b,_t(w,3),!0,!0):[]}function I9(b,w){return b&&b.length?xg(b,_t(w,3),!0):[]}function P9(b,w,T,R){var j=b==null?0:b.length;return j?(T&&typeof T!="number"&&Go(b,w,T)&&(T=0,R=j),S7(b,w,T,R)):[]}function RI(b,w,T){var R=b==null?0:b.length;if(!R)return-1;var j=T==null?0:Kt(T);return j<0&&(j=kr(R+j,0)),Zh(b,_t(w,3),j)}function BI(b,w,T){var R=b==null?0:b.length;if(!R)return-1;var j=R-1;return T!==n&&(j=Kt(T),j=T<0?kr(R+j,0):wo(j,R-1)),Zh(b,_t(w,3),j,!0)}function NI(b){var w=b==null?0:b.length;return w?Yr(b,1):[]}function O9(b){var w=b==null?0:b.length;return w?Yr(b,ne):[]}function R9(b,w){var T=b==null?0:b.length;return T?(w=w===n?1:Kt(w),Yr(b,w)):[]}function B9(b){for(var w=-1,T=b==null?0:b.length,R={};++w<T;){var j=b[w];R[j[0]]=j[1]}return R}function DI(b){return b&&b.length?b[0]:n}function N9(b,w,T){var R=b==null?0:b.length;if(!R)return-1;var j=T==null?0:Kt(T);return j<0&&(j=kr(R+j,0)),Jc(b,w,j)}function D9(b){var w=b==null?0:b.length;return w?Us(b,0,-1):[]}var F9=Jt(function(b){var w=Vn(b,Lw);return w.length&&w[0]===b[0]?Iw(w):[]}),q9=Jt(function(b){var w=Ks(b),T=Vn(b,Lw);return w===Ks(T)?w=n:T.pop(),T.length&&T[0]===b[0]?Iw(T,_t(w,2)):[]}),z9=Jt(function(b){var w=Ks(b),T=Vn(b,Lw);return w=typeof w=="function"?w:n,w&&T.pop(),T.length&&T[0]===b[0]?Iw(T,n,w):[]});function L9(b,w){return b==null?"":DW.call(b,w)}function Ks(b){var w=b==null?0:b.length;return w?b[w-1]:n}function j9(b,w,T){var R=b==null?0:b.length;if(!R)return-1;var j=R;return T!==n&&(j=Kt(T),j=j<0?kr(R+j,0):wo(j,R-1)),w===w?wW(b,w,j):Zh(b,vE,j,!0)}function V9(b,w){return b&&b.length?GE(b,Kt(w)):n}var U9=Jt(FI);function FI(b,w){return b&&b.length&&w&&w.length?Bw(b,w):b}function K9(b,w,T){return b&&b.length&&w&&w.length?Bw(b,w,_t(T,2)):b}function H9(b,w,T){return b&&b.length&&w&&w.length?Bw(b,w,n,T):b}var W9=Ti(function(b,w){var T=b==null?0:b.length,R=Mw(b,w);return QE(b,Vn(w,function(j){return Ei(j,T)?+j:j}).sort(iI)),R});function G9(b,w){var T=[];if(!(b&&b.length))return T;var R=-1,j=[],Q=b.length;for(w=_t(w,3);++R<Q;){var re=b[R];w(re,R,b)&&(T.push(re),j.push(R))}return QE(b,j),T}function tk(b){return b==null?b:LW.call(b)}function J9(b,w,T){var R=b==null?0:b.length;return R?(T&&typeof T!="number"&&Go(b,w,T)?(w=0,T=R):(w=w==null?0:Kt(w),T=T===n?R:Kt(T)),Us(b,w,T)):[]}function Y9(b,w){return bg(b,w)}function Q9(b,w,T){return Fw(b,w,_t(T,2))}function X9(b,w){var T=b==null?0:b.length;if(T){var R=bg(b,w);if(R<T&&da(b[R],w))return R}return-1}function Z9(b,w){return bg(b,w,!0)}function eG(b,w,T){return Fw(b,w,_t(T,2),!0)}function tG(b,w){var T=b==null?0:b.length;if(T){var R=bg(b,w,!0)-1;if(da(b[R],w))return R}return-1}function nG(b){return b&&b.length?ZE(b):[]}function rG(b,w){return b&&b.length?ZE(b,_t(w,2)):[]}function oG(b){var w=b==null?0:b.length;return w?Us(b,1,w):[]}function sG(b,w,T){return b&&b.length?(w=T||w===n?1:Kt(w),Us(b,0,w<0?0:w)):[]}function aG(b,w,T){var R=b==null?0:b.length;return R?(w=T||w===n?1:Kt(w),w=R-w,Us(b,w<0?0:w,R)):[]}function iG(b,w){return b&&b.length?xg(b,_t(w,3),!1,!0):[]}function lG(b,w){return b&&b.length?xg(b,_t(w,3)):[]}var uG=Jt(function(b){return yl(Yr(b,1,dr,!0))}),cG=Jt(function(b){var w=Ks(b);return dr(w)&&(w=n),yl(Yr(b,1,dr,!0),_t(w,2))}),dG=Jt(function(b){var w=Ks(b);return w=typeof w=="function"?w:n,yl(Yr(b,1,dr,!0),n,w)});function fG(b){return b&&b.length?yl(b):[]}function pG(b,w){return b&&b.length?yl(b,_t(w,2)):[]}function mG(b,w){return w=typeof w=="function"?w:n,b&&b.length?yl(b,n,w):[]}function nk(b){if(!(b&&b.length))return[];var w=0;return b=pl(b,function(T){if(dr(T))return w=kr(T.length,w),!0}),bw(w,function(T){return Vn(b,gw(T))})}function qI(b,w){if(!(b&&b.length))return[];var T=nk(b);return w==null?T:Vn(T,function(R){return ks(w,n,R)})}var hG=Jt(function(b,w){return dr(b)?qf(b,w):[]}),gG=Jt(function(b){return zw(pl(b,dr))}),vG=Jt(function(b){var w=Ks(b);return dr(w)&&(w=n),zw(pl(b,dr),_t(w,2))}),yG=Jt(function(b){var w=Ks(b);return w=typeof w=="function"?w:n,zw(pl(b,dr),n,w)}),bG=Jt(nk);function xG(b,w){return rI(b||[],w||[],Ff)}function wG(b,w){return rI(b||[],w||[],jf)}var kG=Jt(function(b){var w=b.length,T=w>1?b[w-1]:n;return T=typeof T=="function"?(b.pop(),T):n,qI(b,T)});function zI(b){var w=G(b);return w.__chain__=!0,w}function _G(b,w){return w(b),b}function Tg(b,w){return w(b)}var SG=Ti(function(b){var w=b.length,T=w?b[0]:0,R=this.__wrapped__,j=function(Q){return Mw(Q,b)};return w>1||this.__actions__.length||!(R instanceof tn)||!Ei(T)?this.thru(j):(R=R.slice(T,+T+(w?1:0)),R.__actions__.push({func:Tg,args:[j],thisArg:n}),new js(R,this.__chain__).thru(function(Q){return w&&!Q.length&&Q.push(n),Q}))});function $G(){return zI(this)}function CG(){return new js(this.value(),this.__chain__)}function MG(){this.__values__===n&&(this.__values__=eP(this.value()));var b=this.__index__>=this.__values__.length,w=b?n:this.__values__[this.__index__++];return{done:b,value:w}}function AG(){return this}function TG(b){for(var w,T=this;T instanceof mg;){var R=OI(T);R.__index__=0,R.__values__=n,w?j.__wrapped__=R:w=R;var j=R;T=T.__wrapped__}return j.__wrapped__=b,w}function EG(){var b=this.__wrapped__;if(b instanceof tn){var w=b;return this.__actions__.length&&(w=new tn(this)),w=w.reverse(),w.__actions__.push({func:Tg,args:[tk],thisArg:n}),new js(w,this.__chain__)}return this.thru(tk)}function IG(){return nI(this.__wrapped__,this.__actions__)}var PG=wg(function(b,w,T){kn.call(b,T)?++b[T]:Mi(b,T,1)});function OG(b,w,T){var R=jt(b)?hE:_7;return T&&Go(b,w,T)&&(w=n),R(b,_t(w,3))}function RG(b,w){var T=jt(b)?pl:qE;return T(b,_t(w,3))}var BG=pI(RI),NG=pI(BI);function DG(b,w){return Yr(Eg(b,w),1)}function FG(b,w){return Yr(Eg(b,w),ne)}function qG(b,w,T){return T=T===n?1:Kt(T),Yr(Eg(b,w),T)}function LI(b,w){var T=jt(b)?zs:vl;return T(b,_t(w,3))}function jI(b,w){var T=jt(b)?oW:FE;return T(b,_t(w,3))}var zG=wg(function(b,w,T){kn.call(b,T)?b[T].push(w):Mi(b,T,[w])});function LG(b,w,T,R){b=ls(b)?b:id(b),T=T&&!R?Kt(T):0;var j=b.length;return T<0&&(T=kr(j+T,0)),Bg(b)?T<=j&&b.indexOf(w,T)>-1:!!j&&Jc(b,w,T)>-1}var jG=Jt(function(b,w,T){var R=-1,j=typeof w=="function",Q=ls(b)?Te(b.length):[];return vl(b,function(re){Q[++R]=j?ks(w,re,T):zf(re,w,T)}),Q}),VG=wg(function(b,w,T){Mi(b,T,w)});function Eg(b,w){var T=jt(b)?Vn:KE;return T(b,_t(w,3))}function UG(b,w,T,R){return b==null?[]:(jt(w)||(w=w==null?[]:[w]),T=R?n:T,jt(T)||(T=T==null?[]:[T]),JE(b,w,T))}var KG=wg(function(b,w,T){b[T?0:1].push(w)},function(){return[[],[]]});function HG(b,w,T){var R=jt(b)?mw:bE,j=arguments.length<3;return R(b,_t(w,4),T,j,vl)}function WG(b,w,T){var R=jt(b)?sW:bE,j=arguments.length<3;return R(b,_t(w,4),T,j,FE)}function GG(b,w){var T=jt(b)?pl:qE;return T(b,Og(_t(w,3)))}function JG(b){var w=jt(b)?RE:L7;return w(b)}function YG(b,w,T){(T?Go(b,w,T):w===n)?w=1:w=Kt(w);var R=jt(b)?y7:j7;return R(b,w)}function QG(b){var w=jt(b)?b7:U7;return w(b)}function XG(b){if(b==null)return 0;if(ls(b))return Bg(b)?Qc(b):b.length;var w=ko(b);return w==se||w==_e?b.size:Ow(b).length}function ZG(b,w,T){var R=jt(b)?hw:K7;return T&&Go(b,w,T)&&(w=n),R(b,_t(w,3))}var eJ=Jt(function(b,w){if(b==null)return[];var T=w.length;return T>1&&Go(b,w[0],w[1])?w=[]:T>2&&Go(w[0],w[1],w[2])&&(w=[w[0]]),JE(b,Yr(w,1),[])}),Ig=RW||function(){return Jr.Date.now()};function tJ(b,w){if(typeof w!="function")throw new Ls(a);return b=Kt(b),function(){if(--b<1)return w.apply(this,arguments)}}function VI(b,w,T){return w=T?n:w,w=b&&w==null?b.length:w,Ai(b,E,n,n,n,n,w)}function UI(b,w){var T;if(typeof w!="function")throw new Ls(a);return b=Kt(b),function(){return--b>0&&(T=w.apply(this,arguments)),b<=1&&(w=n),T}}var rk=Jt(function(b,w,T){var R=g;if(T.length){var j=hl(T,sd(rk));R|=M}return Ai(b,R,w,T,j)}),KI=Jt(function(b,w,T){var R=g|v;if(T.length){var j=hl(T,sd(KI));R|=M}return Ai(w,R,b,T,j)});function HI(b,w,T){w=T?n:w;var R=Ai(b,$,n,n,n,n,n,w);return R.placeholder=HI.placeholder,R}function WI(b,w,T){w=T?n:w;var R=Ai(b,C,n,n,n,n,n,w);return R.placeholder=WI.placeholder,R}function GI(b,w,T){var R,j,Q,re,ae,ye,qe=0,ze=!1,je=!1,nt=!0;if(typeof b!="function")throw new Ls(a);w=Hs(w)||0,Gn(T)&&(ze=!!T.leading,je="maxWait"in T,Q=je?kr(Hs(T.maxWait)||0,w):Q,nt="trailing"in T?!!T.trailing:nt);function mt(fr){var fa=R,Oi=j;return R=j=n,qe=fr,re=b.apply(Oi,fa),re}function Ct(fr){return qe=fr,ae=Kf(Xt,w),ze?mt(fr):re}function Wt(fr){var fa=fr-ye,Oi=fr-qe,pP=w-fa;return je?wo(pP,Q-Oi):pP}function Mt(fr){var fa=fr-ye,Oi=fr-qe;return ye===n||fa>=w||fa<0||je&&Oi>=Q}function Xt(){var fr=Ig();if(Mt(fr))return sn(fr);ae=Kf(Xt,Wt(fr))}function sn(fr){return ae=n,nt&&R?mt(fr):(R=j=n,re)}function Cs(){ae!==n&&oI(ae),qe=0,R=ye=j=ae=n}function Jo(){return ae===n?re:sn(Ig())}function Ms(){var fr=Ig(),fa=Mt(fr);if(R=arguments,j=this,ye=fr,fa){if(ae===n)return Ct(ye);if(je)return oI(ae),ae=Kf(Xt,w),mt(ye)}return ae===n&&(ae=Kf(Xt,w)),re}return Ms.cancel=Cs,Ms.flush=Jo,Ms}var nJ=Jt(function(b,w){return DE(b,1,w)}),rJ=Jt(function(b,w,T){return DE(b,Hs(w)||0,T)});function oJ(b){return Ai(b,O)}function Pg(b,w){if(typeof b!="function"||w!=null&&typeof w!="function")throw new Ls(a);var T=function(){var R=arguments,j=w?w.apply(this,R):R[0],Q=T.cache;if(Q.has(j))return Q.get(j);var re=b.apply(this,R);return T.cache=Q.set(j,re)||Q,re};return T.cache=new(Pg.Cache||Ci),T}Pg.Cache=Ci;function Og(b){if(typeof b!="function")throw new Ls(a);return function(){var w=arguments;switch(w.length){case 0:return!b.call(this);case 1:return!b.call(this,w[0]);case 2:return!b.call(this,w[0],w[1]);case 3:return!b.call(this,w[0],w[1],w[2])}return!b.apply(this,w)}}function sJ(b){return UI(2,b)}var aJ=H7(function(b,w){w=w.length==1&&jt(w[0])?Vn(w[0],_s(_t())):Vn(Yr(w,1),_s(_t()));var T=w.length;return Jt(function(R){for(var j=-1,Q=wo(R.length,T);++j<Q;)R[j]=w[j].call(this,R[j]);return ks(b,this,R)})}),ok=Jt(function(b,w){var T=hl(w,sd(ok));return Ai(b,M,n,w,T)}),JI=Jt(function(b,w){var T=hl(w,sd(JI));return Ai(b,I,n,w,T)}),iJ=Ti(function(b,w){return Ai(b,P,n,n,n,w)});function lJ(b,w){if(typeof b!="function")throw new Ls(a);return w=w===n?w:Kt(w),Jt(b,w)}function uJ(b,w){if(typeof b!="function")throw new Ls(a);return w=w==null?0:kr(Kt(w),0),Jt(function(T){var R=T[w],j=xl(T,0,w);return R&&ml(j,R),ks(b,this,j)})}function cJ(b,w,T){var R=!0,j=!0;if(typeof b!="function")throw new Ls(a);return Gn(T)&&(R="leading"in T?!!T.leading:R,j="trailing"in T?!!T.trailing:j),GI(b,w,{leading:R,maxWait:w,trailing:j})}function dJ(b){return VI(b,1)}function fJ(b,w){return ok(jw(w),b)}function pJ(){if(!arguments.length)return[];var b=arguments[0];return jt(b)?b:[b]}function mJ(b){return Vs(b,p)}function hJ(b,w){return w=typeof w=="function"?w:n,Vs(b,p,w)}function gJ(b){return Vs(b,d|p)}function vJ(b,w){return w=typeof w=="function"?w:n,Vs(b,d|p,w)}function yJ(b,w){return w==null||NE(b,w,Mr(w))}function da(b,w){return b===w||b!==b&&w!==w}var bJ=$g(Ew),xJ=$g(function(b,w){return b>=w}),Pu=jE((function(){return arguments})())?jE:function(b){return tr(b)&&kn.call(b,"callee")&&!AE.call(b,"callee")},jt=Te.isArray,wJ=uE?_s(uE):T7;function ls(b){return b!=null&&Rg(b.length)&&!Ii(b)}function dr(b){return tr(b)&&ls(b)}function kJ(b){return b===!0||b===!1||tr(b)&&Wo(b)==ve}var wl=NW||hk,_J=cE?_s(cE):E7;function SJ(b){return tr(b)&&b.nodeType===1&&!Hf(b)}function $J(b){if(b==null)return!0;if(ls(b)&&(jt(b)||typeof b=="string"||typeof b.splice=="function"||wl(b)||ad(b)||Pu(b)))return!b.length;var w=ko(b);if(w==se||w==_e)return!b.size;if(Uf(b))return!Ow(b).length;for(var T in b)if(kn.call(b,T))return!1;return!0}function CJ(b,w){return Lf(b,w)}function MJ(b,w,T){T=typeof T=="function"?T:n;var R=T?T(b,w):n;return R===n?Lf(b,w,n,T):!!R}function sk(b){if(!tr(b))return!1;var w=Wo(b);return w==et||w==pe||typeof b.message=="string"&&typeof b.name=="string"&&!Hf(b)}function AJ(b){return typeof b=="number"&&EE(b)}function Ii(b){if(!Gn(b))return!1;var w=Wo(b);return w==kt||w==te||w==ce||w==he}function YI(b){return typeof b=="number"&&b==Kt(b)}function Rg(b){return typeof b=="number"&&b>-1&&b%1==0&&b<=Y}function Gn(b){var w=typeof b;return b!=null&&(w=="object"||w=="function")}function tr(b){return b!=null&&typeof b=="object"}var QI=dE?_s(dE):P7;function TJ(b,w){return b===w||Pw(b,w,Jw(w))}function EJ(b,w,T){return T=typeof T=="function"?T:n,Pw(b,w,Jw(w),T)}function IJ(b){return XI(b)&&b!=+b}function PJ(b){if(h9(b))throw new zt(s);return VE(b)}function OJ(b){return b===null}function RJ(b){return b==null}function XI(b){return typeof b=="number"||tr(b)&&Wo(b)==$e}function Hf(b){if(!tr(b)||Wo(b)!=be)return!1;var w=ig(b);if(w===null)return!0;var T=kn.call(w,"constructor")&&w.constructor;return typeof T=="function"&&T instanceof T&&rg.call(T)==EW}var ak=fE?_s(fE):O7;function BJ(b){return YI(b)&&b>=-Y&&b<=Y}var ZI=pE?_s(pE):R7;function Bg(b){return typeof b=="string"||!jt(b)&&tr(b)&&Wo(b)==Oe}function $s(b){return typeof b=="symbol"||tr(b)&&Wo(b)==Ze}var ad=mE?_s(mE):B7;function NJ(b){return b===n}function DJ(b){return tr(b)&&ko(b)==at}function FJ(b){return tr(b)&&Wo(b)==yt}var qJ=$g(Rw),zJ=$g(function(b,w){return b<=w});function eP(b){if(!b)return[];if(ls(b))return Bg(b)?ua(b):is(b);if(Of&&b[Of])return yW(b[Of]());var w=ko(b),T=w==se?ww:w==_e?eg:id;return T(b)}function Pi(b){if(!b)return b===0?b:0;if(b=Hs(b),b===ne||b===-ne){var w=b<0?-1:1;return w*Re}return b===b?b:0}function Kt(b){var w=Pi(b),T=w%1;return w===w?T?w-T:w:0}function tP(b){return b?Au(Kt(b),0,we):0}function Hs(b){if(typeof b=="number")return b;if($s(b))return fe;if(Gn(b)){var w=typeof b.valueOf=="function"?b.valueOf():b;b=Gn(w)?w+"":w}if(typeof b!="string")return b===0?b:+b;b=xE(b);var T=If.test(b);return T||Wc.test(b)?tW(b.slice(2),T?2:8):ow.test(b)?fe:+b}function nP(b){return Pa(b,us(b))}function LJ(b){return b?Au(Kt(b),-Y,Y):b===0?b:0}function xn(b){return b==null?"":Ss(b)}var jJ=rd(function(b,w){if(Uf(w)||ls(w)){Pa(w,Mr(w),b);return}for(var T in w)kn.call(w,T)&&Ff(b,T,w[T])}),rP=rd(function(b,w){Pa(w,us(w),b)}),Ng=rd(function(b,w,T,R){Pa(w,us(w),b,R)}),VJ=rd(function(b,w,T,R){Pa(w,Mr(w),b,R)}),UJ=Ti(Mw);function KJ(b,w){var T=nd(b);return w==null?T:BE(T,w)}var HJ=Jt(function(b,w){b=An(b);var T=-1,R=w.length,j=R>2?w[2]:n;for(j&&Go(w[0],w[1],j)&&(R=1);++T<R;)for(var Q=w[T],re=us(Q),ae=-1,ye=re.length;++ae<ye;){var qe=re[ae],ze=b[qe];(ze===n||da(ze,Zc[qe])&&!kn.call(b,qe))&&(b[qe]=Q[qe])}return b}),WJ=Jt(function(b){return b.push(n,xI),ks(oP,n,b)});function GJ(b,w){return gE(b,_t(w,3),Ia)}function JJ(b,w){return gE(b,_t(w,3),Tw)}function YJ(b,w){return b==null?b:Aw(b,_t(w,3),us)}function QJ(b,w){return b==null?b:zE(b,_t(w,3),us)}function XJ(b,w){return b&&Ia(b,_t(w,3))}function ZJ(b,w){return b&&Tw(b,_t(w,3))}function eY(b){return b==null?[]:vg(b,Mr(b))}function tY(b){return b==null?[]:vg(b,us(b))}function ik(b,w,T){var R=b==null?n:Tu(b,w);return R===n?T:R}function nY(b,w){return b!=null&&_I(b,w,$7)}function lk(b,w){return b!=null&&_I(b,w,C7)}var rY=hI(function(b,w,T){w!=null&&typeof w.toString!="function"&&(w=og.call(w)),b[w]=T},ck(cs)),oY=hI(function(b,w,T){w!=null&&typeof w.toString!="function"&&(w=og.call(w)),kn.call(b,w)?b[w].push(T):b[w]=[T]},_t),sY=Jt(zf);function Mr(b){return ls(b)?OE(b):Ow(b)}function us(b){return ls(b)?OE(b,!0):N7(b)}function aY(b,w){var T={};return w=_t(w,3),Ia(b,function(R,j,Q){Mi(T,w(R,j,Q),R)}),T}function iY(b,w){var T={};return w=_t(w,3),Ia(b,function(R,j,Q){Mi(T,j,w(R,j,Q))}),T}var lY=rd(function(b,w,T){yg(b,w,T)}),oP=rd(function(b,w,T,R){yg(b,w,T,R)}),uY=Ti(function(b,w){var T={};if(b==null)return T;var R=!1;w=Vn(w,function(Q){return Q=bl(Q,b),R||(R=Q.length>1),Q}),Pa(b,Ww(b),T),R&&(T=Vs(T,d|f|p,r9));for(var j=w.length;j--;)qw(T,w[j]);return T});function cY(b,w){return sP(b,Og(_t(w)))}var dY=Ti(function(b,w){return b==null?{}:F7(b,w)});function sP(b,w){if(b==null)return{};var T=Vn(Ww(b),function(R){return[R]});return w=_t(w),YE(b,T,function(R,j){return w(R,j[0])})}function fY(b,w,T){w=bl(w,b);var R=-1,j=w.length;for(j||(j=1,b=n);++R<j;){var Q=b==null?n:b[Oa(w[R])];Q===n&&(R=j,Q=T),b=Ii(Q)?Q.call(b):Q}return b}function pY(b,w,T){return b==null?b:jf(b,w,T)}function mY(b,w,T,R){return R=typeof R=="function"?R:n,b==null?b:jf(b,w,T,R)}var aP=yI(Mr),iP=yI(us);function hY(b,w,T){var R=jt(b),j=R||wl(b)||ad(b);if(w=_t(w,4),T==null){var Q=b&&b.constructor;j?T=R?new Q:[]:Gn(b)?T=Ii(Q)?nd(ig(b)):{}:T={}}return(j?zs:Ia)(b,function(re,ae,ye){return w(T,re,ae,ye)}),T}function gY(b,w){return b==null?!0:qw(b,w)}function vY(b,w,T){return b==null?b:tI(b,w,jw(T))}function yY(b,w,T,R){return R=typeof R=="function"?R:n,b==null?b:tI(b,w,jw(T),R)}function id(b){return b==null?[]:xw(b,Mr(b))}function bY(b){return b==null?[]:xw(b,us(b))}function xY(b,w,T){return T===n&&(T=w,w=n),T!==n&&(T=Hs(T),T=T===T?T:0),w!==n&&(w=Hs(w),w=w===w?w:0),Au(Hs(b),w,T)}function wY(b,w,T){return w=Pi(w),T===n?(T=w,w=0):T=Pi(T),b=Hs(b),M7(b,w,T)}function kY(b,w,T){if(T&&typeof T!="boolean"&&Go(b,w,T)&&(w=T=n),T===n&&(typeof w=="boolean"?(T=w,w=n):typeof b=="boolean"&&(T=b,b=n)),b===n&&w===n?(b=0,w=1):(b=Pi(b),w===n?(w=b,b=0):w=Pi(w)),b>w){var R=b;b=w,w=R}if(T||b%1||w%1){var j=IE();return wo(b+j*(w-b+eW("1e-"+((j+"").length-1))),w)}return Nw(b,w)}var _Y=od(function(b,w,T){return w=w.toLowerCase(),b+(T?lP(w):w)});function lP(b){return uk(xn(b).toLowerCase())}function uP(b){return b=xn(b),b&&b.replace(Gh,pW).replace(UH,"")}function SY(b,w,T){b=xn(b),w=Ss(w);var R=b.length;T=T===n?R:Au(Kt(T),0,R);var j=T;return T-=w.length,T>=0&&b.slice(T,j)==w}function $Y(b){return b=xn(b),b&&Ho.test(b)?b.replace(la,mW):b}function CY(b){return b=xn(b),b&&ku.test(b)?b.replace(Kc,"\\$&"):b}var MY=od(function(b,w,T){return b+(T?"-":"")+w.toLowerCase()}),AY=od(function(b,w,T){return b+(T?" ":"")+w.toLowerCase()}),TY=fI("toLowerCase");function EY(b,w,T){b=xn(b),w=Kt(w);var R=w?Qc(b):0;if(!w||R>=w)return b;var j=(w-R)/2;return Sg(dg(j),T)+b+Sg(cg(j),T)}function IY(b,w,T){b=xn(b),w=Kt(w);var R=w?Qc(b):0;return w&&R<w?b+Sg(w-R,T):b}function PY(b,w,T){b=xn(b),w=Kt(w);var R=w?Qc(b):0;return w&&R<w?Sg(w-R,T)+b:b}function OY(b,w,T){return T||w==null?w=0:w&&(w=+w),zW(xn(b).replace(_u,""),w||0)}function RY(b,w,T){return(T?Go(b,w,T):w===n)?w=1:w=Kt(w),Dw(xn(b),w)}function BY(){var b=arguments,w=xn(b[0]);return b.length<3?w:w.replace(b[1],b[2])}var NY=od(function(b,w,T){return b+(T?"_":"")+w.toLowerCase()});function DY(b,w,T){return T&&typeof T!="number"&&Go(b,w,T)&&(w=T=n),T=T===n?we:T>>>0,T?(b=xn(b),b&&(typeof w=="string"||w!=null&&!ak(w))&&(w=Ss(w),!w&&Yc(b))?xl(ua(b),0,T):b.split(w,T)):[]}var FY=od(function(b,w,T){return b+(T?" ":"")+uk(w)});function qY(b,w,T){return b=xn(b),T=T==null?0:Au(Kt(T),0,b.length),w=Ss(w),b.slice(T,T+w.length)==w}function zY(b,w,T){var R=G.templateSettings;T&&Go(b,w,T)&&(w=n),b=xn(b),w=Ng({},w,R,bI);var j=Ng({},w.imports,R.imports,bI),Q=Mr(j),re=xw(j,Q),ae,ye,qe=0,ze=w.interpolate||Jh,je="__p += '",nt=kw((w.escape||Jh).source+"|"+ze.source+"|"+(ze===Si?Tf:Jh).source+"|"+(w.evaluate||Jh).source+"|$","g"),mt="//# sourceURL="+(kn.call(w,"sourceURL")?(w.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++JH+"]")+`
`;b.replace(nt,function(Mt,Xt,sn,Cs,Jo,Ms){return sn||(sn=Cs),je+=b.slice(qe,Ms).replace(CH,hW),Xt&&(ae=!0,je+=`' +
__e(`+Xt+`) +
'`),Jo&&(ye=!0,je+=`';
`+Jo+`;
__p += '`),sn&&(je+=`' +
((__t = (`+sn+`)) == null ? '' : __t) +
'`),qe=Ms+Mt.length,Mt}),je+=`';
`;var Ct=kn.call(w,"variable")&&w.variable;if(!Ct)je=`with (obj) {
`+je+`
}
`;else if(Af.test(Ct))throw new zt(i);je=(ye?je.replace(en,""):je).replace(vn,"$1").replace(Mn,"$1;"),je="function("+(Ct||"obj")+`) {
`+(Ct?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ae?", __e = _.escape":"")+(ye?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+je+`return __p
}`;var Wt=dP(function(){return yn(Q,mt+"return "+je).apply(n,re)});if(Wt.source=je,sk(Wt))throw Wt;return Wt}function LY(b){return xn(b).toLowerCase()}function jY(b){return xn(b).toUpperCase()}function VY(b,w,T){if(b=xn(b),b&&(T||w===n))return xE(b);if(!b||!(w=Ss(w)))return b;var R=ua(b),j=ua(w),Q=wE(R,j),re=kE(R,j)+1;return xl(R,Q,re).join("")}function UY(b,w,T){if(b=xn(b),b&&(T||w===n))return b.slice(0,SE(b)+1);if(!b||!(w=Ss(w)))return b;var R=ua(b),j=kE(R,ua(w))+1;return xl(R,0,j).join("")}function KY(b,w,T){if(b=xn(b),b&&(T||w===n))return b.replace(_u,"");if(!b||!(w=Ss(w)))return b;var R=ua(b),j=wE(R,ua(w));return xl(R,j).join("")}function HY(b,w){var T=D,R=L;if(Gn(w)){var j="separator"in w?w.separator:j;T="length"in w?Kt(w.length):T,R="omission"in w?Ss(w.omission):R}b=xn(b);var Q=b.length;if(Yc(b)){var re=ua(b);Q=re.length}if(T>=Q)return b;var ae=T-Qc(R);if(ae<1)return R;var ye=re?xl(re,0,ae).join(""):b.slice(0,ae);if(j===n)return ye+R;if(re&&(ae+=ye.length-ae),ak(j)){if(b.slice(ae).search(j)){var qe,ze=ye;for(j.global||(j=kw(j.source,xn(Ef.exec(j))+"g")),j.lastIndex=0;qe=j.exec(ze);)var je=qe.index;ye=ye.slice(0,je===n?ae:je)}}else if(b.indexOf(Ss(j),ae)!=ae){var nt=ye.lastIndexOf(j);nt>-1&&(ye=ye.slice(0,nt))}return ye+R}function WY(b){return b=xn(b),b&&_i.test(b)?b.replace(Vt,kW):b}var GY=od(function(b,w,T){return b+(T?" ":"")+w.toUpperCase()}),uk=fI("toUpperCase");function cP(b,w,T){return b=xn(b),w=T?n:w,w===n?vW(b)?$W(b):lW(b):b.match(w)||[]}var dP=Jt(function(b,w){try{return ks(b,n,w)}catch(T){return sk(T)?T:new zt(T)}}),JY=Ti(function(b,w){return zs(w,function(T){T=Oa(T),Mi(b,T,rk(b[T],b))}),b});function YY(b){var w=b==null?0:b.length,T=_t();return b=w?Vn(b,function(R){if(typeof R[1]!="function")throw new Ls(a);return[T(R[0]),R[1]]}):[],Jt(function(R){for(var j=-1;++j<w;){var Q=b[j];if(ks(Q[0],this,R))return ks(Q[1],this,R)}})}function QY(b){return k7(Vs(b,d))}function ck(b){return function(){return b}}function XY(b,w){return b==null||b!==b?w:b}var ZY=mI(),eQ=mI(!0);function cs(b){return b}function dk(b){return UE(typeof b=="function"?b:Vs(b,d))}function tQ(b){return HE(Vs(b,d))}function nQ(b,w){return WE(b,Vs(w,d))}var rQ=Jt(function(b,w){return function(T){return zf(T,b,w)}}),oQ=Jt(function(b,w){return function(T){return zf(b,T,w)}});function fk(b,w,T){var R=Mr(w),j=vg(w,R);T==null&&!(Gn(w)&&(j.length||!R.length))&&(T=w,w=b,b=this,j=vg(w,Mr(w)));var Q=!(Gn(T)&&"chain"in T)||!!T.chain,re=Ii(b);return zs(j,function(ae){var ye=w[ae];b[ae]=ye,re&&(b.prototype[ae]=function(){var qe=this.__chain__;if(Q||qe){var ze=b(this.__wrapped__),je=ze.__actions__=is(this.__actions__);return je.push({func:ye,args:arguments,thisArg:b}),ze.__chain__=qe,ze}return ye.apply(b,ml([this.value()],arguments))})}),b}function sQ(){return Jr._===this&&(Jr._=IW),this}function pk(){}function aQ(b){return b=Kt(b),Jt(function(w){return GE(w,b)})}var iQ=Uw(Vn),lQ=Uw(hE),uQ=Uw(hw);function fP(b){return Qw(b)?gw(Oa(b)):q7(b)}function cQ(b){return function(w){return b==null?n:Tu(b,w)}}var dQ=gI(),fQ=gI(!0);function mk(){return[]}function hk(){return!1}function pQ(){return{}}function mQ(){return""}function hQ(){return!0}function gQ(b,w){if(b=Kt(b),b<1||b>Y)return[];var T=we,R=wo(b,we);w=_t(w),b-=we;for(var j=bw(R,w);++T<b;)w(T);return j}function vQ(b){return jt(b)?Vn(b,Oa):$s(b)?[b]:is(PI(xn(b)))}function yQ(b){var w=++TW;return xn(b)+w}var bQ=_g(function(b,w){return b+w},0),xQ=Kw("ceil"),wQ=_g(function(b,w){return b/w},1),kQ=Kw("floor");function _Q(b){return b&&b.length?gg(b,cs,Ew):n}function SQ(b,w){return b&&b.length?gg(b,_t(w,2),Ew):n}function $Q(b){return yE(b,cs)}function CQ(b,w){return yE(b,_t(w,2))}function MQ(b){return b&&b.length?gg(b,cs,Rw):n}function AQ(b,w){return b&&b.length?gg(b,_t(w,2),Rw):n}var TQ=_g(function(b,w){return b*w},1),EQ=Kw("round"),IQ=_g(function(b,w){return b-w},0);function PQ(b){return b&&b.length?yw(b,cs):0}function OQ(b,w){return b&&b.length?yw(b,_t(w,2)):0}return G.after=tJ,G.ary=VI,G.assign=jJ,G.assignIn=rP,G.assignInWith=Ng,G.assignWith=VJ,G.at=UJ,G.before=UI,G.bind=rk,G.bindAll=JY,G.bindKey=KI,G.castArray=pJ,G.chain=zI,G.chunk=k9,G.compact=_9,G.concat=S9,G.cond=YY,G.conforms=QY,G.constant=ck,G.countBy=PG,G.create=KJ,G.curry=HI,G.curryRight=WI,G.debounce=GI,G.defaults=HJ,G.defaultsDeep=WJ,G.defer=nJ,G.delay=rJ,G.difference=$9,G.differenceBy=C9,G.differenceWith=M9,G.drop=A9,G.dropRight=T9,G.dropRightWhile=E9,G.dropWhile=I9,G.fill=P9,G.filter=RG,G.flatMap=DG,G.flatMapDeep=FG,G.flatMapDepth=qG,G.flatten=NI,G.flattenDeep=O9,G.flattenDepth=R9,G.flip=oJ,G.flow=ZY,G.flowRight=eQ,G.fromPairs=B9,G.functions=eY,G.functionsIn=tY,G.groupBy=zG,G.initial=D9,G.intersection=F9,G.intersectionBy=q9,G.intersectionWith=z9,G.invert=rY,G.invertBy=oY,G.invokeMap=jG,G.iteratee=dk,G.keyBy=VG,G.keys=Mr,G.keysIn=us,G.map=Eg,G.mapKeys=aY,G.mapValues=iY,G.matches=tQ,G.matchesProperty=nQ,G.memoize=Pg,G.merge=lY,G.mergeWith=oP,G.method=rQ,G.methodOf=oQ,G.mixin=fk,G.negate=Og,G.nthArg=aQ,G.omit=uY,G.omitBy=cY,G.once=sJ,G.orderBy=UG,G.over=iQ,G.overArgs=aJ,G.overEvery=lQ,G.overSome=uQ,G.partial=ok,G.partialRight=JI,G.partition=KG,G.pick=dY,G.pickBy=sP,G.property=fP,G.propertyOf=cQ,G.pull=U9,G.pullAll=FI,G.pullAllBy=K9,G.pullAllWith=H9,G.pullAt=W9,G.range=dQ,G.rangeRight=fQ,G.rearg=iJ,G.reject=GG,G.remove=G9,G.rest=lJ,G.reverse=tk,G.sampleSize=YG,G.set=pY,G.setWith=mY,G.shuffle=QG,G.slice=J9,G.sortBy=eJ,G.sortedUniq=nG,G.sortedUniqBy=rG,G.split=DY,G.spread=uJ,G.tail=oG,G.take=sG,G.takeRight=aG,G.takeRightWhile=iG,G.takeWhile=lG,G.tap=_G,G.throttle=cJ,G.thru=Tg,G.toArray=eP,G.toPairs=aP,G.toPairsIn=iP,G.toPath=vQ,G.toPlainObject=nP,G.transform=hY,G.unary=dJ,G.union=uG,G.unionBy=cG,G.unionWith=dG,G.uniq=fG,G.uniqBy=pG,G.uniqWith=mG,G.unset=gY,G.unzip=nk,G.unzipWith=qI,G.update=vY,G.updateWith=yY,G.values=id,G.valuesIn=bY,G.without=hG,G.words=cP,G.wrap=fJ,G.xor=gG,G.xorBy=vG,G.xorWith=yG,G.zip=bG,G.zipObject=xG,G.zipObjectDeep=wG,G.zipWith=kG,G.entries=aP,G.entriesIn=iP,G.extend=rP,G.extendWith=Ng,fk(G,G),G.add=bQ,G.attempt=dP,G.camelCase=_Y,G.capitalize=lP,G.ceil=xQ,G.clamp=xY,G.clone=mJ,G.cloneDeep=gJ,G.cloneDeepWith=vJ,G.cloneWith=hJ,G.conformsTo=yJ,G.deburr=uP,G.defaultTo=XY,G.divide=wQ,G.endsWith=SY,G.eq=da,G.escape=$Y,G.escapeRegExp=CY,G.every=OG,G.find=BG,G.findIndex=RI,G.findKey=GJ,G.findLast=NG,G.findLastIndex=BI,G.findLastKey=JJ,G.floor=kQ,G.forEach=LI,G.forEachRight=jI,G.forIn=YJ,G.forInRight=QJ,G.forOwn=XJ,G.forOwnRight=ZJ,G.get=ik,G.gt=bJ,G.gte=xJ,G.has=nY,G.hasIn=lk,G.head=DI,G.identity=cs,G.includes=LG,G.indexOf=N9,G.inRange=wY,G.invoke=sY,G.isArguments=Pu,G.isArray=jt,G.isArrayBuffer=wJ,G.isArrayLike=ls,G.isArrayLikeObject=dr,G.isBoolean=kJ,G.isBuffer=wl,G.isDate=_J,G.isElement=SJ,G.isEmpty=$J,G.isEqual=CJ,G.isEqualWith=MJ,G.isError=sk,G.isFinite=AJ,G.isFunction=Ii,G.isInteger=YI,G.isLength=Rg,G.isMap=QI,G.isMatch=TJ,G.isMatchWith=EJ,G.isNaN=IJ,G.isNative=PJ,G.isNil=RJ,G.isNull=OJ,G.isNumber=XI,G.isObject=Gn,G.isObjectLike=tr,G.isPlainObject=Hf,G.isRegExp=ak,G.isSafeInteger=BJ,G.isSet=ZI,G.isString=Bg,G.isSymbol=$s,G.isTypedArray=ad,G.isUndefined=NJ,G.isWeakMap=DJ,G.isWeakSet=FJ,G.join=L9,G.kebabCase=MY,G.last=Ks,G.lastIndexOf=j9,G.lowerCase=AY,G.lowerFirst=TY,G.lt=qJ,G.lte=zJ,G.max=_Q,G.maxBy=SQ,G.mean=$Q,G.meanBy=CQ,G.min=MQ,G.minBy=AQ,G.stubArray=mk,G.stubFalse=hk,G.stubObject=pQ,G.stubString=mQ,G.stubTrue=hQ,G.multiply=TQ,G.nth=V9,G.noConflict=sQ,G.noop=pk,G.now=Ig,G.pad=EY,G.padEnd=IY,G.padStart=PY,G.parseInt=OY,G.random=kY,G.reduce=HG,G.reduceRight=WG,G.repeat=RY,G.replace=BY,G.result=fY,G.round=EQ,G.runInContext=ge,G.sample=JG,G.size=XG,G.snakeCase=NY,G.some=ZG,G.sortedIndex=Y9,G.sortedIndexBy=Q9,G.sortedIndexOf=X9,G.sortedLastIndex=Z9,G.sortedLastIndexBy=eG,G.sortedLastIndexOf=tG,G.startCase=FY,G.startsWith=qY,G.subtract=IQ,G.sum=PQ,G.sumBy=OQ,G.template=zY,G.times=gQ,G.toFinite=Pi,G.toInteger=Kt,G.toLength=tP,G.toLower=LY,G.toNumber=Hs,G.toSafeInteger=LJ,G.toString=xn,G.toUpper=jY,G.trim=VY,G.trimEnd=UY,G.trimStart=KY,G.truncate=HY,G.unescape=WY,G.uniqueId=yQ,G.upperCase=GY,G.upperFirst=uk,G.each=LI,G.eachRight=jI,G.first=DI,fk(G,(function(){var b={};return Ia(G,function(w,T){kn.call(G.prototype,T)||(b[T]=w)}),b})(),{chain:!1}),G.VERSION=r,zs(["bind","bindKey","curry","curryRight","partial","partialRight"],function(b){G[b].placeholder=G}),zs(["drop","take"],function(b,w){tn.prototype[b]=function(T){T=T===n?1:kr(Kt(T),0);var R=this.__filtered__&&!w?new tn(this):this.clone();return R.__filtered__?R.__takeCount__=wo(T,R.__takeCount__):R.__views__.push({size:wo(T,we),type:b+(R.__dir__<0?"Right":"")}),R},tn.prototype[b+"Right"]=function(T){return this.reverse()[b](T).reverse()}}),zs(["filter","map","takeWhile"],function(b,w){var T=w+1,R=T==z||T==ee;tn.prototype[b]=function(j){var Q=this.clone();return Q.__iteratees__.push({iteratee:_t(j,3),type:T}),Q.__filtered__=Q.__filtered__||R,Q}}),zs(["head","last"],function(b,w){var T="take"+(w?"Right":"");tn.prototype[b]=function(){return this[T](1).value()[0]}}),zs(["initial","tail"],function(b,w){var T="drop"+(w?"":"Right");tn.prototype[b]=function(){return this.__filtered__?new tn(this):this[T](1)}}),tn.prototype.compact=function(){return this.filter(cs)},tn.prototype.find=function(b){return this.filter(b).head()},tn.prototype.findLast=function(b){return this.reverse().find(b)},tn.prototype.invokeMap=Jt(function(b,w){return typeof b=="function"?new tn(this):this.map(function(T){return zf(T,b,w)})}),tn.prototype.reject=function(b){return this.filter(Og(_t(b)))},tn.prototype.slice=function(b,w){b=Kt(b);var T=this;return T.__filtered__&&(b>0||w<0)?new tn(T):(b<0?T=T.takeRight(-b):b&&(T=T.drop(b)),w!==n&&(w=Kt(w),T=w<0?T.dropRight(-w):T.take(w-b)),T)},tn.prototype.takeRightWhile=function(b){return this.reverse().takeWhile(b).reverse()},tn.prototype.toArray=function(){return this.take(we)},Ia(tn.prototype,function(b,w){var T=/^(?:filter|find|map|reject)|While$/.test(w),R=/^(?:head|last)$/.test(w),j=G[R?"take"+(w=="last"?"Right":""):w],Q=R||/^find/.test(w);j&&(G.prototype[w]=function(){var re=this.__wrapped__,ae=R?[1]:arguments,ye=re instanceof tn,qe=ae[0],ze=ye||jt(re),je=function(Xt){var sn=j.apply(G,ml([Xt],ae));return R&&nt?sn[0]:sn};ze&&T&&typeof qe=="function"&&qe.length!=1&&(ye=ze=!1);var nt=this.__chain__,mt=!!this.__actions__.length,Ct=Q&&!nt,Wt=ye&&!mt;if(!Q&&ze){re=Wt?re:new tn(this);var Mt=b.apply(re,ae);return Mt.__actions__.push({func:Tg,args:[je],thisArg:n}),new js(Mt,nt)}return Ct&&Wt?b.apply(this,ae):(Mt=this.thru(je),Ct?R?Mt.value()[0]:Mt.value():Mt)})}),zs(["pop","push","shift","sort","splice","unshift"],function(b){var w=tg[b],T=/^(?:push|sort|unshift)$/.test(b)?"tap":"thru",R=/^(?:pop|shift)$/.test(b);G.prototype[b]=function(){var j=arguments;if(R&&!this.__chain__){var Q=this.value();return w.apply(jt(Q)?Q:[],j)}return this[T](function(re){return w.apply(jt(re)?re:[],j)})}}),Ia(tn.prototype,function(b,w){var T=G[w];if(T){var R=T.name+"";kn.call(td,R)||(td[R]=[]),td[R].push({name:w,func:T})}}),td[kg(n,v).name]=[{name:"wrapper",func:n}],tn.prototype.clone=WW,tn.prototype.reverse=GW,tn.prototype.value=JW,G.prototype.at=SG,G.prototype.chain=$G,G.prototype.commit=CG,G.prototype.next=MG,G.prototype.plant=TG,G.prototype.reverse=EG,G.prototype.toJSON=G.prototype.valueOf=G.prototype.value=IG,G.prototype.first=G.prototype.head,Of&&(G.prototype[Of]=AG),G}),Xc=CW();Su?((Su.exports=Xc)._=Xc,dw._=Xc):Jr._=Xc}).call(srt)})(yp,yp.exports)),yp.exports}var Sf=art();const irt={class:"flex gap-2"},lrt={class:"max-w-md"},urt={class:"font-medium"},crt={class:"text-sm text-gray-500 line-clamp-1"},drt=["src","alt"],frt={key:1,class:"w-16 h-16 bg-gray-200 rounded flex items-center justify-center"},prt={class:"text-sm text-gray-600"},mrt={class:"flex gap-1"},hrt={class:"flex justify-between items-center px-4 py-3 border-t border-default"},grt={class:"text-sm text-muted"},vrt={__name:"Index",props:{posts:Object,filters:Object},setup(e){const t=e,n=K(t.filters?.search||""),r=K(t.posts.current_page),o=[{accessorKey:"image",header:"Gambar"},{accessorKey:"title",header:"Judul & Ringkasan"},{accessorKey:"category",header:"Kategori"},{accessorKey:"is_published",header:"Status"},{accessorKey:"views",header:"Views"},{accessorKey:"actions",header:"Aksi"}],s=Sf.debounce(()=>{Qe.get("/dashboard/cms/posts",{search:n.value},{preserveState:!0,replace:!0})},500);He(n,s),He(r,i=>{Qe.get("/dashboard/cms/posts",{page:i,search:n.value},{preserveState:!0,replace:!0})});const a=i=>{confirm(`Yakin ingin menghapus berita "${i.title}"?`)&&Qe.delete(`/dashboard/cms/posts/${i.id}`)};return(i,l)=>{const c=bt,u=We,d=tt,f=pn,p=xr,m=Fr,h=ht;return A(),B($t,{title:"Berita",heading:"Kelola Berita & Artikel",description:"Kelola berita dan artikel pondok pesantren","page-id":"cms-posts"},{header:S(()=>[k("div",irt,[_(c,{modelValue:n.value,"onUpdate:modelValue":l[0]||(l[0]=g=>n.value=g),icon:"i-lucide-search",placeholder:"Cari berita...",class:"w-64"},null,8,["modelValue"]),_(u,{color:"primary",icon:"i-lucide-plus",label:"Tambah Berita",to:"/dashboard/cms/posts/create"})])]),default:S(()=>[_(h,null,{default:S(()=>[_(p,{data:e.posts.data,columns:o,loading:!1},{"title-cell":S(({row:g})=>[k("div",lrt,[k("p",urt,q(g.original.title),1),k("p",crt,q(g.original.excerpt),1)])]),"image-cell":S(({row:g})=>[g.original.image?(A(),W("img",{key:0,src:g.original.image.startsWith("http")?g.original.image:`/storage/${g.original.image}`,alt:g.original.title,class:"w-16 h-16 object-cover rounded"},null,8,drt)):(A(),W("div",frt,[_(d,{name:"i-lucide-image-off",class:"text-gray-400"})]))]),"category-cell":S(({row:g})=>[_(f,{color:"primary",variant:"subtle"},{default:S(()=>[J(q(g.original.category),1)]),_:2},1024)]),"is_published-cell":S(({row:g})=>[_(f,{color:g.original.is_published?"success":"neutral",variant:"subtle"},{default:S(()=>[J(q(g.original.is_published?"Published":"Draft"),1)]),_:2},1032,["color"])]),"views-cell":S(({row:g})=>[k("span",prt,q(g.original.views),1)]),"actions-cell":S(({row:g})=>[k("div",mrt,[_(u,{color:"neutral",variant:"ghost",size:"xs",icon:"i-lucide-pencil",to:`/dashboard/cms/posts/${g.original.id}/edit`},null,8,["to"]),_(u,{color:"error",variant:"ghost",size:"xs",icon:"i-lucide-trash-2",onClick:v=>a(g.original)},null,8,["onClick"])])]),_:1},8,["data"]),k("div",hrt,[k("span",grt," Showing "+q(e.posts.from)+" to "+q(e.posts.to)+" of "+q(e.posts.total)+" entries ",1),_(m,{modelValue:r.value,"onUpdate:modelValue":l[1]||(l[1]=g=>r.value=g),total:e.posts.total,"page-count":e.posts.per_page},null,8,["modelValue","total","page-count"])])]),_:1})]),_:1})}}},yrt=Object.freeze(Object.defineProperty({__proto__:null,default:vrt},Symbol.toStringTag,{value:"Module"})),brt={slots:{root:"relative overflow-hidden w-full rounded-lg p-4 flex gap-2.5",wrapper:"min-w-0 flex-1 flex flex-col",title:"text-sm font-medium",description:"text-sm opacity-90",icon:"shrink-0 size-5",avatar:"shrink-0",avatarSize:"2xl",actions:"flex flex-wrap gap-1.5 shrink-0",close:"p-0"},variants:{color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},variant:{solid:"",outline:"",soft:"",subtle:""},orientation:{horizontal:{root:"items-center",actions:"items-center"},vertical:{root:"items-start",actions:"items-start mt-2.5"}},title:{true:{description:"mt-1"}}},compoundVariants:[{color:"primary",variant:"solid",class:{root:"bg-primary text-inverted"}},{color:"secondary",variant:"solid",class:{root:"bg-secondary text-inverted"}},{color:"success",variant:"solid",class:{root:"bg-success text-inverted"}},{color:"info",variant:"solid",class:{root:"bg-info text-inverted"}},{color:"warning",variant:"solid",class:{root:"bg-warning text-inverted"}},{color:"error",variant:"solid",class:{root:"bg-error text-inverted"}},{color:"primary",variant:"outline",class:{root:"text-primary ring ring-inset ring-primary/25"}},{color:"secondary",variant:"outline",class:{root:"text-secondary ring ring-inset ring-secondary/25"}},{color:"success",variant:"outline",class:{root:"text-success ring ring-inset ring-success/25"}},{color:"info",variant:"outline",class:{root:"text-info ring ring-inset ring-info/25"}},{color:"warning",variant:"outline",class:{root:"text-warning ring ring-inset ring-warning/25"}},{color:"error",variant:"outline",class:{root:"text-error ring ring-inset ring-error/25"}},{color:"primary",variant:"soft",class:{root:"bg-primary/10 text-primary"}},{color:"secondary",variant:"soft",class:{root:"bg-secondary/10 text-secondary"}},{color:"success",variant:"soft",class:{root:"bg-success/10 text-success"}},{color:"info",variant:"soft",class:{root:"bg-info/10 text-info"}},{color:"warning",variant:"soft",class:{root:"bg-warning/10 text-warning"}},{color:"error",variant:"soft",class:{root:"bg-error/10 text-error"}},{color:"primary",variant:"subtle",class:{root:"bg-primary/10 text-primary ring ring-inset ring-primary/25"}},{color:"secondary",variant:"subtle",class:{root:"bg-secondary/10 text-secondary ring ring-inset ring-secondary/25"}},{color:"success",variant:"subtle",class:{root:"bg-success/10 text-success ring ring-inset ring-success/25"}},{color:"info",variant:"subtle",class:{root:"bg-info/10 text-info ring ring-inset ring-info/25"}},{color:"warning",variant:"subtle",class:{root:"bg-warning/10 text-warning ring ring-inset ring-warning/25"}},{color:"error",variant:"subtle",class:{root:"bg-error/10 text-error ring ring-inset ring-error/25"}},{color:"neutral",variant:"solid",class:{root:"text-inverted bg-inverted"}},{color:"neutral",variant:"outline",class:{root:"text-highlighted bg-default ring ring-inset ring-default"}},{color:"neutral",variant:"soft",class:{root:"text-highlighted bg-elevated/50"}},{color:"neutral",variant:"subtle",class:{root:"text-highlighted bg-elevated/50 ring ring-inset ring-accented"}}],defaultVariants:{color:"primary",variant:"solid"}},bo={__name:"Alert",props:{as:{type:null,required:!1},title:{type:String,required:!1},description:{type:String,required:!1},icon:{type:null,required:!1},avatar:{type:Object,required:!1},color:{type:null,required:!1},variant:{type:null,required:!1},orientation:{type:null,required:!1,default:"vertical"},actions:{type:Array,required:!1},close:{type:[Boolean,Object],required:!1},closeIcon:{type:null,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1}},emits:["update:open"],setup(e,{emit:t}){const n=e,r=t,o=rn(),{t:s}=oo(),a=Bt(),i=H(()=>Ye({extend:Ye(brt),...a.ui?.alert||{}})({color:n.color,variant:n.variant,orientation:n.orientation,title:!!n.title||!!o.title}));return(l,c)=>(A(),B(y(Le),{as:e.as,"data-orientation":e.orientation,"data-slot":"root",class:Z(i.value.root({class:[n.ui?.root,n.class]}))},{default:S(()=>[U(l.$slots,"leading",{ui:i.value},()=>[e.avatar?(A(),B(On,oe({key:0,size:n.ui?.avatarSize||i.value.avatarSize()},e.avatar,{"data-slot":"avatar",class:i.value.avatar({class:n.ui?.avatar})}),null,16,["size","class"])):e.icon?(A(),B(tt,{key:1,name:e.icon,"data-slot":"icon",class:Z(i.value.icon({class:n.ui?.icon}))},null,8,["name","class"])):X("",!0)]),k("div",{"data-slot":"wrapper",class:Z(i.value.wrapper({class:n.ui?.wrapper}))},[e.title||o.title?(A(),W("div",{key:0,"data-slot":"title",class:Z(i.value.title({class:n.ui?.title}))},[U(l.$slots,"title",{},()=>[J(q(e.title),1)])],2)):X("",!0),e.description||o.description?(A(),W("div",{key:1,"data-slot":"description",class:Z(i.value.description({class:n.ui?.description}))},[U(l.$slots,"description",{},()=>[J(q(e.description),1)])],2)):X("",!0),e.orientation==="vertical"&&(e.actions?.length||o.actions)?(A(),W("div",{key:2,"data-slot":"actions",class:Z(i.value.actions({class:n.ui?.actions}))},[U(l.$slots,"actions",{},()=>[(A(!0),W(Ee,null,Ve(e.actions,(u,d)=>(A(),B(We,oe({key:d,size:"xs"},{ref_for:!0},u),null,16))),128))])],2)):X("",!0)],2),e.orientation==="horizontal"&&(e.actions?.length||o.actions)||e.close?(A(),W("div",{key:0,"data-slot":"actions",class:Z(i.value.actions({class:n.ui?.actions,orientation:"horizontal"}))},[e.orientation==="horizontal"&&(e.actions?.length||o.actions)?U(l.$slots,"actions",{key:0},()=>[(A(!0),W(Ee,null,Ve(e.actions,(u,d)=>(A(),B(We,oe({key:d,size:"xs"},{ref_for:!0},u),null,16))),128))]):X("",!0),U(l.$slots,"close",{ui:i.value},()=>[e.close?(A(),B(We,oe({key:0,icon:e.closeIcon||y(a).ui.icons.close,color:"neutral",variant:"link","aria-label":y(s)("alert.close")},typeof e.close=="object"?e.close:{},{"data-slot":"close",class:i.value.close({class:n.ui?.close}),onClick:c[0]||(c[0]=u=>r("update:open",!1))}),null,16,["icon","aria-label","class"])):X("",!0)])],2)):X("",!0)]),_:3},8,["as","data-orientation","class"]))}},xrt={class:"space-y-3"},wrt={key:0,class:"relative inline-block"},krt=["src"],_rt={class:"grid grid-cols-2 gap-6"},Srt={class:"space-y-2"},$rt={class:"grid grid-cols-2 gap-6"},Crt={class:"flex items-center gap-3 pt-2"},Mrt={class:"text-sm"},Art={class:"flex gap-2 pt-4 border-t"},Trt={__name:"Create",setup(e){const t=Rt({title:"",icon:"",description:"",content:"",image:null,order:0,is_active:!0}),n=K(null),r=a=>{const i=a.target.files[0];if(i){t.image=i;const l=new FileReader;l.onload=c=>{n.value=c.target.result},l.readAsDataURL(i)}},o=()=>{t.image=null,n.value=null},s=()=>{t.post("/dashboard/cms/programs",{forceFormData:!0})};return(a,i)=>{const l=We,c=qt,u=bt,d=tt,f=bo,p=Wi,m=Wn,h=ii,g=li,v=ht;return A(),B($t,{title:"Tambah Program",heading:"Buat Program Baru",description:"Tambahkan program atau kegiatan unggulan baru","page-id":"cms-programs-create"},{header:S(()=>[_(l,{color:"neutral",icon:"i-lucide-arrow-left",label:"Kembali",variant:"ghost",to:"/dashboard/cms/programs"})]),default:S(()=>[_(v,null,{default:S(()=>[_(g,{state:y(t),onSubmit:s,class:"space-y-6 p-4 max-w-3xl mx-auto w-full"},{default:S(()=>[_(c,{label:"Upload Gambar",name:"image",hint:"Format: JPG, PNG, WEBP (Max 2MB)",required:""},{default:S(()=>[k("div",xrt,[k("input",{type:"file",onChange:r,accept:"image/*",class:"block w-full text-sm file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-primary file:text-white hover:file:bg-primary-600"},null,32),n.value?(A(),W("div",wrt,[k("img",{src:n.value,alt:"Preview",class:"w-full max-w-xs rounded-lg object-cover border border-gray-200 shadow-sm"},null,8,krt),n.value?(A(),B(l,{key:0,icon:"i-lucide-x",color:"error",size:"xs",class:"absolute top-2 right-2 rounded-full",onClick:o})):X("",!0)])):X("",!0)])]),_:1}),k("div",_rt,[_(c,{label:"Judul Program",name:"title",required:""},{default:S(()=>[_(u,{modelValue:y(t).title,"onUpdate:modelValue":i[0]||(i[0]=x=>y(t).title=x),placeholder:"Contoh: Tahfidz Al-Qur'an",size:"lg",class:"w-full"},null,8,["modelValue"])]),_:1}),_(c,{label:"Icon",name:"icon",required:""},{default:S(()=>[k("div",Srt,[_(u,{modelValue:y(t).icon,"onUpdate:modelValue":i[1]||(i[1]=x=>y(t).icon=x),placeholder:"Contoh: i-lucide-book-open",size:"lg",class:"w-full"},gr({_:2},[y(t).icon?{name:"trailing",fn:S(()=>[_(d,{name:y(t).icon,class:"w-5 h-5 text-gray-500"},null,8,["name"])]),key:"0"}:void 0]),1032,["modelValue"]),_(f,{icon:"i-lucide-info",color:"info",variant:"subtle",title:"Panduan Icon",description:"Gunakan nama icon dari Lucide Icons. Format: i-lucide-<nama-icon>. Contoh: i-lucide-book-open, i-lucide-users."}),_(p,{to:"https://lucide.dev/icons",target:"_blank",class:"text-xs text-primary hover:underline"},{default:S(()=>[...i[6]||(i[6]=[J(" Lihat daftar icon di sini ",-1)])]),_:1})])]),_:1})]),_(c,{label:"Deskripsi Singkat",name:"description",required:""},{default:S(()=>[_(m,{modelValue:y(t).description,"onUpdate:modelValue":i[2]||(i[2]=x=>y(t).description=x),placeholder:"Deskripsi singkat program...",rows:3,size:"lg",class:"w-full"},null,8,["modelValue"])]),_:1}),_(c,{label:"Konten Lengkap",name:"content"},{default:S(()=>[_(m,{modelValue:y(t).content,"onUpdate:modelValue":i[3]||(i[3]=x=>y(t).content=x),placeholder:"Penjelasan detail mengenai program...",rows:6,size:"lg",class:"w-full"},null,8,["modelValue"])]),_:1}),k("div",$rt,[_(c,{label:"Urutan",name:"order"},{default:S(()=>[_(u,{modelValue:y(t).order,"onUpdate:modelValue":i[4]||(i[4]=x=>y(t).order=x),type:"number",min:"0",placeholder:"0",class:"w-full"},null,8,["modelValue"])]),_:1}),_(c,{label:"Status",name:"is_active"},{default:S(()=>[k("div",Crt,[_(h,{modelValue:y(t).is_active,"onUpdate:modelValue":i[5]||(i[5]=x=>y(t).is_active=x)},null,8,["modelValue"]),k("span",Mrt,q(y(t).is_active?"Aktif":"Nonaktif"),1)])]),_:1})]),k("div",Art,[_(l,{type:"submit",label:"Simpan",icon:"i-lucide-save",loading:y(t).processing},null,8,["loading"]),_(l,{label:"Batal",color:"neutral",variant:"outline",to:"/dashboard/cms/programs"})])]),_:1},8,["state"])]),_:1})]),_:1})}}},Ert=Object.freeze(Object.defineProperty({__proto__:null,default:Trt},Symbol.toStringTag,{value:"Module"})),Irt={class:"space-y-3"},Prt={key:0,class:"mb-2"},Ort=["src"],Rrt={key:1,class:"relative inline-block mt-2"},Brt=["src"],Nrt={class:"grid grid-cols-2 gap-6"},Drt={class:"space-y-2"},Frt={class:"grid grid-cols-2 gap-6"},qrt={class:"flex items-center gap-3 pt-2"},zrt={class:"text-sm"},Lrt={class:"flex gap-2 pt-4 border-t"},jrt={__name:"Edit",props:{program:Object},setup(e){const t=e,n=Rt({title:t.program.title,icon:t.program.icon,description:t.program.description,content:t.program.content||"",image:null,order:t.program.order,is_active:!!t.program.is_active}),r=K(null),o=i=>{const l=i.target.files[0];if(l){n.image=l;const c=new FileReader;c.onload=u=>{r.value=u.target.result},c.readAsDataURL(l)}},s=()=>{n.image=null,r.value=null},a=()=>{n.transform(i=>({...i,_method:"PUT"})).post(`/dashboard/cms/programs/${t.program.id}`,{forceFormData:!0})};return(i,l)=>{const c=We,u=qt,d=bt,f=tt,p=bo,m=Wi,h=Wn,g=ii,v=li,x=ht;return A(),B($t,{title:"Edit Program",heading:"Edit Program",description:"Ubah data program pondok","page-id":"cms-programs-edit"},{header:S(()=>[_(c,{color:"neutral",icon:"i-lucide-arrow-left",label:"Kembali",variant:"ghost",to:"/dashboard/cms/programs"})]),default:S(()=>[_(x,null,{default:S(()=>[_(v,{state:y(n),onSubmit:a,class:"space-y-6 p-4 max-w-3xl mx-auto w-full"},{default:S(()=>[_(u,{label:"Upload Gambar",name:"image",hint:"Format: JPG, PNG, WEBP (Max 2MB)"},{default:S(()=>[k("div",Irt,[!r.value&&e.program.image?(A(),W("div",Prt,[k("img",{src:e.program.image.startsWith("http")?e.program.image:`/storage/${e.program.image}`,alt:"Current Image",class:"w-full max-w-xs rounded-lg object-cover border border-gray-200"},null,8,Ort),l[6]||(l[6]=k("p",{class:"text-xs text-gray-500 mt-1"},"Gambar saat ini",-1))])):X("",!0),k("input",{type:"file",onChange:o,accept:"image/*",class:"block w-full text-sm file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-primary file:text-white hover:file:bg-primary-600"},null,32),r.value?(A(),W("div",Rrt,[k("img",{src:r.value,alt:"Preview Baru",class:"w-full max-w-xs rounded-lg object-cover border border-gray-200 shadow-sm"},null,8,Brt),_(c,{icon:"i-lucide-x",color:"error",size:"xs",class:"absolute top-2 right-2 rounded-full",onClick:s}),l[7]||(l[7]=k("p",{class:"text-xs text-gray-500 mt-1"},"Preview gambar baru",-1))])):X("",!0)])]),_:1}),k("div",Nrt,[_(u,{label:"Judul Program",name:"title",required:""},{default:S(()=>[_(d,{modelValue:y(n).title,"onUpdate:modelValue":l[0]||(l[0]=$=>y(n).title=$),placeholder:"Contoh: Tahfidz Al-Qur'an",size:"lg",class:"w-full"},null,8,["modelValue"])]),_:1}),_(u,{label:"Icon",name:"icon",required:""},{default:S(()=>[k("div",Drt,[_(d,{modelValue:y(n).icon,"onUpdate:modelValue":l[1]||(l[1]=$=>y(n).icon=$),placeholder:"Contoh: i-lucide-book-open",size:"lg",class:"w-full"},gr({_:2},[y(n).icon?{name:"trailing",fn:S(()=>[_(f,{name:y(n).icon,class:"w-5 h-5 text-gray-500"},null,8,["name"])]),key:"0"}:void 0]),1032,["modelValue"]),_(p,{icon:"i-lucide-info",color:"info",variant:"subtle",title:"Panduan Icon",description:"Gunakan nama icon dari Lucide Icons. Format: i-lucide-<nama-icon>. Contoh: i-lucide-book-open, i-lucide-users."}),_(m,{to:"https://lucide.dev/icons",target:"_blank",class:"text-xs text-primary hover:underline"},{default:S(()=>[...l[8]||(l[8]=[J(" Lihat daftar icon di sini ",-1)])]),_:1})])]),_:1})]),_(u,{label:"Deskripsi Singkat",name:"description",required:""},{default:S(()=>[_(h,{modelValue:y(n).description,"onUpdate:modelValue":l[2]||(l[2]=$=>y(n).description=$),placeholder:"Deskripsi singkat program...",rows:3,size:"lg",class:"w-full"},null,8,["modelValue"])]),_:1}),_(u,{label:"Konten Lengkap",name:"content"},{default:S(()=>[_(h,{modelValue:y(n).content,"onUpdate:modelValue":l[3]||(l[3]=$=>y(n).content=$),placeholder:"Penjelasan detail mengenai program...",rows:6,size:"lg",class:"w-full"},null,8,["modelValue"])]),_:1}),k("div",Frt,[_(u,{label:"Urutan",name:"order"},{default:S(()=>[_(d,{modelValue:y(n).order,"onUpdate:modelValue":l[4]||(l[4]=$=>y(n).order=$),type:"number",min:"0",placeholder:"0",class:"w-full"},null,8,["modelValue"])]),_:1}),_(u,{label:"Status",name:"is_active"},{default:S(()=>[k("div",qrt,[_(g,{modelValue:y(n).is_active,"onUpdate:modelValue":l[5]||(l[5]=$=>y(n).is_active=$)},null,8,["modelValue"]),k("span",zrt,q(y(n).is_active?"Aktif":"Nonaktif"),1)])]),_:1})]),k("div",Lrt,[_(c,{type:"submit",label:"Simpan Perubahan",icon:"i-lucide-save",loading:y(n).processing},null,8,["loading"]),_(c,{label:"Batal",color:"neutral",variant:"outline",to:"/dashboard/cms/programs"})])]),_:1},8,["state"])]),_:1})]),_:1})}}},Vrt=Object.freeze(Object.defineProperty({__proto__:null,default:jrt},Symbol.toStringTag,{value:"Module"})),Urt={class:"max-w-md"},Krt={class:"font-medium"},Hrt={class:"text-sm text-gray-500 line-clamp-1"},Wrt={class:"flex gap-1"},Grt={class:"flex justify-between items-center px-4 py-3 border-t border-default"},Jrt={class:"text-sm text-muted"},Yrt={__name:"Index",props:{programs:Object},setup(e){const n=K(e.programs.current_page),r=[{accessorKey:"icon",header:"Icon"},{accessorKey:"title",header:"Program & Deskripsi"},{accessorKey:"order",header:"Urutan"},{accessorKey:"is_active",header:"Status"},{accessorKey:"actions",header:"Aksi"}];He(n,s=>{Qe.get("/dashboard/cms/programs",{page:s},{preserveState:!0,replace:!0})});const o=s=>{confirm(`Yakin ingin menghapus program "${s.title}"?`)&&Qe.delete(`/dashboard/cms/programs/${s.id}`)};return(s,a)=>{const i=We,l=tt,c=pn,u=xr,d=Fr,f=ht;return A(),B($t,{title:"Program",heading:"Kelola Program Pondok",description:"Kelola program unggulan pondok pesantren","page-id":"cms-programs"},{header:S(()=>[_(i,{color:"primary",icon:"i-lucide-plus",label:"Tambah Program",to:"/dashboard/cms/programs/create"})]),default:S(()=>[_(f,null,{default:S(()=>[_(u,{data:e.programs.data,columns:r,loading:!1},{"icon-cell":S(({row:p})=>[_(l,{name:p.original.icon,class:"w-6 h-6 text-primary"},null,8,["name"])]),"title-cell":S(({row:p})=>[k("div",Urt,[k("p",Krt,q(p.original.title),1),k("p",Hrt,q(p.original.description),1)])]),"order-cell":S(({row:p})=>[_(c,{color:"neutral",variant:"subtle"},{default:S(()=>[J(q(p.original.order),1)]),_:2},1024)]),"is_active-cell":S(({row:p})=>[_(c,{color:p.original.is_active?"success":"neutral",variant:"subtle"},{default:S(()=>[J(q(p.original.is_active?"Aktif":"Nonaktif"),1)]),_:2},1032,["color"])]),"actions-cell":S(({row:p})=>[k("div",Wrt,[_(i,{color:"neutral",variant:"ghost",size:"xs",icon:"i-lucide-pencil",to:`/dashboard/cms/programs/${p.original.id}/edit`},null,8,["to"]),_(i,{color:"error",variant:"ghost",size:"xs",icon:"i-lucide-trash-2",onClick:m=>o(p.original)},null,8,["onClick"])])]),_:1},8,["data"]),k("div",Grt,[k("span",Jrt," Showing "+q(e.programs.from)+" to "+q(e.programs.to)+" of "+q(e.programs.total)+" entries ",1),_(d,{modelValue:n.value,"onUpdate:modelValue":a[0]||(a[0]=p=>n.value=p),total:e.programs.total,"page-count":e.programs.per_page},null,8,["modelValue","total","page-count"])])]),_:1})]),_:1})}}},Qrt=Object.freeze(Object.defineProperty({__proto__:null,default:Yrt},Symbol.toStringTag,{value:"Module"})),Xrt={key:0,class:"space-y-4"},Zrt={class:"text-sm font-medium pt-2"},eot={key:2,class:"col-span-2 space-y-2"},tot={key:3,class:"col-span-2 space-y-3"},not={key:0,class:"mb-3"},rot={class:"text-sm text-gray-600 mb-2"},oot={class:"relative max-w-xs"},sot=["src"],aot=["onChange"],iot={key:1,class:"space-y-4"},lot={class:"text-sm font-medium pt-2"},uot={key:2,class:"space-y-4"},cot={class:"text-sm font-medium"},dot={class:"flex gap-2 pt-4 border-t"},fot={__name:"Index",props:{settings:Object},setup(e){const t=e,n={};Object.values(t.settings).flat().forEach(p=>{n[p.key]=p.value});const r=Rt({settings:n}),o=K([]);if(r.settings.misi)try{o.value=JSON.parse(r.settings.misi)}catch{o.value=[]}const s=()=>{o.value.push("")},a=p=>{o.value.splice(p,1)},i=p=>p.replace(/_/g," ").replace(/\b\w/g,m=>m.toUpperCase()).replace("Site","").replace("Contact","").replace("Social","").replace("Stats","").trim(),l=K({}),c=K([]),u=(p,m)=>{const h=p.target.files[0];if(h){const g=new FileReader;g.onload=v=>{l.value[m]=v.target.result},g.readAsDataURL(h),r.settings[m]=h}},d=p=>{l.value[p]=null,r.settings[p]=null},f=()=>{o.value.length>0&&(r.settings.misi=JSON.stringify(o.value)),r.transform(p=>{const m=new FormData;let h=0;return Object.entries(p.settings).forEach(([g,v])=>{m.append(`settings[${h}][key]`,g),v instanceof File?(m.append(`settings[${h}][value]`,v),m.append(`settings[${h}][value]`,v)):m.append(`settings[${h}][value]`,v!==null?v:""),h++}),m}).post("/dashboard/cms/settings",{forceFormData:!0})};return(p,m)=>{const h=bt,g=Wn,v=We,x=ht;return A(),B($t,{title:"Web Setting",heading:"Pengaturan Website",description:"Kelola pengaturan umum website","page-id":"cms-settings"},{default:S(()=>[_(x,null,{default:S(()=>[k("form",{onSubmit:lt(f,["prevent"]),class:"space-y-8 p-4"},[e.settings.general?(A(),W("div",Xrt,[m[1]||(m[1]=k("h3",{class:"text-lg font-semibold border-b pb-2"},"Pengaturan Umum",-1)),(A(!0),W(Ee,null,Ve(e.settings.general,$=>(A(),W("div",{key:$.key,class:"grid grid-cols-3 gap-4 items-start"},[k("label",Zrt,q(i($.key)),1),$.type==="text"?(A(),B(h,{key:0,modelValue:y(r).settings[$.key],"onUpdate:modelValue":C=>y(r).settings[$.key]=C,class:"col-span-2"},null,8,["modelValue","onUpdate:modelValue"])):$.type==="textarea"?(A(),B(g,{key:1,modelValue:y(r).settings[$.key],"onUpdate:modelValue":C=>y(r).settings[$.key]=C,rows:3,class:"col-span-2"},null,8,["modelValue","onUpdate:modelValue"])):$.type==="json"?(A(),W("div",eot,[(A(!0),W(Ee,null,Ve(o.value,(C,M)=>(A(),W("div",{key:M,class:"flex gap-2"},[_(h,{modelValue:o.value[M],"onUpdate:modelValue":I=>o.value[M]=I,class:"flex-1"},null,8,["modelValue","onUpdate:modelValue"]),_(v,{icon:"i-lucide-trash-2",color:"error",variant:"ghost",size:"xs",onClick:I=>a(M)},null,8,["onClick"])]))),128)),_(v,{icon:"i-lucide-plus",label:"Tambah Misi",size:"sm",variant:"outline",onClick:s})])):$.type==="image"?(A(),W("div",tot,[l.value[$.key]||$.value?(A(),W("div",not,[k("p",rot,q(l.value[$.key]?"Preview Logo Baru:":"Logo saat ini:"),1),k("div",oot,[k("img",{src:l.value[$.key]||($.value.startsWith("http")?$.value:`/storage/${$.value}`),alt:"Logo Preview",class:"w-full h-auto rounded border border-gray-200"},null,8,sot),l.value[$.key]?(A(),B(v,{key:0,icon:"i-lucide-x",color:"error",size:"xs",class:"absolute top-2 right-2",onClick:C=>d($.key)},null,8,["onClick"])):X("",!0)])])):X("",!0),k("div",null,[k("input",{type:"file",ref_for:!0,ref_key:"fileInputs",ref:c,accept:"image/*",onChange:C=>u(C,$.key),class:"block w-full text-sm"},null,40,aot),m[0]||(m[0]=k("p",{class:"text-xs text-gray-500 mt-1"},"Upload logo website (optional)",-1))])])):X("",!0)]))),128))])):X("",!0),e.settings.contact?(A(),W("div",iot,[m[2]||(m[2]=k("h3",{class:"text-lg font-semibold border-b pb-2"},"Kontak",-1)),(A(!0),W(Ee,null,Ve(e.settings.contact,$=>(A(),W("div",{key:$.key,class:"grid grid-cols-3 gap-4 items-start"},[k("label",lot,q(i($.key)),1),$.type==="text"?(A(),B(h,{key:0,modelValue:y(r).settings[$.key],"onUpdate:modelValue":C=>y(r).settings[$.key]=C,class:"col-span-2"},null,8,["modelValue","onUpdate:modelValue"])):$.type==="textarea"?(A(),B(g,{key:1,modelValue:y(r).settings[$.key],"onUpdate:modelValue":C=>y(r).settings[$.key]=C,rows:2,class:"col-span-2"},null,8,["modelValue","onUpdate:modelValue"])):X("",!0)]))),128))])):X("",!0),e.settings.social?(A(),W("div",uot,[m[3]||(m[3]=k("h3",{class:"text-lg font-semibold border-b pb-2"},"Social Media",-1)),(A(!0),W(Ee,null,Ve(e.settings.social,$=>(A(),W("div",{key:$.key,class:"grid grid-cols-3 gap-4 items-center"},[k("label",cot,q(i($.key)),1),_(h,{modelValue:y(r).settings[$.key],"onUpdate:modelValue":C=>y(r).settings[$.key]=C,placeholder:"https://...",class:"col-span-2"},null,8,["modelValue","onUpdate:modelValue"])]))),128))])):X("",!0),k("div",dot,[_(v,{type:"submit",label:"Simpan Perubahan",icon:"i-lucide-save",loading:y(r).processing},null,8,["loading"])])],32)]),_:1})]),_:1})}}},pot=Object.freeze(Object.defineProperty({__proto__:null,default:fot},Symbol.toStringTag,{value:"Module"})),mot={class:"space-y-3"},hot={key:0,class:"relative inline-block"},got=["src"],vot={class:"grid grid-cols-2 gap-6"},yot={class:"grid grid-cols-3 gap-6"},bot={class:"flex items-center gap-3 pt-2"},xot={class:"text-sm"},wot={class:"flex gap-2 pt-4 border-t"},kot={__name:"Create",setup(e){const t=Rt({name:"",role:"",photo:null,quote:"",rating:5,order:0,is_active:!0}),n=K(null),r=a=>{const i=a.target.files[0];if(i){t.photo=i;const l=new FileReader;l.onload=c=>{n.value=c.target.result},l.readAsDataURL(i)}},o=()=>{t.photo=null,n.value=null},s=()=>{t.post("/dashboard/cms/testimonials",{forceFormData:!0})};return(a,i)=>{const l=We,c=qt,u=bt,d=Wn,f=ii,p=li,m=ht;return A(),B($t,{title:"Tambah Testimoni",heading:"Buat Testimoni Baru",description:"Tambahkan testimoni santri atau wali santri","page-id":"cms-testimonials-create"},{header:S(()=>[_(l,{color:"neutral",icon:"i-lucide-arrow-left",label:"Kembali",variant:"ghost",to:"/dashboard/cms/testimonials"})]),default:S(()=>[_(m,null,{default:S(()=>[_(p,{state:y(t),onSubmit:s,class:"space-y-6 p-4 max-w-3xl mx-auto w-full"},{default:S(()=>[_(c,{label:"Foto Profil",name:"photo",hint:"Format: JPG, PNG, WEBP (Max 2MB)"},{default:S(()=>[k("div",mot,[k("input",{type:"file",onChange:r,accept:"image/*",class:"block w-full text-sm file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-primary file:text-white hover:file:bg-primary-600"},null,32),n.value?(A(),W("div",hot,[k("img",{src:n.value,alt:"Preview",class:"w-32 h-32 rounded-full object-cover border border-gray-200 shadow-sm"},null,8,got),n.value?(A(),B(l,{key:0,icon:"i-lucide-x",color:"error",size:"xs",class:"absolute top-0 right-0 rounded-full",onClick:o})):X("",!0)])):X("",!0)])]),_:1}),k("div",vot,[_(c,{label:"Nama Lengkap",name:"name",required:""},{default:S(()=>[_(u,{modelValue:y(t).name,"onUpdate:modelValue":i[0]||(i[0]=h=>y(t).name=h),placeholder:"Contoh: Ahmad Fulan",size:"lg",class:"w-full"},null,8,["modelValue"])]),_:1}),_(c,{label:"Peran / Jabatan",name:"role",required:""},{default:S(()=>[_(u,{modelValue:y(t).role,"onUpdate:modelValue":i[1]||(i[1]=h=>y(t).role=h),placeholder:"Contoh: Alumni 2020",size:"lg",class:"w-full"},null,8,["modelValue"])]),_:1})]),_(c,{label:"Isi Testimoni",name:"quote",required:""},{default:S(()=>[_(d,{modelValue:y(t).quote,"onUpdate:modelValue":i[2]||(i[2]=h=>y(t).quote=h),placeholder:"Tuliskan pengalaman atau kesan...",rows:5,size:"lg",class:"w-full"},null,8,["modelValue"])]),_:1}),k("div",yot,[_(c,{label:"Rating (1-5)",name:"rating"},{default:S(()=>[_(u,{modelValue:y(t).rating,"onUpdate:modelValue":i[3]||(i[3]=h=>y(t).rating=h),type:"number",min:"1",max:"5",placeholder:"5",class:"w-full"},null,8,["modelValue"])]),_:1}),_(c,{label:"Urutan",name:"order"},{default:S(()=>[_(u,{modelValue:y(t).order,"onUpdate:modelValue":i[4]||(i[4]=h=>y(t).order=h),type:"number",min:"0",placeholder:"0",class:"w-full"},null,8,["modelValue"])]),_:1}),_(c,{label:"Status",name:"is_active"},{default:S(()=>[k("div",bot,[_(f,{modelValue:y(t).is_active,"onUpdate:modelValue":i[5]||(i[5]=h=>y(t).is_active=h)},null,8,["modelValue"]),k("span",xot,q(y(t).is_active?"Aktif":"Nonaktif"),1)])]),_:1})]),k("div",wot,[_(l,{type:"submit",label:"Simpan",icon:"i-lucide-save",loading:y(t).processing},null,8,["loading"]),_(l,{label:"Batal",color:"neutral",variant:"outline",to:"/dashboard/cms/testimonials"})])]),_:1},8,["state"])]),_:1})]),_:1})}}},_ot=Object.freeze(Object.defineProperty({__proto__:null,default:kot},Symbol.toStringTag,{value:"Module"})),Sot={class:"space-y-3"},$ot={key:0,class:"mb-2"},Cot=["src"],Mot={key:1,class:"relative inline-block mt-2"},Aot=["src"],Tot={class:"grid grid-cols-2 gap-6"},Eot={class:"grid grid-cols-3 gap-6"},Iot={class:"flex items-center gap-3 pt-2"},Pot={class:"text-sm"},Oot={class:"flex gap-2 pt-4 border-t"},Rot={__name:"Edit",props:{testimonial:Object},setup(e){const t=e,n=Rt({name:t.testimonial.name,role:t.testimonial.role,photo:null,quote:t.testimonial.quote,rating:t.testimonial.rating,order:t.testimonial.order,is_active:!!t.testimonial.is_active}),r=K(null),o=i=>{const l=i.target.files[0];if(l){n.photo=l;const c=new FileReader;c.onload=u=>{r.value=u.target.result},c.readAsDataURL(l)}},s=()=>{n.photo=null,r.value=null},a=()=>{n.transform(i=>({...i,_method:"PUT"})).post(`/dashboard/cms/testimonials/${t.testimonial.id}`,{forceFormData:!0})};return(i,l)=>{const c=We,u=qt,d=bt,f=Wn,p=ii,m=li,h=ht;return A(),B($t,{title:"Edit Testimoni",heading:"Edit Testimoni",description:"Ubah data testimoni","page-id":"cms-testimonials-edit"},{header:S(()=>[_(c,{color:"neutral",icon:"i-lucide-arrow-left",label:"Kembali",variant:"ghost",to:"/dashboard/cms/testimonials"})]),default:S(()=>[_(h,null,{default:S(()=>[_(m,{state:y(n),onSubmit:a,class:"space-y-6 p-4 max-w-3xl mx-auto w-full"},{default:S(()=>[_(u,{label:"Foto Profil",name:"photo",hint:"Format: JPG, PNG, WEBP (Max 2MB)"},{default:S(()=>[k("div",Sot,[!r.value&&e.testimonial.photo?(A(),W("div",$ot,[k("img",{src:e.testimonial.photo.startsWith("http")?e.testimonial.photo:`/storage/${e.testimonial.photo}`,alt:"Current Photo",class:"w-32 h-32 rounded-full object-cover border border-gray-200"},null,8,Cot),l[6]||(l[6]=k("p",{class:"text-xs text-gray-500 mt-1"},"Foto saat ini",-1))])):X("",!0),k("input",{type:"file",onChange:o,accept:"image/*",class:"block w-full text-sm file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-primary file:text-white hover:file:bg-primary-600"},null,32),r.value?(A(),W("div",Mot,[k("img",{src:r.value,alt:"Preview Baru",class:"w-32 h-32 rounded-full object-cover border border-gray-200 shadow-sm"},null,8,Aot),_(c,{icon:"i-lucide-x",color:"error",size:"xs",class:"absolute top-0 right-0 rounded-full",onClick:s}),l[7]||(l[7]=k("p",{class:"text-xs text-gray-500 mt-1"},"Preview foto baru",-1))])):X("",!0)])]),_:1}),k("div",Tot,[_(u,{label:"Nama Lengkap",name:"name",required:""},{default:S(()=>[_(d,{modelValue:y(n).name,"onUpdate:modelValue":l[0]||(l[0]=g=>y(n).name=g),placeholder:"Contoh: Ahmad Fulan",size:"lg",class:"w-full"},null,8,["modelValue"])]),_:1}),_(u,{label:"Peran / Jabatan",name:"role",required:""},{default:S(()=>[_(d,{modelValue:y(n).role,"onUpdate:modelValue":l[1]||(l[1]=g=>y(n).role=g),placeholder:"Contoh: Alumni 2020",size:"lg",class:"w-full"},null,8,["modelValue"])]),_:1})]),_(u,{label:"Isi Testimoni",name:"quote",required:""},{default:S(()=>[_(f,{modelValue:y(n).quote,"onUpdate:modelValue":l[2]||(l[2]=g=>y(n).quote=g),placeholder:"Tuliskan pengalaman atau kesan...",rows:5,size:"lg",class:"w-full"},null,8,["modelValue"])]),_:1}),k("div",Eot,[_(u,{label:"Rating (1-5)",name:"rating"},{default:S(()=>[_(d,{modelValue:y(n).rating,"onUpdate:modelValue":l[3]||(l[3]=g=>y(n).rating=g),type:"number",min:"1",max:"5",class:"w-full"},null,8,["modelValue"])]),_:1}),_(u,{label:"Urutan",name:"order"},{default:S(()=>[_(d,{modelValue:y(n).order,"onUpdate:modelValue":l[4]||(l[4]=g=>y(n).order=g),type:"number",min:"0",class:"w-full"},null,8,["modelValue"])]),_:1}),_(u,{label:"Status",name:"is_active"},{default:S(()=>[k("div",Iot,[_(p,{modelValue:y(n).is_active,"onUpdate:modelValue":l[5]||(l[5]=g=>y(n).is_active=g)},null,8,["modelValue"]),k("span",Pot,q(y(n).is_active?"Aktif":"Nonaktif"),1)])]),_:1})]),k("div",Oot,[_(c,{type:"submit",label:"Simpan Perubahan",icon:"i-lucide-save",loading:y(n).processing},null,8,["loading"]),_(c,{label:"Batal",color:"neutral",variant:"outline",to:"/dashboard/cms/testimonials"})])]),_:1},8,["state"])]),_:1})]),_:1})}}},Bot=Object.freeze(Object.defineProperty({__proto__:null,default:Rot},Symbol.toStringTag,{value:"Module"})),Not=["src","alt"],Dot={class:"font-medium"},Fot={class:"text-sm text-gray-500"},qot={class:"max-w-md text-sm line-clamp-2"},zot={key:0,class:"flex items-center gap-1"},Lot={key:1,class:"text-gray-400 text-sm"},jot={class:"flex gap-1"},Vot={class:"flex justify-between items-center px-4 py-3 border-t border-default"},Uot={class:"text-sm text-muted"},Kot={__name:"Index",props:{testimonials:Object},setup(e){const n=K(e.testimonials.current_page),r=[{accessorKey:"photo",header:"Foto"},{accessorKey:"name",header:"Nama & Role"},{accessorKey:"quote",header:"Testimoni"},{accessorKey:"rating",header:"Rating"},{accessorKey:"order",header:"Urutan"},{accessorKey:"is_active",header:"Status"},{accessorKey:"actions",header:"Aksi"}];He(n,s=>{Qe.get("/dashboard/cms/testimonials",{page:s},{preserveState:!0,replace:!0})});const o=s=>{confirm(`Yakin ingin menghapus testimoni dari "${s.name}"?`)&&Qe.delete(`/dashboard/cms/testimonials/${s.id}`)};return(s,a)=>{const i=We,l=tt,c=pn,u=xr,d=Fr,f=ht;return A(),B($t,{title:"Testimonial Management",heading:"Kelola Testimoni",description:"Kelola testimoni dari alumni dan wali santri","page-id":"cms-testimonials"},{header:S(()=>[_(i,{color:"primary",icon:"i-lucide-plus",label:"Tambah Testimoni",to:"/dashboard/cms/testimonials/create"})]),default:S(()=>[_(f,null,{default:S(()=>[_(u,{data:e.testimonials.data,columns:r,loading:!1},{"photo-cell":S(({row:p})=>[k("img",{src:p.original.photo?`/storage/${p.original.photo}`:p.original.photo,alt:p.original.name,class:"w-10 h-10 rounded-full object-cover"},null,8,Not)]),"name-cell":S(({row:p})=>[k("div",null,[k("p",Dot,q(p.original.name),1),k("p",Fot,q(p.original.role),1)])]),"quote-cell":S(({row:p})=>[k("p",qot,q(p.original.quote),1)]),"rating-cell":S(({row:p})=>[p.original.rating?(A(),W("div",zot,[(A(),W(Ee,null,Ve(5,m=>_(l,{key:m,name:"i-lucide-star",class:Z([m<=p.original.rating?"text-yellow-400":"text-gray-300","w-4 h-4"])},null,8,["class"])),64))])):(A(),W("span",Lot,"-"))]),"order-cell":S(({row:p})=>[_(c,{color:"gray",variant:"subtle"},{default:S(()=>[J(q(p.original.order),1)]),_:2},1024)]),"is_active-cell":S(({row:p})=>[_(c,{color:p.original.is_active?"success":"neutral",variant:"subtle"},{default:S(()=>[J(q(p.original.is_active?"Aktif":"Nonaktif"),1)]),_:2},1032,["color"])]),"actions-cell":S(({row:p})=>[k("div",jot,[_(i,{color:"neutral",variant:"ghost",size:"xs",icon:"i-lucide-pencil",to:`/dashboard/cms/testimonials/${p.original.id}/edit`},null,8,["to"]),_(i,{color:"error",variant:"ghost",size:"xs",icon:"i-lucide-trash-2",onClick:m=>o(p.original)},null,8,["onClick"])])]),_:1},8,["data"]),k("div",Vot,[k("span",Uot," Showing "+q(e.testimonials.from)+" to "+q(e.testimonials.to)+" of "+q(e.testimonials.total)+" entries ",1),_(d,{modelValue:n.value,"onUpdate:modelValue":a[0]||(a[0]=p=>n.value=p),total:e.testimonials.total,"page-count":e.testimonials.per_page},null,8,["modelValue","total","page-count"])])]),_:1})]),_:1})}}},Hot=Object.freeze(Object.defineProperty({__proto__:null,default:Kot},Symbol.toStringTag,{value:"Module"})),Wot={slots:{base:["relative group rounded-md inline-flex items-center focus:outline-none disabled:cursor-not-allowed disabled:opacity-75","transition-colors"],leading:"absolute inset-y-0 start-0 flex items-center",leadingIcon:"shrink-0 text-dimmed",leadingAvatar:"shrink-0",leadingAvatarSize:"",trailing:"absolute inset-y-0 end-0 flex items-center",trailingIcon:"shrink-0 text-dimmed",value:"truncate pointer-events-none",placeholder:"truncate text-dimmed",arrow:"fill-default",content:["max-h-60 w-(--reka-select-trigger-width) bg-default shadow-lg rounded-md ring ring-default overflow-hidden data-[state=open]:animate-[scale-in_100ms_ease-out] data-[state=closed]:animate-[scale-out_100ms_ease-in] origin-(--reka-select-content-transform-origin) pointer-events-auto flex flex-col","origin-(--reka-combobox-content-transform-origin) w-(--reka-combobox-trigger-width)"],viewport:"relative scroll-py-1 overflow-y-auto flex-1",group:"p-1 isolate",empty:"text-center text-muted",label:"font-semibold text-highlighted",separator:"-mx-1 my-1 h-px bg-border",item:["group relative w-full flex items-start select-none outline-none before:absolute before:z-[-1] before:inset-px before:rounded-md data-disabled:cursor-not-allowed data-disabled:opacity-75 text-default data-highlighted:not-data-disabled:text-highlighted data-highlighted:not-data-disabled:before:bg-elevated/50","transition-colors before:transition-colors"],itemLeadingIcon:["shrink-0 text-dimmed group-data-highlighted:not-group-data-disabled:text-default","transition-colors"],itemLeadingAvatar:"shrink-0",itemLeadingAvatarSize:"",itemLeadingChip:"shrink-0",itemLeadingChipSize:"",itemTrailing:"ms-auto inline-flex gap-1.5 items-center",itemTrailingIcon:"shrink-0",itemWrapper:"flex-1 flex flex-col min-w-0",itemLabel:"truncate",itemDescription:"truncate text-muted",input:"border-b border-default",focusScope:"flex flex-col min-h-0"},variants:{fieldGroup:{horizontal:"not-only:first:rounded-e-none not-only:last:rounded-s-none not-last:not-first:rounded-none focus-visible:z-[1]",vertical:"not-only:first:rounded-b-none not-only:last:rounded-t-none not-last:not-first:rounded-none focus-visible:z-[1]"},size:{xs:{base:"px-2 py-1 text-xs gap-1",leading:"ps-2",trailing:"pe-2",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4",label:"p-1 text-[10px]/3 gap-1",item:"p-1 text-xs gap-1",itemLeadingIcon:"size-4",itemLeadingAvatarSize:"3xs",itemLeadingChip:"size-4",itemLeadingChipSize:"sm",itemTrailingIcon:"size-4",empty:"p-1 text-xs"},sm:{base:"px-2.5 py-1.5 text-xs gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4",label:"p-1.5 text-[10px]/3 gap-1.5",item:"p-1.5 text-xs gap-1.5",itemLeadingIcon:"size-4",itemLeadingAvatarSize:"3xs",itemLeadingChip:"size-4",itemLeadingChipSize:"sm",itemTrailingIcon:"size-4",empty:"p-1.5 text-xs"},md:{base:"px-2.5 py-1.5 text-sm gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5",label:"p-1.5 text-xs gap-1.5",item:"p-1.5 text-sm gap-1.5",itemLeadingIcon:"size-5",itemLeadingAvatarSize:"2xs",itemLeadingChip:"size-5",itemLeadingChipSize:"md",itemTrailingIcon:"size-5",empty:"p-1.5 text-sm"},lg:{base:"px-3 py-2 text-sm gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5",label:"p-2 text-xs gap-2",item:"p-2 text-sm gap-2",itemLeadingIcon:"size-5",itemLeadingAvatarSize:"2xs",itemLeadingChip:"size-5",itemLeadingChipSize:"md",itemTrailingIcon:"size-5",empty:"p-2 text-sm"},xl:{base:"px-3 py-2 text-base gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-6",leadingAvatarSize:"xs",trailingIcon:"size-6",label:"p-2 text-sm gap-2",item:"p-2 text-base gap-2",itemLeadingIcon:"size-6",itemLeadingAvatarSize:"xs",itemLeadingChip:"size-6",itemLeadingChipSize:"lg",itemTrailingIcon:"size-6",empty:"p-2 text-base"}},variant:{outline:"text-highlighted bg-default ring ring-inset ring-accented",soft:"text-highlighted bg-elevated/50 hover:bg-elevated focus:bg-elevated disabled:bg-elevated/50",subtle:"text-highlighted bg-elevated ring ring-inset ring-accented",ghost:"text-highlighted bg-transparent hover:bg-elevated focus:bg-elevated disabled:bg-transparent dark:disabled:bg-transparent",none:"text-highlighted bg-transparent"},color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},leading:{true:""},trailing:{true:""},loading:{true:""},highlight:{true:""},type:{file:"file:me-1.5 file:font-medium file:text-muted file:outline-none"},virtualize:{true:{viewport:"p-1 isolate"},false:{viewport:"divide-y divide-default"}}},compoundVariants:[{color:"primary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-primary"},{color:"secondary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-secondary"},{color:"success",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-success"},{color:"info",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-info"},{color:"warning",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-warning"},{color:"error",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-error"},{color:"primary",highlight:!0,class:"ring ring-inset ring-primary"},{color:"secondary",highlight:!0,class:"ring ring-inset ring-secondary"},{color:"success",highlight:!0,class:"ring ring-inset ring-success"},{color:"info",highlight:!0,class:"ring ring-inset ring-info"},{color:"warning",highlight:!0,class:"ring ring-inset ring-warning"},{color:"error",highlight:!0,class:"ring ring-inset ring-error"},{color:"neutral",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-inverted"},{color:"neutral",highlight:!0,class:"ring ring-inset ring-inverted"},{leading:!0,size:"xs",class:"ps-7"},{leading:!0,size:"sm",class:"ps-8"},{leading:!0,size:"md",class:"ps-9"},{leading:!0,size:"lg",class:"ps-10"},{leading:!0,size:"xl",class:"ps-11"},{trailing:!0,size:"xs",class:"pe-7"},{trailing:!0,size:"sm",class:"pe-8"},{trailing:!0,size:"md",class:"pe-9"},{trailing:!0,size:"lg",class:"pe-10"},{trailing:!0,size:"xl",class:"pe-11"},{loading:!0,leading:!0,class:{leadingIcon:"animate-spin"}},{loading:!0,leading:!1,trailing:!0,class:{trailingIcon:"animate-spin"}}],defaultVariants:{size:"md",color:"primary",variant:"outline"}},Uc=Object.assign({inheritAttrs:!1},{__name:"SelectMenu",props:bs({id:{type:String,required:!1},placeholder:{type:String,required:!1},searchInput:{type:[Boolean,Object],required:!1,default:!0},color:{type:null,required:!1},variant:{type:null,required:!1},size:{type:null,required:!1},required:{type:Boolean,required:!1},trailingIcon:{type:null,required:!1},selectedIcon:{type:null,required:!1},content:{type:Object,required:!1},arrow:{type:[Boolean,Object],required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0,default:!0},virtualize:{type:[Boolean,Object],required:!1,default:!1},valueKey:{type:null,required:!1},labelKey:{type:null,required:!1,default:"label"},descriptionKey:{type:null,required:!1,default:"description"},items:{type:null,required:!1},defaultValue:{type:null,required:!1},modelValue:{type:null,required:!1},modelModifiers:{type:Object,required:!1},multiple:{type:Boolean,required:!1},highlight:{type:Boolean,required:!1},createItem:{type:[Boolean,String,Object],required:!1},filterFields:{type:Array,required:!1},ignoreFilter:{type:Boolean,required:!1},autofocus:{type:Boolean,required:!1},autofocusDelay:{type:Number,required:!1,default:0},class:{type:null,required:!1},ui:{type:null,required:!1},open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},name:{type:String,required:!1},resetSearchTermOnBlur:{type:Boolean,required:!1,default:!0},resetSearchTermOnSelect:{type:Boolean,required:!1,default:!0},highlightOnHover:{type:Boolean,required:!1},icon:{type:null,required:!1},avatar:{type:Object,required:!1},leading:{type:Boolean,required:!1},leadingIcon:{type:null,required:!1},trailing:{type:Boolean,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:null,required:!1}},{searchTerm:{type:String,default:""},searchTermModifiers:{}}),emits:bs(["update:open","change","blur","focus","create","highlight","update:modelValue"],["update:searchTerm"]),setup(e,{expose:t,emit:n}){const r=e,o=n,s=rn(),a=Yn(e,"searchTerm",{type:String,default:""}),{t:i}=oo(),l=Bt(),{contains:c}=lz({sensitivity:"base"}),u=fn(Pn(r,"modelValue","defaultValue","open","defaultOpen","required","multiple","resetSearchTermOnBlur","resetSearchTermOnSelect","highlightOnHover"),o),d=ll(Nt(()=>r.portal)),f=Nt(()=>sr(r.content,{side:"bottom",sideOffset:8,collisionPadding:8,position:"popper"})),p=Nt(()=>r.arrow),m=Nt(()=>r.virtualize?sr(typeof r.virtualize=="boolean"?{}:r.virtualize,{estimateSize:aV(st.value,r.size||"md",r.descriptionKey)}):!1),h=Nt(()=>sr(r.searchInput,{placeholder:i("selectMenu.search"),variant:"none"})),{emitFormBlur:g,emitFormFocus:v,emitFormInput:x,emitFormChange:$,size:C,color:M,id:I,name:E,highlight:P,disabled:O,ariaAttrs:D}=jc(r),{orientation:L,size:V}=Ph(r),{isLeading:F,isTrailing:z,leadingIconName:N,trailingIconName:ee}=xf(Nt(()=>sr(r,{trailingIcon:l.ui.icons.chevronDown}))),ne=H(()=>V.value||C.value),[Y,Re]=Rs(),[fe,we]=Rs({props:{item:{type:[Object,String,Number,Boolean],required:!0},index:{type:Number,required:!1}}}),ue=H(()=>Ye({extend:Ye(Wot),...l.ui?.selectMenu||{}})({color:M.value,variant:r.variant,size:ne?.value,loading:r.loading,highlight:P.value,leading:F.value||!!r.avatar||!!s.leading,trailing:z.value||!!s.trailing,fieldGroup:L.value,virtualize:!!r.virtualize}));function Ne(be){if(r.multiple&&Array.isArray(be)){const me=be.map(he=>lb(st.value,he,{labelKey:r.labelKey,valueKey:r.valueKey})).filter(he=>he!=null&&he!=="");return me.length>0?me.join(", "):void 0}return lb(st.value,be,{labelKey:r.labelKey,valueKey:r.valueKey})}const Xe=H(()=>r.items?.length?Sx(r.items)?r.items:[r.items]:[]),st=H(()=>Xe.value.flatMap(be=>be)),it=H(()=>{if(r.ignoreFilter||!a.value)return Xe.value;const be=Array.isArray(r.filterFields)?r.filterFields:[r.labelKey];return Xe.value.map(me=>me.filter(he=>he==null?!1:typeof he!="object"?c(String(he),a.value):he.type&&["label","separator"].includes(he.type)?!0:be.some(Be=>{const _e=Pt(he,Be);return _e!=null&&c(String(_e),a.value)}))).filter(me=>me.filter(he=>!Ie(he)||!he.type||!["label","separator"].includes(he.type)).length>0)}),ce=H(()=>it.value.flatMap(be=>be)),ve=H(()=>{if(!r.createItem||!a.value)return!1;const be=r.valueKey?{[r.valueKey]:a.value}:a.value;return typeof r.createItem=="object"&&r.createItem.when==="always"||r.createItem==="always"?!ce.value.find(me=>$3(me,be,r.valueKey)):!ce.value.length}),Ae=H(()=>typeof r.createItem=="object"?r.createItem.position:"bottom"),pe=na("triggerRef");function et(){r.autofocus&&pe.value?.$el?.focus({focusVisible:!0})}wt(()=>{setTimeout(()=>{et()},r.autofocusDelay)});function kt(be){if(mn(r.modelValue)===be)return;r.modelModifiers?.trim&&(be=be?.trim()??null),r.modelModifiers?.number&&(be=_x(be)),r.modelModifiers?.nullable&&(be??=null),r.modelModifiers?.optional&&(be??=void 0);const me=new Event("change",{target:{value:be}});o("change",me),$(),x(),r.resetSearchTermOnSelect&&(a.value="")}function te(be){let me;if(be){const he=new FocusEvent("focus");o("focus",he),v(),clearTimeout(me)}else{const he=new FocusEvent("blur");o("blur",he),g(),r.resetSearchTermOnBlur&&(me=setTimeout(()=>{a.value=""},100))}}function se(be){be.preventDefault(),be.stopPropagation(),o("create",a.value)}function $e(be,me){if(Ie(me)){if(me.disabled){be.preventDefault();return}me.onSelect?.(be)}}function Ie(be){return typeof be=="object"&&be!==null}return t({triggerRef:Nt(()=>pe.value?.$el)}),(be,me)=>(A(),W(Ee,null,[_(y(Y),null,{default:S(()=>[_(y(k2),{"data-slot":"item",class:Z(ue.value.item({class:r.ui?.item})),value:a.value,onSelect:se},{default:S(()=>[k("span",{"data-slot":"itemLabel",class:Z(ue.value.itemLabel({class:r.ui?.itemLabel}))},[U(be.$slots,"create-item-label",{item:a.value},()=>[J(q(y(i)("selectMenu.create",{label:a.value})),1)])],2)]),_:3},8,["class","value"])]),_:3}),_(y(fe),null,{default:S(({item:he,index:Be})=>[Ie(he)&&he.type==="label"?(A(),B(y(woe),{key:0,"data-slot":"label",class:Z(ue.value.label({class:[r.ui?.label,he.ui?.label,he.class]}))},{default:S(()=>[J(q(y(Pt)(he,r.labelKey)),1)]),_:2},1032,["class"])):Ie(he)&&he.type==="separator"?(A(),B(y($oe),{key:1,"data-slot":"separator",class:Z(ue.value.separator({class:[r.ui?.separator,he.ui?.separator,he.class]}))},null,8,["class"])):(A(),B(y(k2),{key:2,"data-slot":"item",class:Z(ue.value.item({class:[r.ui?.item,Ie(he)&&he.ui?.item,Ie(he)&&he.class]})),disabled:Ie(he)&&he.disabled,value:r.valueKey&&Ie(he)?y(Pt)(he,r.valueKey):he,onSelect:_e=>$e(_e,he)},{default:S(()=>[U(be.$slots,"item",{item:he,index:Be,ui:ue.value},()=>[U(be.$slots,"item-leading",{item:he,index:Be,ui:ue.value},()=>[Ie(he)&&he.icon?(A(),B(tt,{key:0,name:he.icon,"data-slot":"itemLeadingIcon",class:Z(ue.value.itemLeadingIcon({class:[r.ui?.itemLeadingIcon,he.ui?.itemLeadingIcon]}))},null,8,["name","class"])):Ie(he)&&he.avatar?(A(),B(On,oe({key:1,size:he.ui?.itemLeadingAvatarSize||r.ui?.itemLeadingAvatarSize||ue.value.itemLeadingAvatarSize()},he.avatar,{"data-slot":"itemLeadingAvatar",class:ue.value.itemLeadingAvatar({class:[r.ui?.itemLeadingAvatar,he.ui?.itemLeadingAvatar]})}),null,16,["size","class"])):Ie(he)&&he.chip?(A(),B(Lx,oe({key:2,size:r.ui?.itemLeadingChipSize||ue.value.itemLeadingChipSize(),inset:"",standalone:""},he.chip,{"data-slot":"itemLeadingChip",class:ue.value.itemLeadingChip({class:[r.ui?.itemLeadingChip,he.ui?.itemLeadingChip]})}),null,16,["size","class"])):X("",!0)]),k("span",{"data-slot":"itemWrapper",class:Z(ue.value.itemWrapper({class:[r.ui?.itemWrapper,Ie(he)&&he.ui?.itemWrapper]}))},[k("span",{"data-slot":"itemLabel",class:Z(ue.value.itemLabel({class:[r.ui?.itemLabel,Ie(he)&&he.ui?.itemLabel]}))},[U(be.$slots,"item-label",{item:he,index:Be},()=>[J(q(Ie(he)?y(Pt)(he,r.labelKey):he),1)])],2),Ie(he)&&(y(Pt)(he,r.descriptionKey)||s["item-description"])?(A(),W("span",{key:0,"data-slot":"itemDescription",class:Z(ue.value.itemDescription({class:[r.ui?.itemDescription,Ie(he)&&he.ui?.itemDescription]}))},[U(be.$slots,"item-description",{item:he,index:Be},()=>[J(q(y(Pt)(he,r.descriptionKey)),1)])],2)):X("",!0)],2),k("span",{"data-slot":"itemTrailing",class:Z(ue.value.itemTrailing({class:[r.ui?.itemTrailing,Ie(he)&&he.ui?.itemTrailing]}))},[U(be.$slots,"item-trailing",{item:he,index:Be,ui:ue.value}),_(y(boe),{"as-child":""},{default:S(()=>[_(tt,{name:e.selectedIcon||y(l).ui.icons.check,"data-slot":"itemTrailingIcon",class:Z(ue.value.itemTrailingIcon({class:[r.ui?.itemTrailingIcon,Ie(he)&&he.ui?.itemTrailingIcon]}))},null,8,["name","class"])]),_:2},1024)],2)])]),_:2},1032,["class","disabled","value","onSelect"]))]),_:3}),_(y(noe),oe({id:y(I)},{...y(u),...be.$attrs,...y(D)},{"ignore-filter":"","as-child":"",name:y(E),disabled:y(O),"onUpdate:modelValue":kt,"onUpdate:open":te}),{default:S(({modelValue:he,open:Be})=>[_(y(Cre),{"as-child":""},{default:S(()=>[_(y(Moe),{ref_key:"triggerRef",ref:pe,"data-slot":"base",class:Z(ue.value.base({class:[r.ui?.base,r.class]})),tabindex:"0"},{default:S(()=>[y(F)||e.avatar||s.leading?(A(),W("span",{key:0,"data-slot":"leading",class:Z(ue.value.leading({class:r.ui?.leading}))},[U(be.$slots,"leading",{modelValue:he,open:Be,ui:ue.value},()=>[y(F)&&y(N)?(A(),B(tt,{key:0,name:y(N),"data-slot":"leadingIcon",class:Z(ue.value.leadingIcon({class:r.ui?.leadingIcon}))},null,8,["name","class"])):e.avatar?(A(),B(On,oe({key:1,size:r.ui?.itemLeadingAvatarSize||ue.value.itemLeadingAvatarSize()},e.avatar,{"data-slot":"itemLeadingAvatar",class:ue.value.itemLeadingAvatar({class:r.ui?.itemLeadingAvatar})}),null,16,["size","class"])):X("",!0)])],2)):X("",!0),U(be.$slots,"default",{modelValue:he,open:Be,ui:ue.value},()=>[(A(!0),W(Ee,null,Ve([Ne(he)],_e=>(A(),W(Ee,{key:_e},[_e!=null?(A(),W("span",{key:0,"data-slot":"value",class:Z(ue.value.value({class:r.ui?.value}))},q(_e),3)):(A(),W("span",{key:1,"data-slot":"placeholder",class:Z(ue.value.placeholder({class:r.ui?.placeholder}))},q(e.placeholder??""),3))],64))),128))]),y(z)||s.trailing?(A(),W("span",{key:1,"data-slot":"trailing",class:Z(ue.value.trailing({class:r.ui?.trailing}))},[U(be.$slots,"trailing",{modelValue:he,open:Be,ui:ue.value},()=>[y(ee)?(A(),B(tt,{key:0,name:y(ee),"data-slot":"trailingIcon",class:Z(ue.value.trailingIcon({class:r.ui?.trailingIcon}))},null,8,["name","class"])):X("",!0)])],2)):X("",!0)]),_:2},1032,["class"])]),_:2},1024),_(y(_oe),rt(ct(y(d))),{default:S(()=>[_(y(coe),oe({"data-slot":"content",class:ue.value.content({class:r.ui?.content})},f.value),{default:S(()=>[_(y(gh),{trapped:"","data-slot":"focusScope",class:Z(ue.value.focusScope({class:r.ui?.focusScope}))},{default:S(()=>[U(be.$slots,"content-top"),e.searchInput?(A(),B(y(goe),{key:0,modelValue:a.value,"onUpdate:modelValue":me[1]||(me[1]=_e=>a.value=_e),"display-value":()=>a.value,"as-child":""},{default:S(()=>[_(bt,oe({autofocus:"",autocomplete:"off",size:e.size},h.value,{"data-slot":"input",class:ue.value.input({class:r.ui?.input}),onChange:me[0]||(me[0]=lt(()=>{},["stop"]))}),null,16,["size","class"])]),_:1},8,["modelValue","display-value"])):X("",!0),_(y(foe),{"data-slot":"empty",class:Z(ue.value.empty({class:r.ui?.empty}))},{default:S(()=>[U(be.$slots,"empty",{searchTerm:a.value},()=>[J(q(a.value?y(i)("selectMenu.noMatch",{searchTerm:a.value}):y(i)("selectMenu.noData")),1)])]),_:3},8,["class"]),k("div",{role:"presentation","data-slot":"viewport",class:Z(ue.value.viewport({class:r.ui?.viewport}))},[e.virtualize?(A(),W(Ee,{key:0},[ve.value&&Ae.value==="top"?(A(),B(y(Re),{key:0})):X("",!0),_(y(Toe),oe({options:ce.value,"text-content":_e=>Ie(_e)?y(Pt)(_e,r.labelKey):String(_e)},m.value),{default:S(({option:_e,virtualItem:Oe})=>[_(y(we),{item:_e,index:Oe.index},null,8,["item","index"])]),_:1},16,["options","text-content"]),ve.value&&Ae.value==="bottom"?(A(),B(y(Re),{key:1})):X("",!0)],64)):(A(),W(Ee,{key:1},[ve.value&&Ae.value==="top"?(A(),B(y(Ok),{key:0,"data-slot":"group",class:Z(ue.value.group({class:r.ui?.group}))},{default:S(()=>[_(y(Re))]),_:1},8,["class"])):X("",!0),(A(!0),W(Ee,null,Ve(it.value,(_e,Oe)=>(A(),B(y(Ok),{key:`group-${Oe}`,"data-slot":"group",class:Z(ue.value.group({class:r.ui?.group}))},{default:S(()=>[(A(!0),W(Ee,null,Ve(_e,(Ze,Ue)=>(A(),B(y(we),{key:`group-${Oe}-${Ue}`,item:Ze,index:Ue},null,8,["item","index"]))),128))]),_:2},1032,["class"]))),128)),ve.value&&Ae.value==="bottom"?(A(),B(y(Ok),{key:1,"data-slot":"group",class:Z(ue.value.group({class:r.ui?.group}))},{default:S(()=>[_(y(Re))]),_:1},8,["class"])):X("",!0)],64))],2),U(be.$slots,"content-bottom")]),_:3},8,["class"]),e.arrow?(A(),B(y(loe),oe({key:0},p.value,{"data-slot":"arrow",class:ue.value.arrow({class:r.ui?.arrow})}),null,16,["class"])):X("",!0)]),_:3},16,["class"])]),_:3},16)]),_:3},16,["id","name","disabled"])],64))}}),Got={class:"max-w-2xl mx-auto"},Jot={class:"flex justify-end gap-3 pt-4 border-t dark:border-gray-800"},Yot={__name:"Create",props:{schoolYears:Array,teachers:Array},setup(e){const t=e,n=Rt({name:"",level:"",school_year_id:t.schoolYears.find(a=>a.is_active)?.id||t.schoolYears[0]?.id||"",teacher_id:""}),r=H(()=>t.schoolYears.map(a=>({label:a.name+(a.is_active?" (Aktif)":""),value:a.id}))),o=H(()=>t.teachers.map(a=>({label:a.name,value:a.id,description:a.email}))),s=()=>{n.transform(a=>({...a,teacher_id:a.teacher_id?.value||a.teacher_id})).post("/dashboard/classrooms")};return(a,i)=>{const l=bt,c=qt,u=er,d=Uc,f=We,p=ht;return A(),B($t,{title:"Tambah Kelas","page-id":"classrooms-create","content-class":"p-6"},{default:S(()=>[k("div",Got,[_(p,null,{default:S(()=>[k("form",{onSubmit:lt(s,["prevent"]),class:"space-y-6"},[_(c,{label:"Nama Kelas",error:y(n).errors.name},{default:S(()=>[_(l,{modelValue:y(n).name,"onUpdate:modelValue":i[0]||(i[0]=m=>y(n).name=m),placeholder:"Contoh: VII A",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"]),_(c,{label:"Tingkat",error:y(n).errors.level},{default:S(()=>[_(l,{modelValue:y(n).level,"onUpdate:modelValue":i[1]||(i[1]=m=>y(n).level=m),placeholder:"Contoh: 1, 2, VII, X, Ula, Wustho",class:"w-full"},null,8,["modelValue"]),i[4]||(i[4]=k("p",{class:"text-xs text-gray-500 mt-1"}," Tingkat kelas, misal: 1, VII, X, Ula, dll. ",-1))]),_:1},8,["error"]),_(c,{label:"Tahun Ajaran",error:y(n).errors.school_year_id},{default:S(()=>[_(u,{modelValue:y(n).school_year_id,"onUpdate:modelValue":i[2]||(i[2]=m=>y(n).school_year_id=m),items:r.value,placeholder:"Pilih Tahun Ajaran",class:"w-full"},null,8,["modelValue","items"])]),_:1},8,["error"]),_(c,{label:"Wali Kelas",error:y(n).errors.teacher_id},{default:S(()=>[_(d,{modelValue:y(n).teacher_id,"onUpdate:modelValue":i[3]||(i[3]=m=>y(n).teacher_id=m),items:o.value,"value-key":"value","label-key":"label",searchable:"","searchable-placeholder":"Cari wali kelas...",placeholder:"Pilih Wali Kelas",class:"w-full"},null,8,["modelValue","items"])]),_:1},8,["error"]),k("div",Jot,[_(f,{color:"neutral",variant:"soft",to:"/dashboard/classrooms",disabled:y(n).processing},{default:S(()=>[...i[5]||(i[5]=[J(" Batal ",-1)])]),_:1},8,["disabled"]),_(f,{type:"submit",color:"primary",loading:y(n).processing},{default:S(()=>[...i[6]||(i[6]=[J(" Simpan ",-1)])]),_:1},8,["loading"])])],32)]),_:1})])]),_:1})}}},Qot=Object.freeze(Object.defineProperty({__proto__:null,default:Yot},Symbol.toStringTag,{value:"Module"})),Xot={class:"max-w-2xl mx-auto"},Zot={class:"flex justify-end gap-3 pt-4 border-t dark:border-gray-800"},est={__name:"Edit",props:{classroom:Object,schoolYears:Array,teachers:Array},setup(e){const t=e,n=Rt({name:t.classroom.name,level:t.classroom.level,school_year_id:t.classroom.school_year_id,teacher_id:t.classroom.teacher_id}),r=H(()=>t.schoolYears.map(a=>({label:a.name+(a.is_active?" (Aktif)":""),value:a.id}))),o=H(()=>t.teachers.map(a=>({label:a.name,value:a.id,description:a.email}))),s=()=>{n.transform(a=>({...a,teacher_id:a.teacher_id?.value||a.teacher_id})).put(`/dashboard/classrooms/${t.classroom.id}`)};return(a,i)=>{const l=bt,c=qt,u=er,d=Uc,f=We,p=ht;return A(),B($t,{title:"Edit Kelas","page-id":"classrooms-edit","content-class":"p-6"},{default:S(()=>[k("div",Xot,[_(p,null,{default:S(()=>[k("form",{onSubmit:lt(s,["prevent"]),class:"space-y-6"},[_(c,{label:"Nama Kelas",error:y(n).errors.name},{default:S(()=>[_(l,{modelValue:y(n).name,"onUpdate:modelValue":i[0]||(i[0]=m=>y(n).name=m),placeholder:"Contoh: VII A",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"]),_(c,{label:"Tingkat",error:y(n).errors.level},{default:S(()=>[_(l,{modelValue:y(n).level,"onUpdate:modelValue":i[1]||(i[1]=m=>y(n).level=m),placeholder:"Contoh: 1, 2, VII, X, Ula, Wustho",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"]),_(c,{label:"Tahun Ajaran",error:y(n).errors.school_year_id},{default:S(()=>[_(u,{modelValue:y(n).school_year_id,"onUpdate:modelValue":i[2]||(i[2]=m=>y(n).school_year_id=m),items:r.value,placeholder:"Pilih Tahun Ajaran",class:"w-full"},null,8,["modelValue","items"])]),_:1},8,["error"]),_(c,{label:"Wali Kelas",error:y(n).errors.teacher_id},{default:S(()=>[_(d,{modelValue:y(n).teacher_id,"onUpdate:modelValue":i[3]||(i[3]=m=>y(n).teacher_id=m),items:o.value,"value-key":"value","label-key":"label",searchable:"","searchable-placeholder":"Cari wali kelas...",placeholder:"Pilih Wali Kelas",class:"w-full"},null,8,["modelValue","items"])]),_:1},8,["error"]),k("div",Zot,[_(f,{color:"neutral",variant:"soft",to:"/dashboard/classrooms",disabled:y(n).processing},{default:S(()=>[...i[4]||(i[4]=[J(" Batal ",-1)])]),_:1},8,["disabled"]),_(f,{type:"submit",color:"primary",loading:y(n).processing},{default:S(()=>[...i[5]||(i[5]=[J(" Simpan Perubahan ",-1)])]),_:1},8,["loading"])])],32)]),_:1})])]),_:1})}}},tst=Object.freeze(Object.defineProperty({__proto__:null,default:est},Symbol.toStringTag,{value:"Module"})),nst={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},rst={class:"flex items-end gap-2"},ost={class:"flex justify-between items-center mb-4"},sst={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},ast={class:"flex justify-between items-start"},ist={class:"text-lg font-semibold text-gray-900 dark:text-white"},lst={class:"text-sm text-gray-500 dark:text-gray-400"},ust={class:"space-y-3"},cst={class:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-300"},dst={class:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-300"},fst={class:"flex justify-end gap-2"},pst={key:0,class:"text-center py-12 text-gray-500"},mst={key:1,class:"mt-6 flex justify-center"},hst={class:"flex items-start gap-4"},gst={class:"p-3 bg-error/10 rounded-lg"},vst={class:"flex-1"},yst={class:"text-sm text-gray-500 mt-1"},bst={class:"font-semibold"},xst={class:"flex justify-end gap-2 w-full"},wst={__name:"Index",props:{classrooms:Object,schoolYears:Array,filters:Object},setup(e){const t=e,n=K({search:t.filters.search||"",school_year_id:t.filters.school_year_id||"all"}),r=K(t.classrooms.current_page),o=H(()=>[{label:"Semua Tahun Ajaran",value:"all"},...t.schoolYears.map(h=>({label:h.name,value:h.id}))]),s=H(()=>n.value.search||n.value.school_year_id&&n.value.school_year_id!=="all"),a=()=>{const h={...n.value};h.school_year_id==="all"&&delete h.school_year_id,Qe.get("/dashboard/classrooms",h,{preserveState:!0,preserveScroll:!0})},i=()=>{n.value={search:"",school_year_id:"all"},a()},l=h=>{const g={...n.value};g.school_year_id==="all"&&delete g.school_year_id,Qe.get(`/dashboard/classrooms?page=${h}`,g,{preserveState:!0,preserveScroll:!0})},c=K(!1),u=K(null),d=K(!1),f=h=>{u.value=h,c.value=!0},p=()=>{c.value=!1,u.value=null},m=()=>{d.value=!0,Qe.delete(`/dashboard/classrooms/${u.value.id}`,{onSuccess:()=>{p()},onFinish:()=>{d.value=!1}})};return(h,g)=>{const v=bt,x=qt,$=er,C=We,M=ht,I=pn,E=tt,P=Fr,O=$r;return A(),B($t,{title:"Data Kelas","page-id":"classrooms-index","content-class":"p-6"},{default:S(()=>[_(M,{class:"mb-6"},{default:S(()=>[k("form",{onSubmit:lt(a,["prevent"]),class:"space-y-4"},[k("div",nst,[_(x,{label:"Cari Nama Kelas"},{default:S(()=>[_(v,{modelValue:n.value.search,"onUpdate:modelValue":g[0]||(g[0]=D=>n.value.search=D),placeholder:"Cari kelas...",icon:"i-lucide-search"},null,8,["modelValue"])]),_:1}),_(x,{label:"Tahun Ajaran"},{default:S(()=>[_($,{modelValue:n.value.school_year_id,"onUpdate:modelValue":g[1]||(g[1]=D=>n.value.school_year_id=D),items:o.value,placeholder:"Pilih Tahun Ajaran"},null,8,["modelValue","items"])]),_:1}),k("div",rst,[_(C,{type:"submit",color:"primary"},{default:S(()=>[...g[4]||(g[4]=[J(" Cari ",-1)])]),_:1}),s.value?(A(),B(C,{key:0,type:"button",color:"neutral",variant:"soft",onClick:i},{default:S(()=>[...g[5]||(g[5]=[J(" Reset ",-1)])]),_:1})):X("",!0)])])],32)]),_:1}),k("div",ost,[g[7]||(g[7]=k("div",{class:"flex gap-2"},null,-1)),_(C,{color:"primary",icon:"i-lucide-plus",to:"/dashboard/classrooms/create"},{default:S(()=>[...g[6]||(g[6]=[J(" Tambah Kelas ",-1)])]),_:1})]),k("div",sst,[(A(!0),W(Ee,null,Ve(e.classrooms.data,D=>(A(),B(M,{key:D.id,class:"hover:ring-2 hover:ring-primary-500/50 transition-all"},{header:S(()=>[k("div",ast,[k("div",null,[k("h3",ist,q(D.name),1),k("p",lst," Tingkat: "+q(D.level),1)]),_(I,{color:"primary",variant:"subtle"},{default:S(()=>[J(q(D.school_year?.name),1)]),_:2},1024)])]),footer:S(()=>[k("div",fst,[_(C,{size:"xs",color:"primary",variant:"soft",icon:"i-lucide-pencil",to:`/dashboard/classrooms/${D.id}/edit`},{default:S(()=>[...g[8]||(g[8]=[J(" Edit ",-1)])]),_:1},8,["to"]),_(C,{size:"xs",color:"error",variant:"soft",icon:"i-lucide-trash-2",onClick:L=>f(D)},{default:S(()=>[...g[9]||(g[9]=[J(" Hapus ",-1)])]),_:1},8,["onClick"])])]),default:S(()=>[k("div",ust,[k("div",cst,[_(E,{name:"i-lucide-user",class:"w-4 h-4"}),k("span",null,"Wali Kelas: "+q(D.teacher?.name||"-"),1)]),k("div",dst,[_(E,{name:"i-lucide-users",class:"w-4 h-4"}),k("span",null,"Jumlah Santri: "+q(D.students_count||0),1)])])]),_:2},1024))),128))]),e.classrooms.data.length===0?(A(),W("div",pst,q(s.value?"Data tidak ditemukan":"Belum ada data kelas"),1)):X("",!0),e.classrooms.last_page>1?(A(),W("div",mst,[_(P,{modelValue:r.value,"onUpdate:modelValue":[g[2]||(g[2]=D=>r.value=D),l],total:e.classrooms.total,"per-page":e.classrooms.per_page},null,8,["modelValue","total","per-page"])])):X("",!0),_(O,{open:c.value,"onUpdate:open":g[3]||(g[3]=D=>c.value=D)},{header:S(()=>[...g[10]||(g[10]=[k("h3",{class:"text-lg font-semibold"},"Hapus Kelas",-1)])]),body:S(()=>[k("div",hst,[k("div",gst,[_(E,{name:"i-lucide-alert-triangle",class:"w-6 h-6 text-error"})]),k("div",vst,[g[13]||(g[13]=k("h4",{class:"font-semibold"},"Apakah Anda yakin?",-1)),k("p",yst,[g[11]||(g[11]=J(" Kelas ",-1)),k("span",bst,q(u.value?.name),1),g[12]||(g[12]=J(" akan dihapus permanen. ",-1))])])])]),footer:S(()=>[k("div",xst,[_(C,{color:"neutral",variant:"soft",onClick:p,disabled:d.value},{default:S(()=>[...g[14]||(g[14]=[J(" Batal ",-1)])]),_:1},8,["disabled"]),_(C,{color:"error",loading:d.value,onClick:m},{default:S(()=>[...g[15]||(g[15]=[J(" Hapus ",-1)])]),_:1},8,["loading"])])]),_:1},8,["open"])]),_:1})}}},kst=Object.freeze(Object.defineProperty({__proto__:null,default:wst},Symbol.toStringTag,{value:"Module"})),_st={class:"space-y-6"},Sst={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},$st={class:"flex items-center justify-between"},Cst={class:"text-2xl font-bold text-primary mt-1"},Mst={class:"flex items-center justify-between"},Ast={class:"text-2xl font-bold text-blue-600 dark:text-blue-400 mt-1"},Tst={class:"flex items-center justify-between"},Est={class:"text-2xl font-bold text-green-600 dark:text-green-400 mt-1"},Ist={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},Pst={class:"flex items-center gap-3"},Ost={class:"font-medium text-gray-900 dark:text-gray-100"},Rst={class:"text-sm text-gray-500 dark:text-gray-400"},Bst={class:"text-sm"},Nst={class:"font-semibold text-green-600 dark:text-green-400"},Dst={key:0,class:"flex justify-center mt-4"},Fst={class:"space-y-4"},qst={class:"text-sm text-gray-600 dark:text-gray-400 mb-2"},zst={class:"text-sm text-gray-600 dark:text-gray-400"},Lst={class:"text-green-600"},jst={class:"flex justify-end gap-2 w-full"},Vst={class:"space-y-4"},Ust={class:"text-sm text-gray-600 dark:text-gray-400 mb-2"},Kst={class:"text-sm text-gray-600 dark:text-gray-400"},Hst={class:"text-green-600"},Wst={class:"flex justify-end gap-2 w-full"},Gst={class:"space-y-4"},Jst={class:"text-sm text-gray-600 dark:text-gray-400"},Yst={class:"flex justify-end gap-2 w-full"},Qst={__name:"BalanceTab",props:{students:Object,summary:Object,classrooms:Array,filters:Object},setup(e){const t=e,n=K(!1),r=K(t.students?.current_page||1),o=[{id:"student",header:"Nama / NIS"},{id:"classroom",header:"Kelas"},{id:"saldo",header:"Saldo"},{id:"actions",header:"Aksi"}],s=K({search:t.filters?.search||"",classroom_id:t.filters?.classroom_id||"all",rfid:t.filters?.rfid||""}),a=H(()=>[{label:"Semua Kelas",value:"all"},...(t.classrooms||[]).map(C=>({label:C.name,value:C.id}))]),i=K({open:!1,student:null}),l=K({open:!1,student:null}),c=K({open:!1,student:null}),u=Rt({amount:"",description:""}),d=Rt({amount:"",pin:"",description:""}),f=Rt({pin:""});He(s,_h(()=>{Qe.get("/dashboard/finance/student-balance",s.value,{preserveState:!0,preserveScroll:!0,replace:!0})},500),{deep:!0}),He(r,C=>{Qe.get("/dashboard/finance/student-balance",{...s.value,page:C},{preserveState:!0,preserveScroll:!0})});const m=C=>C?new Intl.NumberFormat("id-ID").format(C):"0",h=()=>{s.value={search:"",classroom_id:"all",rfid:""}},g=C=>[[{label:"Topup Saldo",icon:"i-lucide-plus-circle",iconClass:"text-green-600",onSelect:()=>{i.value={open:!0,student:C},u.reset()}},{label:"Tarik Saldo",icon:"i-lucide-minus-circle",iconClass:"text-red-600",onSelect:()=>{l.value={open:!0,student:C},d.reset()}},{label:"Ubah PIN",icon:"i-lucide-key",iconClass:"text-blue-600",onSelect:()=>{c.value={open:!0,student:C},f.reset()}}]],v=()=>{i.value.student&&u.post(`/dashboard/finance/student-balance/${i.value.student.id}/topup`,{preserveScroll:!0,onSuccess:()=>{i.value.open=!1,u.reset()}})},x=()=>{l.value.student&&d.post(`/dashboard/finance/student-balance/${l.value.student.id}/withdraw`,{preserveScroll:!0,onSuccess:()=>{l.value.open=!1,d.reset()}})},$=()=>{c.value.student&&f.put(`/dashboard/finance/student-balance/${c.value.student.id}/update-pin`,{preserveScroll:!0,onSuccess:()=>{c.value.open=!1,f.reset()}})};return(C,M)=>{const I=tt,E=ht,P=bt,O=er,D=We,L=On,V=_f,F=xr,z=Fr,N=qt,ee=Wn,ne=$r;return A(),W("div",_st,[k("div",Sst,[_(E,null,{default:S(()=>[k("div",$st,[k("div",null,[M[16]||(M[16]=k("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Total Saldo",-1)),k("p",Cst," Rp "+q(m(e.summary?.total_balance)),1)]),_(I,{name:"i-lucide-wallet",class:"w-10 h-10 text-primary opacity-20"})])]),_:1}),_(E,null,{default:S(()=>[k("div",Mst,[k("div",null,[M[17]||(M[17]=k("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Rata-rata Saldo",-1)),k("p",Ast," Rp "+q(m(e.summary?.average_balance)),1)]),_(I,{name:"i-lucide-trending-up",class:"w-10 h-10 text-blue-600 opacity-20"})])]),_:1}),_(E,null,{default:S(()=>[k("div",Tst,[k("div",null,[M[18]||(M[18]=k("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Jumlah Santri",-1)),k("p",Est,q(e.summary?.student_count||0),1)]),_(I,{name:"i-lucide-users",class:"w-10 h-10 text-green-600 opacity-20"})])]),_:1})]),_(E,null,{default:S(()=>[k("div",Ist,[_(P,{modelValue:s.value.search,"onUpdate:modelValue":M[0]||(M[0]=Y=>s.value.search=Y),placeholder:"Cari nama/NIS...",icon:"i-lucide-search"},null,8,["modelValue"]),_(O,{modelValue:s.value.classroom_id,"onUpdate:modelValue":M[1]||(M[1]=Y=>s.value.classroom_id=Y),items:a.value,"label-key":"label","value-key":"value",placeholder:"Semua Kelas"},null,8,["modelValue","items"]),_(P,{modelValue:s.value.rfid,"onUpdate:modelValue":M[2]||(M[2]=Y=>s.value.rfid=Y),placeholder:"Cari RFID...",icon:"i-lucide-credit-card"},null,8,["modelValue"]),_(D,{onClick:h,color:"neutral",variant:"soft",icon:"i-lucide-x",block:""},{default:S(()=>[...M[19]||(M[19]=[J(" Reset Filter ",-1)])]),_:1})])]),_:1}),_(E,null,{default:S(()=>[_(F,{data:e.students?.data||[],columns:o,loading:n.value},{"student-cell":S(({row:Y})=>[k("div",Pst,[_(L,{src:Y.original.user?.photo,alt:Y.original.user?.name,size:"sm"},null,8,["src","alt"]),k("div",null,[k("p",Ost,q(Y.original.user?.name),1),k("p",Rst,q(Y.original.student_id),1)])])]),"classroom-cell":S(({row:Y})=>[k("span",Bst,q(Y.original.current_classroom?.classroom?.name||"-"),1)]),"saldo-cell":S(({row:Y})=>[k("span",Nst," Rp "+q(m(Y.original.user?.balance||0)),1)]),"actions-cell":S(({row:Y})=>[_(V,{items:g(Y.original)},{default:S(()=>[_(D,{color:"neutral",variant:"ghost",icon:"i-lucide-more-vertical",size:"sm"})]),_:1},8,["items"])]),_:1},8,["data","loading"]),e.students?.total>e.students?.per_page?(A(),W("div",Dst,[_(z,{modelValue:r.value,"onUpdate:modelValue":M[3]||(M[3]=Y=>r.value=Y),total:e.students?.total||0,"page-count":e.students?.per_page||15},null,8,["modelValue","total","page-count"])])):X("",!0)]),_:1}),_(ne,{open:i.value.open,"onUpdate:open":M[7]||(M[7]=Y=>i.value.open=Y)},{header:S(()=>[...M[20]||(M[20]=[k("h3",{class:"text-lg font-semibold"},"Topup Saldo",-1)])]),body:S(()=>[k("div",Fst,[k("div",null,[k("p",qst,[M[21]||(M[21]=J(" Santri: ",-1)),k("strong",null,q(i.value.student?.user?.name),1)]),k("p",zst,[M[22]||(M[22]=J(" Saldo Saat Ini: ",-1)),k("strong",Lst,"Rp "+q(m(i.value.student?.user?.balance||0)),1)])]),_(N,{label:"Jumlah Topup (Rp)",required:"",error:y(u).errors.amount},{default:S(()=>[_(P,{modelValue:y(u).amount,"onUpdate:modelValue":M[4]||(M[4]=Y=>y(u).amount=Y),type:"number",min:"1",step:"1000",placeholder:"Masukkan jumlah..."},null,8,["modelValue"])]),_:1},8,["error"]),_(N,{label:"Keterangan",error:y(u).errors.description},{default:S(()=>[_(ee,{modelValue:y(u).description,"onUpdate:modelValue":M[5]||(M[5]=Y=>y(u).description=Y),placeholder:"Keterangan (opsional)...",rows:"3"},null,8,["modelValue"])]),_:1},8,["error"])])]),footer:S(()=>[k("div",jst,[_(D,{onClick:M[6]||(M[6]=Y=>i.value.open=!1),color:"neutral",variant:"soft"},{default:S(()=>[...M[23]||(M[23]=[J(" Batal ",-1)])]),_:1}),_(D,{onClick:v,color:"primary",loading:y(u).processing,icon:"i-lucide-plus-circle"},{default:S(()=>[...M[24]||(M[24]=[J(" Topup Saldo ",-1)])]),_:1},8,["loading"])])]),_:1},8,["open"]),_(ne,{open:l.value.open,"onUpdate:open":M[12]||(M[12]=Y=>l.value.open=Y)},{header:S(()=>[...M[25]||(M[25]=[k("h3",{class:"text-lg font-semibold"},"Tarik Saldo",-1)])]),body:S(()=>[k("div",Vst,[k("div",null,[k("p",Ust,[M[26]||(M[26]=J(" Santri: ",-1)),k("strong",null,q(l.value.student?.user?.name),1)]),k("p",Kst,[M[27]||(M[27]=J(" Saldo Saat Ini: ",-1)),k("strong",Hst,"Rp "+q(m(l.value.student?.user?.balance||0)),1)])]),_(N,{label:"Jumlah Penarikan (Rp)",required:"",error:y(d).errors.amount},{default:S(()=>[_(P,{modelValue:y(d).amount,"onUpdate:modelValue":M[8]||(M[8]=Y=>y(d).amount=Y),type:"number",min:"1",step:"1000",placeholder:"Masukkan jumlah..."},null,8,["modelValue"])]),_:1},8,["error"]),_(N,{label:"PIN Santri",required:"",error:y(d).errors.pin},{default:S(()=>[_(P,{modelValue:y(d).pin,"onUpdate:modelValue":M[9]||(M[9]=Y=>y(d).pin=Y),type:"password",maxlength:"6",placeholder:"Masukkan PIN 6 digit..."},null,8,["modelValue"])]),_:1},8,["error"]),_(N,{label:"Keterangan",error:y(d).errors.description},{default:S(()=>[_(ee,{modelValue:y(d).description,"onUpdate:modelValue":M[10]||(M[10]=Y=>y(d).description=Y),placeholder:"Keterangan (opsional)...",rows:"3"},null,8,["modelValue"])]),_:1},8,["error"])])]),footer:S(()=>[k("div",Wst,[_(D,{onClick:M[11]||(M[11]=Y=>l.value.open=!1),color:"neutral",variant:"soft"},{default:S(()=>[...M[28]||(M[28]=[J(" Batal ",-1)])]),_:1}),_(D,{onClick:x,color:"error",loading:y(d).processing,icon:"i-lucide-minus-circle"},{default:S(()=>[...M[29]||(M[29]=[J(" Tarik Saldo ",-1)])]),_:1},8,["loading"])])]),_:1},8,["open"]),_(ne,{open:c.value.open,"onUpdate:open":M[15]||(M[15]=Y=>c.value.open=Y)},{header:S(()=>[...M[30]||(M[30]=[k("h3",{class:"text-lg font-semibold"},"Ubah PIN",-1)])]),body:S(()=>[k("div",Gst,[k("div",null,[k("p",Jst,[M[31]||(M[31]=J(" Santri: ",-1)),k("strong",null,q(c.value.student?.user?.name),1)])]),_(N,{label:"PIN Baru",required:"",error:y(f).errors.pin},{hint:S(()=>[...M[32]||(M[32]=[k("p",{class:"text-sm text-gray-500"},"PIN harus 6 digit angka",-1)])]),default:S(()=>[_(P,{modelValue:y(f).pin,"onUpdate:modelValue":M[13]||(M[13]=Y=>y(f).pin=Y),type:"text",maxlength:"6",placeholder:"Masukkan PIN 6 digit..."},null,8,["modelValue"])]),_:1},8,["error"])])]),footer:S(()=>[k("div",Yst,[_(D,{onClick:M[14]||(M[14]=Y=>c.value.open=!1),color:"neutral",variant:"soft"},{default:S(()=>[...M[33]||(M[33]=[J(" Batal ",-1)])]),_:1}),_(D,{onClick:$,color:"primary",loading:y(f).processing,icon:"i-lucide-key"},{default:S(()=>[...M[34]||(M[34]=[J(" Update PIN ",-1)])]),_:1},8,["loading"])])]),_:1},8,["open"])])}}},Xst={class:"space-y-6"},Zst={class:"grid grid-cols-1 lg:grid-cols-5 gap-6"},eat={class:"lg:col-span-2"},tat={class:"text-center mb-6"},nat={class:"inline-flex p-4 bg-primary-100 dark:bg-primary-900/30 rounded-full mb-4"},rat={class:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700"},oat={class:"space-y-2 text-sm text-gray-600 dark:text-gray-400"},sat={class:"flex items-start gap-2"},aat={class:"flex items-start gap-2"},iat={class:"flex items-start gap-2"},lat={class:"lg:col-span-3 space-y-6"},uat={class:"flex flex-col items-center justify-center py-12 text-center"},cat={class:"p-4 bg-gray-100 dark:bg-gray-800 rounded-full mb-4"},dat={class:"flex items-start gap-4"},fat={class:"flex-1"},pat={class:"flex items-start justify-between"},mat={class:"text-xl font-bold text-gray-900 dark:text-gray-100"},hat={class:"text-sm text-gray-500 dark:text-gray-400"},gat={class:"grid grid-cols-3 gap-4 mt-6"},vat={class:"p-4 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 rounded-xl"},yat={class:"text-2xl font-bold text-green-700 dark:text-green-300 mt-1"},bat={class:"p-4 bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20 rounded-xl"},xat={class:"text-2xl font-bold text-red-700 dark:text-red-300 mt-1"},wat={class:"p-4 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-xl"},kat={class:"text-2xl font-bold text-blue-700 dark:text-blue-300 mt-1"},_at={class:"flex items-center gap-3"},Sat={class:"p-2 bg-red-100 dark:bg-red-900/30 rounded-lg"},$at={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Cat={class:"flex gap-2 mt-2"},Mat={class:"flex gap-3"},Aat={__name:"WithdrawTab",props:{withdrawLimit:Object},setup(e){const t=K(null),n=K(!1),r=K(!1),o=K(null),s=K(""),a=K(""),i=K(""),l=[5e3,1e4,2e4,5e4],c=K({rfid:""}),u=K({rfid:"",amount:"",pin:""}),d=h=>h?new Intl.NumberFormat("id-ID").format(h):"0",f=async()=>{if(c.value.rfid){n.value=!0,s.value="";try{const h=await axios.post("/dashboard/finance/student-withdraw/show-by-rfid",{rfid:c.value.rfid});o.value=h.data,u.value.rfid=c.value.rfid,u.value.amount="",u.value.pin=""}catch(h){s.value=h.response?.data?.error||"Santri tidak ditemukan",o.value=null}finally{n.value=!1}}},p=async()=>{if(o.value){r.value=!0,a.value="",i.value="";try{const h=await axios.post("/dashboard/finance/student-withdraw/process",{rfid:u.value.rfid,amount:u.value.amount,pin:u.value.pin});h.data.new_balance!==void 0&&(o.value.student.balance=h.data.new_balance,o.value.today_withdraw+=parseFloat(u.value.amount),o.value.remaining_limit-=parseFloat(u.value.amount)),u.value.amount="",u.value.pin="",St(()=>{document.querySelector('input[type="number"]')?.focus()})}catch(h){const g=h.response?.data?.error||"Terjadi kesalahan saat memproses penarikan";g.toLowerCase().includes("pin")?i.value=g:a.value=g}finally{r.value=!1}}},m=()=>{o.value=null,c.value.rfid="",u.value={rfid:"",amount:"",pin:""},s.value="",a.value="",i.value="",St(()=>{t.value?.$el?.querySelector("input")?.focus()})};return(h,g)=>{const v=tt,x=bt,$=qt,C=ht,M=On,I=We;return A(),W("div",Xst,[k("div",Zst,[k("div",eat,[_(C,{class:"h-full"},{default:S(()=>[k("div",tat,[k("div",nat,[_(v,{name:"i-lucide-scan",class:"w-12 h-12 text-primary-600 dark:text-primary-400"})]),g[3]||(g[3]=k("h3",{class:"text-xl font-semibold text-gray-900 dark:text-gray-100"},"Scan Kartu RFID",-1)),g[4]||(g[4]=k("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},"Tempelkan kartu atau masukkan nomor RFID",-1))]),k("form",{onSubmit:lt(f,["prevent"]),class:"space-y-4"},[_($,{error:s.value},{default:S(()=>[_(x,{ref_key:"rfidInput",ref:t,modelValue:c.value.rfid,"onUpdate:modelValue":g[0]||(g[0]=E=>c.value.rfid=E),placeholder:"Scan atau ketik nomor RFID...",icon:"i-lucide-credit-card",size:"lg",autofocus:"",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"])],32),k("div",rat,[g[8]||(g[8]=k("p",{class:"text-xs font-medium text-gray-500 uppercase tracking-wider mb-3"},"Tips",-1)),k("ul",oat,[k("li",sat,[_(v,{name:"i-lucide-check-circle",class:"w-4 h-4 mt-0.5 text-green-500 flex-shrink-0"}),g[5]||(g[5]=k("span",null,"Pastikan kartu RFID valid dan terdaftar",-1))]),k("li",aat,[_(v,{name:"i-lucide-check-circle",class:"w-4 h-4 mt-0.5 text-green-500 flex-shrink-0"}),g[6]||(g[6]=k("span",null,"Santri harus memiliki PIN untuk menarik saldo",-1))]),k("li",iat,[_(v,{name:"i-lucide-check-circle",class:"w-4 h-4 mt-0.5 text-green-500 flex-shrink-0"}),g[7]||(g[7]=k("span",null,"Penarikan dibatasi sesuai limit harian",-1))])])])]),_:1})]),k("div",lat,[o.value?X("",!0):(A(),B(C,{key:0,class:"h-full"},{default:S(()=>[k("div",uat,[k("div",cat,[_(v,{name:"i-lucide-user-search",class:"w-12 h-12 text-gray-400"})]),g[9]||(g[9]=k("h3",{class:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2"},"Belum Ada Data Santri",-1)),g[10]||(g[10]=k("p",{class:"text-gray-500 dark:text-gray-400 max-w-sm"}," Scan kartu RFID santri atau masukkan nomor RFID untuk memulai proses penarikan saldo. ",-1))])]),_:1})),o.value?(A(),B(C,{key:1},{default:S(()=>[k("div",dat,[_(M,{src:o.value.student.photo,alt:o.value.student.name,size:"xl",class:"ring-4 ring-primary-100 dark:ring-primary-900/50"},null,8,["src","alt"]),k("div",fat,[k("div",pat,[k("div",null,[k("h3",mat,q(o.value.student.name),1),k("p",hat," NIS: "+q(o.value.student.student_id),1)]),_(I,{onClick:m,color:"neutral",variant:"ghost",icon:"i-lucide-x",size:"sm"})])])]),k("div",gat,[k("div",vat,[g[11]||(g[11]=k("p",{class:"text-xs font-medium text-green-600 dark:text-green-400 uppercase tracking-wider"},"Saldo",-1)),k("p",yat," Rp "+q(d(o.value.student.balance)),1)]),k("div",bat,[g[12]||(g[12]=k("p",{class:"text-xs font-medium text-red-600 dark:text-red-400 uppercase tracking-wider"},"Tarik Hari Ini",-1)),k("p",xat," Rp "+q(d(o.value.today_withdraw)),1)]),k("div",wat,[g[13]||(g[13]=k("p",{class:"text-xs font-medium text-blue-600 dark:text-blue-400 uppercase tracking-wider"},"Sisa Limit",-1)),k("p",kat," Rp "+q(d(o.value.remaining_limit)),1)])])]),_:1})):X("",!0),o.value?(A(),B(C,{key:2},{header:S(()=>[k("div",_at,[k("div",Sat,[_(v,{name:"i-lucide-banknote",class:"w-5 h-5 text-red-600 dark:text-red-400"})]),g[14]||(g[14]=k("div",null,[k("h3",{class:"font-semibold text-gray-900 dark:text-gray-100"},"Proses Penarikan"),k("p",{class:"text-sm text-gray-500"},"Masukkan jumlah dan PIN santri")],-1))])]),default:S(()=>[k("form",{onSubmit:lt(p,["prevent"]),class:"space-y-6"},[k("div",$at,[_($,{label:"Jumlah Penarikan",required:"",error:a.value},{hint:S(()=>[k("div",Cat,[(A(),W(Ee,null,Ve(l,E=>_(I,{key:E,size:"xs",color:"neutral",variant:"soft",onClick:P=>u.value.amount=E},{default:S(()=>[J(q(d(E)),1)]),_:2},1032,["onClick"])),64))])]),default:S(()=>[_(x,{modelValue:u.value.amount,"onUpdate:modelValue":g[1]||(g[1]=E=>u.value.amount=E),type:"number",min:"1",step:"1000",placeholder:"Rp 0",size:"xl",icon:"i-lucide-banknote"},null,8,["modelValue"])]),_:1},8,["error"]),_($,{label:"PIN Santri (6 Digit)",required:"",error:i.value},{default:S(()=>[_(x,{modelValue:u.value.pin,"onUpdate:modelValue":g[2]||(g[2]=E=>u.value.pin=E),type:"password",maxlength:"6",placeholder:"",size:"xl",icon:"i-lucide-lock"},null,8,["modelValue"])]),_:1},8,["error"])]),k("div",Mat,[_(I,{onClick:m,color:"neutral",variant:"soft",icon:"i-lucide-arrow-left",size:"lg"},{default:S(()=>[...g[15]||(g[15]=[J(" Batal ",-1)])]),_:1}),_(I,{type:"submit",color:"error",size:"lg",class:"flex-1",loading:r.value,icon:"i-lucide-check"},{default:S(()=>[...g[16]||(g[16]=[J(" Proses Penarikan ",-1)])]),_:1},8,["loading"])])],32)]),_:1})):X("",!0)])])])}}},pH=6048e5,Tat=864e5,mH=6e4,hH=36e5,vF=Symbol.for("constructDateFrom");function nl(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&vF in e?e[vF](t):e instanceof Date?new e.constructor(t):new Date(t)}function Ds(e,t){return nl(t||e,e)}let Eat={};function rw(){return Eat}function th(e,t){const n=rw(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=Ds(e,t?.in),s=o.getDay(),a=(s<r?7:0)+s-r;return o.setDate(o.getDate()-a),o.setHours(0,0,0,0),o}function Q0(e,t){return th(e,{...t,weekStartsOn:1})}function gH(e,t){const n=Ds(e,t?.in),r=n.getFullYear(),o=nl(n,0);o.setFullYear(r+1,0,4),o.setHours(0,0,0,0);const s=Q0(o),a=nl(n,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const i=Q0(a);return n.getTime()>=s.getTime()?r+1:n.getTime()>=i.getTime()?r:r-1}function yF(e){const t=Ds(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Iat(e,...t){const n=nl.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function bF(e,t){const n=Ds(e,t?.in);return n.setHours(0,0,0,0),n}function Pat(e,t,n){const[r,o]=Iat(n?.in,e,t),s=bF(r),a=bF(o),i=+s-yF(s),l=+a-yF(a);return Math.round((i-l)/Tat)}function Oat(e,t){const n=gH(e,t),r=nl(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Q0(r)}function Rat(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Bat(e){return!(!Rat(e)&&typeof e!="number"||isNaN(+Ds(e)))}function Nat(e,t){const n=Ds(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Dat={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Fat=(e,t,n)=>{let r;const o=Dat[e];return typeof o=="string"?r=o:t===1?r=o.one:r=o.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Od(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const qat={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},zat={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Lat={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},jat={date:Od({formats:qat,defaultWidth:"full"}),time:Od({formats:zat,defaultWidth:"full"}),dateTime:Od({formats:Lat,defaultWidth:"full"})},Vat={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Uat=(e,t,n,r)=>Vat[e];function Ua(e){return(t,n)=>{const r=n?.context?String(n.context):"standalone";let o;if(r==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,i=n?.width?String(n.width):a;o=e.formattingValues[i]||e.formattingValues[a]}else{const a=e.defaultWidth,i=n?.width?String(n.width):e.defaultWidth;o=e.values[i]||e.values[a]}const s=e.argumentCallback?e.argumentCallback(t):t;return o[s]}}const Kat={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Hat={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Wat={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Gat={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Jat={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Yat={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Qat=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Xat={ordinalNumber:Qat,era:Ua({values:Kat,defaultWidth:"wide"}),quarter:Ua({values:Hat,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ua({values:Wat,defaultWidth:"wide"}),day:Ua({values:Gat,defaultWidth:"wide"}),dayPeriod:Ua({values:Jat,defaultWidth:"wide",formattingValues:Yat,defaultFormattingWidth:"wide"})};function Ka(e){return(t,n={})=>{const r=n.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(o);if(!s)return null;const a=s[0],i=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(i)?eit(i,d=>d.test(a)):Zat(i,d=>d.test(a));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=t.slice(a.length);return{value:c,rest:u}}}function Zat(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function eit(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function vH(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const o=r[0],s=t.match(e.parsePattern);if(!s)return null;let a=e.valueCallback?e.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const i=t.slice(o.length);return{value:a,rest:i}}}const tit=/^(\d+)(th|st|nd|rd)?/i,nit=/\d+/i,rit={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},oit={any:[/^b/i,/^(a|c)/i]},sit={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ait={any:[/1/i,/2/i,/3/i,/4/i]},iit={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},lit={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},uit={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},cit={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},dit={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},fit={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},pit={ordinalNumber:vH({matchPattern:tit,parsePattern:nit,valueCallback:e=>parseInt(e,10)}),era:Ka({matchPatterns:rit,defaultMatchWidth:"wide",parsePatterns:oit,defaultParseWidth:"any"}),quarter:Ka({matchPatterns:sit,defaultMatchWidth:"wide",parsePatterns:ait,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ka({matchPatterns:iit,defaultMatchWidth:"wide",parsePatterns:lit,defaultParseWidth:"any"}),day:Ka({matchPatterns:uit,defaultMatchWidth:"wide",parsePatterns:cit,defaultParseWidth:"any"}),dayPeriod:Ka({matchPatterns:dit,defaultMatchWidth:"any",parsePatterns:fit,defaultParseWidth:"any"})},mit={code:"en-US",formatDistance:Fat,formatLong:jat,formatRelative:Uat,localize:Xat,match:pit,options:{weekStartsOn:0,firstWeekContainsDate:1}};function hit(e,t){const n=Ds(e,t?.in);return Pat(n,Nat(n))+1}function git(e,t){const n=Ds(e,t?.in),r=+Q0(n)-+Oat(n);return Math.round(r/pH)+1}function yH(e,t){const n=Ds(e,t?.in),r=n.getFullYear(),o=rw(),s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,a=nl(t?.in||e,0);a.setFullYear(r+1,0,s),a.setHours(0,0,0,0);const i=th(a,t),l=nl(t?.in||e,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const c=th(l,t);return+n>=+i?r+1:+n>=+c?r:r-1}function vit(e,t){const n=rw(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=yH(e,t),s=nl(t?.in||e,0);return s.setFullYear(o,0,r),s.setHours(0,0,0,0),th(s,t)}function yit(e,t){const n=Ds(e,t?.in),r=+th(n,t)-+vit(n,t);return Math.round(r/pH)+1}function _n(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const $l={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return _n(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):_n(n+1,2)},d(e,t){return _n(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(e,t){return _n(e.getHours()%12||12,t.length)},H(e,t){return _n(e.getHours(),t.length)},m(e,t){return _n(e.getMinutes(),t.length)},s(e,t){return _n(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),o=Math.trunc(r*Math.pow(10,n-3));return _n(o,t.length)}},gd={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},xF={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),o=r>0?r:1-r;return n.ordinalNumber(o,{unit:"year"})}return $l.y(e,t)},Y:function(e,t,n,r){const o=yH(e,r),s=o>0?o:1-o;if(t==="YY"){const a=s%100;return _n(a,2)}return t==="Yo"?n.ordinalNumber(s,{unit:"year"}):_n(s,t.length)},R:function(e,t){const n=gH(e);return _n(n,t.length)},u:function(e,t){const n=e.getFullYear();return _n(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return _n(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return _n(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return $l.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return _n(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const o=yit(e,r);return t==="wo"?n.ordinalNumber(o,{unit:"week"}):_n(o,t.length)},I:function(e,t,n){const r=git(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):_n(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):$l.d(e,t)},D:function(e,t,n){const r=hit(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):_n(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const o=e.getDay(),s=(o-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return _n(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const o=e.getDay(),s=(o-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return _n(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),o=r===0?7:r;switch(t){case"i":return String(o);case"ii":return _n(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const o=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let o;switch(r===12?o=gd.noon:r===0?o=gd.midnight:o=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let o;switch(r>=17?o=gd.evening:r>=12?o=gd.afternoon:r>=4?o=gd.morning:o=gd.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return $l.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):$l.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):_n(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):_n(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):$l.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):$l.s(e,t)},S:function(e,t){return $l.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return kF(r);case"XXXX":case"XX":return Du(r);default:return Du(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return kF(r);case"xxxx":case"xx":return Du(r);default:return Du(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+wF(r,":");default:return"GMT"+Du(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+wF(r,":");default:return"GMT"+Du(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return _n(r,t.length)},T:function(e,t,n){return _n(+e,t.length)}};function wF(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),o=Math.trunc(r/60),s=r%60;return s===0?n+String(o):n+String(o)+t+_n(s,2)}function kF(e,t){return e%60===0?(e>0?"-":"+")+_n(Math.abs(e)/60,2):Du(e,t)}function Du(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),o=_n(Math.trunc(r/60),2),s=_n(r%60,2);return n+o+t+s}const _F=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},bH=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},bit=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],o=n[2];if(!o)return _F(e,t);let s;switch(r){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",_F(r,t)).replace("{{time}}",bH(o,t))},xit={p:bH,P:bit},wit=/^D+$/,kit=/^Y+$/,_it=["D","DD","YY","YYYY"];function Sit(e){return wit.test(e)}function $it(e){return kit.test(e)}function Cit(e,t,n){const r=Mit(e,t,n);if(console.warn(r),_it.includes(e))throw new RangeError(r)}function Mit(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Ait=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Tit=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Eit=/^'([^]*?)'?$/,Iit=/''/g,Pit=/[a-zA-Z]/;function xH(e,t,n){const r=rw(),o=n?.locale??r.locale??mit,s=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=Ds(e,n?.in);if(!Bat(i))throw new RangeError("Invalid time value");let l=t.match(Tit).map(u=>{const d=u[0];if(d==="p"||d==="P"){const f=xit[d];return f(u,o.formatLong)}return u}).join("").match(Ait).map(u=>{if(u==="''")return{isToken:!1,value:"'"};const d=u[0];if(d==="'")return{isToken:!1,value:Oit(u)};if(xF[d])return{isToken:!0,value:u};if(d.match(Pit))throw new RangeError("Format string contains an unescaped latin alphabet character `"+d+"`");return{isToken:!1,value:u}});o.localize.preprocessor&&(l=o.localize.preprocessor(i,l));const c={firstWeekContainsDate:s,weekStartsOn:a,locale:o};return l.map(u=>{if(!u.isToken)return u.value;const d=u.value;(!n?.useAdditionalWeekYearTokens&&$it(d)||!n?.useAdditionalDayOfYearTokens&&Sit(d))&&Cit(d,t,String(e));const f=xF[d[0]];return f(i,d,o.localize,c)}).join("")}function Oit(e){const t=e.match(Eit);return t?t[1].replace(Iit,"'"):e}function wH(e,t){const n=()=>nl(t?.in,NaN),o=Dit(e);let s;if(o.date){const c=Fit(o.date,2);s=qit(c.restDateString,c.year)}if(!s||isNaN(+s))return n();const a=+s;let i=0,l;if(o.time&&(i=zit(o.time),isNaN(i)))return n();if(o.timezone){if(l=Lit(o.timezone),isNaN(l))return n()}else{const c=new Date(a+i),u=Ds(0,t?.in);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return Ds(a+i+l,t?.in)}const oy={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Rit=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Bit=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Nit=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Dit(e){const t={},n=e.split(oy.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],oy.timeZoneDelimiter.test(t.date)&&(t.date=e.split(oy.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const o=oy.timezone.exec(r);o?(t.time=r.replace(o[1],""),t.timezone=o[1]):t.time=r}return t}function Fit(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const o=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?o:s*100,restDateString:e.slice((r[1]||r[2]).length)}}function qit(e,t){if(t===null)return new Date(NaN);const n=e.match(Rit);if(!n)return new Date(NaN);const r=!!n[4],o=up(n[1]),s=up(n[2])-1,a=up(n[3]),i=up(n[4]),l=up(n[5])-1;if(r)return Hit(t,i,l)?jit(t,i,l):new Date(NaN);{const c=new Date(0);return!Uit(t,s,a)||!Kit(t,o)?new Date(NaN):(c.setUTCFullYear(t,s,Math.max(o,a)),c)}}function up(e){return e?parseInt(e):1}function zit(e){const t=e.match(Bit);if(!t)return NaN;const n=aS(t[1]),r=aS(t[2]),o=aS(t[3]);return Wit(n,r,o)?n*hH+r*mH+o*1e3:NaN}function aS(e){return e&&parseFloat(e.replace(",","."))||0}function Lit(e){if(e==="Z")return 0;const t=e.match(Nit);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),o=t[3]&&parseInt(t[3])||0;return Git(r,o)?n*(r*hH+o*mH):NaN}function jit(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const o=r.getUTCDay()||7,s=(t-1)*7+n+1-o;return r.setUTCDate(r.getUTCDate()+s),r}const Vit=[31,null,31,30,31,30,31,31,30,31,30,31];function kH(e){return e%400===0||e%4===0&&e%100!==0}function Uit(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(Vit[t]||(kH(e)?29:28))}function Kit(e,t){return t>=1&&t<=(kH(e)?366:365)}function Hit(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function Wit(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function Git(e,t){return t>=0&&t<=59}const Jit={lessThanXSeconds:{one:"kurang dari 1 detik",other:"kurang dari {{count}} detik"},xSeconds:{one:"1 detik",other:"{{count}} detik"},halfAMinute:"setengah menit",lessThanXMinutes:{one:"kurang dari 1 menit",other:"kurang dari {{count}} menit"},xMinutes:{one:"1 menit",other:"{{count}} menit"},aboutXHours:{one:"sekitar 1 jam",other:"sekitar {{count}} jam"},xHours:{one:"1 jam",other:"{{count}} jam"},xDays:{one:"1 hari",other:"{{count}} hari"},aboutXWeeks:{one:"sekitar 1 minggu",other:"sekitar {{count}} minggu"},xWeeks:{one:"1 minggu",other:"{{count}} minggu"},aboutXMonths:{one:"sekitar 1 bulan",other:"sekitar {{count}} bulan"},xMonths:{one:"1 bulan",other:"{{count}} bulan"},aboutXYears:{one:"sekitar 1 tahun",other:"sekitar {{count}} tahun"},xYears:{one:"1 tahun",other:"{{count}} tahun"},overXYears:{one:"lebih dari 1 tahun",other:"lebih dari {{count}} tahun"},almostXYears:{one:"hampir 1 tahun",other:"hampir {{count}} tahun"}},Yit=(e,t,n)=>{let r;const o=Jit[e];return typeof o=="string"?r=o:t===1?r=o.one:r=o.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"dalam waktu "+r:r+" yang lalu":r},Qit={full:"EEEE, d MMMM yyyy",long:"d MMMM yyyy",medium:"d MMM yyyy",short:"d/M/yyyy"},Xit={full:"HH.mm.ss",long:"HH.mm.ss",medium:"HH.mm",short:"HH.mm"},Zit={full:"{{date}} 'pukul' {{time}}",long:"{{date}} 'pukul' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},elt={date:Od({formats:Qit,defaultWidth:"full"}),time:Od({formats:Xit,defaultWidth:"full"}),dateTime:Od({formats:Zit,defaultWidth:"full"})},tlt={lastWeek:"eeee 'lalu pukul' p",yesterday:"'Kemarin pukul' p",today:"'Hari ini pukul' p",tomorrow:"'Besok pukul' p",nextWeek:"eeee 'pukul' p",other:"P"},nlt=(e,t,n,r)=>tlt[e],rlt={narrow:["SM","M"],abbreviated:["SM","M"],wide:["Sebelum Masehi","Masehi"]},olt={narrow:["1","2","3","4"],abbreviated:["K1","K2","K3","K4"],wide:["Kuartal ke-1","Kuartal ke-2","Kuartal ke-3","Kuartal ke-4"]},slt={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agt","Sep","Okt","Nov","Des"],wide:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"]},alt={narrow:["M","S","S","R","K","J","S"],short:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],abbreviated:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],wide:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"]},ilt={narrow:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},abbreviated:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},wide:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"}},llt={narrow:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},abbreviated:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},wide:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"}},ult=(e,t)=>"ke-"+Number(e),clt={ordinalNumber:ult,era:Ua({values:rlt,defaultWidth:"wide"}),quarter:Ua({values:olt,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ua({values:slt,defaultWidth:"wide"}),day:Ua({values:alt,defaultWidth:"wide"}),dayPeriod:Ua({values:ilt,defaultWidth:"wide",formattingValues:llt,defaultFormattingWidth:"wide"})},dlt=/^ke-(\d+)?/i,flt=/\d+/i,plt={narrow:/^(sm|m)/i,abbreviated:/^(s\.?\s?m\.?|s\.?\s?e\.?\s?u\.?|m\.?|e\.?\s?u\.?)/i,wide:/^(sebelum masehi|sebelum era umum|masehi|era umum)/i},mlt={any:[/^s/i,/^(m|e)/i]},hlt={narrow:/^[1234]/i,abbreviated:/^K-?\s[1234]/i,wide:/^Kuartal ke-?\s?[1234]/i},glt={any:[/1/i,/2/i,/3/i,/4/i]},vlt={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|mei|jun|jul|agt|sep|okt|nov|des)/i,wide:/^(januari|februari|maret|april|mei|juni|juli|agustus|september|oktober|november|desember)/i},ylt={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^ma/i,/^ap/i,/^me/i,/^jun/i,/^jul/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},blt={narrow:/^[srkjm]/i,short:/^(min|sen|sel|rab|kam|jum|sab)/i,abbreviated:/^(min|sen|sel|rab|kam|jum|sab)/i,wide:/^(minggu|senin|selasa|rabu|kamis|jumat|sabtu)/i},xlt={narrow:[/^m/i,/^s/i,/^s/i,/^r/i,/^k/i,/^j/i,/^s/i],any:[/^m/i,/^sen/i,/^sel/i,/^r/i,/^k/i,/^j/i,/^sa/i]},wlt={narrow:/^(a|p|tengah m|tengah h|(di(\swaktu)?) (pagi|siang|sore|malam))/i,any:/^([ap]\.?\s?m\.?|tengah malam|tengah hari|(di(\swaktu)?) (pagi|siang|sore|malam))/i},klt={any:{am:/^a/i,pm:/^pm/i,midnight:/^tengah m/i,noon:/^tengah h/i,morning:/pagi/i,afternoon:/siang/i,evening:/sore/i,night:/malam/i}},_lt={ordinalNumber:vH({matchPattern:dlt,parsePattern:flt,valueCallback:e=>parseInt(e,10)}),era:Ka({matchPatterns:plt,defaultMatchWidth:"wide",parsePatterns:mlt,defaultParseWidth:"any"}),quarter:Ka({matchPatterns:hlt,defaultMatchWidth:"wide",parsePatterns:glt,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ka({matchPatterns:vlt,defaultMatchWidth:"wide",parsePatterns:ylt,defaultParseWidth:"any"}),day:Ka({matchPatterns:blt,defaultMatchWidth:"wide",parsePatterns:xlt,defaultParseWidth:"any"}),dayPeriod:Ka({matchPatterns:wlt,defaultMatchWidth:"any",parsePatterns:klt,defaultParseWidth:"any"})},_H={code:"id",formatDistance:Yit,formatLong:elt,formatRelative:nlt,localize:clt,match:_lt,options:{weekStartsOn:1,firstWeekContainsDate:1}},Slt={class:"space-y-6"},$lt={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},Clt={class:"flex justify-between items-center mt-4"},Mlt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Alt={class:"flex items-center justify-between"},Tlt={class:"text-2xl font-bold text-green-600 dark:text-green-400 mt-1"},Elt={class:"flex items-center justify-between"},Ilt={class:"text-2xl font-bold text-red-600 dark:text-red-400 mt-1"},Plt={class:"text-sm"},Olt={class:"font-medium"},Rlt={class:"text-sm text-gray-500"},Blt={class:"text-sm text-gray-600 dark:text-gray-400"},Nlt={key:0,class:"flex justify-center mt-4"},Dlt={__name:"HistoryTab",props:{history:Object,summary:Object,students:Object,filters:Object},setup(e){const t=e,n=K(!1),r=K(!1),o=K(t.history?.current_page||1),s=[{id:"date",header:"Tanggal"},{id:"student",header:"Santri"},{id:"type",header:"Tipe"},{id:"amount",header:"Jumlah"},{id:"description",header:"Keterangan"}],a=K({student_id:t.filters?.student_id||"all",start_date:t.filters?.start_date||"",end_date:t.filters?.end_date||"",type:t.filters?.type||"all"}),i=H(()=>{const g=Array.isArray(t.students)?t.students:t.students?.data||[];return[{label:"Semua Santri",value:"all"},...g.map(v=>({label:`${v.user?.name||v.name} (${v.student_id})`,value:v.id}))]}),l=[{label:"Semua Tipe",value:"all"},{label:"Topup via Mobile App",value:"topup"},{label:"Topup oleh Admin",value:"topup_by_admin"},{label:"Penarikan",value:"withdraw"}];He(a,_h(()=>{Qe.get("/dashboard/finance/student-balance/history",a.value,{preserveState:!0,preserveScroll:!0,replace:!0})},500),{deep:!0}),He(o,g=>{Qe.get("/dashboard/finance/student-balance/history",{...a.value,page:g},{preserveState:!0,preserveScroll:!0})});const u=g=>g?new Intl.NumberFormat("id-ID").format(g):"0",d=g=>{if(!g)return"-";try{return xH(wH(g),"dd MMM yyyy HH:mm",{locale:_H})}catch{return g}},f=g=>({topup:"Topup via Mobile App",topup_by_admin:"Topup oleh Admin",withdraw:"Penarikan"})[g]||g,p=g=>({topup:"success",topup_by_admin:"info",withdraw:"error"})[g]||"neutral",m=()=>{a.value={student_id:"all",start_date:"",end_date:"",type:"all"}},h=()=>{r.value=!0;const g=new URLSearchParams;Object.entries(a.value).forEach(([v,x])=>{x&&x!=="all"&&g.append(v,x)}),window.location.href="/dashboard/finance/student-balance/history/export?"+g.toString(),setTimeout(()=>{r.value=!1},1e3)};return(g,v)=>{const x=er,$=qt,C=bt,M=We,I=ht,E=tt,P=pn,O=xr,D=Fr;return A(),W("div",Slt,[_(I,null,{default:S(()=>[k("div",$lt,[_($,{label:"Santri"},{default:S(()=>[_(x,{modelValue:a.value.student_id,"onUpdate:modelValue":v[0]||(v[0]=L=>a.value.student_id=L),items:i.value,"label-key":"label","value-key":"value",placeholder:"Semua Santri"},null,8,["modelValue","items"])]),_:1}),_($,{label:"Tanggal Mulai"},{default:S(()=>[_(C,{modelValue:a.value.start_date,"onUpdate:modelValue":v[1]||(v[1]=L=>a.value.start_date=L),type:"date"},null,8,["modelValue"])]),_:1}),_($,{label:"Tanggal Akhir"},{default:S(()=>[_(C,{modelValue:a.value.end_date,"onUpdate:modelValue":v[2]||(v[2]=L=>a.value.end_date=L),type:"date"},null,8,["modelValue"])]),_:1}),_($,{label:"Tipe Transaksi"},{default:S(()=>[_(x,{modelValue:a.value.type,"onUpdate:modelValue":v[3]||(v[3]=L=>a.value.type=L),items:l,"label-key":"label","value-key":"value"},null,8,["modelValue"])]),_:1})]),k("div",Clt,[_(M,{onClick:m,color:"neutral",variant:"soft",icon:"i-lucide-x"},{default:S(()=>[...v[5]||(v[5]=[J(" Reset Filter ",-1)])]),_:1}),_(M,{onClick:h,color:"success",icon:"i-lucide-download",loading:r.value},{default:S(()=>[...v[6]||(v[6]=[J(" Export Excel ",-1)])]),_:1},8,["loading"])])]),_:1}),k("div",Mlt,[_(I,null,{default:S(()=>[k("div",Alt,[k("div",null,[v[7]||(v[7]=k("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Total Topup",-1)),k("p",Tlt," Rp "+q(u(e.summary?.total_topup)),1)]),_(E,{name:"i-lucide-arrow-up",class:"w-10 h-10 text-green-600 opacity-20"})])]),_:1}),_(I,null,{default:S(()=>[k("div",Elt,[k("div",null,[v[8]||(v[8]=k("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Total Penarikan",-1)),k("p",Ilt," Rp "+q(u(e.summary?.total_withdraw)),1)]),_(E,{name:"i-lucide-arrow-down",class:"w-10 h-10 text-red-600 opacity-20"})])]),_:1})]),_(I,null,{header:S(()=>[...v[9]||(v[9]=[k("h3",{class:"text-lg font-semibold"},"Riwayat Transaksi",-1)])]),default:S(()=>[_(O,{data:e.history?.data||[],columns:s,loading:n.value},{"date-cell":S(({row:L})=>[k("span",Plt,q(d(L.original.date)),1)]),"student-cell":S(({row:L})=>[k("div",null,[k("p",Olt,q(L.original.student?.user?.name||"-"),1),k("p",Rlt,q(L.original.student?.student_id||"-"),1)])]),"type-cell":S(({row:L})=>[_(P,{color:p(L.original.type),variant:"subtle"},{default:S(()=>[J(q(f(L.original.type)),1)]),_:2},1032,["color"])]),"amount-cell":S(({row:L})=>[k("span",{class:Z(["font-semibold",L.original.type==="withdraw"?"text-red-600":"text-green-600"])},q(L.original.type==="withdraw"?"-":"+")+" Rp "+q(u(L.original.amount)),3)]),"description-cell":S(({row:L})=>[k("span",Blt,q(L.original.description||"-"),1)]),_:1},8,["data","loading"]),e.history?.total>e.history?.per_page?(A(),W("div",Nlt,[_(D,{modelValue:o.value,"onUpdate:modelValue":v[4]||(v[4]=L=>o.value=L),total:e.history?.total||0,"page-count":e.history?.per_page||15},null,8,["modelValue","total","page-count"])])):X("",!0)]),_:1})])}}},Flt={class:"flex flex-wrap gap-2 mb-6 border-b border-gray-200 dark:border-gray-700 pb-4"},qlt={__name:"StudentBalance",props:{students:{type:Object,default:()=>({data:[],total:0,per_page:15,current_page:1})},classrooms:{type:Array,default:()=>[]},filters:{type:Object,default:()=>({})},summary:{type:Object,default:()=>({total_balance:0,student_count:0,average_balance:0})},withdrawLimit:{type:Object,default:null},history:{type:Object,default:()=>({data:[],total:0,per_page:15,current_page:1})},historySummary:{type:Object,default:()=>({total_topup:0,total_withdraw:0})},historyFilters:{type:Object,default:()=>({})},tab:{type:String,default:"saldo"}},setup(e){const t=e,n=[{key:"saldo",label:"Saldo Santri",icon:"i-lucide-wallet"},{key:"withdraw",label:"Penarikan RFID",icon:"i-lucide-credit-card"},{key:"history",label:"Riwayat Transaksi",icon:"i-lucide-history"}],r=K(t.tab||"saldo");return(o,s)=>{const a=We,i=bo;return A(),B($t,{title:"Manajemen Saldo Santri",heading:"Manajemen Saldo Santri",description:"Kelola saldo santri, penarikan via RFID, dan riwayat transaksi","page-id":"student-balance"},{header:S(()=>[_(a,{color:"primary",icon:"i-lucide-piggy-bank",to:"/dashboard/finance/student-savings"},{default:S(()=>[...s[0]||(s[0]=[J(" Kelola Tabungan ",-1)])]),_:1})]),default:S(()=>[_(i,{color:"info",variant:"subtle",icon:"i-lucide-info",class:"mb-6"},{title:S(()=>[...s[1]||(s[1]=[J("Tipe Transaksi",-1)])]),description:S(()=>[...s[2]||(s[2]=[k("ul",{class:"list-disc list-inside space-y-1 text-sm"},[k("li",null,[k("strong",null,"Topup via Mobile App:"),J(" Topup saldo dari orang tua melalui aplikasi mobile (akan datang)")]),k("li",null,[k("strong",null,"Topup oleh Admin:"),J(" Topup saldo santri melalui dashboard admin")]),k("li",null,[k("strong",null,"Penarikan:"),J(" Tarik saldo oleh santri (via RFID atau admin)")])],-1)])]),_:1}),k("div",Flt,[(A(),W(Ee,null,Ve(n,l=>_(a,{key:l.key,color:r.value===l.key?"primary":"neutral",variant:r.value===l.key?"solid":"ghost",icon:l.icon,onClick:c=>r.value=l.key},{default:S(()=>[J(q(l.label),1)]),_:2},1032,["color","variant","icon","onClick"])),64))]),r.value==="saldo"?(A(),B(Qst,{key:0,students:e.students,summary:e.summary,classrooms:e.classrooms,filters:e.filters},null,8,["students","summary","classrooms","filters"])):r.value==="withdraw"?(A(),B(Aat,{key:1,"withdraw-limit":e.withdrawLimit},null,8,["withdraw-limit"])):r.value==="history"?(A(),B(Dlt,{key:2,history:e.history,summary:e.historySummary,students:e.students,filters:e.historyFilters},null,8,["history","summary","students","filters"])):X("",!0)]),_:1})}}},zlt=Object.freeze(Object.defineProperty({__proto__:null,default:qlt},Symbol.toStringTag,{value:"Module"})),Llt={slots:{root:"relative",fieldset:"flex gap-x-2",legend:"mb-1 block font-medium text-default",item:"flex items-start",container:"flex items-center",base:"rounded-full ring ring-inset ring-accented overflow-hidden focus-visible:outline-2 focus-visible:outline-offset-2",indicator:"flex items-center justify-center size-full after:bg-default after:rounded-full",wrapper:"w-full",label:"block font-medium text-default",description:"text-muted"},variants:{color:{primary:{base:"focus-visible:outline-primary",indicator:"bg-primary"},secondary:{base:"focus-visible:outline-secondary",indicator:"bg-secondary"},success:{base:"focus-visible:outline-success",indicator:"bg-success"},info:{base:"focus-visible:outline-info",indicator:"bg-info"},warning:{base:"focus-visible:outline-warning",indicator:"bg-warning"},error:{base:"focus-visible:outline-error",indicator:"bg-error"},neutral:{base:"focus-visible:outline-inverted",indicator:"bg-inverted"}},variant:{list:{item:""},card:{item:"border border-muted rounded-lg"},table:{item:"border border-muted"}},orientation:{horizontal:{fieldset:"flex-row"},vertical:{fieldset:"flex-col"}},indicator:{start:{item:"flex-row",wrapper:"ms-2"},end:{item:"flex-row-reverse",wrapper:"me-2"},hidden:{base:"sr-only",wrapper:"text-center"}},size:{xs:{fieldset:"gap-y-0.5",legend:"text-xs",base:"size-3",item:"text-xs",container:"h-4",indicator:"after:size-1"},sm:{fieldset:"gap-y-0.5",legend:"text-xs",base:"size-3.5",item:"text-xs",container:"h-4",indicator:"after:size-1"},md:{fieldset:"gap-y-1",legend:"text-sm",base:"size-4",item:"text-sm",container:"h-5",indicator:"after:size-1.5"},lg:{fieldset:"gap-y-1",legend:"text-sm",base:"size-4.5",item:"text-sm",container:"h-5",indicator:"after:size-1.5"},xl:{fieldset:"gap-y-1.5",legend:"text-base",base:"size-5",item:"text-base",container:"h-6",indicator:"after:size-2"}},disabled:{true:{item:"opacity-75",base:"cursor-not-allowed",label:"cursor-not-allowed",description:"cursor-not-allowed"}},required:{true:{legend:"after:content-['*'] after:ms-0.5 after:text-error"}}},compoundVariants:[{size:"xs",variant:["card","table"],class:{item:"p-2.5"}},{size:"sm",variant:["card","table"],class:{item:"p-3"}},{size:"md",variant:["card","table"],class:{item:"p-3.5"}},{size:"lg",variant:["card","table"],class:{item:"p-4"}},{size:"xl",variant:["card","table"],class:{item:"p-4.5"}},{orientation:"horizontal",variant:"table",class:{item:"first-of-type:rounded-s-lg last-of-type:rounded-e-lg",fieldset:"gap-0 -space-x-px"}},{orientation:"vertical",variant:"table",class:{item:"first-of-type:rounded-t-lg last-of-type:rounded-b-lg",fieldset:"gap-0 -space-y-px"}},{color:"primary",variant:"card",class:{item:"has-data-[state=checked]:border-primary"}},{color:"secondary",variant:"card",class:{item:"has-data-[state=checked]:border-secondary"}},{color:"success",variant:"card",class:{item:"has-data-[state=checked]:border-success"}},{color:"info",variant:"card",class:{item:"has-data-[state=checked]:border-info"}},{color:"warning",variant:"card",class:{item:"has-data-[state=checked]:border-warning"}},{color:"error",variant:"card",class:{item:"has-data-[state=checked]:border-error"}},{color:"neutral",variant:"card",class:{item:"has-data-[state=checked]:border-inverted"}},{color:"primary",variant:"table",class:{item:"has-data-[state=checked]:bg-primary/10 has-data-[state=checked]:border-primary/50 has-data-[state=checked]:z-[1]"}},{color:"secondary",variant:"table",class:{item:"has-data-[state=checked]:bg-secondary/10 has-data-[state=checked]:border-secondary/50 has-data-[state=checked]:z-[1]"}},{color:"success",variant:"table",class:{item:"has-data-[state=checked]:bg-success/10 has-data-[state=checked]:border-success/50 has-data-[state=checked]:z-[1]"}},{color:"info",variant:"table",class:{item:"has-data-[state=checked]:bg-info/10 has-data-[state=checked]:border-info/50 has-data-[state=checked]:z-[1]"}},{color:"warning",variant:"table",class:{item:"has-data-[state=checked]:bg-warning/10 has-data-[state=checked]:border-warning/50 has-data-[state=checked]:z-[1]"}},{color:"error",variant:"table",class:{item:"has-data-[state=checked]:bg-error/10 has-data-[state=checked]:border-error/50 has-data-[state=checked]:z-[1]"}},{color:"neutral",variant:"table",class:{item:"has-data-[state=checked]:bg-elevated has-data-[state=checked]:border-inverted/50 has-data-[state=checked]:z-[1]"}},{variant:["card","table"],disabled:!0,class:{item:"cursor-not-allowed"}}],defaultVariants:{size:"md",color:"primary",variant:"list",orientation:"vertical",indicator:"start"}},SH={__name:"RadioGroup",props:{as:{type:null,required:!1},legend:{type:String,required:!1},valueKey:{type:null,required:!1,default:"value"},labelKey:{type:null,required:!1,default:"label"},descriptionKey:{type:null,required:!1,default:"description"},items:{type:null,required:!1},modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},size:{type:null,required:!1},variant:{type:null,required:!1},color:{type:null,required:!1},orientation:{type:null,required:!1,default:"vertical"},indicator:{type:null,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},disabled:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["change","update:modelValue"],setup(e,{emit:t}){const n=e,r=t,o=rn(),s=Bt(),a=fn(Pn(n,"as","loop","required"),r),{emitFormChange:i,emitFormInput:l,color:c,name:u,size:d,id:f,disabled:p,ariaAttrs:m}=jc(n,{bind:!1}),h=f.value??ol(),g=H(()=>Ye({extend:Ye(Llt),...s.ui?.radioGroup||{}})({size:d.value,color:c.value,disabled:p.value,required:n.required,orientation:n.orientation,variant:n.variant,indicator:n.indicator}));function v(C){if(C===null)return{id:`${h}:null`,value:void 0,label:void 0};if(typeof C=="string"||typeof C=="number"||typeof C=="bigint")return{id:`${h}:${C}`,value:String(C),label:String(C)};const M=Pt(C,n.valueKey),I=Pt(C,n.labelKey),E=Pt(C,n.descriptionKey);return{...C,value:M,label:I,description:E,id:`${h}:${M}`}}const x=H(()=>n.items?n.items.map(v):[]);function $(C){const M=new Event("change",{target:{value:C}});r("change",M),i(),l()}return(C,M)=>(A(),B(y(Pie),oe({id:y(h)},y(a),{"model-value":e.modelValue,"default-value":e.defaultValue,orientation:e.orientation,name:y(u),disabled:y(p),"data-slot":"root",class:g.value.root({class:[n.ui?.root,n.class]}),"onUpdate:modelValue":$}),{default:S(()=>[k("fieldset",oe({"data-slot":"fieldset",class:g.value.fieldset({class:n.ui?.fieldset})},y(m)),[e.legend||o.legend?(A(),W("legend",{key:0,"data-slot":"legend",class:Z(g.value.legend({class:n.ui?.legend}))},[U(C.$slots,"legend",{},()=>[J(q(e.legend),1)])],2)):X("",!0),(A(!0),W(Ee,null,Ve(x.value,I=>(A(),B(Kn(!e.variant||e.variant==="list"?"div":y(Vd)),{key:I.value,"data-slot":"item",class:Z(g.value.item({class:[n.ui?.item,I.ui?.item,I.class],disabled:I.disabled||y(p)}))},{default:S(()=>[k("div",{"data-slot":"container",class:Z(g.value.container({class:[n.ui?.container,I.ui?.container]}))},[_(y(Nie),{id:I.id,value:I.value,disabled:I.disabled||y(p),"data-slot":"base",class:Z(g.value.base({class:[n.ui?.base,I.ui?.base],disabled:I.disabled||y(p)}))},{default:S(()=>[_(y(Fie),{"data-slot":"indicator",class:Z(g.value.indicator({class:[n.ui?.indicator,I.ui?.indicator]}))},null,8,["class"])]),_:2},1032,["id","value","disabled","class"])],2),I.label||o.label||I.description||o.description?(A(),W("div",{key:0,"data-slot":"wrapper",class:Z(g.value.wrapper({class:[n.ui?.wrapper,I.ui?.wrapper]}))},[I.label||o.label?(A(),B(Kn(!e.variant||e.variant==="list"?y(Vd):"p"),{key:0,for:I.id,"data-slot":"label",class:Z(g.value.label({class:[n.ui?.label,I.ui?.label],disabled:I.disabled||y(p)}))},{default:S(()=>[U(C.$slots,"label",{item:I,modelValue:e.modelValue},()=>[J(q(I.label),1)])]),_:2},1032,["for","class"])):X("",!0),I.description||o.description?(A(),W("p",{key:1,"data-slot":"description",class:Z(g.value.description({class:[n.ui?.description,I.ui?.description],disabled:I.disabled||y(p)}))},[U(C.$slots,"description",{item:I,modelValue:e.modelValue},()=>[J(q(I.description),1)])],2)):X("",!0)],2)):X("",!0)]),_:2},1032,["class"]))),128))],16)]),_:3},16,["id","model-value","default-value","orientation","name","disabled","class"]))}},jlt={class:"space-y-4"},Vlt={class:"space-y-4"},Ult={class:"space-y-2"},Klt={key:0,class:"border rounded-lg p-2 max-h-48 overflow-y-auto"},Hlt=["onClick"],Wlt={key:1,class:"flex flex-wrap gap-2 mt-2"},Glt={class:"flex justify-end gap-3"},Jlt={__name:"Create",props:{classrooms:Array,errors:Object},setup(e){const t=Rt({name:"",amount:"",description:"",type:"all_students",for_gender:"male",classrooms:[],students:[]}),n=K(""),r=K([]),o=K([]),s=[{value:"all_students",label:"Semua Santri"},{value:"by_classroom",label:"Berdasarkan Kelas"},{value:"by_gender",label:"Berdasarkan Gender"},{value:"specific_students",label:"Santri Tertentu"}],a=[{value:"male",label:"Laki-laki"},{value:"female",label:"Perempuan"}];let i=null;function l(){if(clearTimeout(i),n.value.length<2){r.value=[];return}i=setTimeout(async()=>{try{const p=await nn.get("/dashboard/finance/student-invoices/search-students",{params:{q:n.value}});r.value=p.data}catch(p){console.error("Error searching students:",p)}},300)}function c(p){t.students.includes(p.id)||(t.students.push(p.id),o.value.push(p)),n.value="",r.value=[]}function u(p){t.students=t.students.filter(m=>m!==p),o.value=o.value.filter(m=>m.id!==p)}function d(p){const m=o.value.find(h=>h.id===p);return m?m.text:p}function f(){t.transform(p=>{const m={name:p.name,amount:p.amount,description:p.description,type:p.type};return p.type==="by_gender"?m.for_gender=p.for_gender:p.type==="by_classroom"?m.classrooms=p.classrooms:p.type==="specific_students"&&(m.students=p.students),m}).post("/dashboard/finance/student-invoices",{onSuccess:()=>{}})}return(p,m)=>{const h=We,g=bt,v=qt,x=Wn,$=ht,C=Uc,M=SH,I=pn;return A(),B($t,{title:"Buat Tagihan Baru",heading:"Buat Tagihan Baru",description:"Buat tagihan untuk santri dengan berbagai opsi targeting","page-id":"create-student-invoice"},{header:S(()=>[_(h,{color:"neutral",variant:"ghost",icon:"i-lucide-arrow-left",to:"/dashboard/finance/student-invoices"},{default:S(()=>[...m[7]||(m[7]=[J(" Kembali ",-1)])]),_:1})]),default:S(()=>[k("form",{onSubmit:lt(f,["prevent"])},[_($,{class:"mb-6"},{header:S(()=>[...m[8]||(m[8]=[k("h3",{class:"text-lg font-semibold"},"Informasi Tagihan",-1)])]),default:S(()=>[k("div",jlt,[_(v,{label:"Nama Tagihan",required:""},gr({default:S(()=>[_(g,{modelValue:y(t).name,"onUpdate:modelValue":m[0]||(m[0]=E=>y(t).name=E),placeholder:"Contoh: SPP Bulan Januari 2026",error:!!e.errors.name,class:"w-full"},null,8,["modelValue","error"])]),_:2},[e.errors.name?{name:"error",fn:S(()=>[J(q(e.errors.name),1)]),key:"0"}:void 0]),1024),_(v,{label:"Jumlah Tagihan",required:""},gr({default:S(()=>[_(g,{modelValue:y(t).amount,"onUpdate:modelValue":m[1]||(m[1]=E=>y(t).amount=E),type:"number",placeholder:"100000",error:!!e.errors.amount,class:"w-full"},null,8,["modelValue","error"])]),_:2},[e.errors.amount?{name:"error",fn:S(()=>[J(q(e.errors.amount),1)]),key:"0"}:void 0]),1024),_(v,{label:"Deskripsi"},{default:S(()=>[_(x,{modelValue:y(t).description,"onUpdate:modelValue":m[2]||(m[2]=E=>y(t).description=E),placeholder:"Deskripsi tagihan (opsional)",rows:"3",class:"w-full"},null,8,["modelValue"])]),_:1})])]),_:1}),_($,{class:"mb-6"},{header:S(()=>[...m[9]||(m[9]=[k("h3",{class:"text-lg font-semibold"},"Target Tagihan",-1)])]),default:S(()=>[k("div",Vlt,[_(v,{label:"Tipe Tagihan",required:""},gr({default:S(()=>[_(C,{modelValue:y(t).type,"onUpdate:modelValue":m[3]||(m[3]=E=>y(t).type=E),items:s,"value-key":"value","label-key":"label",error:!!e.errors.type,class:"w-full"},null,8,["modelValue","error"])]),_:2},[e.errors.type?{name:"error",fn:S(()=>[J(q(e.errors.type),1)]),key:"0"}:void 0]),1024),y(t).type==="by_gender"?(A(),B(v,{key:0,label:"Gender",required:""},gr({default:S(()=>[_(M,{modelValue:y(t).for_gender,"onUpdate:modelValue":m[4]||(m[4]=E=>y(t).for_gender=E),options:a,error:!!e.errors.for_gender},null,8,["modelValue","error"])]),_:2},[e.errors.for_gender?{name:"error",fn:S(()=>[J(q(e.errors.for_gender),1)]),key:"0"}:void 0]),1024)):X("",!0),y(t).type==="by_classroom"?(A(),B(v,{key:1,label:"Pilih Kelas",required:""},gr({default:S(()=>[_(C,{modelValue:y(t).classrooms,"onUpdate:modelValue":m[5]||(m[5]=E=>y(t).classrooms=E),items:e.classrooms,multiple:"",placeholder:"Pilih satu atau lebih kelas","value-key":"id","label-key":"name",class:"w-full"},null,8,["modelValue","items"])]),_:2},[e.errors.classrooms?{name:"error",fn:S(()=>[J(q(e.errors.classrooms),1)]),key:"0"}:void 0]),1024)):X("",!0),y(t).type==="specific_students"?(A(),B(v,{key:2,label:"Pilih Santri",required:""},gr({default:S(()=>[k("div",Ult,[_(g,{modelValue:n.value,"onUpdate:modelValue":m[6]||(m[6]=E=>n.value=E),placeholder:"Cari santri...",icon:"i-lucide-search",onInput:l,class:"w-full"},null,8,["modelValue"]),r.value.length>0?(A(),W("div",Klt,[(A(!0),W(Ee,null,Ve(r.value,E=>(A(),W("div",{key:E.id,class:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded cursor-pointer",onClick:P=>c(E)},q(E.text),9,Hlt))),128))])):X("",!0),y(t).students.length>0?(A(),W("div",Wlt,[(A(!0),W(Ee,null,Ve(y(t).students,E=>(A(),B(I,{key:E,color:"primary",variant:"subtle"},{default:S(()=>[J(q(d(E))+" ",1),_(h,{color:"neutral",variant:"ghost",icon:"i-lucide-x",size:"xs",onClick:P=>u(E)},null,8,["onClick"])]),_:2},1024))),128))])):X("",!0)])]),_:2},[e.errors.students?{name:"error",fn:S(()=>[J(q(e.errors.students),1)]),key:"0"}:void 0]),1024)):X("",!0)])]),_:1}),k("div",Glt,[_(h,{color:"neutral",variant:"soft",to:"/dashboard/finance/student-invoices"},{default:S(()=>[...m[10]||(m[10]=[J(" Batal ",-1)])]),_:1}),_(h,{type:"submit",color:"primary",loading:y(t).processing,disabled:y(t).processing},{default:S(()=>[...m[11]||(m[11]=[J(" Simpan Tagihan ",-1)])]),_:1},8,["loading","disabled"])])],32)]),_:1})}}},Ylt=Object.freeze(Object.defineProperty({__proto__:null,default:Jlt},Symbol.toStringTag,{value:"Module"})),Qlt={class:"space-y-4"},Xlt={class:"space-y-4"},Zlt={class:"space-y-2"},eut={key:0,class:"border rounded-lg p-2 max-h-48 overflow-y-auto"},tut=["onClick"],nut={key:1,class:"flex flex-wrap gap-2 mt-2"},rut={class:"flex justify-end gap-3"},out={__name:"Edit",props:{invoice:Object,classrooms:Array,errors:Object},setup(e){const t=e,n=Rt({name:t.invoice.name,amount:t.invoice.amount,description:t.invoice.description||"",type:t.invoice.type,for_gender:t.invoice.for_gender||"male",classrooms:t.invoice.classrooms?.map(m=>m.id)||[],students:t.invoice.students?.map(m=>m.id)||[]}),r=K(""),o=K([]),s=K(t.invoice.students?.map(m=>({id:m.id,name:m.user?.name+" ("+m.student_id+")"}))||[]),a=[{value:"all_students",label:"Semua Santri"},{value:"by_classroom",label:"Berdasarkan Kelas"},{value:"by_gender",label:"Berdasarkan Gender"},{value:"specific_students",label:"Santri Tertentu"}],i=[{value:"male",label:"Laki-laki"},{value:"female",label:"Perempuan"}];let l=null;function c(){if(clearTimeout(l),r.value.length<2){o.value=[];return}l=setTimeout(async()=>{try{const m=await nn.get("/dashboard/finance/student-invoices/search-students",{params:{q:r.value}});o.value=m.data}catch(m){console.error("Error searching students:",m)}},300)}function u(m){n.students.includes(m.id)||(n.students.push(m.id),s.value.push({id:m.id,name:m.text})),r.value="",o.value=[]}function d(m){n.students=n.students.filter(h=>h!==m),s.value=s.value.filter(h=>h.id!==m)}function f(m){const h=s.value.find(g=>g.id===m);return h?h.name:m}function p(){n.transform(m=>{const h={name:m.name,amount:m.amount,description:m.description,type:m.type};return m.type==="by_gender"?h.for_gender=m.for_gender:m.type==="by_classroom"?h.classrooms=m.classrooms:m.type==="specific_students"&&(h.students=m.students),h}).put(`/dashboard/finance/student-invoices/${t.invoice.id}`,{onSuccess:()=>{}})}return(m,h)=>{const g=We,v=bt,x=qt,$=Wn,C=ht,M=Uc,I=SH,E=pn;return A(),B($t,{title:"Edit Tagihan",heading:"Edit Tagihan",description:`Edit tagihan: ${e.invoice.name}`,"page-id":"edit-student-invoice"},{header:S(()=>[_(g,{color:"neutral",variant:"ghost",icon:"i-lucide-arrow-left",to:`/dashboard/finance/student-invoices/${e.invoice.id}`},{default:S(()=>[...h[7]||(h[7]=[J(" Kembali ",-1)])]),_:1},8,["to"])]),default:S(()=>[k("form",{onSubmit:lt(p,["prevent"])},[_(C,{class:"mb-6"},{header:S(()=>[...h[8]||(h[8]=[k("h3",{class:"text-lg font-semibold"},"Informasi Tagihan",-1)])]),default:S(()=>[k("div",Qlt,[_(x,{label:"Nama Tagihan",required:""},gr({default:S(()=>[_(v,{modelValue:y(n).name,"onUpdate:modelValue":h[0]||(h[0]=P=>y(n).name=P),placeholder:"Contoh: SPP Bulan Januari 2026",error:!!e.errors.name,class:"w-full"},null,8,["modelValue","error"])]),_:2},[e.errors.name?{name:"error",fn:S(()=>[J(q(e.errors.name),1)]),key:"0"}:void 0]),1024),_(x,{label:"Jumlah Tagihan",required:""},gr({default:S(()=>[_(v,{modelValue:y(n).amount,"onUpdate:modelValue":h[1]||(h[1]=P=>y(n).amount=P),type:"number",placeholder:"100000",error:!!e.errors.amount,class:"w-full"},null,8,["modelValue","error"])]),_:2},[e.errors.amount?{name:"error",fn:S(()=>[J(q(e.errors.amount),1)]),key:"0"}:void 0]),1024),_(x,{label:"Deskripsi"},{default:S(()=>[_($,{modelValue:y(n).description,"onUpdate:modelValue":h[2]||(h[2]=P=>y(n).description=P),placeholder:"Deskripsi tagihan (opsional)",rows:"3",class:"w-full"},null,8,["modelValue"])]),_:1})])]),_:1}),_(C,{class:"mb-6"},{header:S(()=>[...h[9]||(h[9]=[k("h3",{class:"text-lg font-semibold"},"Target Tagihan",-1)])]),default:S(()=>[k("div",Xlt,[_(x,{label:"Tipe Tagihan",required:""},gr({default:S(()=>[_(M,{modelValue:y(n).type,"onUpdate:modelValue":h[3]||(h[3]=P=>y(n).type=P),items:a,"value-key":"value","label-key":"label",error:!!e.errors.type,class:"w-full"},null,8,["modelValue","error"])]),_:2},[e.errors.type?{name:"error",fn:S(()=>[J(q(e.errors.type),1)]),key:"0"}:void 0]),1024),y(n).type==="by_gender"?(A(),B(x,{key:0,label:"Gender",required:""},gr({default:S(()=>[_(I,{modelValue:y(n).for_gender,"onUpdate:modelValue":h[4]||(h[4]=P=>y(n).for_gender=P),options:i,error:!!e.errors.for_gender},null,8,["modelValue","error"])]),_:2},[e.errors.for_gender?{name:"error",fn:S(()=>[J(q(e.errors.for_gender),1)]),key:"0"}:void 0]),1024)):X("",!0),y(n).type==="by_classroom"?(A(),B(x,{key:1,label:"Pilih Kelas",required:""},gr({default:S(()=>[_(M,{modelValue:y(n).classrooms,"onUpdate:modelValue":h[5]||(h[5]=P=>y(n).classrooms=P),items:e.classrooms,multiple:"",placeholder:"Pilih satu atau lebih kelas","value-key":"id","label-key":"name",class:"w-full"},null,8,["modelValue","items"])]),_:2},[e.errors.classrooms?{name:"error",fn:S(()=>[J(q(e.errors.classrooms),1)]),key:"0"}:void 0]),1024)):X("",!0),y(n).type==="specific_students"?(A(),B(x,{key:2,label:"Pilih Santri",required:""},gr({default:S(()=>[k("div",Zlt,[_(v,{modelValue:r.value,"onUpdate:modelValue":h[6]||(h[6]=P=>r.value=P),placeholder:"Cari santri...",icon:"i-lucide-search",onInput:c,class:"w-full"},null,8,["modelValue"]),o.value.length>0?(A(),W("div",eut,[(A(!0),W(Ee,null,Ve(o.value,P=>(A(),W("div",{key:P.id,class:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded cursor-pointer",onClick:O=>u(P)},q(P.text),9,tut))),128))])):X("",!0),y(n).students.length>0?(A(),W("div",nut,[(A(!0),W(Ee,null,Ve(y(n).students,P=>(A(),B(E,{key:P,color:"primary",variant:"subtle"},{default:S(()=>[J(q(f(P))+" ",1),_(g,{color:"neutral",variant:"ghost",icon:"i-lucide-x",size:"xs",onClick:O=>d(P)},null,8,["onClick"])]),_:2},1024))),128))])):X("",!0)])]),_:2},[e.errors.students?{name:"error",fn:S(()=>[J(q(e.errors.students),1)]),key:"0"}:void 0]),1024)):X("",!0)])]),_:1}),k("div",rut,[_(g,{color:"neutral",variant:"soft",to:`/dashboard/finance/student-invoices/${e.invoice.id}`},{default:S(()=>[...h[10]||(h[10]=[J(" Batal ",-1)])]),_:1},8,["to"]),_(g,{type:"submit",color:"primary",loading:y(n).processing,disabled:y(n).processing},{default:S(()=>[...h[11]||(h[11]=[J(" Update Tagihan ",-1)])]),_:1},8,["loading","disabled"])])],32)]),_:1},8,["description"])}}},sut=Object.freeze(Object.defineProperty({__proto__:null,default:out},Symbol.toStringTag,{value:"Module"})),aut={class:"flex gap-4"},iut={class:"font-medium"},lut={class:"text-xs text-gray-500"},uut={class:"font-semibold text-blue-600"},cut={class:"text-center py-12"},dut={key:0,class:"flex justify-between items-center mt-4 pt-4 border-t"},fut={class:"text-sm text-gray-500"},put={__name:"Index",props:{invoices:Object,filters:Object},setup(e){const t=e,n=K(t.invoices?.current_page||1),r=Pr({name:t.filters?.name||""}),o=[{id:"name",header:"Nama Tagihan"},{id:"amount",header:"Nominal"},{id:"payments_count",header:"Pembayaran"},{id:"actions",header:"Aksi"}];function s(d){return{all_students:"Semua Santri",by_classroom:"Berdasarkan Kelas",by_gender:"Berdasarkan Gender",specific_students:"Santri Tertentu"}[d]||d}function a(d){return d?new Intl.NumberFormat("id-ID").format(d):"0"}function i(){Qe.get("/dashboard/finance/student-invoices",{name:r.name||void 0},{preserveState:!0,preserveScroll:!0})}function l(){r.name="",Qe.get("/dashboard/finance/student-invoices",{},{preserveState:!0,preserveScroll:!0})}function c(d){Qe.get("/dashboard/finance/student-invoices",{page:d,...r},{preserveState:!0,preserveScroll:!0})}function u(d){confirm(`Yakin ingin menghapus tagihan "${d.name}"?`)&&Qe.delete(`/dashboard/finance/student-invoices/${d.id}`,{onSuccess:()=>{}})}return(d,f)=>{const p=We,m=bt,h=ht,g=pn,v=_f,x=tt,$=xr,C=Fr;return A(),B($t,{title:"Tagihan Santri",heading:"Tagihan Santri",description:"Kelola tagihan santri - buat dan lacak pembayaran","page-id":"student-invoices"},{header:S(()=>[_(p,{color:"primary",icon:"i-lucide-plus",to:"/dashboard/finance/student-invoices/create"},{default:S(()=>[...f[2]||(f[2]=[J(" Buat Tagihan ",-1)])]),_:1})]),default:S(()=>[_(h,{class:"mb-6"},{default:S(()=>[k("div",aut,[_(m,{modelValue:r.name,"onUpdate:modelValue":f[0]||(f[0]=M=>r.name=M),placeholder:"Cari nama tagihan...",icon:"i-lucide-search",class:"flex-1"},null,8,["modelValue"]),_(p,{color:"primary",onClick:i},{default:S(()=>[...f[3]||(f[3]=[J(" Filter ",-1)])]),_:1}),_(p,{color:"neutral",variant:"soft",onClick:l},{default:S(()=>[...f[4]||(f[4]=[J(" Reset ",-1)])]),_:1})])]),_:1}),_(h,null,{default:S(()=>[_($,{data:e.invoices?.data||[],columns:o,loading:!1},{"name-cell":S(({row:M})=>[k("div",null,[k("p",iut,q(M.original.name),1),k("p",lut,q(s(M.original.type)),1)])]),"amount-cell":S(({row:M})=>[k("span",uut," Rp "+q(a(M.original.amount)),1)]),"payments_count-cell":S(({row:M})=>[_(g,{color:M.original.payments_count>0?"success":"neutral",variant:"subtle"},{default:S(()=>[J(q(M.original.payments_count)+" pembayaran ",1)]),_:2},1032,["color"])]),"actions-cell":S(({row:M})=>[_(v,{items:[[{label:"Detail",icon:"i-lucide-eye",onSelect:()=>y(Qe).visit(`/dashboard/finance/student-invoices/${M.original.id}`)}],[{label:"Edit",icon:"i-lucide-pencil",onSelect:()=>y(Qe).visit(`/dashboard/finance/student-invoices/${M.original.id}/edit`)},{label:"Hapus",icon:"i-lucide-trash-2",onSelect:()=>u(M.original)}]]},{default:S(()=>[_(p,{color:"neutral",variant:"ghost",icon:"i-lucide-more-vertical",size:"sm"})]),_:1},8,["items"])]),empty:S(()=>[k("div",cut,[_(x,{name:"i-lucide-inbox",class:"w-12 h-12 text-gray-400 mx-auto mb-3"}),f[6]||(f[6]=k("p",{class:"text-gray-500"},"Belum ada tagihan dibuat",-1)),_(p,{color:"primary",variant:"soft",icon:"i-lucide-plus",to:"/dashboard/finance/student-invoices/create",class:"mt-4"},{default:S(()=>[...f[5]||(f[5]=[J(" Buat Tagihan Pertama ",-1)])]),_:1})])]),_:1},8,["data"]),e.invoices?.data?.length>0?(A(),W("div",dut,[k("p",fut," Menampilkan "+q(e.invoices.from)+" - "+q(e.invoices.to)+" dari "+q(e.invoices.total)+" tagihan ",1),_(C,{modelValue:n.value,"onUpdate:modelValue":[f[1]||(f[1]=M=>n.value=M),c],total:e.invoices.total,"per-page":e.invoices.per_page},null,8,["modelValue","total","per-page"])])):X("",!0)]),_:1})]),_:1})}}},mut=Object.freeze(Object.defineProperty({__proto__:null,default:put},Symbol.toStringTag,{value:"Module"})),hut={class:"flex gap-2"},gut={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},vut={class:"font-medium"},yut={class:"text-2xl font-bold text-blue-600"},but={key:0,class:"md:col-span-2"},xut={class:"text-gray-700 dark:text-gray-300"},wut={class:"flex justify-between items-center"},kut={class:"flex items-center gap-3"},_ut={class:"font-medium"},Sut={class:"text-xs text-gray-500"},$ut={class:"flex gap-2"},Cut={key:1,class:"text-xs text-green-600 font-medium flex items-center gap-1"},Mut={key:0,class:"flex justify-between items-center mt-4 pt-4 border-t"},Aut={class:"text-sm text-gray-500"},Tut={__name:"Show",props:{invoice:Object,students:Object},setup(e){const t=e,n=[{id:"name",header:"Nama Santri"},{id:"info",header:"Kelas / Gender"},{id:"status",header:"Status"},{id:"action",header:"Aksi"}],r=K(t.students?.current_page||1);function o(c){Qe.get(`/dashboard/finance/student-invoices/${t.invoice.id}`,{page:c},{preserveState:!0,preserveScroll:!0,only:["students"]})}function s(c){confirm(`Yakin ingin mengubah status santri ${c.user.name} menjadi SUDAH BAYAR?`)&&Qe.post(`/dashboard/finance/student-invoices/${t.invoice.id}/pay/${c.id}`,{},{preserveScroll:!0,onSuccess:()=>{}})}function a(c){return{all_students:"Semua Santri",by_classroom:"Berdasarkan Kelas",by_gender:"Berdasarkan Gender",specific_students:"Santri Tertentu"}[c]||c}function i(c){return{all_students:"primary",by_classroom:"info",by_gender:"warning",specific_students:"success"}[c]||"neutral"}function l(c){return c?new Intl.NumberFormat("id-ID").format(c):"0"}return(c,u)=>{const d=We,f=pn,p=ht,m=On,h=tt,g=xr,v=Fr;return A(),B($t,{title:"Detail Tagihan",heading:e.invoice.name,description:"Detail tagihan dan riwayat pembayaran","page-id":"show-student-invoice"},{header:S(()=>[k("div",hut,[_(d,{color:"neutral",variant:"ghost",icon:"i-lucide-arrow-left",to:"/dashboard/finance/student-invoices"},{default:S(()=>[...u[1]||(u[1]=[J(" Kembali ",-1)])]),_:1}),_(d,{color:"primary",variant:"soft",icon:"i-lucide-pencil",to:`/dashboard/finance/student-invoices/${e.invoice.id}/edit`},{default:S(()=>[...u[2]||(u[2]=[J(" Edit ",-1)])]),_:1},8,["to"])])]),default:S(()=>[_(p,{class:"mb-6"},{header:S(()=>[...u[3]||(u[3]=[k("h3",{class:"text-lg font-semibold"},"Informasi Tagihan",-1)])]),default:S(()=>[k("div",gut,[k("div",null,[u[4]||(u[4]=k("p",{class:"text-sm text-gray-500 dark:text-gray-400 mb-1"},"Nama Tagihan",-1)),k("p",vut,q(e.invoice.name),1)]),k("div",null,[u[5]||(u[5]=k("p",{class:"text-sm text-gray-500 dark:text-gray-400 mb-1"},"Jumlah Tagihan",-1)),k("p",yut,"Rp "+q(l(e.invoice.amount)),1)]),k("div",null,[u[6]||(u[6]=k("p",{class:"text-sm text-gray-500 dark:text-gray-400 mb-1"},"Tipe Tagihan",-1)),_(f,{color:i(e.invoice.type),variant:"subtle"},{default:S(()=>[J(q(a(e.invoice.type)),1)]),_:1},8,["color"])]),e.invoice.description?(A(),W("div",but,[u[7]||(u[7]=k("p",{class:"text-sm text-gray-500 dark:text-gray-400 mb-1"},"Deskripsi",-1)),k("p",xut,q(e.invoice.description),1)])):X("",!0)])]),_:1}),_(p,{class:"mb-6"},{header:S(()=>[k("div",wut,[u[8]||(u[8]=k("h3",{class:"text-lg font-semibold"},"Daftar Tagihan Santri",-1)),_(f,{color:"neutral",variant:"subtle"},{default:S(()=>[J(" Total "+q(e.students?.total||0)+" Santri ",1)]),_:1})])]),default:S(()=>[_(g,{data:e.students?.data||[],columns:n},{"name-cell":S(({row:x})=>[k("div",kut,[_(m,{src:x.original.user?.photo?x.original.user.photo.startsWith("http")?x.original.user.photo:`/storage/${x.original.user.photo}`:null,alt:x.original.user?.name,size:"sm"},null,8,["src","alt"]),k("div",null,[k("p",_ut,q(x.original.user?.name),1),k("p",Sut,q(x.original.student_id),1)])])]),"info-cell":S(({row:x})=>[k("div",$ut,[x.original.classrooms?.[0]?(A(),B(f,{key:0,color:"neutral",variant:"subtle",size:"md"},{default:S(()=>[J(q(x.original.classrooms[0].name),1)]),_:2},1024)):X("",!0),x.original.gender?(A(),B(f,{key:1,color:x.original.gender==="male"?"secondary":"warning",variant:"subtle",size:"md"},{default:S(()=>[J(q(x.original.gender==="male"?"Laki-laki":"Perempuan"),1)]),_:2},1032,["color"])):X("",!0)])]),"status-cell":S(({row:x})=>[_(f,{color:x.original.is_paid?"success":"warning",variant:"subtle"},{default:S(()=>[J(q(x.original.is_paid?"Sudah Bayar":"Belum Bayar"),1)]),_:2},1032,["color"])]),"action-cell":S(({row:x})=>[x.original.is_paid?(A(),W("span",Cut,[_(h,{name:"i-lucide-check-circle",class:"w-4 h-4"}),u[10]||(u[10]=J(" Lunas ",-1))])):(A(),B(d,{key:0,color:"primary",variant:"soft",size:"xs",icon:"i-lucide-wallet",onClick:$=>s(x.original)},{default:S(()=>[...u[9]||(u[9]=[J(" Bayar Offline ",-1)])]),_:1},8,["onClick"]))]),_:1},8,["data"]),e.students?.last_page>1?(A(),W("div",Mut,[k("p",Aut,q(e.students.from)+" - "+q(e.students.to)+" dari "+q(e.students.total),1),_(v,{modelValue:r.value,"onUpdate:modelValue":[u[0]||(u[0]=x=>r.value=x),o],total:e.students.total,"per-page":e.students.per_page},null,8,["modelValue","total","per-page"])])):X("",!0)]),_:1})]),_:1},8,["heading"])}}},Eut=Object.freeze(Object.defineProperty({__proto__:null,default:Tut},Symbol.toStringTag,{value:"Module"})),Iut={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6"},Put={class:"flex items-center justify-between"},Out={class:"text-2xl font-bold text-blue-600 dark:text-blue-400 mt-1"},Rut={class:"flex items-center justify-between"},But={class:"text-2xl font-bold text-purple-600 dark:text-purple-400 mt-1"},Nut={class:"flex items-center justify-between"},Dut={class:"text-2xl font-bold text-green-600 dark:text-green-400 mt-1"},Fut={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},qut={class:"flex items-center gap-3"},zut={class:"font-medium text-gray-900 dark:text-gray-100"},Lut={class:"text-sm text-gray-500 dark:text-gray-400"},jut={class:"text-sm"},Vut={class:"font-semibold text-blue-600 dark:text-blue-400"},Uut={key:0,class:"flex justify-between items-center px-4 py-3 border-t border-default"},Kut={class:"text-sm text-muted"},Hut={class:"text-sm text-gray-600 dark:text-gray-400 mb-2"},Wut={class:"text-sm text-gray-600 dark:text-gray-400"},Gut={class:"text-blue-600"},Jut={class:"flex justify-end gap-2 w-full"},Yut={class:"text-sm text-gray-600 dark:text-gray-400 mb-2"},Qut={class:"text-sm text-gray-600 dark:text-gray-400"},Xut={class:"text-blue-600"},Zut={class:"flex justify-end gap-2 w-full"},ect={class:"text-lg font-semibold"},tct={class:"space-y-4"},nct={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},rct={key:0,class:"grid grid-cols-2 gap-4"},oct={class:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg"},sct={class:"text-xl font-bold text-green-600 dark:text-green-400"},act={class:"p-4 bg-red-50 dark:bg-red-900/20 rounded-lg"},ict={class:"text-xl font-bold text-red-600 dark:text-red-400"},lct={class:"text-sm"},uct={class:"text-sm font-medium"},cct={class:"text-sm text-gray-600 dark:text-gray-400"},dct={class:"flex justify-between items-center w-full"},fct={__name:"StudentSavings",props:{students:Object,summary:Object,classrooms:Array,filters:Object},setup(e){const t=e,n=K(!1),r=K(!1),o=K(!1),s=K(t.students?.current_page||1),a=[{id:"student",header:"Nama / NIS"},{id:"classroom",header:"Kelas"},{id:"savings",header:"Tabungan"},{id:"actions",header:"Aksi"}],i=[{id:"created_at",header:"Tanggal"},{id:"type",header:"Tipe"},{id:"amount",header:"Jumlah"},{id:"balance_after",header:"Saldo Setelah"},{id:"notes",header:"Keterangan"}],l=K({search:t.filters?.search||"",classroom_id:t.filters?.classroom_id||"all",rfid:t.filters?.rfid||""}),c=K({start_date:"",end_date:"",type:"all"}),u=K({data:[]}),d=K(null),f=K(1),p=[{label:"Semua Tipe",value:"all"},{label:"Setor",value:"deposit"},{label:"Tarik",value:"withdrawal"}],m=H(()=>[{label:"Semua Kelas",value:"all"},...(t.classrooms||[]).map(z=>({label:z.name,value:z.id}))]),h=K({open:!1,student:null}),g=K({open:!1,student:null}),v=K({open:!1,student:null}),x=Rt({amount:"",notes:""}),$=Rt({amount:"",pin:"",notes:""});He(l,_h(()=>{Qe.get("/dashboard/finance/student-savings",l.value,{preserveState:!0,preserveScroll:!0,replace:!0})},500),{deep:!0}),He(s,z=>{Qe.get("/dashboard/finance/student-savings",{...l.value,page:z},{preserveState:!0,preserveScroll:!0})}),He(c,async()=>{v.value.student&&await V()},{deep:!0}),He(f,async()=>{await V()});const M=z=>z?new Intl.NumberFormat("id-ID").format(z):"0",I=z=>{if(!z)return"-";try{return xH(wH(z),"dd MMM yyyy HH:mm",{locale:_H})}catch{return z}},E=()=>{l.value={search:"",classroom_id:"all",rfid:""}},P=z=>[[{label:"Setor Tabungan",icon:"i-lucide-plus-circle",iconClass:"text-green-600",onSelect:()=>{h.value={open:!0,student:z},x.reset()}},{label:"Tarik Tabungan",icon:"i-lucide-minus-circle",iconClass:"text-red-600",onSelect:()=>{g.value={open:!0,student:z},$.reset()}},{label:"Riwayat Tabungan",icon:"i-lucide-history",iconClass:"text-blue-600",onSelect:()=>L(z)}]],O=()=>{h.value.student&&x.post(`/dashboard/finance/student-savings/${h.value.student.id}/deposit`,{preserveScroll:!0,onSuccess:()=>{h.value.open=!1,x.reset()}})},D=()=>{g.value.student&&$.post(`/dashboard/finance/student-savings/${g.value.student.id}/withdraw`,{preserveScroll:!0,onSuccess:()=>{g.value.open=!1,$.reset()}})},L=async z=>{v.value={open:!0,student:z},c.value={start_date:"",end_date:"",type:"all"},f.value=1,await V()},V=async()=>{if(v.value.student){r.value=!0;try{const z=new URLSearchParams({...c.value,page:f.value}),N=await axios.get(`/dashboard/finance/student-savings/${v.value.student.id}/history?`+z);u.value=N.data.transactions,d.value=N.data.summary}catch(z){console.error("Error fetching history:",z)}finally{r.value=!1}}},F=()=>{if(!v.value.student)return;o.value=!0;const z=new URLSearchParams;Object.entries(c.value).forEach(([N,ee])=>{ee&&ee!=="all"&&z.append(N,ee)}),window.location.href=`/dashboard/finance/student-savings/${v.value.student.id}/export?`+z.toString(),setTimeout(()=>{o.value=!1},1e3)};return(z,N)=>{const ee=We,ne=tt,Y=ht,Re=bo,fe=bt,we=er,ue=On,Ne=_f,Xe=xr,st=Fr,it=qt,ce=Wn,ve=$r,Ae=pn;return A(),B($t,{title:"Tabungan Santri",heading:"Tabungan Santri",description:"Kelola tabungan santri - setor dan tarik dengan PIN","page-id":"student-savings"},{header:S(()=>[_(ee,{color:"primary",variant:"soft",icon:"i-lucide-arrow-left",to:"/dashboard/finance/student-balance"},{default:S(()=>[...N[18]||(N[18]=[J(" Kembali ke Saldo ",-1)])]),_:1})]),default:S(()=>[k("div",Iut,[_(Y,null,{default:S(()=>[k("div",Put,[k("div",null,[N[19]||(N[19]=k("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Total Tabungan",-1)),k("p",Out," Rp "+q(M(e.summary?.total_savings)),1)]),_(ne,{name:"i-lucide-piggy-bank",class:"w-10 h-10 text-blue-600 opacity-20"})])]),_:1}),_(Y,null,{default:S(()=>[k("div",Rut,[k("div",null,[N[20]||(N[20]=k("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Rata-rata Tabungan",-1)),k("p",But," Rp "+q(M(e.summary?.average_savings)),1)]),_(ne,{name:"i-lucide-trending-up",class:"w-10 h-10 text-purple-600 opacity-20"})])]),_:1}),_(Y,null,{default:S(()=>[k("div",Nut,[k("div",null,[N[21]||(N[21]=k("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Jumlah Santri",-1)),k("p",Dut,q(e.summary?.student_count||0),1)]),_(ne,{name:"i-lucide-users",class:"w-10 h-10 text-green-600 opacity-20"})])]),_:1})]),_(Re,{color:"info",variant:"subtle",icon:"i-lucide-info",class:"mb-6"},{title:S(()=>[...N[22]||(N[22]=[J("Perbedaan Saldo vs Tabungan",-1)])]),description:S(()=>[...N[23]||(N[23]=[k("ul",{class:"list-disc list-inside space-y-1 text-sm"},[k("li",null,[k("strong",null,"Saldo"),J(": Untuk pengeluaran sehari-hari, dapat ditarik santri via RFID")]),k("li",null,[k("strong",null,"Tabungan"),J(": Untuk disimpan, hanya dapat ditarik via admin dengan PIN")])],-1)])]),_:1}),_(Y,{class:"mb-6"},{default:S(()=>[k("div",Fut,[_(fe,{modelValue:l.value.search,"onUpdate:modelValue":N[0]||(N[0]=pe=>l.value.search=pe),placeholder:"Cari nama/NIS...",icon:"i-lucide-search"},null,8,["modelValue"]),_(we,{modelValue:l.value.classroom_id,"onUpdate:modelValue":N[1]||(N[1]=pe=>l.value.classroom_id=pe),items:m.value,"label-key":"label","value-key":"value",placeholder:"Semua Kelas"},null,8,["modelValue","items"]),_(fe,{modelValue:l.value.rfid,"onUpdate:modelValue":N[2]||(N[2]=pe=>l.value.rfid=pe),placeholder:"Cari RFID...",icon:"i-lucide-credit-card"},null,8,["modelValue"]),_(ee,{onClick:E,color:"neutral",variant:"soft",icon:"i-lucide-x",block:""},{default:S(()=>[...N[24]||(N[24]=[J(" Reset Filter ",-1)])]),_:1})])]),_:1}),_(Y,null,{default:S(()=>[_(Xe,{data:e.students?.data||[],columns:a,loading:n.value},{"student-cell":S(({row:pe})=>[k("div",qut,[_(ue,{src:pe.original.user?.photo,alt:pe.original.user?.name,size:"sm"},null,8,["src","alt"]),k("div",null,[k("p",zut,q(pe.original.user?.name),1),k("p",Lut,q(pe.original.student_id),1)])])]),"classroom-cell":S(({row:pe})=>[k("span",jut,q(pe.original.current_classroom?.classroom?.name||"-"),1)]),"savings-cell":S(({row:pe})=>[k("span",Vut," Rp "+q(M(pe.original.savings||0)),1)]),"actions-cell":S(({row:pe})=>[_(Ne,{items:P(pe.original)},{default:S(()=>[_(ee,{color:"neutral",variant:"ghost",icon:"i-lucide-more-vertical",size:"sm"})]),_:1},8,["items"])]),_:1},8,["data","loading"]),e.students?.total>e.students?.per_page?(A(),W("div",Uut,[k("span",Kut," Menampilkan "+q(e.students.from)+" - "+q(e.students.to)+" dari "+q(e.students.total),1),_(st,{modelValue:s.value,"onUpdate:modelValue":N[3]||(N[3]=pe=>s.value=pe),total:e.students?.total||0,"page-count":e.students?.per_page||15},null,8,["modelValue","total","page-count"])])):X("",!0)]),_:1}),_(ve,{open:h.value.open,"onUpdate:open":N[7]||(N[7]=pe=>h.value.open=pe)},{header:S(()=>[...N[25]||(N[25]=[k("h3",{class:"text-lg font-semibold"},"Setor Tabungan",-1)])]),body:S(()=>[k("form",{onSubmit:lt(O,["prevent"]),class:"space-y-4"},[k("div",null,[k("p",Hut,[N[26]||(N[26]=J(" Santri: ",-1)),k("strong",null,q(h.value.student?.user?.name),1)]),k("p",Wut,[N[27]||(N[27]=J(" Tabungan Saat Ini: ",-1)),k("strong",Gut,"Rp "+q(M(h.value.student?.savings||0)),1)])]),_(it,{label:"Jumlah Setoran (Rp)",required:"",error:y(x).errors.amount},{default:S(()=>[_(fe,{modelValue:y(x).amount,"onUpdate:modelValue":N[4]||(N[4]=pe=>y(x).amount=pe),type:"number",min:"1",step:"1000",placeholder:"Masukkan jumlah..."},null,8,["modelValue"])]),_:1},8,["error"]),_(it,{label:"Keterangan",error:y(x).errors.notes},{default:S(()=>[_(ce,{modelValue:y(x).notes,"onUpdate:modelValue":N[5]||(N[5]=pe=>y(x).notes=pe),placeholder:"Keterangan (opsional)...",rows:"3"},null,8,["modelValue"])]),_:1},8,["error"])],32)]),footer:S(()=>[k("div",Jut,[_(ee,{onClick:N[6]||(N[6]=pe=>h.value.open=!1),color:"neutral",variant:"soft"},{default:S(()=>[...N[28]||(N[28]=[J(" Batal ",-1)])]),_:1}),_(ee,{onClick:O,color:"success",loading:y(x).processing,icon:"i-lucide-plus-circle"},{default:S(()=>[...N[29]||(N[29]=[J(" Setor Tabungan ",-1)])]),_:1},8,["loading"])])]),_:1},8,["open"]),_(ve,{open:g.value.open,"onUpdate:open":N[12]||(N[12]=pe=>g.value.open=pe)},{header:S(()=>[...N[30]||(N[30]=[k("h3",{class:"text-lg font-semibold"},"Tarik Tabungan",-1)])]),body:S(()=>[k("form",{onSubmit:lt(D,["prevent"]),class:"space-y-4"},[k("div",null,[k("p",Yut,[N[31]||(N[31]=J(" Santri: ",-1)),k("strong",null,q(g.value.student?.user?.name),1)]),k("p",Qut,[N[32]||(N[32]=J(" Tabungan Saat Ini: ",-1)),k("strong",Xut,"Rp "+q(M(g.value.student?.savings||0)),1)])]),_(it,{label:"Jumlah Penarikan (Rp)",required:"",error:y($).errors.amount},{default:S(()=>[_(fe,{modelValue:y($).amount,"onUpdate:modelValue":N[8]||(N[8]=pe=>y($).amount=pe),type:"number",min:"1",step:"1000",placeholder:"Masukkan jumlah..."},null,8,["modelValue"])]),_:1},8,["error"]),_(it,{label:"PIN Santri",required:"",error:y($).errors.pin},{default:S(()=>[_(fe,{modelValue:y($).pin,"onUpdate:modelValue":N[9]||(N[9]=pe=>y($).pin=pe),type:"password",maxlength:"6",placeholder:"Masukkan PIN 6 digit..."},null,8,["modelValue"])]),_:1},8,["error"]),_(it,{label:"Keterangan",error:y($).errors.notes},{default:S(()=>[_(ce,{modelValue:y($).notes,"onUpdate:modelValue":N[10]||(N[10]=pe=>y($).notes=pe),placeholder:"Keterangan (opsional)...",rows:"3"},null,8,["modelValue"])]),_:1},8,["error"])],32)]),footer:S(()=>[k("div",Zut,[_(ee,{onClick:N[11]||(N[11]=pe=>g.value.open=!1),color:"neutral",variant:"soft"},{default:S(()=>[...N[33]||(N[33]=[J(" Batal ",-1)])]),_:1}),_(ee,{onClick:D,color:"error",loading:y($).processing,icon:"i-lucide-minus-circle"},{default:S(()=>[...N[34]||(N[34]=[J(" Tarik Tabungan ",-1)])]),_:1},8,["loading"])])]),_:1},8,["open"]),_(ve,{open:v.value.open,"onUpdate:open":N[17]||(N[17]=pe=>v.value.open=pe),ui:{width:"sm:max-w-4xl"}},{header:S(()=>[k("h3",ect,"Riwayat Tabungan: "+q(v.value.student?.user?.name),1)]),body:S(()=>[k("div",tct,[k("div",nct,[_(it,{label:"Tanggal Mulai"},{default:S(()=>[_(fe,{modelValue:c.value.start_date,"onUpdate:modelValue":N[13]||(N[13]=pe=>c.value.start_date=pe),type:"date"},null,8,["modelValue"])]),_:1}),_(it,{label:"Tanggal Akhir"},{default:S(()=>[_(fe,{modelValue:c.value.end_date,"onUpdate:modelValue":N[14]||(N[14]=pe=>c.value.end_date=pe),type:"date"},null,8,["modelValue"])]),_:1}),_(it,{label:"Tipe"},{default:S(()=>[_(we,{modelValue:c.value.type,"onUpdate:modelValue":N[15]||(N[15]=pe=>c.value.type=pe),items:p,"label-key":"label","value-key":"value"},null,8,["modelValue"])]),_:1})]),d.value?(A(),W("div",rct,[k("div",oct,[N[35]||(N[35]=k("p",{class:"text-sm text-green-600 dark:text-green-400"},"Total Setor",-1)),k("p",sct," Rp "+q(M(d.value.total_deposit)),1)]),k("div",act,[N[36]||(N[36]=k("p",{class:"text-sm text-red-600 dark:text-red-400"},"Total Tarik",-1)),k("p",ict," Rp "+q(M(d.value.total_withdrawal)),1)])])):X("",!0),_(Xe,{data:u.value.data||[],columns:i,loading:r.value},{"created_at-cell":S(({row:pe})=>[k("span",lct,q(I(pe.original.created_at)),1)]),"type-cell":S(({row:pe})=>[_(Ae,{color:pe.original.type==="deposit"?"success":"error",variant:"subtle"},{default:S(()=>[J(q(pe.original.type==="deposit"?"Setor":"Tarik"),1)]),_:2},1032,["color"])]),"amount-cell":S(({row:pe})=>[k("span",{class:Z(["font-semibold",pe.original.type==="deposit"?"text-green-600":"text-red-600"])},q(pe.original.type==="deposit"?"+":"-")+" Rp "+q(M(pe.original.amount)),3)]),"balance_after-cell":S(({row:pe})=>[k("span",uct,"Rp "+q(M(pe.original.balance_after)),1)]),"notes-cell":S(({row:pe})=>[k("span",cct,q(pe.original.notes||"-"),1)]),_:1},8,["data","loading"])])]),footer:S(()=>[k("div",dct,[_(ee,{onClick:F,color:"success",variant:"soft",icon:"i-lucide-download",loading:o.value},{default:S(()=>[...N[37]||(N[37]=[J(" Export Excel ",-1)])]),_:1},8,["loading"]),_(st,{modelValue:f.value,"onUpdate:modelValue":N[16]||(N[16]=pe=>f.value=pe),total:u.value.total||0,"page-count":u.value.per_page||15},null,8,["modelValue","total","page-count"])])]),_:1},8,["open"])]),_:1})}}},pct=Object.freeze(Object.defineProperty({__proto__:null,default:fct},Symbol.toStringTag,{value:"Module"})),mct={class:"space-y-2"},hct={key:0,class:"font-semibold text-primary"},gct={key:0,class:"mb-6"},vct={class:"flex items-center justify-between"},yct={class:"text-3xl font-bold text-primary mt-1"},bct={class:"flex justify-end gap-2"},xct={__name:"StudentWithdrawLimit",props:{withdrawLimit:{type:Object,default:null}},setup(e){const n=Rt({limit:e.withdrawLimit?.limit??""}),r=s=>s?new Intl.NumberFormat("id-ID").format(s):"0",o=()=>{n.put("/dashboard/finance/student-withdraw-limit",{preserveScroll:!0})};return(s,a)=>{const i=bo,l=tt,c=ht,u=bt,d=qt,f=We;return A(),B($t,{title:"Batas Penarikan Santri",heading:"Pengaturan Batas Penarikan",description:"Atur batas maksimal penarikan saldo santri per hari","page-id":"student-withdraw-limit"},{default:S(()=>[_(c,null,{default:S(()=>[_(i,{color:"info",variant:"subtle",icon:"i-lucide-info",class:"mb-6"},{title:S(()=>[...a[1]||(a[1]=[J("Atur Batas Penarikan Uang",-1)])]),description:S(()=>[k("div",mct,[a[2]||(a[2]=k("p",null,"Batasi penarikan saldo santri harian untuk mengontrol pengeluaran.",-1)),e.withdrawLimit?.limit?(A(),W("p",hct," Batas Saat Ini: Rp "+q(r(e.withdrawLimit.limit))+" / Hari ",1)):X("",!0)])]),_:1}),e.withdrawLimit?.limit?(A(),W("div",gct,[_(c,{class:"bg-primary/5 dark:bg-primary/10"},{default:S(()=>[k("div",vct,[k("div",null,[a[3]||(a[3]=k("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Batas Penarikan Harian",-1)),k("p",yct," Rp "+q(r(e.withdrawLimit.limit)),1)]),_(l,{name:"i-lucide-wallet",class:"w-12 h-12 text-primary opacity-20"})])]),_:1})])):X("",!0),k("form",{onSubmit:lt(o,["prevent"]),class:"space-y-6"},[_(d,{label:"Batas Penarikan Harian (Rp)",name:"limit",error:y(n).errors.limit,required:""},{hint:S(()=>[...a[4]||(a[4]=[k("p",{class:"text-sm text-gray-500"}," Santri hanya dapat menarik saldo maksimal sebesar jumlah ini per hari ",-1)])]),default:S(()=>[_(u,{modelValue:y(n).limit,"onUpdate:modelValue":a[0]||(a[0]=p=>y(n).limit=p),type:"number",min:"0",step:"1000",placeholder:"Masukkan batas penarikan...",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"]),k("div",bct,[_(f,{color:"primary",type:"submit",loading:y(n).processing,icon:"i-lucide-save"},{default:S(()=>[...a[5]||(a[5]=[J(" Simpan Pengaturan ",-1)])]),_:1},8,["loading"])])],32)]),_:1})]),_:1})}}},wct=Object.freeze(Object.defineProperty({__proto__:null,default:xct},Symbol.toStringTag,{value:"Module"})),kct={class:"flex items-center gap-2"},_ct={class:"text-sm text-muted"},Sct={class:"p-6 space-y-6"},$ct={class:"rounded-2xl bg-gradient-to-r from-primary-500 to-primary-600 p-6 text-white"},Cct={class:"flex items-center justify-between"},Mct={class:"text-2xl font-bold"},Act={class:"mt-1 text-white/80"},Tct={class:"hidden md:block"},Ect={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},Ict={class:"relative"},Pct={class:"flex items-center justify-between"},Oct={class:"p-2 bg-white/20 rounded-xl backdrop-blur-sm"},Rct={class:"text-4xl font-bold mt-4"},Bct={class:"text-sm font-medium text-white/90 mt-1"},Nct={class:"text-xs text-white/70 mt-0.5"},Dct={key:1,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},Fct={class:"relative"},qct={class:"flex items-center justify-between"},zct={class:"p-2 bg-white/20 rounded-xl backdrop-blur-sm"},Lct={class:"text-4xl font-bold mt-4"},jct={class:"text-sm font-medium text-white/90 mt-1"},Vct={class:"text-xs text-white/70 mt-0.5"},Uct={key:2,class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},Kct={class:"flex items-center justify-between"},Hct={class:"flex items-center justify-center gap-8"},Wct={class:"text-center"},Gct={class:"w-24 h-24 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center mb-3"},Jct={class:"text-2xl font-bold text-blue-600"},Yct={class:"text-center"},Qct={class:"w-24 h-24 rounded-full bg-pink-100 dark:bg-pink-900/30 flex items-center justify-center mb-3"},Xct={class:"text-2xl font-bold text-pink-600"},Zct={class:"flex items-center justify-between"},edt={class:"space-y-4"},tdt={class:"flex items-center justify-between mb-1"},ndt={class:"text-sm font-medium"},rdt={class:"text-sm text-muted"},odt={class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3"},sdt={class:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4"},adt={class:"text-xs text-center"},idt={key:3,class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},ldt={class:"flex items-center justify-between"},udt={key:0,class:"text-center py-8"},cdt={key:1,class:"space-y-3"},ddt={class:"flex-1 min-w-0"},fdt={class:"font-medium truncate"},pdt={class:"text-xs text-muted"},mdt={class:"flex items-center justify-between"},hdt={key:0,class:"text-center py-8"},gdt={key:1,class:"space-y-3"},vdt={class:"flex-1 min-w-0"},ydt={class:"font-medium truncate"},bdt={class:"text-xs text-muted"},xdt={key:4},wdt={class:"flex items-center justify-between"},kdt={key:0,class:"text-center py-8"},_dt={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},Sdt={class:"flex items-center gap-3"},$dt={class:"font-semibold"},Cdt={class:"text-xs text-muted"},Mdt={__name:"Index",setup(e){const t=ai(),n=H(()=>t.props.auth.user),r=H(()=>n.value?.name?.split(" ")[0]||"Admin"),o=H(()=>n.value?.roles||[]),s=H(()=>o.value.includes("super-admin")),a=H(()=>o.value.includes("admin-pondok")),i=new Date().toLocaleDateString("id-ID",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),l=H(()=>{const v=new Date().getHours();return v<12?"Selamat Pagi":v<15?"Selamat Siang":v<18?"Selamat Sore":"Selamat Malam"}),c=[{title:"Total Santri",value:0,subtitle:"Aktif di pondok",icon:"i-lucide-users",gradient:"bg-gradient-to-br from-blue-500 to-blue-600"},{title:"Total Kelas",value:0,subtitle:"Kelas aktif",icon:"i-lucide-school",gradient:"bg-gradient-to-br from-purple-500 to-purple-600"},{title:"Total Pegawai",value:0,subtitle:"Ustadz & Staff",icon:"i-lucide-user-cog",gradient:"bg-gradient-to-br from-emerald-500 to-emerald-600"},{title:"Total Kamar",value:0,subtitle:"Kamar asrama",icon:"i-lucide-bed",gradient:"bg-gradient-to-br from-orange-500 to-orange-600"}],u=[{title:"Total Pondok",value:0,subtitle:"Terdaftar di sistem",icon:"i-lucide-building-2",gradient:"bg-gradient-to-br from-primary-500 to-primary-600"},{title:"Total Santri",value:0,subtitle:"Semua pondok",icon:"i-lucide-users",gradient:"bg-gradient-to-br from-blue-500 to-blue-600"},{title:"Total Pegawai",value:0,subtitle:"Semua pondok",icon:"i-lucide-user-cog",gradient:"bg-gradient-to-br from-emerald-500 to-emerald-600"},{title:"Total User",value:0,subtitle:"Pengguna aplikasi",icon:"i-lucide-user-check",gradient:"bg-gradient-to-br from-violet-500 to-violet-600"}],d={male:0,female:0},f=[{label:"7-12 tahun",value:0,color:"bg-blue-500",percentage:0},{label:"13-15 tahun",value:0,color:"bg-green-500",percentage:0},{label:"16-20 tahun",value:0,color:"bg-purple-500",percentage:0}],p=H(()=>a.value?[{label:"Tambah Santri",icon:"i-lucide-user-plus",to:"/dashboard/students/create"},{label:"RFID Santri",icon:"i-lucide-credit-card",to:"/dashboard/student-rfid"},{label:"Manajemen Saldo",icon:"i-lucide-wallet",to:"/dashboard/finance/student-balance"},{label:"Data Kelas",icon:"i-lucide-school",to:"/dashboard/classrooms"},{label:"Data Pegawai",icon:"i-lucide-users",to:"/dashboard/teachers"},{label:"Pengaturan",icon:"i-lucide-settings",to:"/dashboard/settings/letter"}]:[{label:"Data Pondok",icon:"i-lucide-building-2",to:"/dashboard/boarding-schools"},{label:"Master Data",icon:"i-lucide-database",to:"/dashboard/schools"},{label:"Tahun Ajaran",icon:"i-lucide-calendar",to:"/dashboard/school-years"},{label:"Berita",icon:"i-lucide-newspaper",to:"/dashboard/cms/posts"},{label:"Program",icon:"i-lucide-book-open",to:"/dashboard/cms/programs"},{label:"Web Setting",icon:"i-lucide-settings",to:"/dashboard/cms/settings"}]),m=[],h=[],g=[];return(v,x)=>{const $=kM,C=Rh,M=tt,I=pn,E=ht,P=We,O=On,D=Oh;return A(),B(Nh,null,{default:S(()=>[_(D,{id:"dashboard"},{header:S(()=>[_(C,{title:"Dashboard"},{leading:S(()=>[_($)]),trailing:S(()=>[k("div",kct,[k("span",_ct,q(y(i)),1)])]),_:1})]),body:S(()=>[k("div",Sct,[k("div",$ct,[k("div",Cct,[k("div",null,[k("h2",Mct,"Selamat Datang, "+q(r.value)+"! ",1),k("p",Act,q(l.value)+" - Berikut ringkasan data pondok Anda hari ini.",1)]),k("div",Tct,[_(M,{name:"i-lucide-layout-dashboard",class:"w-16 h-16 text-white/30"})])])]),a.value?(A(),W("div",Ect,[(A(),W(Ee,null,Ve(c,(L,V)=>k("div",{key:V,class:Z([L.gradient,"relative overflow-hidden rounded-2xl p-5 text-white shadow-lg hover:shadow-xl transition-all hover:-translate-y-1"])},[x[0]||(x[0]=k("div",{class:"absolute inset-0 bg-black/5"},null,-1)),x[1]||(x[1]=k("div",{class:"absolute -right-4 -top-4 w-24 h-24 rounded-full bg-white/10"},null,-1)),x[2]||(x[2]=k("div",{class:"absolute -right-2 -bottom-2 w-16 h-16 rounded-full bg-white/5"},null,-1)),k("div",Ict,[k("div",Pct,[k("div",Oct,[_(M,{name:L.icon,class:"w-6 h-6"},null,8,["name"])])]),k("p",Rct,q(L.value),1),k("p",Bct,q(L.title),1),k("p",Nct,q(L.subtitle),1)])],2)),64))])):X("",!0),s.value?(A(),W("div",Dct,[(A(),W(Ee,null,Ve(u,(L,V)=>k("div",{key:V,class:Z([L.gradient,"relative overflow-hidden rounded-2xl p-5 text-white shadow-lg hover:shadow-xl transition-all hover:-translate-y-1"])},[x[3]||(x[3]=k("div",{class:"absolute inset-0 bg-black/5"},null,-1)),x[4]||(x[4]=k("div",{class:"absolute -right-4 -top-4 w-24 h-24 rounded-full bg-white/10"},null,-1)),x[5]||(x[5]=k("div",{class:"absolute -right-2 -bottom-2 w-16 h-16 rounded-full bg-white/5"},null,-1)),k("div",Fct,[k("div",qct,[k("div",zct,[_(M,{name:L.icon,class:"w-6 h-6"},null,8,["name"])])]),k("p",Lct,q(L.value),1),k("p",jct,q(L.title),1),k("p",Vct,q(L.subtitle),1)])],2)),64))])):X("",!0),a.value?(A(),W("div",Uct,[_(E,null,{header:S(()=>[k("div",Kct,[x[6]||(x[6]=k("h3",{class:"font-semibold"},"Distribusi Gender",-1)),_(I,{color:"primary",variant:"subtle"},{default:S(()=>[J("Total: "+q(d.male+d.female),1)]),_:1})])]),default:S(()=>[k("div",Hct,[k("div",Wct,[k("div",Gct,[_(M,{name:"i-lucide-user",class:"w-12 h-12 text-blue-600"})]),k("p",Jct,q(d.male),1),x[7]||(x[7]=k("p",{class:"text-sm text-muted"},"Laki-laki",-1))]),k("div",Yct,[k("div",Qct,[_(M,{name:"i-lucide-user",class:"w-12 h-12 text-pink-600"})]),k("p",Xct,q(d.female),1),x[8]||(x[8]=k("p",{class:"text-sm text-muted"},"Perempuan",-1))])])]),_:1}),_(E,null,{header:S(()=>[k("div",Zct,[x[9]||(x[9]=k("h3",{class:"font-semibold"},"Distribusi Usia",-1)),_(M,{name:"i-lucide-bar-chart-3",class:"w-5 h-5 text-muted"})])]),default:S(()=>[k("div",edt,[(A(),W(Ee,null,Ve(f,(L,V)=>k("div",{key:V},[k("div",tdt,[k("span",ndt,q(L.label),1),k("span",rdt,q(L.value)+" santri",1)]),k("div",odt,[k("div",{class:Z([L.color,"h-3 rounded-full transition-all"]),style:Un({width:`${L.percentage}%`})},null,6)])])),64))])]),_:1})])):X("",!0),_(E,null,{header:S(()=>[...x[10]||(x[10]=[k("h3",{class:"font-semibold"},"Aksi Cepat",-1)])]),default:S(()=>[k("div",sdt,[(A(!0),W(Ee,null,Ve(p.value,L=>(A(),B(P,{key:L.label,to:L.to,color:"neutral",variant:"soft",class:"flex flex-col items-center gap-2 py-4 h-auto"},{default:S(()=>[_(M,{name:L.icon,class:"w-6 h-6"},null,8,["name"]),k("span",adt,q(L.label),1)]),_:2},1032,["to"]))),128))])]),_:1}),a.value?(A(),W("div",idt,[_(E,null,{header:S(()=>[k("div",ldt,[x[12]||(x[12]=k("h3",{class:"font-semibold"},"Izin Terbaru",-1)),_(P,{variant:"ghost",size:"xs",color:"primary"},{default:S(()=>[...x[11]||(x[11]=[J("Lihat Semua",-1)])]),_:1})])]),default:S(()=>[m.length===0?(A(),W("div",udt,[_(M,{name:"i-lucide-inbox",class:"w-12 h-12 text-muted mx-auto mb-2"}),x[13]||(x[13]=k("p",{class:"text-muted text-sm"},"Belum ada data izin",-1))])):(A(),W("div",cdt,[(A(),W(Ee,null,Ve(m,L=>k("div",{key:L.id,class:"flex items-center gap-3 p-3 rounded-lg bg-gray-50 dark:bg-gray-800/50"},[_(O,{alt:L.student,size:"sm"},null,8,["alt"]),k("div",ddt,[k("p",fdt,q(L.student),1),k("p",pdt,q(L.reason),1)]),_(I,{color:L.status==="approved"?"success":"warning",variant:"subtle",size:"sm"},{default:S(()=>[J(q(L.status==="approved"?"Disetujui":"Pending"),1)]),_:2},1032,["color"])])),64))]))]),_:1}),_(E,null,{header:S(()=>[k("div",mdt,[x[15]||(x[15]=k("h3",{class:"font-semibold"},"Pelanggaran Terbaru",-1)),_(P,{variant:"ghost",size:"xs",color:"primary"},{default:S(()=>[...x[14]||(x[14]=[J("Lihat Semua",-1)])]),_:1})])]),default:S(()=>[h.length===0?(A(),W("div",hdt,[_(M,{name:"i-lucide-check-circle",class:"w-12 h-12 text-success mx-auto mb-2"}),x[16]||(x[16]=k("p",{class:"text-muted text-sm"},"Tidak ada pelanggaran tercatat ",-1))])):(A(),W("div",gdt,[(A(),W(Ee,null,Ve(h,L=>k("div",{key:L.id,class:"flex items-center gap-3 p-3 rounded-lg bg-gray-50 dark:bg-gray-800/50"},[_(O,{alt:L.student,size:"sm"},null,8,["alt"]),k("div",vdt,[k("p",ydt,q(L.student),1),k("p",bdt,q(L.violation),1)]),_(I,{color:"error",variant:"subtle",size:"sm"},{default:S(()=>[J(q(L.points)+" poin ",1)]),_:2},1024)])),64))]))]),_:1})])):X("",!0),s.value?(A(),W("div",xdt,[_(E,null,{header:S(()=>[k("div",wdt,[x[18]||(x[18]=k("h3",{class:"font-semibold"},"Daftar Pondok",-1)),_(P,{to:"/dashboard/boarding-schools",variant:"ghost",size:"xs",color:"primary"},{default:S(()=>[...x[17]||(x[17]=[J("Lihat Semua",-1)])]),_:1})])]),default:S(()=>[g.length===0?(A(),W("div",kdt,[_(M,{name:"i-lucide-building-2",class:"w-12 h-12 text-muted mx-auto mb-2"}),x[19]||(x[19]=k("p",{class:"text-muted text-sm"},"Belum ada pondok terdaftar",-1))])):(A(),W("div",_dt,[(A(),W(Ee,null,Ve(g,L=>k("div",{key:L.id,class:"p-4 rounded-lg border border-default hover:border-primary transition-colors"},[k("div",Sdt,[_(O,{alt:L.name,size:"lg"},null,8,["alt"]),k("div",null,[k("p",$dt,q(L.name),1),k("p",Cdt,q(L.students)+" santri",1)])])])),64))]))]),_:1})])):X("",!0)])]),_:1})]),_:1})}}},Adt=Object.freeze(Object.defineProperty({__proto__:null,default:Mdt},Symbol.toStringTag,{value:"Module"})),Tdt={class:"flex justify-end gap-2 pt-6 border-t mt-6"},Edt={__name:"Create",setup(e){const t=Rt({name:""}),n=()=>{t.post("/dashboard/positions")};return(r,o)=>{const s=bt,a=qt,i=We,l=ht;return A(),B($t,{title:"Tambah Jabatan",heading:"Tambah Jabatan Baru",description:"Buat data master jabatan guru","page-id":"master-positions-create"},{default:S(()=>[_(l,null,{default:S(()=>[k("form",{onSubmit:lt(n,["prevent"]),class:"space-y-6"},[_(a,{label:"Nama Jabatan",name:"name",error:y(t).errors.name},{default:S(()=>[_(s,{modelValue:y(t).name,"onUpdate:modelValue":o[0]||(o[0]=c=>y(t).name=c),placeholder:"Contoh: Kepala Sekolah"},null,8,["modelValue"])]),_:1},8,["error"]),k("div",Tdt,[_(i,{color:"neutral",variant:"soft",label:"Batal",to:"/dashboard/positions"}),_(i,{type:"submit",color:"primary",label:"Simpan",loading:y(t).processing},null,8,["loading"])])],32)]),_:1})]),_:1})}}},Idt=Object.freeze(Object.defineProperty({__proto__:null,default:Edt},Symbol.toStringTag,{value:"Module"})),Pdt={class:"flex justify-end gap-2 pt-6 border-t mt-6"},Odt={__name:"Edit",props:{position:Object},setup(e){const t=e,n=Rt({name:t.position.name}),r=()=>{n.put(`/dashboard/positions/${t.position.id}`)};return(o,s)=>{const a=bt,i=qt,l=We,c=ht;return A(),B($t,{title:"Edit Jabatan",heading:"Edit Data Jabatan",description:"Perbarui data jabatan guru","page-id":"master-positions-edit"},{default:S(()=>[_(c,null,{default:S(()=>[k("form",{onSubmit:lt(r,["prevent"]),class:"space-y-6"},[_(i,{label:"Nama Jabatan",name:"name",error:y(n).errors.name},{default:S(()=>[_(a,{modelValue:y(n).name,"onUpdate:modelValue":s[0]||(s[0]=u=>y(n).name=u)},null,8,["modelValue"])]),_:1},8,["error"]),k("div",Pdt,[_(l,{color:"neutral",variant:"soft",label:"Batal",to:"/dashboard/positions"}),_(l,{type:"submit",color:"primary",label:"Simpan Perubahan",loading:y(n).processing},null,8,["loading"])])],32)]),_:1})]),_:1})}}},Rdt=Object.freeze(Object.defineProperty({__proto__:null,default:Odt},Symbol.toStringTag,{value:"Module"})),Bdt={class:"flex gap-2"},Ndt={class:"font-medium"},Ddt={class:"flex gap-1"},Fdt={class:"flex justify-between items-center px-4 py-3 border-t border-default"},qdt={class:"text-sm text-muted"},zdt={class:"flex items-start gap-4"},Ldt={class:"p-3 bg-error/10 rounded-lg"},jdt={class:"flex-1"},Vdt={class:"text-sm text-muted mt-1"},Udt={class:"font-semibold"},Kdt={class:"flex justify-end gap-2 w-full"},Hdt={__name:"Index",props:{positions:Object,filters:Object},setup(e){const t=e,n=K(t.filters?.search||""),r=K(t.positions?.current_page||1),o=K(!1),s=[{accessorKey:"name",header:"Nama Jabatan"},{accessorKey:"actions",header:"Aksi"}],a=()=>{Qe.get("/dashboard/positions",{search:n.value},{preserveState:!0,replace:!0})};He(n,Sf.debounce(()=>{a()},500)),He(r,p=>{Qe.get("/dashboard/positions",{page:p,search:n.value},{preserveState:!0,replace:!0})});const i=K(!1),l=K(null),c=K(!1),u=p=>{l.value=p,i.value=!0},d=()=>{i.value=!1,l.value=null},f=()=>{c.value=!0,Qe.delete(`/dashboard/positions/${l.value.id}`,{onFinish:()=>{c.value=!1,d()}})};return(p,m)=>{const h=bt,g=We,v=xr,x=Fr,$=ht,C=tt,M=$r;return A(),B($t,{title:"Master Jabatan",heading:"Data Jabatan",description:"Kelola data master jabatan guru","page-id":"master-positions"},{header:S(()=>[k("div",Bdt,[_(h,{modelValue:n.value,"onUpdate:modelValue":m[0]||(m[0]=I=>n.value=I),icon:"i-lucide-search",placeholder:"Cari jabatan...",class:"w-64",onKeyup:no(a,["enter"])},null,8,["modelValue"]),_(g,{color:"primary",icon:"i-lucide-plus",label:"Tambah Jabatan",to:"/dashboard/positions/create"})])]),default:S(()=>[_($,null,{default:S(()=>[_(v,{data:e.positions.data,columns:s,loading:o.value},{"name-cell":S(({row:I})=>[k("span",Ndt,q(I.original.name),1)]),"actions-cell":S(({row:I})=>[k("div",Ddt,[_(g,{color:"neutral",variant:"ghost",size:"xs",icon:"i-lucide-pencil",to:`/dashboard/positions/${I.original.id}/edit`},null,8,["to"]),_(g,{color:"error",variant:"ghost",size:"xs",icon:"i-lucide-trash-2",onClick:E=>u(I.original)},null,8,["onClick"])])]),_:1},8,["data","loading"]),k("div",Fdt,[k("span",qdt," Showing "+q(e.positions.from)+" to "+q(e.positions.to)+" of "+q(e.positions.total)+" entries ",1),_(x,{modelValue:r.value,"onUpdate:modelValue":m[1]||(m[1]=I=>r.value=I),total:e.positions.total,"page-count":e.positions.per_page},null,8,["modelValue","total","page-count"])])]),_:1}),_(M,{open:i.value,"onUpdate:open":m[2]||(m[2]=I=>i.value=I)},{header:S(()=>[...m[3]||(m[3]=[k("h3",{class:"text-lg font-semibold"},"Hapus Jabatan",-1)])]),body:S(()=>[k("div",zdt,[k("div",Ldt,[_(C,{name:"i-lucide-alert-triangle",class:"w-6 h-6 text-error"})]),k("div",jdt,[m[6]||(m[6]=k("h4",{class:"font-semibold"},"Apakah Anda yakin?",-1)),k("p",Vdt,[m[4]||(m[4]=J(" Jabatan ",-1)),k("span",Udt,q(l.value?.name),1),m[5]||(m[5]=J(" akan dihapus secara permanen. ",-1))])])])]),footer:S(()=>[k("div",Kdt,[_(g,{color:"neutral",variant:"soft",label:"Batal",onClick:d,disabled:c.value},null,8,["disabled"]),_(g,{color:"error",label:"Hapus",loading:c.value,onClick:f},null,8,["loading"])])]),_:1},8,["open"])]),_:1})}}},Wdt=Object.freeze(Object.defineProperty({__proto__:null,default:Hdt},Symbol.toStringTag,{value:"Module"})),Gdt={class:"mb-6 flex items-center justify-between"},Jdt={class:"font-medium"},Ydt={class:"text-sm text-gray-500"},Qdt={class:"text-sm"},Xdt={class:"flex gap-2"},Zdt={__name:"Posts",props:{posts:{type:Array,default:()=>[]}},setup(e){const t=K(!1),n=[{key:"title",label:"Post"},{key:"created_at",label:"Date"},{key:"actions",label:"Actions"}],r=o=>new Date(o).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return(o,s)=>{const a=Rh,i=We,l=xr,c=ht,u=Ec("UDashboardPanelContent"),d=Oh;return A(),B(Nh,null,{default:S(()=>[_(d,{grow:""},{default:S(()=>[_(a,{title:"Posts Management"}),_(u,null,{default:S(()=>[k("div",Gdt,[s[1]||(s[1]=k("div",null,[k("h2",{class:"text-2xl font-bold"},"All Posts"),k("p",{class:"text-sm text-gray-500"},"Manage your blog posts")],-1)),_(i,{color:"primary","leading-icon":"i-lucide-plus"},{default:S(()=>[...s[0]||(s[0]=[J(" New Post ",-1)])]),_:1})]),_(c,null,{default:S(()=>[_(l,{rows:e.posts,columns:n,loading:t.value},{"title-data":S(({row:f})=>[k("div",null,[k("p",Jdt,q(f.title),1),k("p",Ydt,q(f.excerpt),1)])]),"created_at-data":S(({row:f})=>[k("span",Qdt,q(r(f.created_at)),1)]),"actions-data":S(({row:f})=>[k("div",Xdt,[_(i,{size:"xs",color:"neutral",variant:"ghost",icon:"i-lucide-pencil"}),_(i,{size:"xs",color:"error",variant:"ghost",icon:"i-lucide-trash"})])]),_:1},8,["rows","loading"])]),_:1})]),_:1})]),_:1})]),_:1})}}},eft=Object.freeze(Object.defineProperty({__proto__:null,default:Zdt},Symbol.toStringTag,{value:"Module"})),tft={slots:{root:"flex items-center gap-2",list:"relative flex p-1 group",indicator:"absolute transition-[translate,width] duration-200",trigger:["group relative inline-flex items-center min-w-0 data-[state=inactive]:text-muted hover:data-[state=inactive]:not-disabled:text-default font-medium rounded-md disabled:cursor-not-allowed disabled:opacity-75","transition-colors"],leadingIcon:"shrink-0",leadingAvatar:"shrink-0",leadingAvatarSize:"",label:"truncate",trailingBadge:"shrink-0",trailingBadgeSize:"sm",content:"focus:outline-none w-full"},variants:{color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},variant:{pill:{list:"bg-elevated rounded-lg",trigger:"grow",indicator:"rounded-md shadow-xs"},link:{list:"border-default",indicator:"rounded-full",trigger:"focus:outline-none"}},orientation:{horizontal:{root:"flex-col",list:"w-full",indicator:"left-0 w-(--reka-tabs-indicator-size) translate-x-(--reka-tabs-indicator-position)",trigger:"justify-center"},vertical:{list:"flex-col",indicator:"top-0 h-(--reka-tabs-indicator-size) translate-y-(--reka-tabs-indicator-position)"}},size:{xs:{trigger:"px-2 py-1 text-xs gap-1",leadingIcon:"size-4",leadingAvatarSize:"3xs"},sm:{trigger:"px-2.5 py-1.5 text-xs gap-1.5",leadingIcon:"size-4",leadingAvatarSize:"3xs"},md:{trigger:"px-3 py-1.5 text-sm gap-1.5",leadingIcon:"size-5",leadingAvatarSize:"2xs"},lg:{trigger:"px-3 py-2 text-sm gap-2",leadingIcon:"size-5",leadingAvatarSize:"2xs"},xl:{trigger:"px-3 py-2 text-base gap-2",leadingIcon:"size-6",leadingAvatarSize:"xs"}}},compoundVariants:[{orientation:"horizontal",variant:"pill",class:{indicator:"inset-y-1"}},{orientation:"horizontal",variant:"link",class:{list:"border-b -mb-px",indicator:"-bottom-px h-px"}},{orientation:"vertical",variant:"pill",class:{indicator:"inset-x-1",list:"items-center"}},{orientation:"vertical",variant:"link",class:{list:"border-s -ms-px",indicator:"-start-px w-px"}},{color:"primary",variant:"pill",class:{indicator:"bg-primary",trigger:"data-[state=active]:text-inverted focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary"}},{color:"secondary",variant:"pill",class:{indicator:"bg-secondary",trigger:"data-[state=active]:text-inverted focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-secondary"}},{color:"success",variant:"pill",class:{indicator:"bg-success",trigger:"data-[state=active]:text-inverted focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-success"}},{color:"info",variant:"pill",class:{indicator:"bg-info",trigger:"data-[state=active]:text-inverted focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-info"}},{color:"warning",variant:"pill",class:{indicator:"bg-warning",trigger:"data-[state=active]:text-inverted focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-warning"}},{color:"error",variant:"pill",class:{indicator:"bg-error",trigger:"data-[state=active]:text-inverted focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-error"}},{color:"neutral",variant:"pill",class:{indicator:"bg-inverted",trigger:"data-[state=active]:text-inverted focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-inverted"}},{color:"primary",variant:"link",class:{indicator:"bg-primary",trigger:"data-[state=active]:text-primary focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-primary"}},{color:"secondary",variant:"link",class:{indicator:"bg-secondary",trigger:"data-[state=active]:text-secondary focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-secondary"}},{color:"success",variant:"link",class:{indicator:"bg-success",trigger:"data-[state=active]:text-success focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-success"}},{color:"info",variant:"link",class:{indicator:"bg-info",trigger:"data-[state=active]:text-info focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-info"}},{color:"warning",variant:"link",class:{indicator:"bg-warning",trigger:"data-[state=active]:text-warning focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-warning"}},{color:"error",variant:"link",class:{indicator:"bg-error",trigger:"data-[state=active]:text-error focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-error"}},{color:"neutral",variant:"link",class:{indicator:"bg-inverted",trigger:"data-[state=active]:text-highlighted focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-inverted"}}],defaultVariants:{color:"primary",variant:"pill",size:"md"}},nft={__name:"Tabs",props:{as:{type:null,required:!1},items:{type:Array,required:!1},color:{type:null,required:!1},variant:{type:null,required:!1},size:{type:null,required:!1},orientation:{type:null,required:!1,default:"horizontal"},content:{type:Boolean,required:!1,default:!0},labelKey:{type:null,required:!1,default:"label"},class:{type:null,required:!1},ui:{type:null,required:!1},defaultValue:{type:null,required:!1,default:"0"},modelValue:{type:null,required:!1},activationMode:{type:String,required:!1},unmountOnHide:{type:Boolean,required:!1,default:!0}},emits:["update:modelValue"],setup(e,{expose:t,emit:n}){const r=e,o=n,s=rn(),a=Bt(),i=fn(Pn(r,"as","unmountOnHide"),o),l=H(()=>Ye({extend:Ye(tft),...a.ui?.tabs||{}})({color:r.color,variant:r.variant,size:r.size,orientation:r.orientation})),c=K([]);return t({triggersRef:c}),(u,d)=>(A(),B(y(eue),oe(y(i),{"model-value":e.modelValue,"default-value":e.defaultValue,orientation:e.orientation,"activation-mode":e.activationMode,"data-slot":"root",class:l.value.root({class:[r.ui?.root,r.class]})}),{default:S(()=>[_(y(aue),{"data-slot":"list",class:Z(l.value.list({class:r.ui?.list}))},{default:S(()=>[_(y(oue),{"data-slot":"indicator",class:Z(l.value.indicator({class:r.ui?.indicator}))},null,8,["class"]),U(u.$slots,"list-leading"),(A(!0),W(Ee,null,Ve(e.items,(f,p)=>(A(),B(y(lue),{key:p,ref_for:!0,ref:m=>c.value[p]=m,value:f.value??String(p),disabled:f.disabled,"data-slot":"trigger",class:Z(l.value.trigger({class:[r.ui?.trigger,f.ui?.trigger]}))},{default:S(()=>[U(u.$slots,"leading",{item:f,index:p,ui:l.value},()=>[f.icon?(A(),B(tt,{key:0,name:f.icon,"data-slot":"leadingIcon",class:Z(l.value.leadingIcon({class:[r.ui?.leadingIcon,f.ui?.leadingIcon]}))},null,8,["name","class"])):f.avatar?(A(),B(On,oe({key:1,size:f.ui?.leadingAvatarSize||r.ui?.leadingAvatarSize||l.value.leadingAvatarSize()},{ref_for:!0},f.avatar,{"data-slot":"leadingAvatar",class:l.value.leadingAvatar({class:[r.ui?.leadingAvatar,f.ui?.leadingAvatar]})}),null,16,["size","class"])):X("",!0)]),y(Pt)(f,r.labelKey)||s.default?(A(),W("span",{key:0,"data-slot":"label",class:Z(l.value.label({class:[r.ui?.label,f.ui?.label]}))},[U(u.$slots,"default",{item:f,index:p},()=>[J(q(y(Pt)(f,r.labelKey)),1)])],2)):X("",!0),U(u.$slots,"trailing",{item:f,index:p,ui:l.value},()=>[f.badge||f.badge===0?(A(),B(pn,oe({key:0,color:"neutral",variant:"outline",size:f.ui?.trailingBadgeSize||r.ui?.trailingBadgeSize||l.value.trailingBadgeSize()},{ref_for:!0},typeof f.badge=="string"||typeof f.badge=="number"?{label:f.badge}:f.badge,{"data-slot":"trailingBadge",class:l.value.trailingBadge({class:[r.ui?.trailingBadge,f.ui?.trailingBadge]})}),null,16,["size","class"])):X("",!0)])]),_:2},1032,["value","disabled","class"]))),128)),U(u.$slots,"list-trailing")]),_:3},8,["class"]),e.content?(A(!0),W(Ee,{key:0},Ve(e.items,(f,p)=>(A(),B(y(nue),{key:p,value:f.value??String(p),"data-slot":"content",class:Z(l.value.content({class:[r.ui?.content,f.ui?.content,f.class]}))},{default:S(()=>[U(u.$slots,f.slot||"content",{item:f,index:p,ui:l.value},()=>[J(q(f.content),1)])]),_:2},1032,["value","class"]))),128)):X("",!0)]),_:3},16,["model-value","default-value","orientation","activation-mode","class"]))}},rft={class:"p-6"},oft={class:"flex items-center gap-6 mb-8"},sft={class:"relative"},aft={class:"text-2xl font-bold"},ift={class:"text-gray-500"},lft={class:"flex gap-2 mt-2"},uft={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},cft={class:"flex justify-end"},dft={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},fft={class:"flex justify-end"},pft={class:"space-y-4"},mft={class:"flex items-center justify-between p-4 rounded-lg bg-gray-50 dark:bg-gray-800/50"},hft={class:"flex items-center gap-4"},gft={class:"text-sm text-gray-500"},vft={__name:"Profile",props:{user:Object,genderOptions:Array,hasGoogleLinked:Boolean},setup(e){const t=e;Ih();const n=[{label:"Profil",icon:"i-lucide-user",slot:"profile"},{label:"Keamanan",icon:"i-lucide-shield",slot:"security"},{label:"Koneksi",icon:"i-lucide-link",slot:"connections"}],r=K(null),o=()=>{r.value.click()},s=f=>{const p=f.target.files[0];if(!p)return;const m=new FormData;m.append("photo",p),Qe.post("/dashboard/profile/photo",m,{forceFormData:!0})},a=Rt({name:t.user?.name||"",email:t.user?.email||"",phone_number:t.user?.phone_number||"",gender:t.user?.gender||""}),i=()=>{a.put("/dashboard/profile")},l=Rt({current_password:"",password:"",password_confirmation:""}),c=()=>{l.put("/dashboard/profile/password")},u=K(!1),d=()=>{u.value=!0,Qe.delete("/dashboard/profile/google",{onFinish:()=>u.value=!1})};return(f,p)=>{const m=kM,h=Rh,g=On,v=We,x=pn,$=bt,C=qt,M=er,I=ht,E=nft,P=Oh;return A(),B(Nh,null,{default:S(()=>[_(P,{id:"profile",class:"!max-w-none"},{header:S(()=>[_(h,{title:"Profil Saya"},{leading:S(()=>[_(m)]),_:1})]),body:S(()=>[k("div",rft,[k("div",oft,[k("div",sft,[_(g,{src:e.user.profile_photo_url||`https://api.dicebear.com/7.x/avataaars/svg?seed=${e.user.email}`,size:"3xl",alt:e.user.name},null,8,["src","alt"]),_(v,{color:"primary",variant:"soft",size:"xs",icon:"i-lucide-camera",class:"absolute -bottom-1 -right-1 rounded-full",onClick:o})]),k("div",null,[k("h2",aft,q(e.user.name),1),k("p",ift,q(e.user.email),1),k("div",lft,[(A(!0),W(Ee,null,Ve(f.$page.props.auth.user?.roles,O=>(A(),B(x,{key:O,color:"primary",variant:"soft"},{default:S(()=>[J(q(O),1)]),_:2},1024))),128))])]),k("input",{ref_key:"photoInput",ref:r,type:"file",accept:"image/*",class:"hidden",onChange:s},null,544)]),_(E,{items:n,class:"w-full"},{profile:S(()=>[_(I,{class:"mt-4"},{default:S(()=>[k("form",{onSubmit:lt(i,["prevent"]),class:"space-y-6"},[k("div",uft,[_(C,{label:"Nama Lengkap",required:"",error:y(a).errors.name},{default:S(()=>[_($,{modelValue:y(a).name,"onUpdate:modelValue":p[0]||(p[0]=O=>y(a).name=O),placeholder:"Nama lengkap",class:"w-full",size:"lg",disabled:y(a).processing,onInput:p[1]||(p[1]=O=>y(a).clearErrors("name"))},null,8,["modelValue","disabled"])]),_:1},8,["error"]),_(C,{label:"Email",required:"",error:y(a).errors.email},{default:S(()=>[_($,{modelValue:y(a).email,"onUpdate:modelValue":p[2]||(p[2]=O=>y(a).email=O),type:"email",placeholder:"email@example.com",class:"w-full",size:"lg",disabled:y(a).processing,onInput:p[3]||(p[3]=O=>y(a).clearErrors("email"))},null,8,["modelValue","disabled"])]),_:1},8,["error"]),_(C,{label:"Nomor Telepon",error:y(a).errors.phone_number},{default:S(()=>[_($,{modelValue:y(a).phone_number,"onUpdate:modelValue":p[4]||(p[4]=O=>y(a).phone_number=O),placeholder:"08xxxxxxxxxx",class:"w-full",size:"lg",disabled:y(a).processing},null,8,["modelValue","disabled"])]),_:1},8,["error"]),_(C,{label:"Jenis Kelamin"},{default:S(()=>[_(M,{modelValue:y(a).gender,"onUpdate:modelValue":p[5]||(p[5]=O=>y(a).gender=O),items:e.genderOptions,"value-key":"value","label-key":"label",placeholder:"Pilih jenis kelamin",class:"w-full",size:"lg",disabled:y(a).processing},null,8,["modelValue","items","disabled"])]),_:1})]),k("div",cft,[_(v,{type:"submit",color:"primary",size:"lg",loading:y(a).processing},{default:S(()=>[...p[11]||(p[11]=[J(" Simpan Perubahan ",-1)])]),_:1},8,["loading"])])],32)]),_:1})]),security:S(()=>[_(I,{class:"mt-4"},{header:S(()=>[...p[12]||(p[12]=[k("h3",{class:"text-lg font-semibold"},"Ubah Password",-1)])]),default:S(()=>[k("form",{onSubmit:lt(c,["prevent"]),class:"space-y-6"},[_(C,{label:"Password Saat Ini",required:"",error:y(l).errors.current_password},{default:S(()=>[_($,{modelValue:y(l).current_password,"onUpdate:modelValue":p[6]||(p[6]=O=>y(l).current_password=O),type:"password",placeholder:"",class:"w-full",size:"lg",disabled:y(l).processing,onInput:p[7]||(p[7]=O=>y(l).clearErrors("current_password"))},null,8,["modelValue","disabled"])]),_:1},8,["error"]),k("div",dft,[_(C,{label:"Password Baru",required:"",error:y(l).errors.password},{default:S(()=>[_($,{modelValue:y(l).password,"onUpdate:modelValue":p[8]||(p[8]=O=>y(l).password=O),type:"password",placeholder:"",class:"w-full",size:"lg",disabled:y(l).processing,onInput:p[9]||(p[9]=O=>y(l).clearErrors("password"))},null,8,["modelValue","disabled"])]),_:1},8,["error"]),_(C,{label:"Konfirmasi Password",required:""},{default:S(()=>[_($,{modelValue:y(l).password_confirmation,"onUpdate:modelValue":p[10]||(p[10]=O=>y(l).password_confirmation=O),type:"password",placeholder:"",class:"w-full",size:"lg",disabled:y(l).processing},null,8,["modelValue","disabled"])]),_:1})]),k("div",fft,[_(v,{type:"submit",color:"primary",size:"lg",loading:y(l).processing},{default:S(()=>[...p[13]||(p[13]=[J(" Ubah Password ",-1)])]),_:1},8,["loading"])])],32)]),_:1})]),connections:S(()=>[_(I,{class:"mt-4"},{default:S(()=>[k("div",pft,[k("div",mft,[k("div",hft,[p[15]||(p[15]=k("div",{class:"p-3 bg-white dark:bg-gray-800 rounded-lg shadow-sm"},[k("svg",{class:"w-8 h-8",viewBox:"0 0 24 24"},[k("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),k("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),k("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),k("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})])],-1)),k("div",null,[p[14]||(p[14]=k("p",{class:"font-semibold text-lg"},"Google",-1)),k("p",gft,q(e.hasGoogleLinked?"Terhubung dengan akun Google":"Belum terhubung"),1)])]),e.hasGoogleLinked?(A(),B(v,{key:0,color:"error",variant:"soft",size:"lg",onClick:d,loading:u.value},{default:S(()=>[...p[16]||(p[16]=[J(" Putuskan Koneksi ",-1)])]),_:1},8,["loading"])):(A(),B(v,{key:1,color:"neutral",variant:"outline",size:"lg",as:"a",href:"/auth/google/link"},{default:S(()=>[...p[17]||(p[17]=[J(" Hubungkan ",-1)])]),_:1}))])])]),_:1})]),_:1})])]),_:1})]),_:1})}}},yft=Object.freeze(Object.defineProperty({__proto__:null,default:vft},Symbol.toStringTag,{value:"Module"})),bft={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},xft={class:"flex items-start justify-between mb-4"},wft={class:"text-xl font-bold"},kft={class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},_ft={class:"flex gap-2"},Sft={class:"text-center py-12"},$ft={class:"text-lg font-semibold"},Cft={class:"flex justify-end gap-2 w-full"},Mft={class:"flex items-start gap-4"},Aft={class:"p-3 bg-error/10 rounded-lg"},Tft={class:"flex-1"},Eft={class:"text-sm text-gray-500 mt-1"},Ift={class:"font-semibold"},Pft={class:"flex justify-end gap-2 w-full"},Oft={__name:"Index",props:{schoolYears:{type:Array,default:()=>[]}},setup(e){const t=K(!1),n=K(!1),r=K(!1),o=K(null),s=K(!1),a=Rt({name:"",is_active:!1}),i=()=>{r.value=!1,a.reset(),a.clearErrors(),t.value=!0},l=h=>{r.value=!0,o.value=h,a.name=h.name,a.is_active=h.is_active,a.clearErrors(),t.value=!0},c=()=>{t.value=!1,a.reset(),o.value=null},u=()=>{r.value?a.put(`/dashboard/school-years/${o.value.id}`,{onSuccess:()=>{c()}}):a.post("/dashboard/school-years",{onSuccess:()=>{c()}})},d=h=>{Qe.post(`/dashboard/school-years/${h.id}/activate`)},f=h=>{o.value=h,n.value=!0},p=()=>{n.value=!1,o.value=null},m=()=>{s.value=!0,Qe.delete(`/dashboard/school-years/${o.value.id}`,{onFinish:()=>{s.value=!1,p()}})};return(h,g)=>{const v=We,x=pn,$=ht,C=tt,M=bt,I=qt,E=ii,P=$r;return A(),B($t,{title:"Tahun Ajaran",heading:"Daftar Tahun Ajaran",description:"Kelola tahun ajaran akademik sekolah","page-id":"school-years"},{header:S(()=>[_(v,{color:"primary",icon:"i-lucide-plus",label:"Tambah Tahun Ajaran",onClick:i})]),default:S(()=>[k("div",bft,[(A(!0),W(Ee,null,Ve(e.schoolYears,O=>(A(),B($,{key:O.id},{default:S(()=>[k("div",xft,[k("div",null,[k("h3",wft,q(O.name),1),k("p",kft,q(O.is_active?"Tahun Ajaran Aktif":"Tidak Aktif"),1)]),_(x,{color:O.is_active?"info":"error",variant:"soft"},{default:S(()=>[J(q(O.is_active?"Aktif":"Non-Aktif"),1)]),_:2},1032,["color"])]),k("div",_ft,[O.is_active?X("",!0):(A(),B(v,{key:0,color:"success",variant:"soft",label:"Aktifkan",block:"",onClick:D=>d(O)},null,8,["onClick"])),_(v,{color:"neutral",variant:"soft",icon:"i-lucide-pencil",onClick:D=>l(O)},null,8,["onClick"]),_(v,{color:"error",variant:"soft",icon:"i-lucide-trash-2",disabled:O.is_active,onClick:D=>f(O)},null,8,["disabled","onClick"])])]),_:2},1024))),128)),e.schoolYears.length===0?(A(),B($,{key:0},{default:S(()=>[k("div",Sft,[_(C,{name:"i-lucide-calendar",class:"w-16 h-16 text-gray-400 mx-auto mb-4"}),g[5]||(g[5]=k("h3",{class:"text-lg font-semibold text-gray-700 dark:text-gray-300"}," Belum ada tahun ajaran ",-1)),g[6]||(g[6]=k("p",{class:"text-sm text-gray-500 mt-2"},' Klik tombol "Tambah Tahun Ajaran" untuk membuat tahun ajaran baru ',-1))])]),_:1})):X("",!0)]),_(P,{open:t.value,"onUpdate:open":g[3]||(g[3]=O=>t.value=O)},{header:S(()=>[k("h3",$ft,q(r.value?"Edit Tahun Ajaran":"Tambah Tahun Ajaran"),1)]),body:S(()=>[k("form",{onSubmit:lt(u,["prevent"]),class:"space-y-4"},[_(I,{label:"Nama Tahun Ajaran",required:"",error:y(a).errors.name},{default:S(()=>[_(M,{modelValue:y(a).name,"onUpdate:modelValue":g[0]||(g[0]=O=>y(a).name=O),placeholder:"Contoh: 2024/2025",size:"lg",class:"w-full",disabled:y(a).processing,onInput:g[1]||(g[1]=O=>y(a).clearErrors("name"))},null,8,["modelValue","disabled"])]),_:1},8,["error"]),_(I,{label:"Status"},{default:S(()=>[_(E,{modelValue:y(a).is_active,"onUpdate:modelValue":g[2]||(g[2]=O=>y(a).is_active=O),label:"Aktifkan tahun ajaran ini",disabled:y(a).processing},null,8,["modelValue","disabled"]),g[7]||(g[7]=k("p",{class:"text-xs text-gray-500 mt-1"}," Jika diaktifkan, tahun ajaran lain akan otomatis dinonaktifkan ",-1))]),_:1})],32)]),footer:S(()=>[k("div",Cft,[_(v,{color:"neutral",variant:"soft",label:"Batal",onClick:c,disabled:y(a).processing},null,8,["disabled"]),_(v,{color:"primary",label:r.value?"Simpan":"Tambah",loading:y(a).processing,onClick:u},null,8,["label","loading"])])]),_:1},8,["open"]),_(P,{open:n.value,"onUpdate:open":g[4]||(g[4]=O=>n.value=O)},{header:S(()=>[...g[8]||(g[8]=[k("h3",{class:"text-lg font-semibold"},"Hapus Tahun Ajaran",-1)])]),body:S(()=>[k("div",Mft,[k("div",Aft,[_(C,{name:"i-lucide-alert-triangle",class:"w-6 h-6 text-error"})]),k("div",Tft,[g[11]||(g[11]=k("h4",{class:"font-semibold"},"Apakah Anda yakin?",-1)),k("p",Eft,[g[9]||(g[9]=J(" Tahun ajaran ",-1)),k("span",Ift,q(o.value?.name),1),g[10]||(g[10]=J(" akan dihapus secara permanen. Tindakan ini tidak dapat dibatalkan. ",-1))])])])]),footer:S(()=>[k("div",Pft,[_(v,{color:"neutral",variant:"soft",label:"Batal",onClick:p,disabled:s.value},null,8,["disabled"]),_(v,{color:"error",label:"Hapus",loading:s.value,onClick:m},null,8,["loading"])])]),_:1},8,["open"])]),_:1})}}},Rft=Object.freeze(Object.defineProperty({__proto__:null,default:Oft},Symbol.toStringTag,{value:"Module"})),Bft={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Nft={class:"border-t pt-4"},Dft={class:"flex justify-between items-center mb-4"},Fft={key:0,class:"text-center py-8 bg-gray-50 dark:bg-gray-800 rounded-lg dashed border-2 border-gray-200 dark:border-gray-700"},qft={key:1,class:"space-y-3"},zft={class:"py-2 text-sm font-bold text-gray-400 w-6"},Lft={class:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-3"},jft={class:"flex justify-end gap-2 pt-6 border-t mt-6"},Vft={__name:"Create",setup(e){const t=Rt({name:"",short_name:"",levels:[{name:"",order_level:1}]}),n=()=>{const s=t.levels.length>0?Math.max(...t.levels.map(a=>Number(a.order_level)))+1:1;t.levels.push({name:"",order_level:s})},r=s=>{t.levels.splice(s,1)},o=()=>{t.post("/dashboard/schools")};return(s,a)=>{const i=bt,l=qt,c=We,u=ht;return A(),B($t,{title:"Tambah Sekolah",heading:"Tambah Sekolah Baru",description:"Buat data master sekolah dan jenjang kelas","page-id":"master-schools-create"},{default:S(()=>[_(u,null,{default:S(()=>[k("form",{onSubmit:lt(o,["prevent"]),class:"space-y-6"},[k("div",Bft,[_(l,{label:"Nama Sekolah",name:"name",error:y(t).errors.name},{default:S(()=>[_(i,{modelValue:y(t).name,"onUpdate:modelValue":a[0]||(a[0]=d=>y(t).name=d),placeholder:"Contoh: Sekolah Menengah Kejuruan"},null,8,["modelValue"])]),_:1},8,["error"]),_(l,{label:"Singkatan",name:"short_name",error:y(t).errors.short_name},{default:S(()=>[_(i,{modelValue:y(t).short_name,"onUpdate:modelValue":a[1]||(a[1]=d=>y(t).short_name=d),placeholder:"Contoh: SMK"},null,8,["modelValue"])]),_:1},8,["error"])]),k("div",Nft,[k("div",Dft,[a[2]||(a[2]=k("h3",{class:"text-lg font-semibold"},"Jenjang Kelas",-1)),_(c,{size:"sm",color:"primary",variant:"soft",icon:"i-lucide-plus",label:"Tambah Jenjang",onClick:n})]),y(t).levels.length===0?(A(),W("div",Fft,[...a[3]||(a[3]=[k("p",{class:"text-gray-500"},"Belum ada jenjang kelas ditambahkan",-1)])])):(A(),W("div",qft,[(A(!0),W(Ee,null,Ve(y(t).levels,(d,f)=>(A(),W("div",{key:f,class:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg"},[k("span",zft,q(f+1)+".",1),k("div",Lft,[_(l,{name:`levels.${f}.name`,error:y(t).errors[`levels.${f}.name`]},{default:S(()=>[_(i,{modelValue:d.name,"onUpdate:modelValue":p=>d.name=p,placeholder:"Nama Jenjang (e.g. Kelas 10)"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["name","error"]),_(l,{name:`levels.${f}.order_level`,error:y(t).errors[`levels.${f}.order_level`]},{default:S(()=>[_(i,{modelValue:d.order_level,"onUpdate:modelValue":p=>d.order_level=p,type:"number",placeholder:"Urutan (e.g. 1)"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["name","error"])]),_(c,{color:"error",variant:"ghost",icon:"i-lucide-trash",onClick:p=>r(f),tabindex:"-1"},null,8,["onClick"])]))),128))]))]),k("div",jft,[_(c,{color:"neutral",variant:"soft",label:"Batal",to:"/dashboard/schools"}),_(c,{type:"submit",color:"primary",label:"Simpan",loading:y(t).processing},null,8,["loading"])])],32)]),_:1})]),_:1})}}},Uft=Object.freeze(Object.defineProperty({__proto__:null,default:Vft},Symbol.toStringTag,{value:"Module"})),Kft={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Hft={class:"border-t pt-4"},Wft={class:"flex justify-between items-center mb-4"},Gft={key:0,class:"text-center py-8 bg-gray-50 dark:bg-gray-800 rounded-lg dashed border-2 border-gray-200 dark:border-gray-700"},Jft={key:1,class:"space-y-3"},Yft={class:"py-2 text-sm font-bold text-gray-400 w-6"},Qft={class:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-3"},Xft={class:"flex justify-end gap-2 pt-6 border-t mt-6"},Zft={__name:"Edit",props:{school:Object},setup(e){const t=e,n=Rt({name:t.school.name,short_name:t.school.short_name,levels:t.school.school_levels?.map(a=>({id:a.id,name:a.name,order_level:a.order_level}))||[]}),r=()=>{const a=n.levels.length>0?Math.max(...n.levels.map(i=>Number(i.order_level)))+1:1;n.levels.push({name:"",order_level:a})},o=a=>{n.levels.splice(a,1)},s=()=>{n.put(`/dashboard/schools/${t.school.id}`)};return(a,i)=>{const l=bt,c=qt,u=We,d=ht;return A(),B($t,{title:"Edit Sekolah",heading:"Edit Data Sekolah",description:"Perbarui data sekolah dan jenjang kelas","page-id":"master-schools-edit"},{default:S(()=>[_(d,null,{default:S(()=>[k("form",{onSubmit:lt(s,["prevent"]),class:"space-y-6"},[k("div",Kft,[_(c,{label:"Nama Sekolah",name:"name",error:y(n).errors.name},{default:S(()=>[_(l,{modelValue:y(n).name,"onUpdate:modelValue":i[0]||(i[0]=f=>y(n).name=f)},null,8,["modelValue"])]),_:1},8,["error"]),_(c,{label:"Singkatan",name:"short_name",error:y(n).errors.short_name},{default:S(()=>[_(l,{modelValue:y(n).short_name,"onUpdate:modelValue":i[1]||(i[1]=f=>y(n).short_name=f)},null,8,["modelValue"])]),_:1},8,["error"])]),k("div",Hft,[k("div",Wft,[i[2]||(i[2]=k("h3",{class:"text-lg font-semibold"},"Jenjang Kelas",-1)),_(u,{size:"sm",color:"primary",variant:"soft",icon:"i-lucide-plus",label:"Tambah Jenjang",onClick:r})]),y(n).levels.length===0?(A(),W("div",Gft,[...i[3]||(i[3]=[k("p",{class:"text-gray-500"},"Belum ada jenjang kelas ditambahkan",-1)])])):(A(),W("div",Jft,[(A(!0),W(Ee,null,Ve(y(n).levels,(f,p)=>(A(),W("div",{key:p,class:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg"},[k("span",Yft,q(p+1)+".",1),k("div",Qft,[_(c,{name:`levels.${p}.name`,error:y(n).errors[`levels.${p}.name`]},{default:S(()=>[_(l,{modelValue:f.name,"onUpdate:modelValue":m=>f.name=m,placeholder:"Nama Jenjang"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["name","error"]),_(c,{name:`levels.${p}.order_level`,error:y(n).errors[`levels.${p}.order_level`]},{default:S(()=>[_(l,{modelValue:f.order_level,"onUpdate:modelValue":m=>f.order_level=m,type:"number",placeholder:"Urutan"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["name","error"])]),_(u,{color:"error",variant:"ghost",icon:"i-lucide-trash",onClick:m=>o(p),tabindex:"-1"},null,8,["onClick"])]))),128))]))]),k("div",Xft,[_(u,{color:"neutral",variant:"soft",label:"Batal",to:"/dashboard/schools"}),_(u,{type:"submit",color:"primary",label:"Simpan Perubahan",loading:y(n).processing},null,8,["loading"])])],32)]),_:1})]),_:1})}}},ept=Object.freeze(Object.defineProperty({__proto__:null,default:Zft},Symbol.toStringTag,{value:"Module"})),tpt={class:"flex gap-2"},npt={class:"font-medium"},rpt={class:"flex flex-wrap gap-1"},opt={key:0,class:"text-sm text-gray-400 italic"},spt={class:"flex gap-1"},apt={class:"flex justify-between items-center px-4 py-3 border-t border-default"},ipt={class:"text-sm text-muted"},lpt={class:"flex items-start gap-4"},upt={class:"p-3 bg-error/10 rounded-lg"},cpt={class:"flex-1"},dpt={class:"text-sm text-muted mt-1"},fpt={class:"font-semibold"},ppt={class:"flex justify-end gap-2 w-full"},mpt={__name:"Index",props:{schools:Object,filters:Object},setup(e){const t=e,n=K(t.filters?.search||""),r=K(t.schools?.current_page||1),o=K(!1),s=[{accessorKey:"name",header:"Nama Sekolah"},{accessorKey:"short_name",header:"Singkatan"},{accessorKey:"school_levels",header:"Jenjang Kelas"},{accessorKey:"actions",header:"Aksi"}],a=()=>{Qe.get("/dashboard/schools",{search:n.value},{preserveState:!0,replace:!0})};He(n,Sf.debounce(()=>{a()},500)),He(r,p=>{Qe.get("/dashboard/schools",{page:p,search:n.value},{preserveState:!0,replace:!0})});const i=K(!1),l=K(null),c=K(!1),u=p=>{l.value=p,i.value=!0},d=()=>{i.value=!1,l.value=null},f=()=>{c.value=!0,Qe.delete(`/dashboard/schools/${l.value.id}`,{onFinish:()=>{c.value=!1,d()}})};return(p,m)=>{const h=bt,g=We,v=pn,x=xr,$=Fr,C=ht,M=tt,I=$r;return A(),B($t,{title:"Master Sekolah",heading:"Data Sekolah & Jenjang",description:"Kelola data master sekolah dan tingkatan kelas","page-id":"master-schools"},{header:S(()=>[k("div",tpt,[_(h,{modelValue:n.value,"onUpdate:modelValue":m[0]||(m[0]=E=>n.value=E),icon:"i-lucide-search",placeholder:"Cari sekolah...",class:"w-64",onKeyup:no(a,["enter"])},null,8,["modelValue"]),_(g,{color:"primary",icon:"i-lucide-plus",label:"Tambah Sekolah",to:"/dashboard/schools/create"})])]),default:S(()=>[_(C,null,{default:S(()=>[_(x,{data:e.schools.data,columns:s,loading:o.value},{"name-cell":S(({row:E})=>[k("span",npt,q(E.original.name),1)]),"short_name-cell":S(({row:E})=>[_(v,{color:"neutral",variant:"soft"},{default:S(()=>[J(q(E.original.short_name),1)]),_:2},1024)]),"school_levels-cell":S(({row:E})=>[k("div",rpt,[(A(!0),W(Ee,null,Ve(E.original.school_levels,P=>(A(),B(v,{key:P.id,color:"primary",variant:"subtle",size:"sm"},{default:S(()=>[J(q(P.name),1)]),_:2},1024))),128)),E.original.school_levels?.length?X("",!0):(A(),W("span",opt," Belum ada jenjang "))])]),"actions-cell":S(({row:E})=>[k("div",spt,[_(g,{color:"neutral",variant:"ghost",size:"xs",icon:"i-lucide-pencil",to:`/dashboard/schools/${E.original.id}/edit`},null,8,["to"]),_(g,{color:"error",variant:"ghost",size:"xs",icon:"i-lucide-trash-2",onClick:P=>u(E.original)},null,8,["onClick"])])]),_:1},8,["data","loading"]),k("div",apt,[k("span",ipt," Showing "+q(e.schools.from)+" to "+q(e.schools.to)+" of "+q(e.schools.total)+" entries ",1),_($,{modelValue:r.value,"onUpdate:modelValue":m[1]||(m[1]=E=>r.value=E),total:e.schools.total,"page-count":e.schools.per_page},null,8,["modelValue","total","page-count"])])]),_:1}),_(I,{open:i.value,"onUpdate:open":m[2]||(m[2]=E=>i.value=E)},{header:S(()=>[...m[3]||(m[3]=[k("h3",{class:"text-lg font-semibold"},"Hapus Sekolah",-1)])]),body:S(()=>[k("div",lpt,[k("div",upt,[_(M,{name:"i-lucide-alert-triangle",class:"w-6 h-6 text-error"})]),k("div",cpt,[m[6]||(m[6]=k("h4",{class:"font-semibold"},"Apakah Anda yakin?",-1)),k("p",dpt,[m[4]||(m[4]=J(" Sekolah ",-1)),k("span",fpt,q(l.value?.name),1),m[5]||(m[5]=J(" akan dihapus beserta semua jenjang kelasnya. ",-1))])])])]),footer:S(()=>[k("div",ppt,[_(g,{color:"neutral",variant:"soft",label:"Batal",onClick:d,disabled:c.value},null,8,["disabled"]),_(g,{color:"error",label:"Hapus",loading:c.value,onClick:f},null,8,["loading"])])]),_:1},8,["open"])]),_:1})}}},hpt=Object.freeze(Object.defineProperty({__proto__:null,default:mpt},Symbol.toStringTag,{value:"Module"})),gpt={class:"flex gap-2"},vpt={__name:"Letter",props:{boardingSchool:Object},setup(e){const t=e,n=Rt({letter_head_name:t.boardingSchool.letter_head_name||"",letter_secretary_name:t.boardingSchool.letter_secretary_name||""}),r=()=>{n.patch("/dashboard/settings/letter",{preserveScroll:!0})};return(o,s)=>{const a=bt,i=qt,l=We,c=ht;return A(),B($t,{title:"Pengaturan Surat","page-id":"letter-settings","content-class":"p-6"},{default:S(()=>[_(c,null,{header:S(()=>[...s[4]||(s[4]=[k("h3",{class:"text-lg font-semibold"},"Pengaturan Penandatangan Surat Izin",-1),k("p",{class:"text-sm text-gray-500 mt-1"}," Nama-nama berikut akan digunakan untuk penandatanganan surat izin santri ",-1)])]),default:S(()=>[k("form",{onSubmit:lt(r,["prevent"]),class:"space-y-6"},[_(i,{label:"Nama Ketua",required:"",error:y(n).errors.letter_head_name},{default:S(()=>[_(a,{modelValue:y(n).letter_head_name,"onUpdate:modelValue":s[0]||(s[0]=u=>y(n).letter_head_name=u),placeholder:"Masukkan nama lengkap ketua",onInput:s[1]||(s[1]=u=>y(n).clearErrors("letter_head_name")),class:"w-64"},null,8,["modelValue"])]),_:1},8,["error"]),_(i,{label:"Nama Sekretaris",required:"",error:y(n).errors.letter_secretary_name},{default:S(()=>[_(a,{modelValue:y(n).letter_secretary_name,"onUpdate:modelValue":s[2]||(s[2]=u=>y(n).letter_secretary_name=u),placeholder:"Masukkan nama lengkap sekretaris",onInput:s[3]||(s[3]=u=>y(n).clearErrors("letter_secretary_name")),class:"w-64"},null,8,["modelValue"])]),_:1},8,["error"]),k("div",gpt,[_(l,{type:"submit",color:"primary",loading:y(n).processing},{default:S(()=>[...s[5]||(s[5]=[J(" Simpan Perubahan ",-1)])]),_:1},8,["loading"])])],32)]),_:1})]),_:1})}}},ypt=Object.freeze(Object.defineProperty({__proto__:null,default:vpt},Symbol.toStringTag,{value:"Module"})),bpt={slots:{root:"flex gap-4",header:"flex",item:"group text-center relative w-full",container:"relative",trigger:"rounded-full font-medium text-center align-middle flex items-center justify-center font-semibold group-data-[state=completed]:text-inverted group-data-[state=active]:text-inverted text-muted bg-elevated focus-visible:outline-2 focus-visible:outline-offset-2",indicator:"flex items-center justify-center size-full",icon:"shrink-0",separator:"absolute rounded-full group-data-[disabled]:opacity-75 bg-accented",wrapper:"",title:"font-medium text-default",description:"text-muted text-wrap",content:"size-full"},variants:{orientation:{horizontal:{root:"flex-col",container:"flex justify-center",separator:"top-[calc(50%-2px)] h-0.5",wrapper:"mt-1"},vertical:{header:"flex-col gap-4",item:"flex text-start",separator:"start-[calc(50%-1px)] -bottom-[10px] w-0.5"}},size:{xs:{trigger:"size-6 text-xs",icon:"size-3",title:"text-xs",description:"text-xs",wrapper:"mt-1.5"},sm:{trigger:"size-8 text-sm",icon:"size-4",title:"text-xs",description:"text-xs",wrapper:"mt-2"},md:{trigger:"size-10 text-base",icon:"size-5",title:"text-sm",description:"text-sm",wrapper:"mt-2.5"},lg:{trigger:"size-12 text-lg",icon:"size-6",title:"text-base",description:"text-base",wrapper:"mt-3"},xl:{trigger:"size-14 text-xl",icon:"size-7",title:"text-lg",description:"text-lg",wrapper:"mt-3.5"}},color:{primary:{trigger:"group-data-[state=completed]:bg-primary group-data-[state=active]:bg-primary focus-visible:outline-primary",separator:"group-data-[state=completed]:bg-primary"},secondary:{trigger:"group-data-[state=completed]:bg-secondary group-data-[state=active]:bg-secondary focus-visible:outline-secondary",separator:"group-data-[state=completed]:bg-secondary"},success:{trigger:"group-data-[state=completed]:bg-success group-data-[state=active]:bg-success focus-visible:outline-success",separator:"group-data-[state=completed]:bg-success"},info:{trigger:"group-data-[state=completed]:bg-info group-data-[state=active]:bg-info focus-visible:outline-info",separator:"group-data-[state=completed]:bg-info"},warning:{trigger:"group-data-[state=completed]:bg-warning group-data-[state=active]:bg-warning focus-visible:outline-warning",separator:"group-data-[state=completed]:bg-warning"},error:{trigger:"group-data-[state=completed]:bg-error group-data-[state=active]:bg-error focus-visible:outline-error",separator:"group-data-[state=completed]:bg-error"},neutral:{trigger:"group-data-[state=completed]:bg-inverted group-data-[state=active]:bg-inverted focus-visible:outline-inverted",separator:"group-data-[state=completed]:bg-inverted"}}},compoundVariants:[{orientation:"horizontal",size:"xs",class:{separator:"start-[calc(50%+16px)] end-[calc(-50%+16px)]"}},{orientation:"horizontal",size:"sm",class:{separator:"start-[calc(50%+20px)] end-[calc(-50%+20px)]"}},{orientation:"horizontal",size:"md",class:{separator:"start-[calc(50%+28px)] end-[calc(-50%+28px)]"}},{orientation:"horizontal",size:"lg",class:{separator:"start-[calc(50%+32px)] end-[calc(-50%+32px)]"}},{orientation:"horizontal",size:"xl",class:{separator:"start-[calc(50%+36px)] end-[calc(-50%+36px)]"}},{orientation:"vertical",size:"xs",class:{separator:"top-[30px]",item:"gap-1.5"}},{orientation:"vertical",size:"sm",class:{separator:"top-[38px]",item:"gap-2"}},{orientation:"vertical",size:"md",class:{separator:"top-[46px]",item:"gap-2.5"}},{orientation:"vertical",size:"lg",class:{separator:"top-[54px]",item:"gap-3"}},{orientation:"vertical",size:"xl",class:{separator:"top-[62px]",item:"gap-3.5"}}],defaultVariants:{size:"md",color:"primary"}},jT={__name:"Stepper",props:bs({as:{type:null,required:!1},items:{type:Array,required:!0},size:{type:null,required:!1},color:{type:null,required:!1},orientation:{type:null,required:!1,default:"horizontal"},defaultValue:{type:[String,Number],required:!1},disabled:{type:Boolean,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},linear:{type:Boolean,required:!1,default:!0}},{modelValue:{type:[String,Number]},modelModifiers:{}}),emits:bs(["next","prev"],["update:modelValue"]),setup(e,{expose:t,emit:n}){const r=e,o=n,s=rn(),a=Yn(e,"modelValue"),i=Bt(),l=jn(Pn(r,"as","orientation","linear")),c=H(()=>Ye({extend:Ye(bpt),...i.ui?.stepper||{}})({orientation:r.orientation,size:r.size,color:r.color})),u=H({get(){const m=a.value??r.defaultValue;return(typeof m=="string"?r.items.findIndex(h=>h.value===m):m)??0},set(m){a.value=r.items?.[m]?.value??m}}),d=H(()=>r.items?.[u.value]),f=H(()=>u.value<r.items?.length-1),p=H(()=>u.value>0);return t({next(){f.value&&(u.value+=1,o("next",d.value))},prev(){p.value&&(u.value-=1,o("prev",d.value))},hasNext:f,hasPrev:p}),(m,h)=>(A(),B(y(Ple),oe(y(l),{modelValue:u.value,"onUpdate:modelValue":h[0]||(h[0]=g=>u.value=g),"data-slot":"root",class:c.value.root({class:[r.ui?.root,r.class]})}),{default:S(()=>[k("div",{"data-slot":"header",class:Z(c.value.header({class:r.ui?.header}))},[(A(!0),W(Ee,null,Ve(e.items,(g,v)=>(A(),B(y(Ble),{key:g.value??v,step:v,disabled:g.disabled||r.disabled,"data-slot":"item",class:Z(c.value.item({class:[r.ui?.item,g.ui?.item,g.class]}))},{default:S(()=>[k("div",{"data-slot":"container",class:Z(c.value.container({class:[r.ui?.container,g.ui?.container]}))},[_(y(Kle),{"data-slot":"trigger",class:Z(c.value.trigger({class:[r.ui?.trigger,g.ui?.trigger]}))},{default:S(()=>[_(y(qle),{"data-slot":"indicator",class:Z(c.value.indicator({class:[r.ui?.indicator,g.ui?.indicator]}))},{default:S(()=>[U(m.$slots,"indicator",{item:g,ui:c.value},()=>[g.icon?(A(),B(tt,{key:0,name:g.icon,"data-slot":"icon",class:Z(c.value.icon({class:[r.ui?.icon,g.ui?.icon]}))},null,8,["name","class"])):(A(),W(Ee,{key:1},[J(q(v+1),1)],64))])]),_:2},1032,["class"])]),_:2},1032,["class"]),v<e.items.length-1?(A(),B(y(Lle),{key:0,"data-slot":"separator",class:Z(c.value.separator({class:[r.ui?.separator,g.ui?.separator]}))},null,8,["class"])):X("",!0)],2),k("div",{"data-slot":"wrapper",class:Z(c.value.wrapper({class:[r.ui?.wrapper,g.ui?.wrapper]}))},[_(y(Vle),{as:"div","data-slot":"title",class:Z(c.value.title({class:[r.ui?.title,g.ui?.title]}))},{default:S(()=>[U(m.$slots,"title",{item:g},()=>[J(q(g.title),1)])]),_:2},1032,["class"]),_(y(Dle),{as:"div","data-slot":"description",class:Z(c.value.description({class:[r.ui?.description,g.ui?.description]}))},{default:S(()=>[U(m.$slots,"description",{item:g},()=>[J(q(g.description),1)])]),_:2},1032,["class"])],2)]),_:2},1032,["step","disabled","class"]))),128))],2),d.value?.content||s.content||d.value?.slot?(A(),W("div",{key:0,"data-slot":"content",class:Z(c.value.content({class:r.ui?.content}))},[U(m.$slots,d.value?.slot||"content",{item:d.value},()=>[J(q(d.value?.content),1)])],2)):X("",!0)]),_:3},16,["modelValue","class"]))}},xpt={class:"space-y-4 mt-4"},wpt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},kpt={key:0,class:"mt-2"},_pt=["src"],Spt={class:"space-y-4"},$pt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Cpt={class:"space-y-6 mt-4"},Mpt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Apt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Tpt={class:"space-y-4 mt-4"},Ept={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ipt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ppt={class:"flex justify-between pt-6 border-t border-gray-200"},Opt={__name:"Create",props:{boardingSchools:Array,genders:Array,statuses:Array,provinces:Array,classrooms:Array,bedRooms:Array,schools:Array,activeSchoolYear:Object},setup(e){const t=e,n=na("stepper"),r=[{slot:"profile",title:"Data Pribadi",icon:"i-lucide-user"},{slot:"parents",title:"Orang Tua",icon:"i-lucide-users"},{slot:"academic",title:"Akademik",icon:"i-lucide-graduation-cap"}],o=Rt({name:"",student_id:"",email:"",phone_number:"",place_of_birth:"",date_of_birth:"",gender:"male",status:"active",child_number:"",siblings_count:"",address:"",photo:null,province_id:null,regency_id:null,district_id:null,village_id:null,father_name:"",father_job:"",father_phone:"",father_income:"",mother_name:"",mother_job:"",mother_phone:"",mother_income:"",boarding_school_id:t.boardingSchools?.[0]?.id||null,classroom_id:null,bed_room_id:null,school_id:null,school_level_id:null}),s=K(null),a=g=>{const v=g.target.files[0];v&&(o.photo=v,s.value=URL.createObjectURL(v))},i=K([]),l=K([]),c=K([]),u=async()=>{if(o.regency_id=null,o.district_id=null,o.village_id=null,i.value=[],l.value=[],c.value=[],!!o.province_id)try{const{data:g}=await nn.get(`/dashboard/region/${o.province_id}/regencies`);i.value=g}catch(g){console.error(g)}},d=async()=>{if(o.district_id=null,o.village_id=null,l.value=[],c.value=[],!!o.regency_id)try{const{data:g}=await nn.get(`/dashboard/region/${o.regency_id}/districts`);l.value=g}catch(g){console.error(g)}},f=async()=>{if(o.village_id=null,c.value=[],!!o.district_id)try{const{data:g}=await nn.get(`/dashboard/region/${o.district_id}/villages`);c.value=g}catch(g){console.error(g)}},p=H(()=>{if(!o.school_id)return[];const g=t.schools.find(v=>v.id===o.school_id);return g?g.school_levels:[]}),m=()=>{o.school_level_id=null},h=()=>{o.post("/dashboard/students",{onError:g=>{const v=Object.values(g)[0];v&&console.error("Validation Error:",v)}})};return(g,v)=>{const x=bt,$=qt,C=er,M=Ec("UDivider"),I=Wn,E=Uc,P=ht,O=bo,D=jT,L=We;return A(),B($t,{title:"Tambah Santri",heading:"Input Data Santri Baru",description:"Form pendaftaran santri baru dengan data lengkap","page-id":"students-create","back-url":"/dashboard/students"},{default:S(()=>[_(P,null,{default:S(()=>[k("form",{onSubmit:lt(h,["prevent"])},[_(D,{ref:"stepper",items:r,class:"w-full mb-8"},{profile:S(({item:V})=>[k("div",xpt,[k("div",wpt,[_($,{label:"Nama Lengkap",name:"name",error:y(o).errors.name,required:""},{default:S(()=>[_(x,{modelValue:y(o).name,"onUpdate:modelValue":v[0]||(v[0]=F=>y(o).name=F),placeholder:"Nama sesuai ijazah",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"]),_($,{label:"NIS (Nomor Induk Santri)",name:"student_id",error:y(o).errors.student_id,required:""},{default:S(()=>[_(x,{modelValue:y(o).student_id,"onUpdate:modelValue":v[1]||(v[1]=F=>y(o).student_id=F),placeholder:"Nomor Induk Santri",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"]),_($,{label:"Email",name:"email",error:y(o).errors.email,hint:"Opsional, akan dibuat otomatis dari NIS jika kosong"},{default:S(()=>[_(x,{modelValue:y(o).email,"onUpdate:modelValue":v[2]||(v[2]=F=>y(o).email=F),type:"email",placeholder:"example@santri.com",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"]),_($,{label:"Foto",name:"photo",error:y(o).errors.photo,hint:"Opsional, max 2MB"},{default:S(()=>[_(x,{type:"file",accept:"image/*",onChange:a,class:"w-full"}),s.value?(A(),W("div",kpt,[k("img",{src:s.value,alt:"Preview",class:"w-24 h-24 object-cover rounded"},null,8,_pt)])):X("",!0)]),_:1},8,["error"]),_($,{label:"Nomor HP",name:"phone_number",error:y(o).errors.phone_number},{default:S(()=>[_(x,{modelValue:y(o).phone_number,"onUpdate:modelValue":v[3]||(v[3]=F=>y(o).phone_number=F),placeholder:"08...",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"]),_($,{label:"Tempat Lahir",name:"place_of_birth",error:y(o).errors.place_of_birth,required:""},{default:S(()=>[_(x,{modelValue:y(o).place_of_birth,"onUpdate:modelValue":v[4]||(v[4]=F=>y(o).place_of_birth=F),class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"]),_($,{label:"Tanggal Lahir",name:"date_of_birth",error:y(o).errors.date_of_birth,required:""},{default:S(()=>[_(x,{modelValue:y(o).date_of_birth,"onUpdate:modelValue":v[5]||(v[5]=F=>y(o).date_of_birth=F),type:"date",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"]),_($,{label:"Jenis Kelamin",name:"gender",error:y(o).errors.gender,required:""},{default:S(()=>[_(C,{modelValue:y(o).gender,"onUpdate:modelValue":v[6]||(v[6]=F=>y(o).gender=F),items:e.genders,"label-key":"label","value-key":"value",placeholder:"Pilih Jenis Kelamin",class:"w-full"},null,8,["modelValue","items"])]),_:1},8,["error"]),_($,{label:"Status Santri",name:"status",error:y(o).errors.status,required:""},{default:S(()=>[_(C,{modelValue:y(o).status,"onUpdate:modelValue":v[7]||(v[7]=F=>y(o).status=F),items:e.statuses,"label-key":"label","value-key":"value",placeholder:"Pilih Status",class:"w-full"},null,8,["modelValue","items"])]),_:1},8,["error"]),_($,{label:"Anak Ke-",name:"child_number",error:y(o).errors.child_number},{default:S(()=>[_(x,{modelValue:y(o).child_number,"onUpdate:modelValue":v[8]||(v[8]=F=>y(o).child_number=F),type:"number",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"]),_($,{label:"Jumlah Saudara",name:"siblings_count",error:y(o).errors.siblings_count},{default:S(()=>[_(x,{modelValue:y(o).siblings_count,"onUpdate:modelValue":v[9]||(v[9]=F=>y(o).siblings_count=F),type:"number",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"])]),_(M,{label:"Alamat Lengkap"}),k("div",Spt,[_($,{label:"Alamat Jalan/Dusun",name:"address",error:y(o).errors.address,required:""},{default:S(()=>[_(I,{modelValue:y(o).address,"onUpdate:modelValue":v[10]||(v[10]=F=>y(o).address=F),placeholder:"Nama jalan, RT/RW, Dusun",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"]),k("div",$pt,[_($,{label:"Provinsi",name:"province_id",error:y(o).errors.province_id},{default:S(()=>[_(E,{modelValue:y(o).province_id,"onUpdate:modelValue":v[11]||(v[11]=F=>y(o).province_id=F),items:e.provinces,"label-key":"name","value-key":"id",placeholder:"Pilih Provinsi",searchable:"",onChange:u,class:"w-full"},null,8,["modelValue","items"])]),_:1},8,["error"]),_($,{label:"Kabupaten/Kota",name:"regency_id",error:y(o).errors.regency_id},{default:S(()=>[_(E,{modelValue:y(o).regency_id,"onUpdate:modelValue":v[12]||(v[12]=F=>y(o).regency_id=F),items:i.value,"label-key":"name","value-key":"id",placeholder:"Pilih Kota/Kabupaten",disabled:!y(o).province_id,searchable:"",onChange:d,class:"w-full"},null,8,["modelValue","items","disabled"])]),_:1},8,["error"]),_($,{label:"Kecamatan",name:"district_id",error:y(o).errors.district_id},{default:S(()=>[_(E,{modelValue:y(o).district_id,"onUpdate:modelValue":v[13]||(v[13]=F=>y(o).district_id=F),items:l.value,"label-key":"name","value-key":"id",placeholder:"Pilih Kecamatan",disabled:!y(o).regency_id,searchable:"",onChange:f,class:"w-full"},null,8,["modelValue","items","disabled"])]),_:1},8,["error"]),_($,{label:"Desa/Kelurahan",name:"village_id",error:y(o).errors.village_id},{default:S(()=>[_(E,{modelValue:y(o).village_id,"onUpdate:modelValue":v[14]||(v[14]=F=>y(o).village_id=F),items:c.value,"label-key":"name","value-key":"id",placeholder:"Pilih Desa",disabled:!y(o).district_id,searchable:"",class:"w-full"},null,8,["modelValue","items","disabled"])]),_:1},8,["error"])])])])]),parents:S(({item:V})=>[k("div",Cpt,[_(P,null,{header:S(()=>[...v[29]||(v[29]=[k("h3",{class:"font-semibold"},"Data Ayah",-1)])]),default:S(()=>[k("div",Mpt,[_($,{label:"Nama Ayah",name:"father_name",error:y(o).errors.father_name},{default:S(()=>[_(x,{modelValue:y(o).father_name,"onUpdate:modelValue":v[15]||(v[15]=F=>y(o).father_name=F),class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"]),_($,{label:"Pekerjaan Ayah",name:"father_job"},{default:S(()=>[_(x,{modelValue:y(o).father_job,"onUpdate:modelValue":v[16]||(v[16]=F=>y(o).father_job=F),class:"w-full"},null,8,["modelValue"])]),_:1}),_($,{label:"No HP Ayah",name:"father_phone"},{default:S(()=>[_(x,{modelValue:y(o).father_phone,"onUpdate:modelValue":v[17]||(v[17]=F=>y(o).father_phone=F),class:"w-full"},null,8,["modelValue"])]),_:1}),_($,{label:"Penghasilan Ayah",name:"father_income"},{default:S(()=>[_(x,{modelValue:y(o).father_income,"onUpdate:modelValue":v[18]||(v[18]=F=>y(o).father_income=F),class:"w-full"},null,8,["modelValue"])]),_:1})])]),_:1}),_(P,null,{header:S(()=>[...v[30]||(v[30]=[k("h3",{class:"font-semibold"},"Data Ibu",-1)])]),default:S(()=>[k("div",Apt,[_($,{label:"Nama Ibu",name:"mother_name",error:y(o).errors.mother_name},{default:S(()=>[_(x,{modelValue:y(o).mother_name,"onUpdate:modelValue":v[19]||(v[19]=F=>y(o).mother_name=F),class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"]),_($,{label:"Pekerjaan Ibu",name:"mother_job"},{default:S(()=>[_(x,{modelValue:y(o).mother_job,"onUpdate:modelValue":v[20]||(v[20]=F=>y(o).mother_job=F),class:"w-full"},null,8,["modelValue"])]),_:1}),_($,{label:"No HP Ibu",name:"mother_phone"},{default:S(()=>[_(x,{modelValue:y(o).mother_phone,"onUpdate:modelValue":v[21]||(v[21]=F=>y(o).mother_phone=F),class:"w-full"},null,8,["modelValue"])]),_:1}),_($,{label:"Penghasilan Ibu",name:"mother_income"},{default:S(()=>[_(x,{modelValue:y(o).mother_income,"onUpdate:modelValue":v[22]||(v[22]=F=>y(o).mother_income=F),class:"w-full"},null,8,["modelValue"])]),_:1})])]),_:1})])]),academic:S(({item:V})=>[k("div",Tpt,[e.activeSchoolYear?X("",!0):(A(),B(O,{key:0,color:"warning",variant:"subtle",title:"Peringatan",description:"Belum ada Tahun Ajaran Aktif. Data kelas dan kamar tidak akan tersimpan untuk tahun ajaran ini."})),k("div",Ept,[_($,{label:"Kelas Pondok",name:"classroom_id"},{default:S(()=>[_(E,{modelValue:y(o).classroom_id,"onUpdate:modelValue":v[23]||(v[23]=F=>y(o).classroom_id=F),items:e.classrooms,"label-key":"name","value-key":"id",placeholder:"Pilih Kelas",class:"w-full"},null,8,["modelValue","items"])]),_:1}),_($,{label:"Kamar / Asrama",name:"bed_room_id"},{default:S(()=>[_(E,{modelValue:y(o).bed_room_id,"onUpdate:modelValue":v[24]||(v[24]=F=>y(o).bed_room_id=F),items:e.bedRooms,"label-key":"name","value-key":"id",placeholder:"Pilih Kamar",class:"w-full"},null,8,["modelValue","items"])]),_:1})]),_(M,{label:"Sekolah Formal (Opsional)"}),k("div",Ipt,[_($,{label:"Sekolah Formal",name:"school_id"},{default:S(()=>[_(E,{modelValue:y(o).school_id,"onUpdate:modelValue":v[25]||(v[25]=F=>y(o).school_id=F),items:e.schools,"label-key":"name","value-key":"id",placeholder:"Pilih Sekolah Formal",onChange:m,class:"w-full"},null,8,["modelValue","items"])]),_:1}),_($,{label:"Tingkat/Kelas Formal",name:"school_level_id"},{default:S(()=>[_(E,{modelValue:y(o).school_level_id,"onUpdate:modelValue":v[26]||(v[26]=F=>y(o).school_level_id=F),items:p.value,"label-key":"name","value-key":"id",placeholder:"Pilih Tingkat",disabled:!y(o).school_id,class:"w-full"},null,8,["modelValue","items","disabled"])]),_:1})])])]),_:1},512),k("div",Ppt,[_(L,{disabled:!n.value?.hasPrev,onClick:v[27]||(v[27]=V=>n.value?.prev()),color:"neutral",variant:"soft",label:"Kembali","leading-icon":"i-lucide-arrow-left"},null,8,["disabled"]),n.value?.hasNext?(A(),B(L,{key:0,onClick:v[28]||(v[28]=V=>n.value?.next()),color:"primary",label:"Lanjut","trailing-icon":"i-lucide-arrow-right"})):(A(),B(L,{key:1,type:"submit",color:"primary",label:"Simpan Data Santri",loading:y(o).processing},null,8,["loading"]))])],32)]),_:1})]),_:1})}}},Rpt=Object.freeze(Object.defineProperty({__proto__:null,default:Opt},Symbol.toStringTag,{value:"Module"})),Bpt={class:"space-y-4 mt-4"},Npt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Dpt={key:0,class:"mt-2"},Fpt=["src"],qpt={class:"space-y-4"},zpt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Lpt={class:"space-y-6 mt-4"},jpt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Vpt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Upt={class:"space-y-4 mt-4"},Kpt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Hpt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Wpt={class:"flex justify-between pt-6 border-t border-gray-200"},Gpt={__name:"Edit",props:{student:Object,boardingSchools:Array,genders:Array,statuses:Array,provinces:Array,initialRegencies:Array,initialDistricts:Array,initialVillages:Array,regionIds:Object,academicIds:Object,classrooms:Array,bedRooms:Array,schools:Array,activeSchoolYear:Object},setup(e){const t=e,n=na("stepper"),r=[{slot:"profile",title:"Data Pribadi",icon:"i-lucide-user"},{slot:"parents",title:"Orang Tua",icon:"i-lucide-users"},{slot:"academic",title:"Akademik",icon:"i-lucide-graduation-cap"}],o=Rt({name:t.student.user.name||"",student_id:t.student.student_id,email:t.student.user.email,phone_number:t.student.user.phone_number,place_of_birth:t.student.place_of_birth,date_of_birth:t.student.date_of_birth,gender:t.student.gender,status:t.student.status,child_number:t.student.child_number,siblings_count:t.student.siblings_count,address:t.student.address,photo:null,province_id:t.regionIds.province_id,regency_id:t.regionIds.regency_id,district_id:t.regionIds.district_id,village_id:t.regionIds.village_id,father_name:t.student.father_name,father_job:t.student.father_job,father_phone:t.student.father_phone,father_income:t.student.father_income,mother_name:t.student.mother_name,mother_job:t.student.mother_job,mother_phone:t.student.mother_phone,mother_income:t.student.mother_income,boarding_school_id:t.student.boarding_school_id,classroom_id:t.academicIds.classroom_id,bed_room_id:t.academicIds.bed_room_id,school_id:t.academicIds.school_id,school_level_id:t.academicIds.school_level_id}),s=K(null),a=g=>{const v=g.target.files[0];v&&(o.photo=v,s.value=URL.createObjectURL(v))},i=K(t.initialRegencies||[]),l=K(t.initialDistricts||[]),c=K(t.initialVillages||[]),u=async(g=!1)=>{if(g&&(o.regency_id=null,o.district_id=null,o.village_id=null),i.value=[],l.value=[],c.value=[],!!o.province_id)try{const{data:v}=await nn.get(`/dashboard/region/${o.province_id}/regencies`);i.value=v}catch(v){console.error(v)}},d=async(g=!1)=>{if(g&&(o.district_id=null,o.village_id=null),l.value=[],c.value=[],!!o.regency_id)try{const{data:v}=await nn.get(`/dashboard/region/${o.regency_id}/districts`);l.value=v}catch(v){console.error(v)}},f=async(g=!1)=>{if(g&&(o.village_id=null),c.value=[],!!o.district_id)try{const{data:v}=await nn.get(`/dashboard/region/${o.district_id}/villages`);c.value=v}catch(v){console.error(v)}},p=H(()=>{if(!o.school_id)return[];const g=t.schools.find(v=>v.id===o.school_id);return g?g.school_levels:[]}),m=()=>{o.school_level_id=null},h=()=>{o.put(`/dashboard/students/${t.student.id}`,{onError:g=>{const v=Object.values(g)[0];v&&console.error("Validation Error:",v)}})};return(g,v)=>{const x=bt,$=qt,C=er,M=Ec("UDivider"),I=Wn,E=Uc,P=ht,O=bo,D=jT,L=We;return A(),B($t,{title:"Edit Santri",heading:`Edit Santri: ${e.student.user?.name}`,description:"Perbarui data santri lengkap","page-id":"students-edit","back-url":"/dashboard/students"},{default:S(()=>[_(P,null,{default:S(()=>[k("form",{onSubmit:lt(h,["prevent"])},[_(D,{ref:"stepper",items:r,class:"w-full mb-8"},{profile:S(({item:V})=>[k("div",Bpt,[k("div",Npt,[_($,{label:"Nama Lengkap",name:"name",error:y(o).errors.name,required:""},{default:S(()=>[_(x,{modelValue:y(o).name,"onUpdate:modelValue":v[0]||(v[0]=F=>y(o).name=F),placeholder:"Nama sesuai ijazah",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"]),_($,{label:"NIS (Nomor Induk Santri)",name:"student_id",error:y(o).errors.student_id,required:""},{default:S(()=>[_(x,{modelValue:y(o).student_id,"onUpdate:modelValue":v[1]||(v[1]=F=>y(o).student_id=F),placeholder:"Nomor Induk Santri",disabled:"",class:"bg-gray-100 w-full"},null,8,["modelValue"])]),_:1},8,["error"]),_($,{label:"Email",name:"email",error:y(o).errors.email,hint:"Opsional, akan dibuat otomatis dari NIS jika kosong"},{default:S(()=>[_(x,{modelValue:y(o).email,"onUpdate:modelValue":v[2]||(v[2]=F=>y(o).email=F),type:"email",placeholder:"example@santri.com",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"]),_($,{label:"Foto",name:"photo",error:y(o).errors.photo,hint:"Opsional, max 2MB"},{default:S(()=>[_(x,{type:"file",accept:"image/*",onChange:a,class:"w-full"}),s.value||e.student.user?.photo?(A(),W("div",Dpt,[k("img",{src:s.value||(e.student.user?.photo?.startsWith("http")?e.student.user.photo:`/storage/${e.student.user.photo}`),alt:"Preview",class:"w-24 h-24 object-cover rounded"},null,8,Fpt)])):X("",!0)]),_:1},8,["error"]),_($,{label:"Nomor HP",name:"phone_number",error:y(o).errors.phone_number},{default:S(()=>[_(x,{modelValue:y(o).phone_number,"onUpdate:modelValue":v[3]||(v[3]=F=>y(o).phone_number=F),placeholder:"08...",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"]),_($,{label:"Tempat Lahir",name:"place_of_birth",error:y(o).errors.place_of_birth,required:""},{default:S(()=>[_(x,{modelValue:y(o).place_of_birth,"onUpdate:modelValue":v[4]||(v[4]=F=>y(o).place_of_birth=F),class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"]),_($,{label:"Tanggal Lahir",name:"date_of_birth",error:y(o).errors.date_of_birth,required:""},{default:S(()=>[_(x,{modelValue:y(o).date_of_birth,"onUpdate:modelValue":v[5]||(v[5]=F=>y(o).date_of_birth=F),type:"date",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"]),_($,{label:"Jenis Kelamin",name:"gender",error:y(o).errors.gender,required:""},{default:S(()=>[_(C,{modelValue:y(o).gender,"onUpdate:modelValue":v[6]||(v[6]=F=>y(o).gender=F),items:e.genders,"label-key":"label","value-key":"value",placeholder:"Pilih Jenis Kelamin",class:"w-full"},null,8,["modelValue","items"])]),_:1},8,["error"]),_($,{label:"Status Santri",name:"status",error:y(o).errors.status,required:""},{default:S(()=>[_(C,{modelValue:y(o).status,"onUpdate:modelValue":v[7]||(v[7]=F=>y(o).status=F),items:e.statuses,"label-key":"label","value-key":"value",placeholder:"Pilih Status",class:"w-full"},null,8,["modelValue","items"])]),_:1},8,["error"]),_($,{label:"Anak Ke-",name:"child_number",error:y(o).errors.child_number},{default:S(()=>[_(x,{modelValue:y(o).child_number,"onUpdate:modelValue":v[8]||(v[8]=F=>y(o).child_number=F),type:"number",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"]),_($,{label:"Jumlah Saudara",name:"siblings_count",error:y(o).errors.siblings_count},{default:S(()=>[_(x,{modelValue:y(o).siblings_count,"onUpdate:modelValue":v[9]||(v[9]=F=>y(o).siblings_count=F),type:"number",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"])]),_(M,{label:"Alamat Lengkap"}),k("div",qpt,[_($,{label:"Alamat Jalan/Dusun",name:"address",error:y(o).errors.address,required:""},{default:S(()=>[_(I,{modelValue:y(o).address,"onUpdate:modelValue":v[10]||(v[10]=F=>y(o).address=F),placeholder:"Nama jalan, RT/RW, Dusun",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"]),k("div",zpt,[_($,{label:"Provinsi",name:"province_id",error:y(o).errors.province_id},{default:S(()=>[_(E,{modelValue:y(o).province_id,"onUpdate:modelValue":v[11]||(v[11]=F=>y(o).province_id=F),items:e.provinces,"label-key":"name","value-key":"id",placeholder:"Pilih Provinsi",searchable:"",onChange:v[12]||(v[12]=F=>u(!0)),class:"w-full"},null,8,["modelValue","items"])]),_:1},8,["error"]),_($,{label:"Kabupaten/Kota",name:"regency_id",error:y(o).errors.regency_id},{default:S(()=>[_(E,{modelValue:y(o).regency_id,"onUpdate:modelValue":v[13]||(v[13]=F=>y(o).regency_id=F),items:i.value,"label-key":"name","value-key":"id",placeholder:"Pilih Kota/Kabupaten",disabled:!y(o).province_id,searchable:"",onChange:v[14]||(v[14]=F=>d(!0)),class:"w-full"},null,8,["modelValue","items","disabled"])]),_:1},8,["error"]),_($,{label:"Kecamatan",name:"district_id",error:y(o).errors.district_id},{default:S(()=>[_(E,{modelValue:y(o).district_id,"onUpdate:modelValue":v[15]||(v[15]=F=>y(o).district_id=F),items:l.value,"label-key":"name","value-key":"id",placeholder:"Pilih Kecamatan",disabled:!y(o).regency_id,searchable:"",onChange:v[16]||(v[16]=F=>f(!0)),class:"w-full"},null,8,["modelValue","items","disabled"])]),_:1},8,["error"]),_($,{label:"Desa/Kelurahan",name:"village_id",error:y(o).errors.village_id},{default:S(()=>[_(E,{modelValue:y(o).village_id,"onUpdate:modelValue":v[17]||(v[17]=F=>y(o).village_id=F),items:c.value,"label-key":"name","value-key":"id",placeholder:"Pilih Desa",disabled:!y(o).district_id,searchable:"",class:"w-full"},null,8,["modelValue","items","disabled"])]),_:1},8,["error"])])])])]),parents:S(({item:V})=>[k("div",Lpt,[_(P,null,{header:S(()=>[...v[32]||(v[32]=[k("h3",{class:"font-semibold"},"Data Ayah",-1)])]),default:S(()=>[k("div",jpt,[_($,{label:"Nama Ayah",name:"father_name",error:y(o).errors.father_name},{default:S(()=>[_(x,{modelValue:y(o).father_name,"onUpdate:modelValue":v[18]||(v[18]=F=>y(o).father_name=F),class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"]),_($,{label:"Pekerjaan Ayah",name:"father_job"},{default:S(()=>[_(x,{modelValue:y(o).father_job,"onUpdate:modelValue":v[19]||(v[19]=F=>y(o).father_job=F),class:"w-full"},null,8,["modelValue"])]),_:1}),_($,{label:"No HP Ayah",name:"father_phone"},{default:S(()=>[_(x,{modelValue:y(o).father_phone,"onUpdate:modelValue":v[20]||(v[20]=F=>y(o).father_phone=F),class:"w-full"},null,8,["modelValue"])]),_:1}),_($,{label:"Penghasilan Ayah",name:"father_income"},{default:S(()=>[_(x,{modelValue:y(o).father_income,"onUpdate:modelValue":v[21]||(v[21]=F=>y(o).father_income=F),class:"w-full"},null,8,["modelValue"])]),_:1})])]),_:1}),_(P,null,{header:S(()=>[...v[33]||(v[33]=[k("h3",{class:"font-semibold"},"Data Ibu",-1)])]),default:S(()=>[k("div",Vpt,[_($,{label:"Nama Ibu",name:"mother_name",error:y(o).errors.mother_name},{default:S(()=>[_(x,{modelValue:y(o).mother_name,"onUpdate:modelValue":v[22]||(v[22]=F=>y(o).mother_name=F),class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"]),_($,{label:"Pekerjaan Ibu",name:"mother_job"},{default:S(()=>[_(x,{modelValue:y(o).mother_job,"onUpdate:modelValue":v[23]||(v[23]=F=>y(o).mother_job=F),class:"w-full"},null,8,["modelValue"])]),_:1}),_($,{label:"No HP Ibu",name:"mother_phone"},{default:S(()=>[_(x,{modelValue:y(o).mother_phone,"onUpdate:modelValue":v[24]||(v[24]=F=>y(o).mother_phone=F),class:"w-full"},null,8,["modelValue"])]),_:1}),_($,{label:"Penghasilan Ibu",name:"mother_income"},{default:S(()=>[_(x,{modelValue:y(o).mother_income,"onUpdate:modelValue":v[25]||(v[25]=F=>y(o).mother_income=F),class:"w-full"},null,8,["modelValue"])]),_:1})])]),_:1})])]),academic:S(({item:V})=>[k("div",Upt,[e.activeSchoolYear?X("",!0):(A(),B(O,{key:0,color:"warning",variant:"subtle",title:"Peringatan",description:"Belum ada Tahun Ajaran Aktif. Data kelas dan kamar tidak akan tersimpan untuk tahun ajaran ini."})),k("div",Kpt,[_($,{label:"Kelas Pondok",name:"classroom_id"},{default:S(()=>[_(E,{modelValue:y(o).classroom_id,"onUpdate:modelValue":v[26]||(v[26]=F=>y(o).classroom_id=F),items:e.classrooms,"label-key":"name","value-key":"id",placeholder:"Pilih Kelas",class:"w-full"},null,8,["modelValue","items"])]),_:1}),_($,{label:"Kamar / Asrama",name:"bed_room_id"},{default:S(()=>[_(E,{modelValue:y(o).bed_room_id,"onUpdate:modelValue":v[27]||(v[27]=F=>y(o).bed_room_id=F),items:e.bedRooms,"label-key":"name","value-key":"id",placeholder:"Pilih Kamar",class:"w-full"},null,8,["modelValue","items"])]),_:1})]),_(M,{label:"Sekolah Formal (Opsional)"}),k("div",Hpt,[_($,{label:"Sekolah Formal",name:"school_id"},{default:S(()=>[_(E,{modelValue:y(o).school_id,"onUpdate:modelValue":v[28]||(v[28]=F=>y(o).school_id=F),items:e.schools,"label-key":"name","value-key":"id",placeholder:"Pilih Sekolah Formal",onChange:m,class:"w-full"},null,8,["modelValue","items"])]),_:1}),_($,{label:"Tingkat/Kelas Formal",name:"school_level_id"},{default:S(()=>[_(E,{modelValue:y(o).school_level_id,"onUpdate:modelValue":v[29]||(v[29]=F=>y(o).school_level_id=F),items:p.value,"label-key":"name","value-key":"id",placeholder:"Pilih Tingkat",disabled:!y(o).school_id,class:"w-full"},null,8,["modelValue","items","disabled"])]),_:1})])])]),_:1},512),k("div",Wpt,[_(L,{disabled:!n.value?.hasPrev,onClick:v[30]||(v[30]=V=>n.value?.prev()),color:"neutral",variant:"soft",label:"Kembali","leading-icon":"i-lucide-arrow-left"},null,8,["disabled"]),n.value?.hasNext?(A(),B(L,{key:0,onClick:v[31]||(v[31]=V=>n.value?.next()),color:"primary",label:"Lanjut","trailing-icon":"i-lucide-arrow-right"})):(A(),B(L,{key:1,type:"submit",color:"primary",label:"Simpan Data Santri",loading:y(o).processing},null,8,["loading"]))])],32)]),_:1})]),_:1},8,["heading"])}}},Jpt=Object.freeze(Object.defineProperty({__proto__:null,default:Gpt},Symbol.toStringTag,{value:"Module"})),Ypt={class:"flex gap-2"},Qpt={class:"mb-4 grid grid-cols-1 md:grid-cols-5 gap-3"},Xpt={class:"flex justify-between items-center mb-4"},Zpt={class:"flex gap-2"},emt={class:"flex items-center gap-3"},tmt={class:"font-medium text-gray-900 dark:text-gray-100"},nmt={class:"text-sm text-gray-500 dark:text-gray-400"},rmt={key:1,class:"text-gray-400 text-sm"},omt={class:"flex justify-between items-center px-4 py-3 border-t border-default"},smt={class:"text-sm text-muted"},amt={class:"flex items-center gap-3"},imt={class:"p-2 bg-primary/10 rounded-lg"},lmt={class:"space-y-4"},umt={key:0,class:"mt-2 text-sm text-gray-600 dark:text-gray-400"},cmt={class:"font-medium"},dmt={class:"space-y-1 text-xs mt-2 max-h-40 overflow-y-auto"},fmt={class:"flex justify-end gap-2 w-full"},pmt={__name:"Index",props:{students:Object,classrooms:Array,filters:Object},setup(e){const t=ai(),n=e,r=K({search:n.filters?.search||"",rfid:n.filters?.rfid||"",status:n.filters?.status||"active",gender:n.filters?.gender||"all",classroom_id:n.filters?.classroom_id||"all"}),o=K(n.students.current_page),s=[{value:"all",label:"Semua Status"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"},{value:"graduated",label:"Lulus"},{value:"dropped_out",label:"Keluar/DO"}],a=[{value:"all",label:"Semua"},{value:"male",label:"Laki-laki"},{value:"female",label:"Perempuan"}],i=H(()=>[{id:"all",name:"Semua Kelas"},...n.classrooms||[]]),l=H(()=>{const O=new URLSearchParams;return r.value.search&&O.set("search",r.value.search),r.value.rfid&&O.set("rfid",r.value.rfid),r.value.status&&O.set("status",r.value.status),r.value.gender&&O.set("gender",r.value.gender),r.value.classroom_id&&O.set("classroom_id",r.value.classroom_id),`/dashboard/students/export/excel${O.toString()?"?"+O.toString():""}`}),c=[{id:"title",header:"Nama & NIS"},{id:"classroom",header:"Kelas"},{accessorKey:"gender",header:"L/P",cell:({row:O})=>u(O.original.gender)},{accessorKey:"status",header:"Status",cell:({row:O})=>d(O.original.status)},{id:"actions",header:"Aksi"}],u=O=>{switch(O){case"male":return"Laki-laki";case"female":return"Perempuan";default:return O}},d=O=>{switch(O){case"active":return"Aktif";case"inactive":return"Tidak Aktif";case"graduated":return"Lulus";case"dropped_out":return"Keluar/DO";default:return O}},f=O=>{switch(O){case"active":return"success";case"registered":return"info";case"alumni":return"neutral";case"dropped_out":return"error";default:return"neutral"}},p=O=>[[{label:"Detail",icon:"i-lucide-eye",iconClass:"text-primary",onSelect:()=>Qe.visit(`/dashboard/students/${O.id}`)},{label:"Edit Data",icon:"i-lucide-pencil",iconClass:"text-warning",onSelect:()=>Qe.visit(`/dashboard/students/${O.id}/edit`)}],[{label:"Hapus",icon:"i-lucide-trash-2",iconClass:"text-error",onSelect:()=>h(O)}]],m=Sf.debounce(()=>{Qe.get("/dashboard/students",r.value,{preserveState:!0,replace:!0})},500);He(r,m,{deep:!0}),He(o,O=>{Qe.get("/dashboard/students",{...r.value,page:O},{preserveState:!0,replace:!0})});const h=O=>{confirm(`Yakin ingin menghapus data santri "${O.user?.name}"?`)&&Qe.delete(`/dashboard/students/${O.id}`,{onSuccess:()=>{}})},g=K(!1),v=K(null),x=K(null),$=K(!1);wt(()=>{t.props.flash.import_errors&&t.props.flash.import_errors.length>0&&(g.value=!0)});const C=()=>{g.value=!0},M=()=>{g.value=!1,v.value=null,x.value&&(x.value.value="")},I=O=>{const D=O.target.files[0];D&&(v.value=D)},E=O=>{if(O===0)return"0 Bytes";const D=1024,L=["Bytes","KB","MB"],V=Math.floor(Math.log(O)/Math.log(D));return Math.round(O/Math.pow(D,V)*100)/100+" "+L[V]},P=()=>{if(!v.value)return;$.value=!0;const O=new FormData;O.append("file",v.value),Qe.post("/dashboard/students/import/excel",O,{onSuccess:()=>{(!t.props.flash.import_errors||t.props.flash.import_errors.length===0)&&M()},onError:()=>{},onFinish:()=>{$.value=!1},preserveScroll:!0})};return(O,D)=>{const L=We,V=bt,F=er,z=bo,N=On,ee=pn,ne=_f,Y=xr,Re=Fr,fe=ht,we=tt,ue=$r;return A(),B($t,{title:"Data Santri",heading:"Kelola Data Santri",description:"Manajemen data santri/santriwati pondok pesantren","page-id":"students-index"},{header:S(()=>[k("div",Ypt,[_(L,{color:"primary",icon:"i-lucide-plus",label:"Tambah Santri",to:"/dashboard/students/create"})])]),default:S(()=>[k("div",Qpt,[_(V,{modelValue:r.value.search,"onUpdate:modelValue":D[0]||(D[0]=Ne=>r.value.search=Ne),icon:"i-lucide-search",placeholder:"Cari nama/NIS..."},null,8,["modelValue"]),_(V,{modelValue:r.value.rfid,"onUpdate:modelValue":D[1]||(D[1]=Ne=>r.value.rfid=Ne),icon:"i-lucide-credit-card",placeholder:"RFID..."},null,8,["modelValue"]),_(F,{modelValue:r.value.status,"onUpdate:modelValue":D[2]||(D[2]=Ne=>r.value.status=Ne),items:s,"label-key":"label","value-key":"value",placeholder:"Status"},null,8,["modelValue"]),_(F,{modelValue:r.value.gender,"onUpdate:modelValue":D[3]||(D[3]=Ne=>r.value.gender=Ne),items:a,"label-key":"label","value-key":"value",placeholder:"Jenis Kelamin"},null,8,["modelValue"]),_(F,{modelValue:r.value.classroom_id,"onUpdate:modelValue":D[4]||(D[4]=Ne=>r.value.classroom_id=Ne),items:i.value,"label-key":"name","value-key":"id",placeholder:"Kelas"},null,8,["modelValue","items"])]),_(z,{color:"info",variant:"subtle",icon:"i-lucide-info",class:"mb-4"},{title:S(()=>[...D[7]||(D[7]=[J("Fitur Lengkap di Halaman Detail",-1)])]),description:S(()=>[...D[8]||(D[8]=[J(" Klik ",-1),k("strong",null,"Detail",-1),J(" pada aksi santri untuk menambah Rekam Medis, Catatan Hafalan, Izin, Pelanggaran, dan lainnya. ",-1)])]),_:1}),k("div",Xpt,[k("div",Zpt,[_(L,{color:"primary",variant:"outline",icon:"i-lucide-download",href:l.value},{default:S(()=>[...D[9]||(D[9]=[J(" Export Excel ",-1)])]),_:1},8,["href"]),_(L,{color:"primary",variant:"soft",icon:"i-lucide-upload",onClick:C},{default:S(()=>[...D[10]||(D[10]=[J(" Import Excel ",-1)])]),_:1})])]),_(fe,null,{default:S(()=>[_(Y,{data:e.students.data,columns:c,loading:!1},{"title-cell":S(({row:Ne})=>[k("div",emt,[_(N,{src:Ne.original.user?.photo?Ne.original.user.photo.startsWith("http")?Ne.original.user.photo:`/storage/${Ne.original.user.photo}`:null,alt:Ne.original.user?.name},null,8,["src","alt"]),k("div",null,[k("p",tmt,q(Ne.original.user?.name),1),k("p",nmt,q(Ne.original.student_id),1)])])]),"classroom-cell":S(({row:Ne})=>[Ne.original.current_classroom?.classroom?(A(),B(ee,{key:0,color:"primary",variant:"subtle"},{default:S(()=>[J(q(Ne.original.current_classroom.classroom.name),1)]),_:2},1024)):(A(),W("span",rmt,"-"))]),"status-cell":S(({row:Ne})=>[_(ee,{color:f(Ne.original.status),variant:"subtle"},{default:S(()=>[J(q(d(Ne.original.status)),1)]),_:2},1032,["color"])]),"actions-cell":S(({row:Ne})=>[_(ne,{items:p(Ne.original)},{default:S(()=>[_(L,{color:"neutral",variant:"ghost",icon:"i-lucide-more-horizontal"})]),_:1},8,["items"])]),_:1},8,["data"]),k("div",omt,[k("span",smt," Showing "+q(e.students.from)+" to "+q(e.students.to)+" of "+q(e.students.total)+" entries ",1),_(Re,{modelValue:o.value,"onUpdate:modelValue":D[5]||(D[5]=Ne=>o.value=Ne),total:e.students.total,"page-count":e.students.per_page},null,8,["modelValue","total","page-count"])])]),_:1}),_(ue,{open:g.value,"onUpdate:open":D[6]||(D[6]=Ne=>g.value=Ne),ui:{width:"sm:max-w-2xl"}},{header:S(()=>[k("div",amt,[k("div",imt,[_(we,{name:"i-lucide-file-spreadsheet",class:"w-6 h-6 text-primary"})]),D[11]||(D[11]=k("div",null,[k("h3",{class:"text-lg font-semibold"},"Import Data Santri"),k("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-0.5"},"Unggah file Excel untuk mengimpor data santri secara massal")],-1))])]),body:S(()=>[k("div",lmt,[_(z,{color:"info",variant:"subtle",icon:"i-lucide-info",title:"Petunjuk Import"},{description:S(()=>[...D[12]||(D[12]=[k("ol",{class:"list-decimal list-inside space-y-1 text-sm mt-2"},[k("li",null,"Download template Excel terlebih dahulu"),k("li",null,"Isi data santri sesuai format yang tersedia"),k("li",null,[k("strong",null,"Wajib:"),J(" NIS, Nama, Tempat Lahir, Tanggal Lahir, L/P, Status, Alamat")]),k("li",null,[k("strong",null,"Opsional:"),J(" Email, No HP, Anak Ke-, Jumlah Saudara, Data Orang Tua")]),k("li",null,[k("strong",null,"L/P"),J(": "),k("code",{class:"bg-gray-200 dark:bg-gray-700 px-1 rounded"},"L"),J(" / "),k("code",{class:"bg-gray-200 dark:bg-gray-700 px-1 rounded"},"Laki-laki"),J(" atau "),k("code",{class:"bg-gray-200 dark:bg-gray-700 px-1 rounded"},"P"),J(" / "),k("code",{class:"bg-gray-200 dark:bg-gray-700 px-1 rounded"},"Perempuan")]),k("li",null,[k("strong",null,"Status"),J(": "),k("code",{class:"bg-gray-200 dark:bg-gray-700 px-1 rounded"},"Aktif"),J(" / "),k("code",{class:"bg-gray-200 dark:bg-gray-700 px-1 rounded"},"Lulus"),J(" / "),k("code",{class:"bg-gray-200 dark:bg-gray-700 px-1 rounded"},"Keluar/DO")]),k("li",null,"Email akan dibuat otomatis dari NIS jika kosong"),k("li",null,[J("Password default: "),k("code",{class:"bg-gray-200 dark:bg-gray-700 px-1 rounded"},"password")])],-1)])]),_:1}),_(L,{color:"primary",variant:"outline",icon:"i-lucide-download",block:"",href:"/dashboard/students/template/download",target:"_blank"},{default:S(()=>[...D[13]||(D[13]=[J(" Download Template Excel ",-1)])]),_:1}),k("div",null,[D[17]||(D[17]=k("label",{class:"block text-sm font-medium mb-2"},[J(" Pilih File Excel "),k("span",{class:"text-error"},"*")],-1)),k("input",{ref_key:"fileInput",ref:x,type:"file",accept:".xlsx,.xls",onChange:I,class:"block w-full text-sm text-gray-500 dark:text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-primary/10 file:text-primary hover:file:bg-primary/20 cursor-pointer"},null,544),v.value?(A(),W("p",umt,[D[14]||(D[14]=J(" File terpilih: ",-1)),k("span",cmt,q(v.value.name),1),D[15]||(D[15]=J(" (",-1)),k("span",null,q(E(v.value.size)),1),D[16]||(D[16]=J(") ",-1))])):X("",!0)]),y(t).props.flash.import_errors&&y(t).props.flash.import_errors.length>0?(A(),B(z,{key:0,color:"error",variant:"subtle",icon:"i-lucide-alert-circle",title:"Terdapat Kesalahan Import"},{description:S(()=>[k("ul",dmt,[(A(!0),W(Ee,null,Ve(y(t).props.flash.import_errors,(Ne,Xe)=>(A(),W("li",{key:Xe,class:"flex items-start gap-2"},[D[18]||(D[18]=k("span",{class:"text-error mt-0.5"},"",-1)),k("span",null,q(Ne),1)]))),128))])]),_:1})):X("",!0),D[19]||(D[19]=k("div",{class:"text-xs text-gray-500 dark:text-gray-400 space-y-1"},[k("p",null," Format file: .xlsx atau .xls"),k("p",null," Ukuran maksimal: 5MB")],-1))])]),footer:S(()=>[k("div",fmt,[_(L,{color:"neutral",variant:"soft",onClick:M,disabled:$.value},{default:S(()=>[...D[20]||(D[20]=[J(" Batal ",-1)])]),_:1},8,["disabled"]),_(L,{color:"primary",loading:$.value,disabled:!v.value,onClick:P},{default:S(()=>[...D[21]||(D[21]=[J(" Upload & Import ",-1)])]),_:1},8,["loading","disabled"])])]),_:1},8,["open"])]),_:1})}}},mmt=Object.freeze(Object.defineProperty({__proto__:null,default:pmt},Symbol.toStringTag,{value:"Module"})),hmt={class:"space-y-4 pt-4"},gmt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},vmt={class:"text-sm text-gray-400 mt-1"},ymt={__name:"ProfileTab",props:{student:{type:Object,required:!0}},setup(e){const t=n=>n?new Date(n).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}):"-";return(n,r)=>{const o=Ec("UDivider");return A(),W("div",hmt,[k("div",gmt,[k("div",null,[r[0]||(r[0]=k("p",{class:"text-sm text-gray-500"},"Tempat, Tanggal Lahir",-1)),k("p",null,q(e.student.place_of_birth)+", "+q(t(e.student.date_of_birth)),1)]),k("div",null,[r[1]||(r[1]=k("p",{class:"text-sm text-gray-500"},"Email",-1)),k("p",null,q(e.student.user?.email),1)]),k("div",null,[r[2]||(r[2]=k("p",{class:"text-sm text-gray-500"},"No HP",-1)),k("p",null,q(e.student.user?.phone_number||"-"),1)]),k("div",null,[r[3]||(r[3]=k("p",{class:"text-sm text-gray-500"},"Anak Ke-",-1)),k("p",null,q(e.student.child_number||"-")+" dari "+q(e.student.siblings_count||"-")+" bersaudara",1)])]),_(o,{label:"Alamat"}),k("div",null,[k("p",null,q(e.student.address),1),k("p",vmt,q([e.student.village,e.student.district,e.student.regency,e.student.province].filter(Boolean).join(", ")||"-"),1)])])}}},bmt={class:"space-y-6 pt-4"},xmt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},wmt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},kmt={__name:"ParentsTab",props:{student:{type:Object,required:!0}},setup(e){const t=n=>n?`Rp ${parseInt(n).toLocaleString("id-ID")}`:"-";return(n,r)=>(A(),W("div",bmt,[k("div",null,[r[4]||(r[4]=k("h4",{class:"font-semibold mb-3 border-b border-gray-200 dark:border-gray-700 pb-1"},"Data Ayah",-1)),k("div",xmt,[k("div",null,[r[0]||(r[0]=k("p",{class:"text-sm text-gray-500"},"Nama",-1)),k("p",null,q(e.student.father_name||"-"),1)]),k("div",null,[r[1]||(r[1]=k("p",{class:"text-sm text-gray-500"},"Pekerjaan",-1)),k("p",null,q(e.student.father_job||"-"),1)]),k("div",null,[r[2]||(r[2]=k("p",{class:"text-sm text-gray-500"},"No HP",-1)),k("p",null,q(e.student.father_phone||"-"),1)]),k("div",null,[r[3]||(r[3]=k("p",{class:"text-sm text-gray-500"},"Penghasilan",-1)),k("p",null,q(t(e.student.father_income)),1)])])]),k("div",null,[r[9]||(r[9]=k("h4",{class:"font-semibold mb-3 border-b border-gray-200 dark:border-gray-700 pb-1"},"Data Ibu",-1)),k("div",wmt,[k("div",null,[r[5]||(r[5]=k("p",{class:"text-sm text-gray-500"},"Nama",-1)),k("p",null,q(e.student.mother_name||"-"),1)]),k("div",null,[r[6]||(r[6]=k("p",{class:"text-sm text-gray-500"},"Pekerjaan",-1)),k("p",null,q(e.student.mother_job||"-"),1)]),k("div",null,[r[7]||(r[7]=k("p",{class:"text-sm text-gray-500"},"No HP",-1)),k("p",null,q(e.student.mother_phone||"-"),1)]),k("div",null,[r[8]||(r[8]=k("p",{class:"text-sm text-gray-500"},"Penghasilan",-1)),k("p",null,q(t(e.student.mother_income)),1)])])])]))}},_mt={class:"space-y-6 pt-4"},Smt={key:0,class:"space-y-2"},$mt={class:"font-medium"},Cmt={key:0,class:"space-y-2"},Mmt={class:"font-medium"},Amt={class:"text-sm text-gray-500"},Tmt={__name:"AcademicTab",props:{student:{type:Object,required:!0}},setup(e){const t=n=>{const r=n.pivot?.school_level_id;return(n.school_levels||[]).find(a=>a.id===r)?.name||`Level ID: ${r}`};return(n,r)=>{const o=pn,s=bo,a=Ec("UDivider");return A(),W("div",_mt,[k("div",null,[r[1]||(r[1]=k("h4",{class:"font-semibold mb-3"},"Riwayat Kelas (Pondok)",-1)),e.student.classrooms?.length?(A(),W("ul",Smt,[(A(!0),W(Ee,null,Ve(e.student.classrooms,i=>(A(),W("li",{key:i.id,class:"flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-800 rounded-lg"},[k("span",$mt,q(i.name),1),_(o,{color:"neutral",variant:"subtle"},{default:S(()=>[J(q(i.school_year?.name||`TA ${i.pivot?.school_year_id}`),1)]),_:2},1024)]))),128))])):(A(),B(s,{key:1,color:"neutral",variant:"subtle",icon:"i-lucide-info"},{description:S(()=>[...r[0]||(r[0]=[J("Belum ada riwayat kelas.",-1)])]),_:1}))]),_(a),k("div",null,[r[3]||(r[3]=k("h4",{class:"font-semibold mb-3"},"Sekolah Formal",-1)),e.student.schools?.length?(A(),W("ul",Cmt,[(A(!0),W(Ee,null,Ve(e.student.schools,i=>(A(),W("li",{key:i.id,class:"p-3 border border-gray-200 dark:border-gray-700 rounded-lg"},[k("p",Mmt,q(i.name),1),k("p",Amt,q(t(i)),1)]))),128))])):(A(),B(s,{key:1,color:"neutral",variant:"subtle",icon:"i-lucide-info"},{description:S(()=>[...r[2]||(r[2]=[J("Belum ada data sekolah formal.",-1)])]),_:1}))])])}}},Emt={class:"space-y-4 pt-4"},Imt={key:0,class:"space-y-2"},Pmt={class:"flex items-center gap-3"},Omt={class:"font-medium"},Rmt={__name:"BedRoomTab",props:{bedRooms:{type:Array,default:()=>[]}},setup(e){return(t,n)=>{const r=tt,o=pn,s=bo;return A(),W("div",Emt,[n[1]||(n[1]=k("h3",{class:"font-semibold"},"Riwayat Kamar / Asrama",-1)),e.bedRooms?.length?(A(),W("ul",Imt,[(A(!0),W(Ee,null,Ve(e.bedRooms,a=>(A(),W("li",{key:a.id,class:"flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-800 rounded-lg"},[k("div",Pmt,[_(r,{name:"i-lucide-bed",class:"w-5 h-5 text-primary"}),k("span",Omt,q(a.name),1)]),_(o,{color:"neutral",variant:"subtle"},{default:S(()=>[J(q(a.school_year?.name||`TA ${a.pivot?.school_year_id}`),1)]),_:2},1024)]))),128))])):(A(),B(s,{key:1,color:"neutral",variant:"subtle",icon:"i-lucide-info"},{description:S(()=>[...n[0]||(n[0]=[J(" Belum ada riwayat kamar tercatat. ",-1)])]),_:1}))])}}},Bmt={class:"space-y-4 pt-4"},Nmt={class:"flex justify-between items-center"},Dmt={class:"flex justify-end gap-2 w-full"},Fmt={__name:"DiseaseTab",props:{studentId:{type:String,required:!0},diseases:{type:Array,default:()=>[]}},setup(e){const t=e,n=K(!1),r=K(null),o=[{accessorKey:"disease_name",header:"Nama Penyakit"},{accessorKey:"diagnosed_date",header:"Tanggal Diagnosa",cell:({row:c})=>c.original.diagnosed_date?new Date(c.original.diagnosed_date).toLocaleDateString("id-ID"):"-"},{accessorKey:"notes",header:"Catatan",cell:({row:c})=>c.original.notes||"-"},{id:"actions",header:""}],s=Rt({disease_name:"",diagnosed_date:"",notes:""}),a=()=>{s.post(`/dashboard/students/${t.studentId}/diseases`,{preserveScroll:!0,onSuccess:()=>{i()}})},i=()=>{n.value=!1,s.reset(),s.clearErrors()},l=c=>{confirm(`Hapus riwayat penyakit "${c.disease_name}"?`)&&(r.value=c.id,Qe.delete(`/dashboard/students/${t.studentId}/diseases/${c.id}`,{preserveScroll:!0,onFinish:()=>{r.value=null}}))};return(c,u)=>{const d=We,f=xr,p=bo,m=bt,h=qt,g=Wn,v=$r;return A(),W("div",Bmt,[k("div",Nmt,[u[6]||(u[6]=k("h3",{class:"font-semibold"},"Rekam Medis",-1)),_(d,{color:"primary",size:"sm",icon:"i-lucide-plus",onClick:u[0]||(u[0]=x=>n.value=!0)},{default:S(()=>[...u[5]||(u[5]=[J(" Tambah ",-1)])]),_:1})]),e.diseases.length?(A(),B(f,{key:0,data:e.diseases,columns:o},{"actions-cell":S(({row:x})=>[_(d,{color:"error",variant:"ghost",size:"xs",icon:"i-lucide-trash-2",loading:r.value===x.original.id,onClick:$=>l(x.original)},null,8,["loading","onClick"])]),_:1},8,["data"])):(A(),B(p,{key:1,color:"neutral",variant:"subtle",icon:"i-lucide-info"},{description:S(()=>[...u[7]||(u[7]=[J(" Belum ada riwayat penyakit tercatat. ",-1)])]),_:1})),_(v,{open:n.value,"onUpdate:open":u[4]||(u[4]=x=>n.value=x),title:"Tambah Riwayat Penyakit"},{body:S(()=>[k("form",{onSubmit:lt(a,["prevent"]),class:"space-y-4"},[_(h,{label:"Nama Penyakit",name:"disease_name",error:y(s).errors.disease_name,required:""},{default:S(()=>[_(m,{modelValue:y(s).disease_name,"onUpdate:modelValue":u[1]||(u[1]=x=>y(s).disease_name=x),placeholder:"Contoh: Demam, Flu, dsb.",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"]),_(h,{label:"Tanggal Diagnosa",name:"diagnosed_date",error:y(s).errors.diagnosed_date},{default:S(()=>[_(m,{modelValue:y(s).diagnosed_date,"onUpdate:modelValue":u[2]||(u[2]=x=>y(s).diagnosed_date=x),type:"date",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"]),_(h,{label:"Catatan",name:"notes",error:y(s).errors.notes},{default:S(()=>[_(g,{modelValue:y(s).notes,"onUpdate:modelValue":u[3]||(u[3]=x=>y(s).notes=x),placeholder:"Catatan tambahan...",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"])],32)]),footer:S(()=>[k("div",Dmt,[_(d,{color:"neutral",variant:"soft",onClick:i},{default:S(()=>[...u[8]||(u[8]=[J(" Batal ",-1)])]),_:1}),_(d,{color:"primary",loading:y(s).processing,onClick:a},{default:S(()=>[...u[9]||(u[9]=[J(" Simpan ",-1)])]),_:1},8,["loading"])])]),_:1},8,["open"])])}}},qmt={class:"space-y-4 pt-4"},zmt={class:"flex justify-between items-center"},Lmt={class:"flex items-center gap-3"},jmt={class:"grid grid-cols-2 gap-4"},Vmt={class:"grid grid-cols-2 gap-4"},Umt={class:"flex justify-end gap-2 w-full"},Kmt={__name:"MemorizeTab",props:{studentId:{type:String,required:!0},memorizes:{type:Array,default:()=>[]}},setup(e){const t=e,n=K(!1),r=K(null),o=["A","B","C","D","Mumtaz","Jayyid Jiddan","Jayyid","Maqbul"],s=H(()=>new Set(t.memorizes.map(p=>p.juz).filter(Boolean)).size),a=[{accessorKey:"juz",header:"Juz"},{accessorKey:"surah",header:"Surah",cell:({row:f})=>f.original.surah?.name||"-"},{header:"Halaman",cell:({row:f})=>{const p=f.original.page_start,m=f.original.page_end;return p&&m?`${p} - ${m}`:p?`${p}`:"-"}},{accessorKey:"grade",header:"Nilai",cell:({row:f})=>f.original.grade||"-"},{header:"Penguji",cell:({row:f})=>f.original.teacher?.user?.name||"-"},{accessorKey:"memorize_date",header:"Tanggal",cell:({row:f})=>l(f.original.memorize_date)},{id:"actions",header:""}],i=Rt({juz:"",page_start:"",page_end:"",grade:"",notes:"",memorize_date:new Date().toISOString().split("T")[0]}),l=f=>f?new Date(f).toLocaleDateString("id-ID"):"-",c=()=>{i.post(`/dashboard/students/${t.studentId}/memorizes`,{preserveScroll:!0,onSuccess:()=>u()})},u=()=>{n.value=!1,i.reset(),i.clearErrors()},d=f=>{confirm("Hapus catatan hafalan ini?")&&(r.value=f.id,Qe.delete(`/dashboard/students/${t.studentId}/memorizes/${f.id}`,{preserveScroll:!0,onFinish:()=>{r.value=null}}))};return(f,p)=>{const m=pn,h=We,g=xr,v=bo,x=bt,$=qt,C=er,M=Wn,I=$r;return A(),W("div",qmt,[k("div",zmt,[k("div",Lmt,[p[8]||(p[8]=k("h3",{class:"font-semibold"},"Catatan Hafalan",-1)),s.value>0?(A(),B(m,{key:0,color:"success",variant:"subtle"},{default:S(()=>[J(q(s.value)+" Juz ",1)]),_:1})):X("",!0)]),_(h,{color:"primary",size:"sm",icon:"i-lucide-plus",onClick:p[0]||(p[0]=E=>n.value=!0)},{default:S(()=>[...p[9]||(p[9]=[J(" Tambah ",-1)])]),_:1})]),e.memorizes.length?(A(),B(g,{key:0,data:e.memorizes,columns:a},{"actions-cell":S(({row:E})=>[_(h,{color:"error",variant:"ghost",size:"xs",icon:"i-lucide-trash-2",loading:r.value===E.original.id,onClick:P=>d(E.original)},null,8,["loading","onClick"])]),_:1},8,["data"])):(A(),B(v,{key:1,color:"neutral",variant:"subtle",icon:"i-lucide-book-open"},{description:S(()=>[...p[10]||(p[10]=[J(" Belum ada catatan hafalan. ",-1)])]),_:1})),_(I,{open:n.value,"onUpdate:open":p[7]||(p[7]=E=>n.value=E),title:"Tambah Catatan Hafalan"},{body:S(()=>[k("form",{onSubmit:lt(c,["prevent"]),class:"space-y-4"},[k("div",jmt,[_($,{label:"Juz",name:"juz",error:y(i).errors.juz},{default:S(()=>[_(x,{modelValue:y(i).juz,"onUpdate:modelValue":p[1]||(p[1]=E=>y(i).juz=E),type:"number",min:"1",max:"30",placeholder:"1-30",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"]),_($,{label:"Tanggal",name:"memorize_date",error:y(i).errors.memorize_date},{default:S(()=>[_(x,{modelValue:y(i).memorize_date,"onUpdate:modelValue":p[2]||(p[2]=E=>y(i).memorize_date=E),type:"date",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"])]),k("div",Vmt,[_($,{label:"Halaman Mulai",name:"page_start",error:y(i).errors.page_start},{default:S(()=>[_(x,{modelValue:y(i).page_start,"onUpdate:modelValue":p[3]||(p[3]=E=>y(i).page_start=E),type:"number",min:"1",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"]),_($,{label:"Halaman Akhir",name:"page_end",error:y(i).errors.page_end},{default:S(()=>[_(x,{modelValue:y(i).page_end,"onUpdate:modelValue":p[4]||(p[4]=E=>y(i).page_end=E),type:"number",min:"1",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"])]),_($,{label:"Nilai",name:"grade",error:y(i).errors.grade},{default:S(()=>[_(C,{modelValue:y(i).grade,"onUpdate:modelValue":p[5]||(p[5]=E=>y(i).grade=E),items:o,placeholder:"Pilih nilai",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"]),_($,{label:"Catatan",name:"notes",error:y(i).errors.notes},{default:S(()=>[_(M,{modelValue:y(i).notes,"onUpdate:modelValue":p[6]||(p[6]=E=>y(i).notes=E),placeholder:"Catatan tambahan...",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"])],32)]),footer:S(()=>[k("div",Umt,[_(h,{color:"neutral",variant:"soft",onClick:u},{default:S(()=>[...p[11]||(p[11]=[J(" Batal ",-1)])]),_:1}),_(h,{color:"primary",loading:y(i).processing,onClick:c},{default:S(()=>[...p[12]||(p[12]=[J(" Simpan ",-1)])]),_:1},8,["loading"])])]),_:1},8,["open"])])}}},Hmt={class:"space-y-4 pt-4"},Wmt={class:"flex justify-between items-center"},Gmt={class:"flex gap-1"},Jmt={class:"grid grid-cols-2 gap-4"},Ymt={class:"flex justify-end gap-2 w-full"},Qmt={class:"text-sm text-gray-500"},Xmt={class:"flex justify-end gap-2 w-full"},Zmt={__name:"PermissionTab",props:{studentId:{type:String,required:!0},studentName:{type:String,default:""},permissions:{type:Array,default:()=>[]}},setup(e){const t=e,n=K(!1),r=[{value:"sick",label:"Sakit"},{value:"permit",label:"Izin Pulang"},{value:"family",label:"Urusan Keluarga"},{value:"other",label:"Lainnya"}],o=[{id:"type",header:"Tipe"},{accessorKey:"reason",header:"Alasan"},{accessorKey:"start_date",header:"Mulai",cell:({row:v})=>d(v.original.start_date)},{accessorKey:"duration",header:"Durasi Awal Izin",cell:({row:v})=>v.original.duration||"-"},{accessorKey:"returned_at",header:"Tanggal Kembali",cell:({row:v})=>v.original.returned_at?d(v.original.returned_at):"-"},{id:"status",header:"Status"},{id:"actions",header:""}],s=Rt({type:"",reason:"",start_date:"",end_date:"",duration:""}),a=Rt({returned_at:new Date().toISOString().slice(0,16)}),i=K(!1),l=K(null),c=v=>({sick:"Sakit",permit:"Izin Pulang",family:"Urusan Keluarga",other:"Lainnya"})[v]||v,u=v=>({sick:"error",permit:"info",family:"warning",other:"neutral"})[v]||"neutral",d=v=>v?new Date(v).toLocaleDateString("id-ID"):"-",f=()=>{s.post(`/dashboard/students/${t.studentId}/permissions`,{preserveScroll:!0,onSuccess:()=>p()})},p=()=>{n.value=!1,s.reset(),s.clearErrors()},m=v=>{l.value=v,a.returned_at=new Date().toISOString().slice(0,16),i.value=!0},h=()=>{a.put(`/dashboard/students/${t.studentId}/permissions/${l.value.id}/return`,{preserveScroll:!0,onSuccess:()=>{i.value=!1,a.reset()}})},g=v=>{confirm("Hapus data izin ini?")&&Qe.delete(`/dashboard/students/${t.studentId}/permissions/${v.id}`,{preserveScroll:!0})};return(v,x)=>{const $=We,C=pn,M=SM,I=xr,E=bo,P=er,O=qt,D=Wn,L=bt,V=$r;return A(),W("div",Hmt,[k("div",Wmt,[x[11]||(x[11]=k("h3",{class:"font-semibold"},"Riwayat Izin",-1)),_($,{color:"primary",size:"sm",icon:"i-lucide-plus",onClick:x[0]||(x[0]=F=>n.value=!0)},{default:S(()=>[...x[10]||(x[10]=[J(" Tambah Izin ",-1)])]),_:1})]),e.permissions.length?(A(),B(I,{key:0,data:e.permissions,columns:o},{"type-cell":S(({row:F})=>[_(C,{color:u(F.original.type),variant:"subtle"},{default:S(()=>[J(q(c(F.original.type)),1)]),_:2},1032,["color"])]),"status-cell":S(({row:F})=>[_(C,{color:F.original.returned_at?"success":"warning",variant:"subtle"},{default:S(()=>[J(q(F.original.returned_at?"Sudah Kembali":"Belum Kembali"),1)]),_:2},1032,["color"])]),"actions-cell":S(({row:F})=>[k("div",Gmt,[_(M,{text:"Cetak Surat Izin"},{default:S(()=>[_($,{color:"neutral",variant:"ghost",size:"xs",icon:"i-lucide-printer",to:`/dashboard/students/${e.studentId}/permissions/${F.original.id}/print`,target:"_blank",external:""},null,8,["to"])]),_:2},1024),F.original.returned_at?X("",!0):(A(),B(M,{key:0,text:"Catat Kembali"},{default:S(()=>[_($,{color:"primary",variant:"ghost",size:"xs",icon:"i-lucide-check-square",onClick:z=>m(F.original)},null,8,["onClick"])]),_:2},1024)),_($,{color:"error",variant:"ghost",size:"xs",icon:"i-lucide-trash-2",onClick:z=>g(F.original)},null,8,["onClick"])])]),_:1},8,["data"])):(A(),B(E,{key:1,color:"neutral",variant:"subtle",icon:"i-lucide-info"},{description:S(()=>[...x[12]||(x[12]=[J(" Belum ada riwayat izin tercatat. ",-1)])]),_:1})),_(V,{open:n.value,"onUpdate:open":x[6]||(x[6]=F=>n.value=F),title:"Tambah Pengajuan Izin"},{body:S(()=>[k("form",{onSubmit:lt(f,["prevent"]),class:"space-y-4"},[_(O,{label:"Tipe Izin",name:"type",error:y(s).errors.type,required:""},{default:S(()=>[_(P,{modelValue:y(s).type,"onUpdate:modelValue":x[1]||(x[1]=F=>y(s).type=F),items:r,"label-key":"label","value-key":"value",placeholder:"Pilih tipe izin",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"]),_(O,{label:"Alasan",name:"reason",error:y(s).errors.reason,required:""},{default:S(()=>[_(D,{modelValue:y(s).reason,"onUpdate:modelValue":x[2]||(x[2]=F=>y(s).reason=F),placeholder:"Alasan pengajuan izin...",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"]),k("div",Jmt,[_(O,{label:"Tanggal Mulai",name:"start_date",error:y(s).errors.start_date},{default:S(()=>[_(L,{modelValue:y(s).start_date,"onUpdate:modelValue":x[3]||(x[3]=F=>y(s).start_date=F),type:"date",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"]),_(O,{label:"Tanggal Selesai",name:"end_date",error:y(s).errors.end_date},{default:S(()=>[_(L,{modelValue:y(s).end_date,"onUpdate:modelValue":x[4]||(x[4]=F=>y(s).end_date=F),type:"date",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"])]),_(O,{label:"Durasi",name:"duration",error:y(s).errors.duration},{default:S(()=>[_(L,{modelValue:y(s).duration,"onUpdate:modelValue":x[5]||(x[5]=F=>y(s).duration=F),placeholder:"Contoh: 3 hari",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"])],32)]),footer:S(()=>[k("div",Ymt,[_($,{color:"neutral",variant:"soft",onClick:p},{default:S(()=>[...x[13]||(x[13]=[J(" Batal ",-1)])]),_:1}),_($,{color:"primary",loading:y(s).processing,onClick:f},{default:S(()=>[...x[14]||(x[14]=[J(" Simpan ",-1)])]),_:1},8,["loading"])])]),_:1},8,["open"]),_(V,{open:i.value,"onUpdate:open":x[9]||(x[9]=F=>i.value=F),title:"Catat Tanggal Kembali"},{body:S(()=>[k("form",{onSubmit:lt(h,["prevent"]),class:"space-y-4"},[k("p",Qmt,[x[15]||(x[15]=J(" Pastikan santri ",-1)),k("strong",null,q(e.studentName),1),x[16]||(x[16]=J(" benar-benar sudah kembali ke pondok. ",-1))]),_(O,{label:"Tanggal Kembali",name:"returned_at",error:y(a).errors.returned_at,required:""},{default:S(()=>[_(L,{modelValue:y(a).returned_at,"onUpdate:modelValue":x[7]||(x[7]=F=>y(a).returned_at=F),type:"datetime-local",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"])],32)]),footer:S(()=>[k("div",Xmt,[_($,{color:"neutral",variant:"soft",onClick:x[8]||(x[8]=F=>i.value=!1)},{default:S(()=>[...x[17]||(x[17]=[J(" Batal ",-1)])]),_:1}),_($,{color:"primary",loading:y(a).processing,onClick:h},{default:S(()=>[...x[18]||(x[18]=[J(" Simpan ",-1)])]),_:1},8,["loading"])])]),_:1},8,["open"])])}}},eht={class:"space-y-4 pt-4"},tht={class:"flex justify-between items-center"},nht={class:"flex items-center gap-3"},rht={class:"flex justify-end gap-2 w-full"},oht={__name:"ViolationTab",props:{studentId:{type:String,required:!0},violations:{type:Array,default:()=>[]}},setup(e){const t=e,n=K(!1),r=K(null),o=H(()=>t.violations.reduce((d,f)=>d+(f.points||0),0)),s=[{accessorKey:"violation_date",header:"Tanggal",cell:({row:d})=>i(d.original.violation_date)},{accessorKey:"description",header:"Deskripsi"},{accessorKey:"punishment",header:"Hukuman",cell:({row:d})=>d.original.punishment||"-"},{accessorKey:"points",header:"Poin",cell:({row:d})=>d.original.points||0},{id:"actions",header:""}],a=Rt({violation_date:new Date().toISOString().split("T")[0],description:"",punishment:"",points:0}),i=d=>d?new Date(d).toLocaleDateString("id-ID"):"-",l=()=>{a.post(`/dashboard/students/${t.studentId}/violations`,{preserveScroll:!0,onSuccess:()=>c()})},c=()=>{n.value=!1,a.reset(),a.clearErrors()},u=d=>{confirm("Hapus catatan pelanggaran ini?")&&(r.value=d.id,Qe.delete(`/dashboard/students/${t.studentId}/violations/${d.id}`,{preserveScroll:!0,onFinish:()=>{r.value=null}}))};return(d,f)=>{const p=pn,m=We,h=xr,g=bo,v=bt,x=qt,$=Wn,C=$r;return A(),W("div",eht,[k("div",tht,[k("div",nht,[f[6]||(f[6]=k("h3",{class:"font-semibold"},"Riwayat Pelanggaran",-1)),o.value>0?(A(),B(p,{key:0,color:"error",variant:"subtle"},{default:S(()=>[J(" Total: "+q(o.value)+" poin ",1)]),_:1})):X("",!0)]),_(m,{color:"primary",size:"sm",icon:"i-lucide-plus",onClick:f[0]||(f[0]=M=>n.value=!0)},{default:S(()=>[...f[7]||(f[7]=[J(" Tambah ",-1)])]),_:1})]),e.violations.length?(A(),B(h,{key:0,data:e.violations,columns:s},{"actions-cell":S(({row:M})=>[_(m,{color:"error",variant:"ghost",size:"xs",icon:"i-lucide-trash-2",loading:r.value===M.original.id,onClick:I=>u(M.original)},null,8,["loading","onClick"])]),_:1},8,["data"])):(A(),B(g,{key:1,color:"success",variant:"subtle",icon:"i-lucide-check-circle"},{description:S(()=>[...f[8]||(f[8]=[J(" Belum ada catatan pelanggaran. Pertahankan! ",-1)])]),_:1})),_(C,{open:n.value,"onUpdate:open":f[5]||(f[5]=M=>n.value=M),title:"Tambah Catatan Pelanggaran"},{body:S(()=>[k("form",{onSubmit:lt(l,["prevent"]),class:"space-y-4"},[_(x,{label:"Tanggal Pelanggaran",name:"violation_date",error:y(a).errors.violation_date,required:""},{default:S(()=>[_(v,{modelValue:y(a).violation_date,"onUpdate:modelValue":f[1]||(f[1]=M=>y(a).violation_date=M),type:"date",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"]),_(x,{label:"Deskripsi Pelanggaran",name:"description",error:y(a).errors.description,required:""},{default:S(()=>[_($,{modelValue:y(a).description,"onUpdate:modelValue":f[2]||(f[2]=M=>y(a).description=M),placeholder:"Jelaskan pelanggaran yang dilakukan...",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"]),_(x,{label:"Hukuman/Sanksi",name:"punishment",error:y(a).errors.punishment},{default:S(()=>[_($,{modelValue:y(a).punishment,"onUpdate:modelValue":f[3]||(f[3]=M=>y(a).punishment=M),placeholder:"Hukuman yang diberikan...",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"]),_(x,{label:"Poin Pelanggaran",name:"points",error:y(a).errors.points},{default:S(()=>[_(v,{modelValue:y(a).points,"onUpdate:modelValue":f[4]||(f[4]=M=>y(a).points=M),type:"number",min:"0",placeholder:"0",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"])],32)]),footer:S(()=>[k("div",rht,[_(m,{color:"neutral",variant:"soft",onClick:c},{default:S(()=>[...f[9]||(f[9]=[J(" Batal ",-1)])]),_:1}),_(m,{color:"primary",loading:y(a).processing,onClick:l},{default:S(()=>[...f[10]||(f[10]=[J(" Simpan ",-1)])]),_:1},8,["loading"])])]),_:1},8,["open"])])}}},sht={class:"grid grid-cols-1 lg:grid-cols-4 gap-6"},aht={class:"lg:col-span-1 space-y-6"},iht={class:"flex flex-col items-center py-4"},lht={class:"text-xl font-bold text-center"},uht={class:"w-full mt-6 space-y-3"},cht={class:"flex justify-between border-b border-gray-100 dark:border-gray-800 pb-2"},dht={class:"font-medium"},fht={class:"flex justify-between border-b border-gray-100 dark:border-gray-800 pb-2"},pht={class:"font-medium"},mht={class:"flex justify-between border-b border-gray-100 dark:border-gray-800 pb-2"},hht={class:"font-medium"},ght={class:"space-y-1"},vht=["onClick"],yht={class:"lg:col-span-3"},bht={class:"flex items-center gap-3"},xht={class:"font-semibold text-lg"},wht={__name:"Show",props:{student:Object},setup(e){const t=K(0),n=[{label:"Biodata",slot:"profile",icon:"i-lucide-user"},{label:"Orang Tua",slot:"parents",icon:"i-lucide-users"},{label:"Akademik",slot:"academic",icon:"i-lucide-graduation-cap"},{label:"Kamar",slot:"bedroom",icon:"i-lucide-bed"},{label:"Rekam Medis",slot:"medical",icon:"i-lucide-heart-pulse"},{label:"Hafalan",slot:"hafalan",icon:"i-lucide-book-open"},{label:"Izin",slot:"izin",icon:"i-lucide-calendar-check"},{label:"Pelanggaran",slot:"pelanggaran",icon:"i-lucide-alert-triangle"}],r=s=>({active:"Aktif",inactive:"Tidak Aktif",graduated:"Lulus",dropped_out:"Keluar/DO"})[s]||s,o=s=>({active:"success",inactive:"neutral",graduated:"info",dropped_out:"error"})[s]||"neutral";return(s,a)=>{const i=We,l=On,c=pn,u=ht,d=tt;return A(),B($t,{title:"Detail Santri",heading:e.student.user?.name,description:e.student.student_id,"page-id":"students-show","back-url":"/dashboard/students"},{header:S(()=>[_(i,{label:"Edit Data",icon:"i-lucide-pencil",to:`/dashboard/students/${e.student.id}/edit`,color:"primary",variant:"soft"},null,8,["to"])]),default:S(()=>[k("div",sht,[k("div",aht,[_(u,null,{default:S(()=>[k("div",iht,[_(l,{src:e.student.user?.photo?e.student.user.photo.startsWith("http")?e.student.user.photo:`/storage/${e.student.user.photo}`:null,alt:e.student.user?.name,size:"3xl",class:"mb-4"},null,8,["src","alt"]),k("h2",lht,q(e.student.user?.name),1),_(c,{color:o(e.student.status),variant:"subtle",class:"mt-2"},{default:S(()=>[J(q(r(e.student.status)),1)]),_:1},8,["color"]),k("div",uht,[k("div",cht,[a[0]||(a[0]=k("span",{class:"text-gray-500 text-sm"},"NIS",-1)),k("span",dht,q(e.student.student_id),1)]),k("div",fht,[a[1]||(a[1]=k("span",{class:"text-gray-500 text-sm"},"Jenis Kelamin",-1)),k("span",pht,q(e.student.gender==="male"?"Laki-laki":"Perempuan"),1)]),k("div",mht,[a[2]||(a[2]=k("span",{class:"text-gray-500 text-sm"},"Kelas",-1)),k("span",hht,q(e.student.current_classroom?.classroom?.name||"-"),1)])])])]),_:1}),_(u,null,{header:S(()=>[...a[3]||(a[3]=[k("h3",{class:"font-semibold text-sm"},"Menu Cepat",-1)])]),default:S(()=>[k("nav",ght,[(A(),W(Ee,null,Ve(n,(f,p)=>k("button",{key:f.slot,onClick:m=>t.value=p,class:Z(["w-full flex items-center gap-3 px-3 py-2 text-sm rounded-lg transition-colors",t.value===p?"bg-primary text-white":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-600 dark:text-gray-400"])},[_(d,{name:f.icon,class:"w-4 h-4"},null,8,["name"]),k("span",null,q(f.label),1)],10,vht)),64))])]),_:1})]),k("div",yht,[_(u,null,{header:S(()=>[k("div",bht,[_(d,{name:n[t.value].icon,class:"w-5 h-5 text-primary"},null,8,["name"]),k("h3",xht,q(n[t.value].label),1)])]),default:S(()=>[t.value===0?(A(),B(ymt,{key:0,student:e.student},null,8,["student"])):t.value===1?(A(),B(kmt,{key:1,student:e.student},null,8,["student"])):t.value===2?(A(),B(Tmt,{key:2,student:e.student},null,8,["student"])):t.value===3?(A(),B(Rmt,{key:3,"bed-rooms":e.student.bed_rooms||[]},null,8,["bed-rooms"])):t.value===4?(A(),B(Fmt,{key:4,"student-id":e.student.id,diseases:e.student.diseases||[]},null,8,["student-id","diseases"])):t.value===5?(A(),B(Kmt,{key:5,"student-id":e.student.id,memorizes:e.student.memorizes||[]},null,8,["student-id","memorizes"])):t.value===6?(A(),B(Zmt,{key:6,"student-id":e.student.id,"student-name":e.student.user?.name,permissions:e.student.permissions||[]},null,8,["student-id","student-name","permissions"])):t.value===7?(A(),B(oht,{key:7,"student-id":e.student.id,violations:e.student.violations||[]},null,8,["student-id","violations"])):X("",!0)]),_:1})])])]),_:1},8,["heading","description"])}}},kht=Object.freeze(Object.defineProperty({__proto__:null,default:wht},Symbol.toStringTag,{value:"Module"})),_ht={class:"flex flex-col md:flex-row gap-4"},Sht={key:0,class:"p-4 border-t border-gray-200 dark:border-gray-800"},$ht={__name:"Index",props:{registrations:Object,filters:Object},setup(e){const t=e,n=K(t.registrations.current_page),r=K({search:t.filters.search||"",status:t.filters.status||"all"}),o=[{value:"all",label:"Semua Status"},{value:"pending",label:"Pending (Menunggu)"},{value:"accepted",label:"Diterima"},{value:"rejected",label:"Ditolak"}],s=[{key:"registration_number",label:"No. Daftar"},{key:"name",label:"Nama Lengkap"},{key:"gender",label:"L/P"},{key:"city",label:"Asal Kota",value:l=>l.regency||"-"},{key:"created_at",label:"Tanggal Daftar"},{key:"status",label:"Status"},{key:"actions",label:""}],a=l=>{switch(l){case"pending":return"warning";case"accepted":return"success";case"rejected":return"error";default:return"neutral"}},i=l=>{switch(l){case"pending":return"Menunggu";case"accepted":return"Diterima";case"rejected":return"Ditolak";default:return l}};return He(r,Sf.debounce(()=>{Qe.get(route("dashboard.student-registrations.index"),r.value,{preserveState:!0,replace:!0})},300),{deep:!0}),He(n,l=>{Qe.get(route("dashboard.student-registrations.index"),{...r.value,page:l},{preserveState:!0,replace:!0})}),(l,c)=>{const u=bt,d=er,f=ht,p=pn,m=We,h=xr,g=Fr;return A(),B($t,{title:"Pendaftaran Santri",heading:"Data Pendaftar Santri Baru",description:"Daftar calon santri yang mendaftar melalui website.","page-id":"student-registrations"},{actions:S(()=>[...c[3]||(c[3]=[])]),default:S(()=>[_(f,{class:"mb-6"},{default:S(()=>[k("div",_ht,[_(u,{modelValue:r.value.search,"onUpdate:modelValue":c[0]||(c[0]=v=>r.value.search=v),icon:"i-lucide-search",placeholder:"Cari nama atau nomor pendaftaran...",class:"flex-1"},null,8,["modelValue"]),_(d,{modelValue:r.value.status,"onUpdate:modelValue":c[1]||(c[1]=v=>r.value.status=v),items:o,"label-key":"label","value-key":"value",placeholder:"Status",class:"w-full md:w-48"},null,8,["modelValue"])])]),_:1}),_(f,{ui:{body:{padding:"p-0"}}},{default:S(()=>[_(h,{rows:e.registrations.data,columns:s},{"status-data":S(({row:v})=>[_(p,{color:a(v.status),variant:"subtle"},{default:S(()=>[J(q(i(v.status)),1)]),_:2},1032,["color"])]),"created_at-data":S(({row:v})=>[J(q(new Date(v.created_at).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})),1)]),"actions-data":S(({row:v})=>[v.status==="pending"?(A(),B(m,{key:0,to:l.route("dashboard.student-registrations.show",v.id),color:"primary",variant:"ghost",icon:"i-lucide-eye",size:"xs"},null,8,["to"])):(A(),B(m,{key:1,to:l.route("dashboard.student-registrations.show",v.id),color:"neutral",variant:"ghost",icon:"i-lucide-eye",size:"xs"},null,8,["to"]))]),_:1},8,["rows"]),e.registrations.links?(A(),W("div",Sht,[_(g,{modelValue:n.value,"onUpdate:modelValue":c[2]||(c[2]=v=>n.value=v),total:e.registrations.total,"page-count":e.registrations.per_page},null,8,["modelValue","total","page-count"])])):X("",!0)]),_:1})]),_:1})}}},Cht=Object.freeze(Object.defineProperty({__proto__:null,default:$ht},Symbol.toStringTag,{value:"Module"})),Mht={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},Aht={class:"lg:col-span-2 space-y-6"},Tht={class:"grid grid-cols-1 sm:grid-cols-2 gap-x-4 gap-y-6"},Eht={class:"font-medium"},Iht={class:"font-medium"},Pht={class:"font-medium"},Oht={class:"font-medium"},Rht={class:"sm:col-span-2"},Bht={class:"font-medium"},Nht={class:"font-medium"},Dht={class:"font-medium"},Fht={class:"font-medium"},qht={class:"font-medium"},zht={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Lht={class:"space-y-4"},jht={class:"space-y-2"},Vht={class:"font-medium"},Uht={class:"font-medium"},Kht={class:"font-medium"},Hht={class:"font-medium"},Wht={class:"space-y-4"},Ght={class:"space-y-2"},Jht={class:"font-medium"},Yht={class:"font-medium"},Qht={class:"font-medium"},Xht={class:"font-medium"},Zht={key:0,class:"mt-6 pt-6 border-t"},egt={class:"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-2"},tgt={class:"font-medium"},ngt={class:"font-medium"},rgt={class:"font-medium"},ogt={class:"md:col-span-2"},sgt={class:"font-medium"},agt={class:"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-6"},igt={class:"font-medium"},lgt={class:"font-medium"},ugt={class:"font-medium"},cgt={class:"font-medium"},dgt={class:"space-y-6"},fgt={class:"space-y-4"},pgt={class:"font-mono text-lg font-bold"},mgt={class:"font-medium"},hgt={class:"font-medium"},ggt={class:"font-medium"},vgt={key:0},ygt=["src"],bgt={key:1,class:"bg-gray-100 rounded-lg h-48 flex items-center justify-center text-gray-400"},xgt={class:"p-4 space-y-4"},wgt={class:"flex justify-end gap-2"},kgt={__name:"Show",props:{registration:Object},setup(e){const t=e,n=K(!1),r=K(!1),o=()=>{n.value=!0},s=()=>{r.value=!0,Qe.post(route("dashboard.student-registrations.accept",t.registration.id),{},{onFinish:()=>{r.value=!1,n.value=!1}})};return(a,i)=>{const l=We,c=bo,u=ht,d=$r;return A(),B($t,{title:"Detail Pendaftaran",heading:e.registration.name,description:"No. Pendaftaran: "+e.registration.registration_number,"page-id":"student-registrations-show","back-url":"/dashboard/student-registrations"},{actions:S(()=>[_(l,{href:a.route("dashboard.student-registrations.pdf",e.registration.id),target:"_blank",color:"neutral",variant:"outline",icon:"i-lucide-file-text",label:"Cetak Formulir (Word)"},null,8,["href"]),e.registration.status==="pending"?(A(),B(l,{key:0,onClick:o,color:"primary",icon:"i-lucide-check-circle",label:"Terima Santri"})):X("",!0)]),default:S(()=>[k("div",Mht,[k("div",Aht,[e.registration.status==="pending"?(A(),B(c,{key:0,color:"warning",variant:"subtle",icon:"i-lucide-clock",title:"Status: Menunggu Konfirmasi",description:"Pendaftaran ini belum diproses. Silahkan cek kelengkapan data sebelum menerima."})):e.registration.status==="accepted"?(A(),B(c,{key:1,color:"success",variant:"subtle",icon:"i-lucide-check-circle",title:"Status: Diterima",description:"Pendaftaran ini telah diterima. Data santri sudah masuk ke database utama."})):X("",!0),_(u,null,{header:S(()=>[...i[2]||(i[2]=[k("h3",{class:"font-semibold"},"Data Pribadi",-1)])]),default:S(()=>[k("dl",Tht,[k("div",null,[i[3]||(i[3]=k("dt",{class:"text-sm text-gray-500"},"Nama Lengkap",-1)),k("dd",Eht,q(e.registration.name),1)]),k("div",null,[i[4]||(i[4]=k("dt",{class:"text-sm text-gray-500"},"Jenis Kelamin",-1)),k("dd",Iht,q(e.registration.gender==="male"?"Laki-laki":"Perempuan"),1)]),k("div",null,[i[5]||(i[5]=k("dt",{class:"text-sm text-gray-500"},"Tempat, Tanggal Lahir",-1)),k("dd",Pht,q(e.registration.place_of_birth)+", "+q(new Date(e.registration.date_of_birth).toLocaleDateString("id-ID")),1)]),k("div",null,[i[6]||(i[6]=k("dt",{class:"text-sm text-gray-500"},"Anak Ke / Dari",-1)),k("dd",Oht,q(e.registration.child_number)+" dari "+q(e.registration.siblings_count)+" bersaudara",1)]),k("div",Rht,[i[7]||(i[7]=k("dt",{class:"text-sm text-gray-500"},"Alamat Lengkap",-1)),k("dd",Bht,q(e.registration.address),1)]),k("div",null,[i[8]||(i[8]=k("dt",{class:"text-sm text-gray-500"},"Desa / Kelurahan",-1)),k("dd",Nht,q(e.registration.village),1)]),k("div",null,[i[9]||(i[9]=k("dt",{class:"text-sm text-gray-500"},"Kecamatan",-1)),k("dd",Dht,q(e.registration.district),1)]),k("div",null,[i[10]||(i[10]=k("dt",{class:"text-sm text-gray-500"},"Kabupaten / Kota",-1)),k("dd",Fht,q(e.registration.regency),1)]),k("div",null,[i[11]||(i[11]=k("dt",{class:"text-sm text-gray-500"},"Provinsi",-1)),k("dd",qht,q(e.registration.province),1)])])]),_:1}),_(u,null,{header:S(()=>[...i[12]||(i[12]=[k("h3",{class:"font-semibold"},"Data Orang Tua",-1)])]),default:S(()=>[k("div",zht,[k("div",Lht,[i[17]||(i[17]=k("h4",{class:"font-medium text-gray-700 border-b pb-2"},"Ayah",-1)),k("dl",jht,[k("div",null,[i[13]||(i[13]=k("dt",{class:"text-sm text-gray-500"},"Nama",-1)),k("dd",Vht,q(e.registration.father_name),1)]),k("div",null,[i[14]||(i[14]=k("dt",{class:"text-sm text-gray-500"},"Pekerjaan",-1)),k("dd",Uht,q(e.registration.father_job||"-"),1)]),k("div",null,[i[15]||(i[15]=k("dt",{class:"text-sm text-gray-500"},"No HP",-1)),k("dd",Kht,q(e.registration.father_phone||"-"),1)]),k("div",null,[i[16]||(i[16]=k("dt",{class:"text-sm text-gray-500"},"Penghasilan",-1)),k("dd",Hht,q(e.registration.father_income||"-"),1)])])]),k("div",Wht,[i[22]||(i[22]=k("h4",{class:"font-medium text-gray-700 border-b pb-2"},"Ibu",-1)),k("dl",Ght,[k("div",null,[i[18]||(i[18]=k("dt",{class:"text-sm text-gray-500"},"Nama",-1)),k("dd",Jht,q(e.registration.mother_name),1)]),k("div",null,[i[19]||(i[19]=k("dt",{class:"text-sm text-gray-500"},"Pekerjaan",-1)),k("dd",Yht,q(e.registration.mother_job||"-"),1)]),k("div",null,[i[20]||(i[20]=k("dt",{class:"text-sm text-gray-500"},"No HP",-1)),k("dd",Qht,q(e.registration.mother_phone||"-"),1)]),k("div",null,[i[21]||(i[21]=k("dt",{class:"text-sm text-gray-500"},"Penghasilan",-1)),k("dd",Xht,q(e.registration.mother_income||"-"),1)])])])]),e.registration.guardian_name?(A(),W("div",Zht,[i[27]||(i[27]=k("h4",{class:"font-medium text-gray-700 border-b pb-2 mb-4"},"Wali Santri",-1)),k("dl",egt,[k("div",null,[i[23]||(i[23]=k("dt",{class:"text-sm text-gray-500"},"Nama Wali",-1)),k("dd",tgt,q(e.registration.guardian_name),1)]),k("div",null,[i[24]||(i[24]=k("dt",{class:"text-sm text-gray-500"},"Pekerjaan",-1)),k("dd",ngt,q(e.registration.guardian_job||"-"),1)]),k("div",null,[i[25]||(i[25]=k("dt",{class:"text-sm text-gray-500"},"No HP",-1)),k("dd",rgt,q(e.registration.guardian_phone||"-"),1)]),k("div",ogt,[i[26]||(i[26]=k("dt",{class:"text-sm text-gray-500"},"Alamat",-1)),k("dd",sgt,q(e.registration.guardian_address||"Sama dengan santri"),1)])])])):X("",!0)]),_:1}),_(u,null,{header:S(()=>[...i[28]||(i[28]=[k("h3",{class:"font-semibold"},"Riwayat Pendidikan",-1)])]),default:S(()=>[k("dl",agt,[k("div",null,[i[29]||(i[29]=k("dt",{class:"text-sm text-gray-500"},"Asal Sekolah",-1)),k("dd",igt,q(e.registration.previous_school_name),1)]),k("div",null,[i[30]||(i[30]=k("dt",{class:"text-sm text-gray-500"},"Alamat Sekolah",-1)),k("dd",lgt,q(e.registration.previous_school_address||"-"),1)]),k("div",null,[i[31]||(i[31]=k("dt",{class:"text-sm text-gray-500"},"Tahun Lulus",-1)),k("dd",ugt,q(e.registration.graduation_year||"-"),1)]),k("div",null,[i[32]||(i[32]=k("dt",{class:"text-sm text-gray-500"},"No Ijazah",-1)),k("dd",cgt,q(e.registration.certificate_number||"-"),1)])])]),_:1})]),k("div",dgt,[_(u,null,{header:S(()=>[...i[33]||(i[33]=[k("h3",{class:"font-semibold"},"Info Pendaftaran",-1)])]),default:S(()=>[k("dl",fgt,[k("div",null,[i[34]||(i[34]=k("dt",{class:"text-sm text-gray-500"},"Nomor Pendaftaran",-1)),k("dd",pgt,q(e.registration.registration_number),1)]),k("div",null,[i[35]||(i[35]=k("dt",{class:"text-sm text-gray-500"},"Tanggal Daftar",-1)),k("dd",mgt,q(new Date(e.registration.created_at).toLocaleString("id-ID")),1)]),k("div",null,[i[36]||(i[36]=k("dt",{class:"text-sm text-gray-500"},"Sekolah Tujuan",-1)),k("dd",hgt,q(e.registration.school?.name||"-"),1)]),k("div",null,[i[37]||(i[37]=k("dt",{class:"text-sm text-gray-500"},"Jenjang / Kelas",-1)),k("dd",ggt,q(e.registration.school_level?.name||"-"),1)])])]),_:1}),e.registration.photo?(A(),W("div",vgt,[k("img",{src:"/storage/"+e.registration.photo,alt:"Foto Santri",class:"w-full rounded-lg shadow-sm border border-gray-200"},null,8,ygt)])):(A(),W("div",bgt,[...i[38]||(i[38]=[k("span",{class:"text-sm"},"Tidak ada foto",-1)])]))])]),_(d,{modelValue:n.value,"onUpdate:modelValue":i[1]||(i[1]=f=>n.value=f),title:"Konfirmasi Terima Santri"},{default:S(()=>[k("div",xgt,[i[39]||(i[39]=k("p",null,"Apakah Anda yakin ingin menerima calon santri ini? Data akan dipindahkan ke Data Santri Utama.",-1)),k("div",wgt,[_(l,{label:"Batal",color:"neutral",variant:"ghost",onClick:i[0]||(i[0]=f=>n.value=!1)}),_(l,{label:"Ya, Terima Santri",color:"success",loading:r.value,onClick:s},null,8,["loading"])])])]),_:1},8,["modelValue"])]),_:1},8,["heading","description"])}}},_gt=Object.freeze(Object.defineProperty({__proto__:null,default:kgt},Symbol.toStringTag,{value:"Module"})),Sgt={class:"mb-4 grid grid-cols-1 md:grid-cols-3 gap-3"},$gt={class:"flex items-center gap-3"},Cgt={class:"font-medium text-gray-900 dark:text-gray-100"},Mgt={class:"text-sm text-gray-500 dark:text-gray-400"},Agt={key:1,class:"text-gray-400 text-sm"},Tgt={class:"flex justify-between items-center px-4 py-3 border-t border-default"},Egt={class:"text-sm text-muted"},Igt={key:0,class:"space-y-4"},Pgt={class:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg"},Ogt={class:"font-semibold"},Rgt={class:"text-sm text-gray-500"},Bgt={class:"flex justify-end gap-2 w-full"},Ngt={__name:"Index",props:{students:Object,classrooms:Array,filters:Object},setup(e){const t=e,n=K({search:t.filters?.search||"",classroom_id:t.filters?.classroom_id||"all",rfid_status:t.filters?.rfid_status||"unregistered"}),r=K(t.students.current_page),o=K(!1),s=K(null),a=K(null),i=[{value:"all",label:"Semua"},{value:"unregistered",label:"Belum Terdaftar"},{value:"registered",label:"Sudah Terdaftar"}],l=H(()=>[{id:"all",name:"Semua Kelas"},...t.classrooms||[]]),c=[{id:"title",header:"Nama & NIS"},{id:"classroom",header:"Kelas"},{id:"rfid",header:"RFID"},{id:"actions",header:"Aksi"}],u=Rt({rfid:""}),d=h=>{s.value=h,u.rfid=h?.rfid||"",o.value=!0,St(()=>{a.value?.$el?.querySelector("input")?.focus()})},f=()=>{o.value=!1,s.value=null,u.reset(),u.clearErrors()},p=()=>{s.value&&u.put(`/dashboard/student-rfid/${s.value.id}`,{preserveScroll:!0,onSuccess:()=>{f()}})},m=Sf.debounce(()=>{Qe.get("/dashboard/student-rfid",n.value,{preserveState:!0,replace:!0})},500);return He(n,m,{deep:!0}),He(r,h=>{Qe.get("/dashboard/student-rfid",{...n.value,page:h},{preserveState:!0,replace:!0})}),(h,g)=>{const v=We,x=bt,$=er,C=On,M=pn,I=xr,E=Fr,P=ht,O=qt,D=$r;return A(),B($t,{title:"Pendaftaran RFID",heading:"Kelola RFID Santri",description:"Daftarkan dan kelola kartu RFID untuk santri","page-id":"student-rfid-index"},{header:S(()=>[_(v,{color:"primary",icon:"i-lucide-credit-card",label:"Scan RFID",onClick:g[0]||(g[0]=L=>d(null))})]),default:S(()=>[k("div",Sgt,[_(x,{modelValue:n.value.search,"onUpdate:modelValue":g[1]||(g[1]=L=>n.value.search=L),icon:"i-lucide-search",placeholder:"Cari nama/NIS..."},null,8,["modelValue"]),_($,{modelValue:n.value.classroom_id,"onUpdate:modelValue":g[2]||(g[2]=L=>n.value.classroom_id=L),items:l.value,"label-key":"name","value-key":"id",placeholder:"Kelas"},null,8,["modelValue","items"]),_($,{modelValue:n.value.rfid_status,"onUpdate:modelValue":g[3]||(g[3]=L=>n.value.rfid_status=L),items:i,"label-key":"label","value-key":"value",placeholder:"Status RFID"},null,8,["modelValue"])]),_(P,null,{default:S(()=>[_(I,{data:e.students.data,columns:c},{"title-cell":S(({row:L})=>[k("div",$gt,[_(C,{src:L.original.user?.photo?L.original.user.photo.startsWith("http")?L.original.user.photo:`/storage/${L.original.user.photo}`:null,alt:L.original.user?.name},null,8,["src","alt"]),k("div",null,[k("p",Cgt,q(L.original.user?.name),1),k("p",Mgt,q(L.original.student_id),1)])])]),"classroom-cell":S(({row:L})=>[L.original.current_classroom?.classroom?(A(),B(M,{key:0,color:"primary",variant:"subtle"},{default:S(()=>[J(q(L.original.current_classroom.classroom.name),1)]),_:2},1024)):(A(),W("span",Agt,"-"))]),"rfid-cell":S(({row:L})=>[L.original.rfid?(A(),B(M,{key:0,color:"success",variant:"subtle"},{default:S(()=>[J(q(L.original.rfid),1)]),_:2},1024)):(A(),B(M,{key:1,color:"neutral",variant:"subtle"},{default:S(()=>[...g[7]||(g[7]=[J(" Belum Terdaftar ",-1)])]),_:1}))]),"actions-cell":S(({row:L})=>[_(v,{color:L.original.rfid?"warning":"primary",variant:"soft",size:"sm",icon:L.original.rfid?"i-lucide-refresh-cw":"i-lucide-plus",onClick:V=>d(L.original)},{default:S(()=>[J(q(L.original.rfid?"Update":"Daftar"),1)]),_:2},1032,["color","icon","onClick"])]),_:1},8,["data"]),k("div",Tgt,[k("span",Egt," Showing "+q(e.students.from)+" to "+q(e.students.to)+" of "+q(e.students.total)+" entries ",1),_(E,{modelValue:r.value,"onUpdate:modelValue":g[4]||(g[4]=L=>r.value=L),total:e.students.total,"page-count":e.students.per_page},null,8,["modelValue","total","page-count"])])]),_:1}),_(D,{open:o.value,"onUpdate:open":g[6]||(g[6]=L=>o.value=L),title:s.value?.rfid?"Update RFID":"Daftar RFID"},{body:S(()=>[s.value?(A(),W("div",Igt,[k("div",Pgt,[_(C,{src:s.value.user?.photo?s.value.user.photo.startsWith("http")?s.value.user.photo:`/storage/${s.value.user.photo}`:null,alt:s.value.user?.name,size:"lg"},null,8,["src","alt"]),k("div",null,[k("p",Ogt,q(s.value.user?.name),1),k("p",Rgt,q(s.value.student_id),1)])]),k("form",{onSubmit:lt(p,["prevent"])},[_(O,{label:"RFID",name:"rfid",error:y(u).errors.rfid,required:""},{default:S(()=>[_(x,{ref_key:"rfidInput",ref:a,modelValue:y(u).rfid,"onUpdate:modelValue":g[5]||(g[5]=L=>y(u).rfid=L),placeholder:"Scan atau ketik RFID...",class:"w-full",autofocus:""},null,8,["modelValue"])]),_:1},8,["error"])],32)])):X("",!0)]),footer:S(()=>[k("div",Bgt,[_(v,{color:"neutral",variant:"soft",onClick:f},{default:S(()=>[...g[8]||(g[8]=[J(" Batal ",-1)])]),_:1}),_(v,{color:"primary",loading:y(u).processing,onClick:p},{default:S(()=>[...g[9]||(g[9]=[J(" Simpan ",-1)])]),_:1},8,["loading"])])]),_:1},8,["open","title"])]),_:1})}}},Dgt=Object.freeze(Object.defineProperty({__proto__:null,default:Ngt},Symbol.toStringTag,{value:"Module"})),Fgt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},qgt={class:"flex gap-4"},zgt={class:"flex items-center gap-2 cursor-pointer"},Lgt={class:"flex items-center gap-2 cursor-pointer"},jgt={class:"flex gap-2 pt-4"},Vgt={__name:"Create",props:{positions:Array,boardingSchools:Array},setup(e){const t=e,n=Rt({name:"",email:"",phone_number:"",password:"",position_id:"",nip:"",boarding_school_id:t.boardingSchools.length===1?t.boardingSchools[0].id:"",gender:"male"}),r=H(()=>t.positions.map(a=>({label:a.name,value:a.id}))),o=H(()=>t.boardingSchools.map(a=>({label:a.name,value:a.id}))),s=()=>{n.post("/dashboard/teachers",{preserveScroll:!0})};return(a,i)=>{const l=bt,c=qt,u=er,d=We,f=ht;return A(),B($t,{title:"Tambah Pegawai","page-id":"teachers-create","content-class":"p-6"},{default:S(()=>[_(f,null,{default:S(()=>[k("form",{onSubmit:lt(s,["prevent"]),class:"space-y-6"},[k("div",Fgt,[_(c,{label:"Nama Lengkap",required:"",error:y(n).errors.name},{default:S(()=>[_(l,{modelValue:y(n).name,"onUpdate:modelValue":i[0]||(i[0]=p=>y(n).name=p),placeholder:"Masukkan nama lengkap",onInput:i[1]||(i[1]=p=>y(n).clearErrors("name"))},null,8,["modelValue"])]),_:1},8,["error"]),_(c,{label:"Email",required:"",error:y(n).errors.email},{default:S(()=>[_(l,{modelValue:y(n).email,"onUpdate:modelValue":i[2]||(i[2]=p=>y(n).email=p),type:"email",placeholder:"email@example.com",onInput:i[3]||(i[3]=p=>y(n).clearErrors("email"))},null,8,["modelValue"])]),_:1},8,["error"]),_(c,{label:"Nomor HP",error:y(n).errors.phone_number},{default:S(()=>[_(l,{modelValue:y(n).phone_number,"onUpdate:modelValue":i[4]||(i[4]=p=>y(n).phone_number=p),placeholder:"08xx xxxx xxxx",onInput:i[5]||(i[5]=p=>y(n).clearErrors("phone_number"))},null,8,["modelValue"])]),_:1},8,["error"]),_(c,{label:"Password",required:"",error:y(n).errors.password},{default:S(()=>[_(l,{modelValue:y(n).password,"onUpdate:modelValue":i[6]||(i[6]=p=>y(n).password=p),type:"password",placeholder:"Minimal 8 karakter",onInput:i[7]||(i[7]=p=>y(n).clearErrors("password"))},null,8,["modelValue"])]),_:1},8,["error"]),_(c,{label:"Jabatan",required:"",error:y(n).errors.position_id},{default:S(()=>[_(u,{modelValue:y(n).position_id,"onUpdate:modelValue":i[8]||(i[8]=p=>y(n).position_id=p),items:r.value,placeholder:"Pilih jabatan",onChange:i[9]||(i[9]=p=>y(n).clearErrors("position_id"))},null,8,["modelValue","items"])]),_:1},8,["error"]),_(c,{label:"NIP",error:y(n).errors.nip},{default:S(()=>[_(l,{modelValue:y(n).nip,"onUpdate:modelValue":i[10]||(i[10]=p=>y(n).nip=p),placeholder:"Nomor Induk Pegawai (opsional)",onInput:i[11]||(i[11]=p=>y(n).clearErrors("nip"))},null,8,["modelValue"])]),_:1},8,["error"]),e.boardingSchools.length>1?(A(),B(c,{key:0,label:"Pondok",error:y(n).errors.boarding_school_id,class:"md:col-span-2"},{default:S(()=>[_(u,{modelValue:y(n).boarding_school_id,"onUpdate:modelValue":i[12]||(i[12]=p=>y(n).boarding_school_id=p),items:o.value,placeholder:"Pilih pondok",onChange:i[13]||(i[13]=p=>y(n).clearErrors("boarding_school_id"))},null,8,["modelValue","items"])]),_:1},8,["error"])):X("",!0),_(c,{label:"Jenis Kelamin",error:y(n).errors.gender,class:"md:col-span-2"},{default:S(()=>[k("div",qgt,[k("label",zgt,[Nd(k("input",{type:"radio","onUpdate:modelValue":i[14]||(i[14]=p=>y(n).gender=p),value:"male",class:"w-4 h-4",onChange:i[15]||(i[15]=p=>y(n).clearErrors("gender"))},null,544),[[Fd,y(n).gender]]),i[18]||(i[18]=k("span",null,"Laki-laki",-1))]),k("label",Lgt,[Nd(k("input",{type:"radio","onUpdate:modelValue":i[16]||(i[16]=p=>y(n).gender=p),value:"female",class:"w-4 h-4",onChange:i[17]||(i[17]=p=>y(n).clearErrors("gender"))},null,544),[[Fd,y(n).gender]]),i[19]||(i[19]=k("span",null,"Perempuan",-1))])])]),_:1},8,["error"])]),k("div",jgt,[_(d,{type:"submit",color:"primary",loading:y(n).processing},{default:S(()=>[...i[20]||(i[20]=[J(" Simpan ",-1)])]),_:1},8,["loading"]),_(d,{type:"button",color:"neutral",variant:"soft",to:"/dashboard/teachers"},{default:S(()=>[...i[21]||(i[21]=[J(" Batal ",-1)])]),_:1})])],32)]),_:1})]),_:1})}}},Ugt=Object.freeze(Object.defineProperty({__proto__:null,default:Vgt},Symbol.toStringTag,{value:"Module"})),Kgt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Hgt={class:"flex gap-4"},Wgt={class:"flex items-center gap-2 cursor-pointer"},Ggt={class:"flex items-center gap-2 cursor-pointer"},Jgt={class:"flex gap-2 pt-4"},Ygt={__name:"Edit",props:{teacher:Object,positions:Array,boardingSchools:Array},setup(e){const t=e,n=Rt({name:t.teacher.user.name,email:t.teacher.user.email,phone_number:t.teacher.user.phone_number||"",password:"",position_id:t.teacher.position_id,nip:t.teacher.nip||"",gender:t.teacher.user.gender||"male"}),r=H(()=>t.positions.map(s=>({label:s.name,value:s.id}))),o=()=>{n.put(`/dashboard/teachers/${t.teacher.id}`,{preserveScroll:!0})};return(s,a)=>{const i=bt,l=qt,c=er,u=We,d=ht;return A(),B($t,{title:"Edit Pegawai","page-id":"teachers-edit","content-class":"p-6"},{default:S(()=>[_(d,null,{default:S(()=>[k("form",{onSubmit:lt(o,["prevent"]),class:"space-y-6"},[k("div",Kgt,[_(l,{label:"Nama Lengkap",required:"",error:y(n).errors.name},{default:S(()=>[_(i,{modelValue:y(n).name,"onUpdate:modelValue":a[0]||(a[0]=f=>y(n).name=f),placeholder:"Masukkan nama lengkap",onInput:a[1]||(a[1]=f=>y(n).clearErrors("name"))},null,8,["modelValue"])]),_:1},8,["error"]),_(l,{label:"Email",required:"",error:y(n).errors.email},{default:S(()=>[_(i,{modelValue:y(n).email,"onUpdate:modelValue":a[2]||(a[2]=f=>y(n).email=f),type:"email",placeholder:"email@example.com",onInput:a[3]||(a[3]=f=>y(n).clearErrors("email"))},null,8,["modelValue"])]),_:1},8,["error"]),_(l,{label:"Nomor HP",error:y(n).errors.phone_number},{default:S(()=>[_(i,{modelValue:y(n).phone_number,"onUpdate:modelValue":a[4]||(a[4]=f=>y(n).phone_number=f),placeholder:"08xx xxxx xxxx",onInput:a[5]||(a[5]=f=>y(n).clearErrors("phone_number"))},null,8,["modelValue"])]),_:1},8,["error"]),_(l,{label:"Password Baru",error:y(n).errors.password,hint:"Kosongkan jika tidak ingin mengubah password"},{default:S(()=>[_(i,{modelValue:y(n).password,"onUpdate:modelValue":a[6]||(a[6]=f=>y(n).password=f),type:"password",placeholder:"Minimal 8 karakter",onInput:a[7]||(a[7]=f=>y(n).clearErrors("password"))},null,8,["modelValue"])]),_:1},8,["error"]),_(l,{label:"Jabatan",required:"",error:y(n).errors.position_id},{default:S(()=>[_(c,{modelValue:y(n).position_id,"onUpdate:modelValue":a[8]||(a[8]=f=>y(n).position_id=f),items:r.value,placeholder:"Pilih jabatan",onChange:a[9]||(a[9]=f=>y(n).clearErrors("position_id"))},null,8,["modelValue","items"])]),_:1},8,["error"]),_(l,{label:"NIP",error:y(n).errors.nip},{default:S(()=>[_(i,{modelValue:y(n).nip,"onUpdate:modelValue":a[10]||(a[10]=f=>y(n).nip=f),placeholder:"Nomor Induk Pegawai (opsional)",onInput:a[11]||(a[11]=f=>y(n).clearErrors("nip"))},null,8,["modelValue"])]),_:1},8,["error"]),_(l,{label:"Jenis Kelamin",error:y(n).errors.gender,class:"md:col-span-2"},{default:S(()=>[k("div",Hgt,[k("label",Wgt,[Nd(k("input",{type:"radio","onUpdate:modelValue":a[12]||(a[12]=f=>y(n).gender=f),value:"male",class:"w-4 h-4",onChange:a[13]||(a[13]=f=>y(n).clearErrors("gender"))},null,544),[[Fd,y(n).gender]]),a[16]||(a[16]=k("span",null,"Laki-laki",-1))]),k("label",Ggt,[Nd(k("input",{type:"radio","onUpdate:modelValue":a[14]||(a[14]=f=>y(n).gender=f),value:"female",class:"w-4 h-4",onChange:a[15]||(a[15]=f=>y(n).clearErrors("gender"))},null,544),[[Fd,y(n).gender]]),a[17]||(a[17]=k("span",null,"Perempuan",-1))])])]),_:1},8,["error"])]),k("div",Jgt,[_(u,{type:"submit",color:"primary",loading:y(n).processing},{default:S(()=>[...a[18]||(a[18]=[J(" Simpan Perubahan ",-1)])]),_:1},8,["loading"]),_(u,{type:"button",color:"neutral",variant:"soft",to:"/dashboard/teachers"},{default:S(()=>[...a[19]||(a[19]=[J(" Batal ",-1)])]),_:1})])],32)]),_:1})]),_:1})}}},Qgt=Object.freeze(Object.defineProperty({__proto__:null,default:Ygt},Symbol.toStringTag,{value:"Module"})),Xgt={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Zgt={class:"flex items-end gap-2"},evt={class:"flex justify-between items-center mb-4"},tvt={class:"flex gap-2"},nvt={class:"overflow-x-auto"},rvt={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},ovt={class:"divide-y divide-gray-200 dark:divide-gray-700"},svt={class:"px-4 py-3 text-sm"},avt={class:"px-4 py-3 text-sm"},ivt={class:"px-4 py-3 text-sm font-medium"},lvt={class:"px-4 py-3 text-sm"},uvt={class:"px-4 py-3 text-sm"},cvt={class:"px-4 py-3 text-sm"},dvt={class:"px-4 py-3 text-sm"},fvt={class:"flex gap-2"},pvt={key:0},mvt={colspan:"7",class:"px-4 py-8 text-center text-gray-500"},hvt={key:0,class:"mt-4 flex justify-center"},gvt={class:"flex items-start gap-4"},vvt={class:"p-3 bg-error/10 rounded-lg"},yvt={class:"flex-1"},bvt={class:"text-sm text-gray-500 mt-1"},xvt={class:"font-semibold"},wvt={class:"flex justify-end gap-2 w-full"},kvt={class:"flex items-center gap-3"},_vt={class:"p-2 bg-primary/10 rounded-lg"},Svt={class:"space-y-4"},$vt={key:0,class:"mt-2 text-sm text-gray-600 dark:text-gray-400"},Cvt={class:"font-medium"},Mvt={class:"space-y-1 text-xs mt-2 max-h-40 overflow-y-auto"},Avt={class:"flex justify-end gap-2 w-full"},Tvt={__name:"Index",props:{teachers:Object,positions:Array,filters:Object},setup(e){const t=ai(),n=e,r=K({search:n.filters.search||"",position_id:n.filters.position_id||"all"}),o=K(n.teachers.current_page),s=H(()=>[{label:"Semua Jabatan",value:"all"},...n.positions.map(L=>({label:L.name,value:L.id}))]),a=H(()=>r.value.search||r.value.position_id&&r.value.position_id!=="all"),i=H(()=>{const L=d(),V=new URLSearchParams(L).toString();return`/dashboard/teachers/export/excel${V?"?"+V:""}`}),l=()=>{const L={...r.value};L.position_id==="all"&&delete L.position_id,Qe.get("/dashboard/teachers",L,{preserveState:!0,preserveScroll:!0})},c=()=>{r.value={search:"",position_id:"all"},l()},u=L=>{const V={...r.value};V.position_id==="all"&&delete V.position_id,Qe.get(`/dashboard/teachers?page=${L}`,V,{preserveState:!0,preserveScroll:!0})},d=()=>{const L={...r.value};return L.position_id==="all"&&delete L.position_id,L},f=K(!1),p=K(null),m=K(null),h=K(!1);wt(()=>{t.props.flash.import_errors&&t.props.flash.import_errors.length>0&&(f.value=!0)});const g=()=>{f.value=!0},v=()=>{f.value=!1,p.value=null,m.value&&(m.value.value="")},x=L=>{const V=L.target.files[0];V&&(p.value=V)},$=L=>{if(L===0)return"0 Bytes";const V=1024,F=["Bytes","KB","MB"],z=Math.floor(Math.log(L)/Math.log(V));return Math.round(L/Math.pow(V,z)*100)/100+" "+F[z]},C=()=>{if(!p.value)return;h.value=!0;const L=new FormData;L.append("file",p.value),Qe.post("/dashboard/teachers/import/excel",L,{onSuccess:V=>{(!t.props.flash.import_errors||t.props.flash.import_errors.length===0)&&v()},onError:V=>{},onFinish:()=>{h.value=!1},preserveScroll:!0})},M=K(!1),I=K(null),E=K(!1),P=L=>{I.value=L,M.value=!0},O=()=>{M.value=!1,I.value=null},D=()=>{E.value=!0,Qe.delete(`/dashboard/teachers/${I.value.id}`,{onSuccess:()=>{O()},onFinish:()=>{E.value=!1}})};return(L,V)=>{const F=bt,z=qt,N=er,ee=We,ne=ht,Y=Fr,Re=tt,fe=$r,we=bo;return A(),B($t,{title:"Data Pegawai","page-id":"teachers-index","content-class":"p-6"},{default:S(()=>[_(ne,{class:"mb-6"},{default:S(()=>[k("form",{onSubmit:lt(l,["prevent"]),class:"space-y-4"},[k("div",Xgt,[_(z,{label:"Cari Nama Pegawai"},{default:S(()=>[_(F,{modelValue:r.value.search,"onUpdate:modelValue":V[0]||(V[0]=ue=>r.value.search=ue),placeholder:"Masukkan nama...",icon:"i-lucide-search"},null,8,["modelValue"])]),_:1}),_(z,{label:"Filter Jabatan"},{default:S(()=>[_(N,{modelValue:r.value.position_id,"onUpdate:modelValue":V[1]||(V[1]=ue=>r.value.position_id=ue),items:s.value,placeholder:"Pilih Jabatan"},null,8,["modelValue","items"])]),_:1}),k("div",Zgt,[_(ee,{type:"submit",color:"primary"},{default:S(()=>[...V[5]||(V[5]=[J(" Cari ",-1)])]),_:1}),a.value?(A(),B(ee,{key:0,type:"button",color:"neutral",variant:"soft",onClick:c},{default:S(()=>[...V[6]||(V[6]=[J(" Reset ",-1)])]),_:1})):X("",!0)])])],32)]),_:1}),k("div",evt,[k("div",tvt,[_(ee,{color:"primary",variant:"outline",icon:"i-lucide-download",href:i.value},{default:S(()=>[...V[7]||(V[7]=[J(" Export Excel ",-1)])]),_:1},8,["href"]),_(ee,{color:"primary",variant:"soft",icon:"i-lucide-upload",onClick:g},{default:S(()=>[...V[8]||(V[8]=[J(" Import Excel ",-1)])]),_:1})]),_(ee,{color:"primary",icon:"i-lucide-plus",to:"/dashboard/teachers/create"},{default:S(()=>[...V[9]||(V[9]=[J(" Tambah Pegawai ",-1)])]),_:1})]),_(ne,null,{default:S(()=>[k("div",nvt,[k("table",rvt,[V[12]||(V[12]=k("thead",null,[k("tr",null,[k("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"No"),k("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"NIP"),k("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Nama"),k("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Jabatan"),k("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Email"),k("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"No. HP"),k("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Aksi")])],-1)),k("tbody",ovt,[(A(!0),W(Ee,null,Ve(e.teachers.data,(ue,Ne)=>(A(),W("tr",{key:ue.id},[k("td",svt,q(e.teachers.from+Ne),1),k("td",avt,q(ue.nip||"-"),1),k("td",ivt,q(ue.user?.name),1),k("td",lvt,q(ue.position?.name||"-"),1),k("td",uvt,q(ue.user?.email),1),k("td",cvt,q(ue.user?.phone_number||"-"),1),k("td",dvt,[k("div",fvt,[_(ee,{size:"xs",color:"primary",variant:"soft",icon:"i-lucide-pencil",to:`/dashboard/teachers/${ue.id}/edit`},{default:S(()=>[...V[10]||(V[10]=[J(" Edit ",-1)])]),_:1},8,["to"]),_(ee,{size:"xs",color:"error",variant:"soft",icon:"i-lucide-trash-2",onClick:Xe=>P(ue)},{default:S(()=>[...V[11]||(V[11]=[J(" Hapus ",-1)])]),_:1},8,["onClick"])])])]))),128)),e.teachers.data.length===0?(A(),W("tr",pvt,[k("td",mvt,q(a.value?"Data tidak ditemukan":"Belum ada data pegawai"),1)])):X("",!0)])])]),e.teachers.last_page>1?(A(),W("div",hvt,[_(Y,{modelValue:o.value,"onUpdate:modelValue":[V[2]||(V[2]=ue=>o.value=ue),u],total:e.teachers.total,"per-page":e.teachers.per_page},null,8,["modelValue","total","per-page"])])):X("",!0)]),_:1}),_(fe,{open:M.value,"onUpdate:open":V[3]||(V[3]=ue=>M.value=ue)},{header:S(()=>[...V[13]||(V[13]=[k("h3",{class:"text-lg font-semibold"},"Hapus Pegawai",-1)])]),body:S(()=>[k("div",gvt,[k("div",vvt,[_(Re,{name:"i-lucide-alert-triangle",class:"w-6 h-6 text-error"})]),k("div",yvt,[V[16]||(V[16]=k("h4",{class:"font-semibold"},"Apakah Anda yakin?",-1)),k("p",bvt,[V[14]||(V[14]=J(" Pegawai ",-1)),k("span",xvt,q(I.value?.user?.name),1),V[15]||(V[15]=J(" akan dihapus permanen. ",-1))])])])]),footer:S(()=>[k("div",wvt,[_(ee,{color:"neutral",variant:"soft",onClick:O,disabled:E.value},{default:S(()=>[...V[17]||(V[17]=[J(" Batal ",-1)])]),_:1},8,["disabled"]),_(ee,{color:"error",loading:E.value,onClick:D},{default:S(()=>[...V[18]||(V[18]=[J(" Hapus ",-1)])]),_:1},8,["loading"])])]),_:1},8,["open"]),_(fe,{open:f.value,"onUpdate:open":V[4]||(V[4]=ue=>f.value=ue),ui:{width:"sm:max-w-2xl"}},{header:S(()=>[k("div",kvt,[k("div",_vt,[_(Re,{name:"i-lucide-file-spreadsheet",class:"w-6 h-6 text-primary"})]),V[19]||(V[19]=k("div",null,[k("h3",{class:"text-lg font-semibold"},"Import Data Pegawai"),k("p",{class:"text-sm text-gray-500 mt-0.5"},"Unggah file Excel untuk mengimpor data pegawai secara massal")],-1))])]),body:S(()=>[k("div",Svt,[_(we,{color:"info",variant:"subtle",icon:"i-lucide-info",title:"Petunjuk Import"},{description:S(()=>[...V[20]||(V[20]=[k("ol",{class:"list-decimal list-inside space-y-1 text-sm mt-2"},[k("li",null,"Download template Excel terlebih dahulu"),k("li",null,"Isi data pegawai sesuai format yang tersedia"),k("li",null,[J("Pastikan "),k("strong",null,"NIP"),J(" dan "),k("strong",null,"Email"),J(" unik (tidak duplikat)")]),k("li",null,[J("Kolom "),k("strong",null,"Jabatan"),J(" harus sesuai dengan daftar jabatan yang ada")]),k("li",null,[J("Kolom "),k("strong",null,"Nama Lengkap"),J(", "),k("strong",null,"Email"),J(", dan "),k("strong",null,"Jabatan"),J(" wajib diisi")]),k("li",null,"Simpan file dalam format .xlsx atau .xls"),k("li",null,[J("Password default: "),k("code",{class:"bg-gray-200 dark:bg-gray-700 px-1 rounded"},"password123")])],-1)])]),_:1}),_(ee,{color:"primary",variant:"outline",icon:"i-lucide-download",block:"",href:"/dashboard/teachers/template/download",target:"_blank"},{default:S(()=>[...V[21]||(V[21]=[J(" Download Template Excel ",-1)])]),_:1}),k("div",null,[V[25]||(V[25]=k("label",{class:"block text-sm font-medium mb-2"},[J(" Pilih File Excel "),k("span",{class:"text-error"},"*")],-1)),k("input",{ref_key:"fileInput",ref:m,type:"file",accept:".xlsx,.xls",onChange:x,class:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-primary/10 file:text-primary hover:file:bg-primary/20 cursor-pointer"},null,544),p.value?(A(),W("p",$vt,[V[22]||(V[22]=J(" File terpilih: ",-1)),k("span",Cvt,q(p.value.name),1),V[23]||(V[23]=J(" (",-1)),k("span",null,q($(p.value.size)),1),V[24]||(V[24]=J(") ",-1))])):X("",!0)]),y(t).props.flash.import_errors&&y(t).props.flash.import_errors.length>0?(A(),B(we,{key:0,color:"error",variant:"subtle",icon:"i-lucide-alert-circle",title:"Terdapat Kesalahan Import"},{description:S(()=>[k("ul",Mvt,[(A(!0),W(Ee,null,Ve(y(t).props.flash.import_errors,(ue,Ne)=>(A(),W("li",{key:Ne,class:"flex items-start gap-2"},[V[26]||(V[26]=k("span",{class:"text-error mt-0.5"},"",-1)),k("span",null,q(ue),1)]))),128))])]),_:1})):X("",!0),V[27]||(V[27]=k("div",{class:"text-xs text-gray-500 dark:text-gray-400 space-y-1"},[k("p",null," Format file: .xlsx atau .xls"),k("p",null," Ukuran maksimal: 5MB")],-1))])]),footer:S(()=>[k("div",Avt,[_(ee,{color:"neutral",variant:"soft",onClick:v,disabled:h.value},{default:S(()=>[...V[28]||(V[28]=[J(" Batal ",-1)])]),_:1},8,["disabled"]),_(ee,{color:"primary",loading:h.value,disabled:!p.value,onClick:C},{default:S(()=>[...V[29]||(V[29]=[J(" Upload & Import ",-1)])]),_:1},8,["loading","disabled"])])]),_:1},8,["open"])]),_:1})}}},Evt=Object.freeze(Object.defineProperty({__proto__:null,default:Tvt},Symbol.toStringTag,{value:"Module"})),Ivt={class:"mb-6 flex items-center justify-between"},Pvt={class:"flex items-center gap-3"},Ovt={class:"font-medium"},Rvt={class:"text-sm text-gray-500"},Bvt={class:"text-sm"},Nvt={class:"flex gap-2"},Dvt={__name:"Users",props:{users:{type:Array,default:()=>[]}},setup(e){const t=[{key:"name",label:"User"},{key:"created_at",label:"Joined"},{key:"actions",label:"Actions"}],n=r=>new Date(r).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return(r,o)=>{const s=Rh,a=We,i=On,l=xr,c=ht,u=Ec("UDashboardPanelContent"),d=Oh;return A(),B(Nh,null,{default:S(()=>[_(d,{grow:""},{default:S(()=>[_(s,{title:"Users Management"}),_(u,null,{default:S(()=>[k("div",Ivt,[o[1]||(o[1]=k("div",null,[k("h2",{class:"text-2xl font-bold"},"All Users"),k("p",{class:"text-sm text-gray-500"},"Manage system users")],-1)),_(a,{color:"primary","leading-icon":"i-lucide-user-plus"},{default:S(()=>[...o[0]||(o[0]=[J(" Add User ",-1)])]),_:1})]),_(c,null,{default:S(()=>[_(l,{rows:e.users,columns:t},{"name-data":S(({row:f})=>[k("div",Pvt,[_(i,{src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${f.email}`,size:"sm"},null,8,["src"]),k("div",null,[k("p",Ovt,q(f.name),1),k("p",Rvt,q(f.email),1)])])]),"created_at-data":S(({row:f})=>[k("span",Bvt,q(n(f.created_at)),1)]),"actions-data":S(({row:f})=>[k("div",Nvt,[_(a,{size:"xs",color:"neutral",variant:"ghost",icon:"i-lucide-pencil"}),_(a,{size:"xs",color:"error",variant:"ghost",icon:"i-lucide-trash"})])]),_:1},8,["rows"])]),_:1})]),_:1})]),_:1})]),_:1})}}},Fvt=Object.freeze(Object.defineProperty({__proto__:null,default:Dvt},Symbol.toStringTag,{value:"Module"})),qvt={class:"min-h-screen bg-white dark:bg-gray-900"},zvt={class:"fixed top-0 left-0 right-0 z-50 bg-white/90 dark:bg-gray-900/90 backdrop-blur-md border-b border-gray-200 dark:border-gray-700"},Lvt={class:"container mx-auto px-4 py-4"},jvt={class:"flex items-center justify-between"},Vvt={href:"/",class:"flex items-center gap-3"},Uvt=["src"],Kvt={key:1,class:"w-12 h-12 bg-gradient-to-br from-emerald-600 to-teal-600 rounded-xl flex items-center justify-center shadow-lg"},Hvt={class:"font-bold text-lg"},Wvt={class:"text-xs text-gray-500"},Gvt={class:"hidden md:flex items-center gap-6"},Jvt={class:"bg-gray-900 text-white py-12 px-4"},Yvt={class:"container mx-auto max-w-6xl"},Qvt={class:"grid md:grid-cols-3 gap-8 mb-8"},Xvt={class:"flex items-center gap-3 mb-4"},Zvt=["src"],eyt={key:1,class:"w-12 h-12 bg-gradient-to-br from-emerald-600 to-teal-600 rounded-xl flex items-center justify-center"},tyt={class:"font-bold text-lg"},nyt={class:"text-gray-400 text-sm"},ryt={class:"flex gap-3"},oyt=["href"],syt=["href"],ayt=["href"],iyt={class:"border-t border-gray-800 pt-8 text-center text-sm text-gray-400"},jh={__name:"LandingLayout",props:{siteName:{type:String,default:"Pondok Pesantren Al-Hikmah"},subtitle:{type:String,default:"Sejak 1999"},logo:{type:String,default:null},description:{type:String,default:"Lembaga pendidikan Islam terpercaya"},social:{type:Object,default:()=>({facebook:"#",instagram:"#",youtube:"#"})}},setup(e){const t=kx(),n=H(()=>t.value==="dark"),r=()=>{t.value=t.value==="dark"?"light":"dark"};return(o,s)=>{const a=tt,i=We;return A(),W("div",qvt,[k("nav",zvt,[k("div",Lvt,[k("div",jvt,[k("a",Vvt,[e.logo?(A(),W("img",{key:0,src:e.logo,alt:"Logo",class:"w-12 h-12 rounded-xl object-cover shadow-lg"},null,8,Uvt)):(A(),W("div",Kvt,[_(a,{name:"i-lucide-mosque",class:"w-7 h-7 text-white"})])),k("div",null,[k("h1",Hvt,q(e.siteName),1),k("p",Wvt,q(e.subtitle),1)])]),k("div",Gvt,[s[1]||(s[1]=k("a",{href:"/#about",class:"text-sm font-medium hover:text-emerald-600 transition"},"Tentang",-1)),s[2]||(s[2]=k("a",{href:"/#programs",class:"text-sm font-medium hover:text-emerald-600 transition"},"Program",-1)),s[3]||(s[3]=k("a",{href:"/berita",class:"text-sm font-medium hover:text-emerald-600 transition"},"Berita",-1)),s[4]||(s[4]=k("a",{href:"/#contact",class:"text-sm font-medium hover:text-emerald-600 transition"},"Kontak",-1)),_(i,{icon:n.value?"i-lucide-sun":"i-lucide-moon",color:"gray",variant:"ghost",size:"md",onClick:r},null,8,["icon"]),_(i,{color:"emerald",size:"md",to:"/login"},{default:S(()=>[...s[0]||(s[0]=[J("Masuk",-1)])]),_:1})])])])]),k("div",null,[U(o.$slots,"default")]),k("footer",Jvt,[k("div",Yvt,[k("div",Qvt,[k("div",null,[k("div",Xvt,[e.logo?(A(),W("img",{key:0,src:e.logo,alt:"Logo",class:"w-12 h-12 rounded-xl object-cover"},null,8,Zvt)):(A(),W("div",eyt,[_(a,{name:"i-lucide-mosque",class:"w-7 h-7 text-white"})])),k("h3",tyt,q(e.siteName),1)]),k("p",nyt,q(e.description),1)]),s[6]||(s[6]=cZ('<div><h3 class="font-bold text-lg mb-4">Quick Links</h3><div class="space-y-2 text-sm"><a href="/#about" class="block text-gray-400 hover:text-white transition">Tentang</a><a href="/#programs" class="block text-gray-400 hover:text-white transition">Program</a><a href="/berita" class="block text-gray-400 hover:text-white transition">Berita</a><a href="/#contact" class="block text-gray-400 hover:text-white transition">Kontak</a></div></div>',1)),k("div",null,[s[5]||(s[5]=k("h3",{class:"font-bold text-lg mb-4"},"Social Media",-1)),k("div",ryt,[k("a",{href:e.social.facebook,class:"w-10 h-10 rounded-lg bg-gray-800 hover:bg-emerald-600 flex items-center justify-center transition"},[_(a,{name:"i-lucide-facebook",class:"w-5 h-5"})],8,oyt),k("a",{href:e.social.instagram,class:"w-10 h-10 rounded-lg bg-gray-800 hover:bg-emerald-600 flex items-center justify-center transition"},[_(a,{name:"i-lucide-instagram",class:"w-5 h-5"})],8,syt),k("a",{href:e.social.youtube,class:"w-10 h-10 rounded-lg bg-gray-800 hover:bg-emerald-600 flex items-center justify-center transition"},[_(a,{name:"i-lucide-youtube",class:"w-5 h-5"})],8,ayt)])])]),k("div",iyt,[k("p",null," 2025 "+q(e.siteName)+". All rights reserved.",1)])])])])}}},lyt={class:"relative pt-32 pb-24 px-4 overflow-hidden"},uyt={class:"absolute inset-0"},cyt=["src"],dyt={class:"container mx-auto relative z-10"},fyt={class:"max-w-5xl mx-auto text-center text-white"},pyt={class:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-emerald-600/20 backdrop-blur-sm border border-emerald-400/30 mb-8"},myt={class:"text-5xl md:text-7xl font-bold mb-6 leading-tight drop-shadow-lg"},hyt={class:"text-xl md:text-2xl mb-4 font-medium drop-shadow"},gyt={class:"text-base md:text-lg max-w-2xl mx-auto mb-10 text-gray-200"},vyt={class:"flex flex-wrap gap-4 justify-center mb-16"},yyt={class:"grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6"},byt={class:"text-4xl font-bold text-emerald-300 mb-2"},xyt={class:"text-xs md:text-sm text-gray-200 font-medium"},wyt={id:"about",class:"py-20 px-4"},kyt={class:"container mx-auto max-w-6xl"},_yt={class:"grid md:grid-cols-2 gap-12"},Syt={class:"p-8 rounded-2xl bg-gradient-to-br from-emerald-50 to-teal-50 dark:from-gray-800 dark:to-gray-700 border border-emerald-200 dark:border-gray-600"},$yt={class:"flex items-center gap-3 mb-4"},Cyt={class:"w-12 h-12 rounded-xl bg-emerald-600 flex items-center justify-center"},Myt={class:"text-gray-700 dark:text-gray-300 leading-relaxed"},Ayt={class:"p-8 rounded-2xl bg-gradient-to-br from-teal-50 to-emerald-50 dark:from-gray-700 dark:to-gray-800 border border-teal-200 dark:border-gray-600"},Tyt={class:"flex items-center gap-3 mb-4"},Eyt={class:"w-12 h-12 rounded-xl bg-teal-600 flex items-center justify-center"},Iyt={class:"space-y-3"},Pyt={class:"text-gray-700 dark:text-gray-300"},Oyt={id:"programs",class:"py-20 px-4 bg-gray-50 dark:bg-gray-800"},Ryt={class:"container mx-auto max-w-6xl"},Byt={class:"grid md:grid-cols-2 lg:grid-cols-4 gap-6"},Nyt={class:"w-14 h-14 rounded-xl bg-gradient-to-br from-emerald-600 to-teal-600 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform"},Dyt={class:"font-bold text-lg mb-2"},Fyt={class:"text-sm text-gray-600 dark:text-gray-400"},qyt={class:"py-20 px-4"},zyt={class:"container mx-auto max-w-6xl"},Lyt={class:"grid md:grid-cols-3 gap-6"},jyt=["src","alt"],Vyt={class:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent flex items-end p-6"},Uyt={class:"text-white font-bold text-xl mb-1"},Kyt={id:"news",class:"py-20 px-4 bg-gray-50 dark:bg-gray-800"},Hyt={class:"container mx-auto max-w-6xl"},Wyt={class:"flex items-center justify-between mb-12"},Gyt={class:"grid md:grid-cols-3 gap-6"},Jyt=["href"],Yyt={class:"h-48 overflow-hidden"},Qyt=["src","alt"],Xyt={class:"p-6"},Zyt={class:"font-bold text-lg mb-2 group-hover:text-emerald-600 transition-colors"},ebt={class:"text-sm text-gray-600 dark:text-gray-400 mb-4 line-clamp-2"},tbt={class:"flex items-center gap-2 text-xs text-gray-500"},nbt={class:"py-20 px-4"},rbt={class:"container mx-auto max-w-6xl"},obt={class:"grid md:grid-cols-3 gap-6"},sbt={class:"flex items-center gap-4 mb-4"},abt=["src","alt"],ibt={class:"font-bold"},lbt={class:"text-sm text-gray-600 dark:text-gray-400"},ubt={class:"text-sm italic text-gray-700 dark:text-gray-300"},cbt={id:"contact",class:"py-20 px-4 bg-gray-50 dark:bg-gray-800"},dbt={class:"container mx-auto max-w-6xl"},fbt={class:"grid md:grid-cols-2 gap-8"},pbt={class:"space-y-6"},mbt={class:"flex items-start gap-4 p-6 rounded-2xl bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600"},hbt={class:"w-12 h-12 rounded-xl bg-emerald-600 flex items-center justify-center flex-shrink-0"},gbt={class:"text-gray-600 dark:text-gray-400 text-sm"},vbt={class:"flex items-start gap-4 p-6 rounded-2xl bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600"},ybt={class:"w-12 h-12 rounded-xl bg-emerald-600 flex items-center justify-center flex-shrink-0"},bbt={class:"text-gray-600 dark:text-gray-400 text-sm"},xbt={class:"text-gray-600 dark:text-gray-400 text-sm"},wbt={class:"flex items-start gap-4 p-6 rounded-2xl bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600"},kbt={class:"w-12 h-12 rounded-xl bg-emerald-600 flex items-center justify-center flex-shrink-0"},_bt={class:"text-gray-600 dark:text-gray-400 text-sm"},Sbt={class:"h-96 rounded-2xl bg-gray-200 dark:bg-gray-700 flex items-center justify-center border border-gray-300 dark:border-gray-600"},$bt={class:"text-center"},Cbt={__name:"Index",props:{site:Object,heroSlides:Array,programs:Array,galleries:Array,news:Array,testimonials:Array,contact:Object,social:Object},setup(e){const t=e,n=K(0);let r;wt(()=>{r=setInterval(()=>{n.value=(n.value+1)%t.heroSlides.length},5e3)}),ar(()=>{r&&clearInterval(r)});const o=s=>new Date(s).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"});return(s,a)=>{const i=tt,l=We,c=pn;return A(),B(jh,{"site-name":e.site.name,subtitle:e.site.subtitle,logo:e.site.logo,description:e.site.description,social:e.social},{default:S(()=>[k("section",lyt,[k("div",uyt,[(A(!0),W(Ee,null,Ve(e.heroSlides,(u,d)=>(A(),W("div",{key:d,class:Z(["absolute inset-0 transition-opacity duration-1000",n.value===d?"opacity-100":"opacity-0"])},[k("img",{src:u.image,alt:"Hero",class:"w-full h-full object-cover"},null,8,cyt),a[0]||(a[0]=k("div",{class:"absolute inset-0 bg-gradient-to-r from-black/70 via-black/50 to-transparent"},null,-1))],2))),128))]),k("div",dyt,[k("div",fyt,[k("div",pyt,[_(i,{name:"i-lucide-sparkles",class:"w-4 h-4 text-emerald-300"}),a[1]||(a[1]=k("span",{class:"text-sm font-semibold text-emerald-100"},"Pendaftaran Tahun Ajaran 2025/2026 Dibuka",-1))]),k("h1",myt,q(e.site.name),1),k("p",hyt,q(e.site.tagline),1),k("p",gyt,q(e.site.description),1),k("div",vyt,[_(l,{to:"/register-santri",size:"xl",variant:"subttle",color:"success",icon:"i-lucide-user-plus",class:"shadow-lg"},{default:S(()=>[...a[2]||(a[2]=[J(" Daftar Sekarang ",-1)])]),_:1}),_(l,{size:"xl",color:"secondary",variant:"outline",icon:"i-lucide-download",class:"border-2"},{default:S(()=>[...a[3]||(a[3]=[J(" Download Brosur ",-1)])]),_:1})]),k("div",yyt,[(A(!0),W(Ee,null,Ve(e.site.stats,u=>(A(),W("div",{key:u.label,class:"group p-6 rounded-2xl bg-white/10 backdrop-blur-md border border-white/20 hover:bg-white/20 hover:-translate-y-1 transition-all duration-300"},[k("div",byt,q(u.value),1),k("div",xyt,q(u.label),1)]))),128))])])])]),k("section",wyt,[k("div",kyt,[a[6]||(a[6]=k("h2",{class:"text-4xl font-bold text-center mb-12"},"Tentang Kami",-1)),k("div",_yt,[k("div",Syt,[k("div",$yt,[k("div",Cyt,[_(i,{name:"i-lucide-eye",class:"w-6 h-6 text-white"})]),a[4]||(a[4]=k("h3",{class:"text-2xl font-bold"},"Visi",-1))]),k("p",Myt,q(e.site.visi),1)]),k("div",Ayt,[k("div",Tyt,[k("div",Eyt,[_(i,{name:"i-lucide-target",class:"w-6 h-6 text-white"})]),a[5]||(a[5]=k("h3",{class:"text-2xl font-bold"},"Misi",-1))]),k("ul",Iyt,[(A(!0),W(Ee,null,Ve(e.site.misi,(u,d)=>(A(),W("li",{key:d,class:"flex items-start gap-3"},[_(i,{name:"i-lucide-check-circle",class:"w-5 h-5 text-teal-600 flex-shrink-0 mt-0.5"}),k("span",Pyt,q(u),1)]))),128))])])])])]),k("section",Oyt,[k("div",Ryt,[a[7]||(a[7]=k("div",{class:"text-center mb-12"},[k("h2",{class:"text-4xl font-bold mb-4"},"Program Unggulan"),k("p",{class:"text-gray-600 dark:text-gray-400"},"Berbagai program untuk membentuk santri yang berkualitas")],-1)),k("div",Byt,[(A(!0),W(Ee,null,Ve(e.programs,u=>(A(),W("div",{key:u.title,class:"group p-6 rounded-2xl bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 hover:shadow-2xl hover:border-emerald-500 transition-all duration-300 hover:-translate-y-2"},[k("div",Nyt,[_(i,{name:u.icon,class:"w-7 h-7 text-white"},null,8,["name"])]),k("h3",Dyt,q(u.title),1),k("p",Fyt,q(u.description),1)]))),128))])])]),k("section",qyt,[k("div",zyt,[a[8]||(a[8]=k("div",{class:"text-center mb-12"},[k("h2",{class:"text-4xl font-bold mb-4"},"Galeri"),k("p",{class:"text-gray-600 dark:text-gray-400"},"Dokumentasi kegiatan dan fasilitas pondok")],-1)),k("div",Lyt,[(A(!0),W(Ee,null,Ve(e.galleries,u=>(A(),W("div",{key:u.title,class:"group relative rounded-2xl overflow-hidden cursor-pointer"},[k("img",{src:u.image,alt:u.title,class:"w-full h-64 object-cover group-hover:scale-110 transition-transform duration-500"},null,8,jyt),k("div",Vyt,[k("div",null,[k("h3",Uyt,q(u.title),1),_(c,{color:"emerald",variant:"solid",size:"sm"},{default:S(()=>[J(q(u.category),1)]),_:2},1024)])])]))),128))])])]),k("section",Kyt,[k("div",Hyt,[k("div",Wyt,[a[10]||(a[10]=k("div",null,[k("h2",{class:"text-4xl font-bold mb-2"},"Berita Terbaru"),k("p",{class:"text-gray-600 dark:text-gray-400"},"Informasi dan kegiatan terkini")],-1)),_(l,{variant:"outline",to:"/berita","icon-trailing":"i-lucide-arrow-right"},{default:S(()=>[...a[9]||(a[9]=[J(" Lihat Semua ",-1)])]),_:1})]),k("div",Gyt,[(A(!0),W(Ee,null,Ve(e.news,u=>(A(),W("a",{key:u.id,href:`/berita/${u.slug}`,class:"group block rounded-2xl overflow-hidden bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 hover:shadow-2xl hover:border-emerald-500 transition-all duration-300 hover:-translate-y-2"},[k("div",Yyt,[k("img",{src:u.image,alt:u.title,class:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"},null,8,Qyt)]),k("div",Xyt,[_(c,{color:"emerald",variant:"subtle",size:"sm",class:"mb-3"},{default:S(()=>[J(q(u.category),1)]),_:2},1024),k("h3",Zyt,q(u.title),1),k("p",ebt,q(u.excerpt),1),k("div",tbt,[_(i,{name:"i-lucide-calendar",class:"w-4 h-4"}),k("span",null,q(o(u.date)),1)])])],8,Jyt))),128))])])]),k("section",nbt,[k("div",rbt,[a[11]||(a[11]=k("div",{class:"text-center mb-12"},[k("h2",{class:"text-4xl font-bold mb-4"},"Testimoni"),k("p",{class:"text-gray-600 dark:text-gray-400"},"Apa kata alumni dan wali santri")],-1)),k("div",obt,[(A(!0),W(Ee,null,Ve(e.testimonials,u=>(A(),W("div",{key:u.name,class:"p-6 rounded-2xl bg-gradient-to-br from-emerald-50 to-teal-50 dark:from-gray-800 dark:to-gray-700 border border-emerald-200 dark:border-gray-600"},[k("div",sbt,[k("img",{src:u.photo||`https://ui-avatars.com/api/?name=${encodeURIComponent(u.name)}&background=random`,alt:u.name,class:"w-14 h-14 rounded-full object-cover"},null,8,abt),k("div",null,[k("div",ibt,q(u.name),1),k("div",lbt,q(u.role),1)])]),k("p",ubt,'"'+q(u.quote)+'"',1)]))),128))])])]),k("section",cbt,[k("div",dbt,[a[16]||(a[16]=k("div",{class:"text-center mb-12"},[k("h2",{class:"text-4xl font-bold mb-4"},"Hubungi Kami"),k("p",{class:"text-gray-600 dark:text-gray-400"},"Kami siap menjawab pertanyaan Anda")],-1)),k("div",fbt,[k("div",pbt,[k("div",mbt,[k("div",hbt,[_(i,{name:"i-lucide-map-pin",class:"w-6 h-6 text-white"})]),k("div",null,[a[12]||(a[12]=k("h3",{class:"font-bold mb-1"},"Alamat",-1)),k("p",gbt,q(e.contact.address),1)])]),k("div",vbt,[k("div",ybt,[_(i,{name:"i-lucide-phone",class:"w-6 h-6 text-white"})]),k("div",null,[a[13]||(a[13]=k("h3",{class:"font-bold mb-1"},"Telepon & WhatsApp",-1)),k("p",bbt,q(e.contact.phone),1),k("p",xbt,q(e.contact.whatsapp),1)])]),k("div",wbt,[k("div",kbt,[_(i,{name:"i-lucide-mail",class:"w-6 h-6 text-white"})]),k("div",null,[a[14]||(a[14]=k("h3",{class:"font-bold mb-1"},"Email",-1)),k("p",_bt,q(e.contact.email),1)])])]),k("div",Sbt,[k("div",$bt,[_(i,{name:"i-lucide-map",class:"w-16 h-16 text-gray-400 mx-auto mb-2"}),a[15]||(a[15]=k("p",{class:"text-gray-500"},"Google Maps Embed",-1))])])])])])]),_:1},8,["site-name","subtitle","logo","description","social"])}}},Mbt=Object.freeze(Object.defineProperty({__proto__:null,default:Cbt},Symbol.toStringTag,{value:"Module"})),Abt={class:"pt-32 pb-20 px-4"},Tbt={class:"container mx-auto max-w-6xl"},Ebt={class:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12"},Ibt=["href"],Pbt={class:"h-56 overflow-hidden"},Obt=["src","alt"],Rbt={class:"p-6"},Bbt={class:"flex items-center gap-2 mb-3"},Nbt={class:"text-xs text-gray-500"},Dbt={class:"font-bold text-xl mb-2 group-hover:text-emerald-600 transition-colors"},Fbt={class:"text-sm text-gray-600 dark:text-gray-400 line-clamp-3"},qbt={class:"flex justifies-center items-center gap-4"},zbt={__name:"News",props:{news:Object},setup(e){const t=n=>new Date(n).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"});return(n,r)=>{const o=pn,s=We;return A(),B(jh,null,{default:S(()=>[k("section",Abt,[k("div",Tbt,[r[2]||(r[2]=k("div",{class:"text-center mb-12"},[k("h1",{class:"text-5xl font-bold mb-4"},"Berita & Kegiatan"),k("p",{class:"text-gray-600 dark:text-gray-400"},"Informasi terkini dari Pondok Pesantren Al-Hikmah")],-1)),k("div",Ebt,[(A(!0),W(Ee,null,Ve(e.news.data,a=>(A(),W("a",{key:a.id,href:`/berita/${a.slug}`,class:"group block rounded-2xl overflow-hidden bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 hover:shadow-2xl hover:border-emerald-500 transition-all duration-300 hover:-translate-y-2"},[k("div",Pbt,[k("img",{src:a.image,alt:a.title,class:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"},null,8,Obt)]),k("div",Rbt,[k("div",Bbt,[_(o,{color:"emerald",variant:"subtle",size:"sm"},{default:S(()=>[J(q(a.category),1)]),_:2},1024),k("span",Nbt,q(t(a.date)),1)]),k("h3",Dbt,q(a.title),1),k("p",Fbt,q(a.excerpt),1)])],8,Ibt))),128))]),k("div",qbt,[e.news.prev_page_url?(A(),B(s,{key:0,to:e.news.prev_page_url,icon:"i-lucide-arrow-left",color:"gray",variant:"ghost"},{default:S(()=>[...r[0]||(r[0]=[J(" Sebelumnya ",-1)])]),_:1},8,["to"])):X("",!0),e.news.next_page_url?(A(),B(s,{key:1,to:e.news.next_page_url,"icon-trailing":"i-lucide-arrow-right",color:"gray",variant:"ghost"},{default:S(()=>[...r[1]||(r[1]=[J(" Selanjutnya ",-1)])]),_:1},8,["to"])):X("",!0)])])])]),_:1})}}},Lbt=Object.freeze(Object.defineProperty({__proto__:null,default:zbt},Symbol.toStringTag,{value:"Module"})),jbt={class:"pt-32 pb-20 px-4"},Vbt={class:"container mx-auto max-w-4xl"},Ubt={class:"mb-8"},Kbt={class:"text-4xl md:text-5xl font-bold mb-4"},Hbt={class:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400"},Wbt={class:"flex items-center gap-2"},Gbt={class:"flex items-center gap-2"},Jbt={class:"flex items-center gap-2"},Ybt={key:0,class:"rounded-2xl overflow-hidden mb-8"},Qbt=["src","alt"],Xbt={class:"prose prose-lg dark:prose-invert max-w-none mb-12"},Zbt={class:"text-xl text-gray-700 dark:text-gray-300 leading-relaxed font-medium"},e0t=["innerHTML"],t0t={class:"border-t border-b border-gray-200 dark:border-gray-700 py-6 mb-12"},n0t={class:"flex flex-wrap items-center justify-between gap-4"},r0t={class:"flex gap-2"},o0t={key:1},s0t={class:"grid md:grid-cols-3 gap-6"},a0t=["href"],i0t={class:"h-40 overflow-hidden"},l0t=["src","alt"],u0t={class:"p-4"},c0t={class:"font-bold text-sm mb-1 line-clamp-2 group-hover:text-emerald-600 transition-colors"},d0t={class:"text-xs text-gray-500"},f0t={__name:"NewsDetail",props:{news:Object,relatedNews:Array},setup(e){const t=e,n=s=>new Date(s).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}),r=s=>{const a=encodeURIComponent(window.location.href),i=encodeURIComponent(t.news.title);let l="";switch(s){case"facebook":l=`https://www.facebook.com/sharer/sharer.php?u=${a}`;break;case"twitter":l=`https://twitter.com/intent/tweet?url=${a}&text=${i}`;break;case"whatsapp":l=`https://wa.me/?text=${i}%20${a}`;break}l&&window.open(l,"_blank","width=600,height=400")},o=()=>{navigator.clipboard.writeText(window.location.href),alert("Link berhasil disalin!")};return(s,a)=>{const i=pn,l=tt,c=We;return A(),B(jh,null,{default:S(()=>[k("article",jbt,[k("div",Vbt,[k("div",Ubt,[_(i,{color:"emerald",variant:"subtle",class:"mb-4"},{default:S(()=>[J(q(e.news.category),1)]),_:1}),k("h1",Kbt,q(e.news.title),1),k("div",Hbt,[k("div",Wbt,[_(l,{name:"i-lucide-user",class:"w-4 h-4"}),k("span",null,q(e.news.author),1)]),k("div",Gbt,[_(l,{name:"i-lucide-calendar",class:"w-4 h-4"}),k("span",null,q(n(e.news.date)),1)]),k("div",Jbt,[_(l,{name:"i-lucide-eye",class:"w-4 h-4"}),k("span",null,q(e.news.views)+" Views",1)])])]),e.news.image?(A(),W("div",Ybt,[k("img",{src:e.news.image,alt:e.news.title,class:"w-full h-96 object-cover"},null,8,Qbt)])):X("",!0),k("div",Xbt,[k("p",Zbt,q(e.news.excerpt),1),k("div",{innerHTML:e.news.content,class:"text-gray-700 dark:text-gray-300 leading-relaxed"},null,8,e0t)]),k("div",t0t,[k("div",n0t,[a[3]||(a[3]=k("span",{class:"font-semibold"},"Bagikan:",-1)),k("div",r0t,[_(c,{size:"sm",color:"white",variant:"solid",icon:"i-lucide-facebook",onClick:a[0]||(a[0]=u=>r("facebook")),class:"ring-1 ring-gray-200 dark:ring-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800"}),_(c,{size:"sm",color:"white",variant:"solid",icon:"i-lucide-twitter",onClick:a[1]||(a[1]=u=>r("twitter")),class:"ring-1 ring-gray-200 dark:ring-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800"}),_(c,{size:"sm",color:"white",variant:"solid",icon:"i-lucide-message-circle",onClick:a[2]||(a[2]=u=>r("whatsapp")),class:"ring-1 ring-gray-200 dark:ring-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800"}),_(c,{size:"sm",color:"white",variant:"solid",icon:"i-lucide-link",onClick:o,class:"ring-1 ring-gray-200 dark:ring-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800"})])])]),e.relatedNews.length>0?(A(),W("div",o0t,[a[4]||(a[4]=k("h2",{class:"text-2xl font-bold mb-6"},"Berita Terkait",-1)),k("div",s0t,[(A(!0),W(Ee,null,Ve(e.relatedNews,u=>(A(),W("a",{key:u.id,href:`/berita/${u.slug}`,class:"group block rounded-xl overflow-hidden bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-all"},[k("div",i0t,[k("img",{src:u.image,alt:u.title,class:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"},null,8,l0t)]),k("div",u0t,[_(i,{color:"emerald",variant:"subtle",size:"xs",class:"mb-2"},{default:S(()=>[J(q(u.category),1)]),_:2},1024),k("h3",c0t,q(u.title),1),k("p",d0t,q(n(u.date)),1)])],8,a0t))),128))])])):X("",!0)])])]),_:1})}}},p0t=Object.freeze(Object.defineProperty({__proto__:null,default:f0t},Symbol.toStringTag,{value:"Module"})),m0t={class:"py-12 bg-gray-50 dark:bg-gray-900 min-h-screen"},h0t={class:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8"},g0t={class:"space-y-4 mt-4"},v0t={class:"space-y-4 mt-4"},y0t={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},b0t={key:0,class:"mt-2"},x0t=["src"],w0t={class:"space-y-4"},k0t={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},_0t={class:"space-y-6 mt-4"},S0t={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},$0t={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},C0t={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},M0t={class:"md:col-span-2"},A0t={class:"space-y-6 mt-4"},T0t={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},E0t={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},I0t={class:"flex justify-between pt-6 border-t border-gray-200 mt-4"},P0t={__name:"Register",props:{boardingSchools:Array,provinces:Array,schools:Array,genders:Array},setup(e){const t=e,n=na("stepper"),r=[{slot:"boarding",title:"Pilih Pondok",icon:"i-lucide-building-2"},{slot:"profile",title:"Data Pribadi",icon:"i-lucide-user"},{slot:"parents",title:"Orang Tua",icon:"i-lucide-users"},{slot:"academic",title:"Sekolah Formal",icon:"i-lucide-graduation-cap"}],o=Rt({boarding_school_id:null,name:"",email:"",phone_number:"",place_of_birth:"",date_of_birth:"",gender:"male",child_number:"",siblings_count:"",address:"",photo:null,province_id:null,regency_id:null,district_id:null,village_id:null,father_name:"",father_job:"",father_phone:"",father_income:"",mother_name:"",mother_job:"",mother_phone:"",mother_income:"",guardian_name:"",guardian_job:"",guardian_phone:"",guardian_address:"",previous_school_name:"",previous_school_address:"",graduation_year:"",certificate_number:"",school_id:null,school_level_id:null}),s=K(null),a=g=>{const v=g.target.files[0];v&&(o.photo=v,s.value=URL.createObjectURL(v))},i=K([]),l=K([]),c=K([]),u=async()=>{if(o.regency_id=null,o.district_id=null,o.village_id=null,i.value=[],l.value=[],c.value=[],!!o.province_id)try{const{data:g}=await nn.get(`/region/${o.province_id}/regencies`);i.value=g}catch(g){console.error(g)}},d=async()=>{if(o.district_id=null,o.village_id=null,l.value=[],c.value=[],!!o.regency_id)try{const{data:g}=await nn.get(`/region/${o.regency_id}/districts`);l.value=g}catch(g){console.error(g)}},f=async()=>{if(o.village_id=null,c.value=[],!!o.district_id)try{const{data:g}=await nn.get(`/region/${o.district_id}/villages`);c.value=g}catch(g){console.error(g)}},p=H(()=>{if(!o.school_id)return[];const g=t.schools.find(v=>v.id===o.school_id);return g?g.school_levels:[]}),m=()=>{o.school_level_id=null},h=()=>{o.post("/register-santri",{onError:g=>{console.error("Validation Error:",g)}})};return(g,v)=>{const x=bo,$=Uc,C=qt,M=bt,I=er,E=Ec("UDivider"),P=Wn,O=ht,D=jT,L=We;return A(),B(jh,null,{default:S(()=>[k("div",m0t,[k("div",h0t,[v[40]||(v[40]=k("div",{class:"text-center mb-8"},[k("h1",{class:"text-3xl font-bold text-gray-900 dark:text-white"},"Formulir Pendaftaran Santri Baru"),k("p",{class:"mt-2 text-gray-600 dark:text-gray-400"},"Silahkan isi data diri Anda dengan lengkap dan benar.")],-1)),_(O,null,{default:S(()=>[k("form",{onSubmit:lt(h,["prevent"])},[_(D,{ref:"stepper",items:r,class:"w-full mb-8"},{boarding:S(({item:V})=>[k("div",g0t,[_(x,{color:"primary",variant:"subtle",title:"Informasi",description:"Pilih Pondok Pesantren tujuan pendaftaran Anda."}),_(C,{label:"Pondok Pesantren Tujuan",name:"boarding_school_id",error:y(o).errors.boarding_school_id,required:""},{default:S(()=>[_($,{modelValue:y(o).boarding_school_id,"onUpdate:modelValue":v[0]||(v[0]=F=>y(o).boarding_school_id=F),items:e.boardingSchools,"label-key":"name","value-key":"id",placeholder:"Pilih Pondok Pesantren",class:"w-full",searchable:""},null,8,["modelValue","items"])]),_:1},8,["error"])])]),profile:S(({item:V})=>[k("div",v0t,[k("div",y0t,[_(C,{label:"Nama Lengkap",name:"name",error:y(o).errors.name,required:""},{default:S(()=>[_(M,{modelValue:y(o).name,"onUpdate:modelValue":v[1]||(v[1]=F=>y(o).name=F),placeholder:"Nama sesuai ijazah",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"]),_(C,{label:"Email",name:"email",error:y(o).errors.email,required:""},{default:S(()=>[_(M,{modelValue:y(o).email,"onUpdate:modelValue":v[2]||(v[2]=F=>y(o).email=F),type:"email",placeholder:"email@example.com",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"]),_(C,{label:"Foto",name:"photo",error:y(o).errors.photo,hint:"Opsional, max 2MB"},{default:S(()=>[_(M,{type:"file",accept:"image/*",onChange:a,class:"w-full"}),s.value?(A(),W("div",b0t,[k("img",{src:s.value,alt:"Preview",class:"w-24 h-24 object-cover rounded"},null,8,x0t)])):X("",!0)]),_:1},8,["error"]),_(C,{label:"Nomor HP / WA",name:"phone_number",error:y(o).errors.phone_number},{default:S(()=>[_(M,{modelValue:y(o).phone_number,"onUpdate:modelValue":v[3]||(v[3]=F=>y(o).phone_number=F),placeholder:"08...",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"]),_(C,{label:"Tempat Lahir",name:"place_of_birth",error:y(o).errors.place_of_birth,required:""},{default:S(()=>[_(M,{modelValue:y(o).place_of_birth,"onUpdate:modelValue":v[4]||(v[4]=F=>y(o).place_of_birth=F),class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"]),_(C,{label:"Tanggal Lahir",name:"date_of_birth",error:y(o).errors.date_of_birth,required:""},{default:S(()=>[_(M,{modelValue:y(o).date_of_birth,"onUpdate:modelValue":v[5]||(v[5]=F=>y(o).date_of_birth=F),type:"date",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"]),_(C,{label:"Jenis Kelamin",name:"gender",error:y(o).errors.gender,required:""},{default:S(()=>[_(I,{modelValue:y(o).gender,"onUpdate:modelValue":v[6]||(v[6]=F=>y(o).gender=F),items:e.genders,"label-key":"label","value-key":"value",placeholder:"Pilih Jenis Kelamin",class:"w-full"},null,8,["modelValue","items"])]),_:1},8,["error"]),_(C,{label:"Anak Ke-",name:"child_number",error:y(o).errors.child_number},{default:S(()=>[_(M,{modelValue:y(o).child_number,"onUpdate:modelValue":v[7]||(v[7]=F=>y(o).child_number=F),type:"number",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"]),_(C,{label:"Jumlah Saudara",name:"siblings_count",error:y(o).errors.siblings_count},{default:S(()=>[_(M,{modelValue:y(o).siblings_count,"onUpdate:modelValue":v[8]||(v[8]=F=>y(o).siblings_count=F),type:"number",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"])]),_(E,{label:"Alamat Lengkap"}),k("div",w0t,[_(C,{label:"Alamat Jalan/Dusun",name:"address",error:y(o).errors.address,required:""},{default:S(()=>[_(P,{modelValue:y(o).address,"onUpdate:modelValue":v[9]||(v[9]=F=>y(o).address=F),placeholder:"Nama jalan, RT/RW, Dusun",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"]),k("div",k0t,[_(C,{label:"Provinsi",name:"province_id",error:y(o).errors.province_id},{default:S(()=>[_($,{modelValue:y(o).province_id,"onUpdate:modelValue":v[10]||(v[10]=F=>y(o).province_id=F),items:e.provinces,"label-key":"name","value-key":"id",placeholder:"Pilih Provinsi",searchable:"",onChange:u,class:"w-full"},null,8,["modelValue","items"])]),_:1},8,["error"]),_(C,{label:"Kabupaten/Kota",name:"regency_id",error:y(o).errors.regency_id},{default:S(()=>[_($,{modelValue:y(o).regency_id,"onUpdate:modelValue":v[11]||(v[11]=F=>y(o).regency_id=F),items:i.value,"label-key":"name","value-key":"id",placeholder:"Pilih Kota/Kabupaten",disabled:!y(o).province_id,searchable:"",onChange:d,class:"w-full"},null,8,["modelValue","items","disabled"])]),_:1},8,["error"]),_(C,{label:"Kecamatan",name:"district_id",error:y(o).errors.district_id},{default:S(()=>[_($,{modelValue:y(o).district_id,"onUpdate:modelValue":v[12]||(v[12]=F=>y(o).district_id=F),items:l.value,"label-key":"name","value-key":"id",placeholder:"Pilih Kecamatan",disabled:!y(o).regency_id,searchable:"",onChange:f,class:"w-full"},null,8,["modelValue","items","disabled"])]),_:1},8,["error"]),_(C,{label:"Desa/Kelurahan",name:"village_id",error:y(o).errors.village_id},{default:S(()=>[_($,{modelValue:y(o).village_id,"onUpdate:modelValue":v[13]||(v[13]=F=>y(o).village_id=F),items:c.value,"label-key":"name","value-key":"id",placeholder:"Pilih Desa",disabled:!y(o).district_id,searchable:"",class:"w-full"},null,8,["modelValue","items","disabled"])]),_:1},8,["error"])])])])]),parents:S(({item:V})=>[k("div",_0t,[_(O,null,{header:S(()=>[...v[34]||(v[34]=[k("h3",{class:"font-semibold"},"Data Ayah",-1)])]),default:S(()=>[k("div",S0t,[_(C,{label:"Nama Ayah",name:"father_name",error:y(o).errors.father_name,required:""},{default:S(()=>[_(M,{modelValue:y(o).father_name,"onUpdate:modelValue":v[14]||(v[14]=F=>y(o).father_name=F),class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"]),_(C,{label:"Pekerjaan Ayah",name:"father_job"},{default:S(()=>[_(M,{modelValue:y(o).father_job,"onUpdate:modelValue":v[15]||(v[15]=F=>y(o).father_job=F),class:"w-full"},null,8,["modelValue"])]),_:1}),_(C,{label:"No HP Ayah",name:"father_phone"},{default:S(()=>[_(M,{modelValue:y(o).father_phone,"onUpdate:modelValue":v[16]||(v[16]=F=>y(o).father_phone=F),class:"w-full"},null,8,["modelValue"])]),_:1}),_(C,{label:"Penghasilan Ayah",name:"father_income"},{default:S(()=>[_(M,{modelValue:y(o).father_income,"onUpdate:modelValue":v[17]||(v[17]=F=>y(o).father_income=F),class:"w-full"},null,8,["modelValue"])]),_:1})])]),_:1}),_(O,null,{header:S(()=>[...v[35]||(v[35]=[k("h3",{class:"font-semibold"},"Data Ibu",-1)])]),default:S(()=>[k("div",$0t,[_(C,{label:"Nama Ibu",name:"mother_name",error:y(o).errors.mother_name,required:""},{default:S(()=>[_(M,{modelValue:y(o).mother_name,"onUpdate:modelValue":v[18]||(v[18]=F=>y(o).mother_name=F),class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"]),_(C,{label:"Pekerjaan Ibu",name:"mother_job"},{default:S(()=>[_(M,{modelValue:y(o).mother_job,"onUpdate:modelValue":v[19]||(v[19]=F=>y(o).mother_job=F),class:"w-full"},null,8,["modelValue"])]),_:1}),_(C,{label:"No HP Ibu",name:"mother_phone"},{default:S(()=>[_(M,{modelValue:y(o).mother_phone,"onUpdate:modelValue":v[20]||(v[20]=F=>y(o).mother_phone=F),class:"w-full"},null,8,["modelValue"])]),_:1}),_(C,{label:"Penghasilan Ibu",name:"mother_income"},{default:S(()=>[_(M,{modelValue:y(o).mother_income,"onUpdate:modelValue":v[21]||(v[21]=F=>y(o).mother_income=F),class:"w-full"},null,8,["modelValue"])]),_:1})])]),_:1}),_(O,null,{header:S(()=>[...v[36]||(v[36]=[k("h3",{class:"font-semibold"},"Data Wali (Opsional)",-1)])]),default:S(()=>[_(x,{class:"mb-4",color:"neutral",variant:"subtle",icon:"i-lucide-info",description:"Jika dikosongkan, data wali akan menggunakan data Ayah, dan alamat wali menggunakan alamat santri."}),k("div",C0t,[_(C,{label:"Nama Wali",name:"guardian_name",error:y(o).errors.guardian_name},{default:S(()=>[_(M,{modelValue:y(o).guardian_name,"onUpdate:modelValue":v[22]||(v[22]=F=>y(o).guardian_name=F),class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"]),_(C,{label:"Pekerjaan Wali",name:"guardian_job"},{default:S(()=>[_(M,{modelValue:y(o).guardian_job,"onUpdate:modelValue":v[23]||(v[23]=F=>y(o).guardian_job=F),class:"w-full"},null,8,["modelValue"])]),_:1}),_(C,{label:"No HP Wali",name:"guardian_phone"},{default:S(()=>[_(M,{modelValue:y(o).guardian_phone,"onUpdate:modelValue":v[24]||(v[24]=F=>y(o).guardian_phone=F),class:"w-full"},null,8,["modelValue"])]),_:1}),k("div",M0t,[_(C,{label:"Alamat Wali",name:"guardian_address",error:y(o).errors.guardian_address},{default:S(()=>[_(P,{modelValue:y(o).guardian_address,"onUpdate:modelValue":v[25]||(v[25]=F=>y(o).guardian_address=F),placeholder:"Isi jika alamat wali berbeda dengan santri",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"])])])]),_:1})])]),academic:S(({item:V})=>[k("div",A0t,[_(O,null,{header:S(()=>[...v[37]||(v[37]=[k("h3",{class:"font-semibold"},"Riwayat Pendidikan",-1)])]),default:S(()=>[k("div",T0t,[_(C,{label:"Asal Sekolah",name:"previous_school_name",error:y(o).errors.previous_school_name,required:""},{default:S(()=>[_(M,{modelValue:y(o).previous_school_name,"onUpdate:modelValue":v[26]||(v[26]=F=>y(o).previous_school_name=F),placeholder:"Nama Sekolah Asal",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"]),_(C,{label:"Alamat Sekolah Asal",name:"previous_school_address",error:y(o).errors.previous_school_address},{default:S(()=>[_(M,{modelValue:y(o).previous_school_address,"onUpdate:modelValue":v[27]||(v[27]=F=>y(o).previous_school_address=F),class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"]),_(C,{label:"Tahun Lulus",name:"graduation_year",error:y(o).errors.graduation_year},{default:S(()=>[_(M,{modelValue:y(o).graduation_year,"onUpdate:modelValue":v[28]||(v[28]=F=>y(o).graduation_year=F),type:"number",placeholder:"YYYY",class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"]),_(C,{label:"Nomor Ijazah",name:"certificate_number",error:y(o).errors.certificate_number},{default:S(()=>[_(M,{modelValue:y(o).certificate_number,"onUpdate:modelValue":v[29]||(v[29]=F=>y(o).certificate_number=F),class:"w-full"},null,8,["modelValue"])]),_:1},8,["error"])])]),_:1}),_(O,null,{header:S(()=>[...v[38]||(v[38]=[k("h3",{class:"font-semibold"},"Sekolah Tujuan (Formal)",-1)])]),default:S(()=>[v[39]||(v[39]=k("p",{class:"text-sm text-gray-600 mb-4"},"Jika Anda juga mendaftar ke sekolah formal di yayasan ini, silahkan pilih di bawah ini (Tidak Wajib).",-1)),k("div",E0t,[_(C,{label:"Sekolah Formal",name:"school_id"},{default:S(()=>[_($,{modelValue:y(o).school_id,"onUpdate:modelValue":v[30]||(v[30]=F=>y(o).school_id=F),items:e.schools,"label-key":"name","value-key":"id",placeholder:"Pilih Sekolah Formal",onChange:m,class:"w-full"},null,8,["modelValue","items"])]),_:1}),_(C,{label:"Tingkat/Kelas Formal",name:"school_level_id"},{default:S(()=>[_($,{modelValue:y(o).school_level_id,"onUpdate:modelValue":v[31]||(v[31]=F=>y(o).school_level_id=F),items:p.value,"label-key":"name","value-key":"id",placeholder:"Pilih Tingkat",disabled:!y(o).school_id,class:"w-full"},null,8,["modelValue","items","disabled"])]),_:1})])]),_:1})])]),_:1},512),k("div",I0t,[_(L,{disabled:!n.value?.hasPrev,onClick:v[32]||(v[32]=V=>n.value?.prev()),color:"neutral",variant:"soft",label:"Kembali","leading-icon":"i-lucide-arrow-left"},null,8,["disabled"]),n.value?.hasNext?(A(),B(L,{key:0,onClick:v[33]||(v[33]=V=>n.value?.next()),color:"primary",label:"Lanjut","trailing-icon":"i-lucide-arrow-right"})):(A(),B(L,{key:1,type:"submit",color:"primary",label:"Kirim Pendaftaran",loading:y(o).processing},null,8,["loading"]))])],32)]),_:1})])])]),_:1})}}},O0t=Object.freeze(Object.defineProperty({__proto__:null,default:P0t},Symbol.toStringTag,{value:"Module"})),R0t={class:"py-12 bg-gray-50 dark:bg-gray-900 min-h-screen"},B0t={class:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8"},N0t={class:"text-center py-8"},D0t={class:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 dark:bg-green-900 mb-4"},F0t={class:"grid grid-cols-1 md:grid-cols-2 gap-4 max-w-lg mx-auto"},q0t={class:"mt-8 pt-6 border-t border-gray-100 dark:border-gray-800"},z0t={__name:"RegisterSuccess",setup(e){const t=()=>{window.location.href="/register-santri/download/statement"},n=()=>{window.location.href="/register-santri/download/form"};return(r,o)=>{const s=tt,a=We,i=ht;return A(),B(jh,null,{default:S(()=>[k("div",R0t,[k("div",B0t,[_(i,null,{default:S(()=>[k("div",N0t,[k("div",D0t,[_(s,{name:"i-lucide-check",class:"h-8 w-8 text-green-600 dark:text-green-400"})]),o[0]||(o[0]=k("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white mb-2"},"Pendaftaran Berhasil!",-1)),o[1]||(o[1]=k("p",{class:"text-gray-600 dark:text-gray-400 mb-8"},[J(" Terima kasih telah mendaftar. Data Anda telah kami terima."),k("br"),J(" Silahkan download dan lengkapi dokumen berikut sebagai syarat pendaftaran ulang. ")],-1)),k("div",F0t,[_(a,{block:"",size:"lg",color:"primary",variant:"soft",icon:"i-lucide-file-text",label:"Download Surat Pernyataan",onClick:t}),_(a,{block:"",size:"lg",color:"primary",variant:"soft",icon:"i-lucide-file-spreadsheet",label:"Download Formulir",onClick:n})]),k("div",q0t,[_(a,{to:"/",color:"neutral",variant:"ghost",label:"Kembali ke Beranda"})])])]),_:1})])])]),_:1})}}},L0t=Object.freeze(Object.defineProperty({__proto__:null,default:z0t},Symbol.toStringTag,{value:"Module"}));window.axios=nn;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";async function $H(e,t={}){const n=t.document||e.resolvedOptions.document;if(!n||!e.dirty)return;const r={shouldRender:!0,tags:[]};if(await e.hooks.callHook("dom:beforeRender",r),!!r.shouldRender)return e._domUpdatePromise||(e._domUpdatePromise=new Promise(async o=>{const s=new Map,a=new Promise(p=>{e.resolveTags().then(m=>{p(m.map(h=>{const g=s.get(h._d)||0,v={tag:h,id:(g?`${h._d}:${g}`:h._d)||AR(h),shouldRender:!0};return h._d&&uj(h._d)&&s.set(h._d,g+1),v}))})});let i=e._dom;if(!i){i={title:n.title,elMap:new Map().set("htmlAttrs",n.documentElement).set("bodyAttrs",n.body)};for(const p of["body","head"]){const m=n[p]?.children;for(const h of m){const g=h.tagName.toLowerCase();if(!MR.has(g))continue;const v=cj({tag:g,props:{}},{innerHTML:h.innerHTML,...h.getAttributeNames().reduce((x,$)=>(x[$]=h.getAttribute($),x),{})||{}});if(v.key=h.getAttribute("data-hid")||void 0,v._d=XS(v)||AR(v),i.elMap.has(v._d)){let x=1,$=v._d;for(;i.elMap.has($);)$=`${v._d}:${x++}`;i.elMap.set($,h)}else i.elMap.set(v._d,h)}}}i.pendingSideEffects={...i.sideEffects},i.sideEffects={};function l(p,m,h){const g=`${p}:${m}`;i.sideEffects[g]=h,delete i.pendingSideEffects[g]}function c({id:p,$el:m,tag:h}){const g=h.tag.endsWith("Attrs");i.elMap.set(p,m),g||(h.textContent&&h.textContent!==m.textContent&&(m.textContent=h.textContent),h.innerHTML&&h.innerHTML!==m.innerHTML&&(m.innerHTML=h.innerHTML),l(p,"el",()=>{m?.remove(),i.elMap.delete(p)}));for(const v in h.props){if(!Object.prototype.hasOwnProperty.call(h.props,v))continue;const x=h.props[v];if(v.startsWith("on")&&typeof x=="function"){const C=m?.dataset;if(C&&C[`${v}fired`]){const M=v.slice(0,-5);x.call(m,new Event(M.substring(2)))}m.getAttribute(`data-${v}`)!==""&&((h.tag==="bodyAttrs"?n.defaultView:m).addEventListener(v.substring(2),x.bind(m)),m.setAttribute(`data-${v}`,""));continue}const $=`attr:${v}`;if(v==="class"){if(!x)continue;for(const C of x)g&&l(p,`${$}:${C}`,()=>m.classList.remove(C)),!m.classList.contains(C)&&m.classList.add(C)}else if(v==="style"){if(!x)continue;for(const[C,M]of x)l(p,`${$}:${C}`,()=>{m.style.removeProperty(C)}),m.style.setProperty(C,M)}else x!==!1&&x!==null&&(m.getAttribute(v)!==x&&m.setAttribute(v,x===!0?"":String(x)),g&&l(p,$,()=>m.removeAttribute(v)))}}const u=[],d={bodyClose:void 0,bodyOpen:void 0,head:void 0},f=await a;for(const p of f){const{tag:m,shouldRender:h,id:g}=p;if(h){if(m.tag==="title"){n.title=m.textContent,l("title","",()=>n.title=i.title);continue}p.$el=p.$el||i.elMap.get(g),p.$el?c(p):MR.has(m.tag)&&u.push(p)}}for(const p of u){const m=p.tag.tagPosition||"head";p.$el=n.createElement(p.tag.tag),c(p),d[m]=d[m]||n.createDocumentFragment(),d[m].appendChild(p.$el)}for(const p of f)await e.hooks.callHook("dom:renderTag",p,n,l);d.head&&n.head.appendChild(d.head),d.bodyOpen&&n.body.insertBefore(d.bodyOpen,n.body.firstChild),d.bodyClose&&n.body.appendChild(d.bodyClose);for(const p in i.pendingSideEffects)i.pendingSideEffects[p]();e._dom=i,await e.hooks.callHook("dom:rendered",{renders:f}),o()}).finally(()=>{e._domUpdatePromise=void 0,e.dirty=!1})),e._domUpdatePromise}function j0t(e={}){const t=e.domOptions?.render||$H;e.document=e.document||(typeof window<"u"?document:void 0);const n=e.document?.head.querySelector('script[id="unhead:payload"]')?.innerHTML||!1;return Bbe({...e,plugins:[...e.plugins||[],{key:"client",hooks:{"entries:updated":t}}],init:[n?JSON.parse(n):!1,...e.init||[]]})}function V0t(e,t){let n=0;return()=>{const r=++n;t(()=>{n===r&&e()})}}function U0t(e={}){const t=j0t({domOptions:{render:V0t(()=>$H(t),n=>setTimeout(n,0))},...e});return t.install=Dbe(t),t}const K0t={install(e){if(e._context.provides.usehead)return;const t=U0t();e.use(t)}};var sy={inherit:"inherit",current:"currentcolor",transparent:"transparent",black:"#000",white:"#fff",slate:{50:"oklch(98.4% 0.003 247.858)",100:"oklch(96.8% 0.007 247.896)",200:"oklch(92.9% 0.013 255.508)",300:"oklch(86.9% 0.022 252.894)",400:"oklch(70.4% 0.04 256.788)",500:"oklch(55.4% 0.046 257.417)",600:"oklch(44.6% 0.043 257.281)",700:"oklch(37.2% 0.044 257.287)",800:"oklch(27.9% 0.041 260.031)",900:"oklch(20.8% 0.042 265.755)",950:"oklch(12.9% 0.042 264.695)"},gray:{50:"oklch(98.5% 0.002 247.839)",100:"oklch(96.7% 0.003 264.542)",200:"oklch(92.8% 0.006 264.531)",300:"oklch(87.2% 0.01 258.338)",400:"oklch(70.7% 0.022 261.325)",500:"oklch(55.1% 0.027 264.364)",600:"oklch(44.6% 0.03 256.802)",700:"oklch(37.3% 0.034 259.733)",800:"oklch(27.8% 0.033 256.848)",900:"oklch(21% 0.034 264.665)",950:"oklch(13% 0.028 261.692)"},zinc:{50:"oklch(98.5% 0 0)",100:"oklch(96.7% 0.001 286.375)",200:"oklch(92% 0.004 286.32)",300:"oklch(87.1% 0.006 286.286)",400:"oklch(70.5% 0.015 286.067)",500:"oklch(55.2% 0.016 285.938)",600:"oklch(44.2% 0.017 285.786)",700:"oklch(37% 0.013 285.805)",800:"oklch(27.4% 0.006 286.033)",900:"oklch(21% 0.006 285.885)",950:"oklch(14.1% 0.005 285.823)"},neutral:{50:"oklch(98.5% 0 0)",100:"oklch(97% 0 0)",200:"oklch(92.2% 0 0)",300:"oklch(87% 0 0)",400:"oklch(70.8% 0 0)",500:"oklch(55.6% 0 0)",600:"oklch(43.9% 0 0)",700:"oklch(37.1% 0 0)",800:"oklch(26.9% 0 0)",900:"oklch(20.5% 0 0)",950:"oklch(14.5% 0 0)"},stone:{50:"oklch(98.5% 0.001 106.423)",100:"oklch(97% 0.001 106.424)",200:"oklch(92.3% 0.003 48.717)",300:"oklch(86.9% 0.005 56.366)",400:"oklch(70.9% 0.01 56.259)",500:"oklch(55.3% 0.013 58.071)",600:"oklch(44.4% 0.011 73.639)",700:"oklch(37.4% 0.01 67.558)",800:"oklch(26.8% 0.007 34.298)",900:"oklch(21.6% 0.006 56.043)",950:"oklch(14.7% 0.004 49.25)"},red:{50:"oklch(97.1% 0.013 17.38)",100:"oklch(93.6% 0.032 17.717)",200:"oklch(88.5% 0.062 18.334)",300:"oklch(80.8% 0.114 19.571)",400:"oklch(70.4% 0.191 22.216)",500:"oklch(63.7% 0.237 25.331)",600:"oklch(57.7% 0.245 27.325)",700:"oklch(50.5% 0.213 27.518)",800:"oklch(44.4% 0.177 26.899)",900:"oklch(39.6% 0.141 25.723)",950:"oklch(25.8% 0.092 26.042)"},orange:{50:"oklch(98% 0.016 73.684)",100:"oklch(95.4% 0.038 75.164)",200:"oklch(90.1% 0.076 70.697)",300:"oklch(83.7% 0.128 66.29)",400:"oklch(75% 0.183 55.934)",500:"oklch(70.5% 0.213 47.604)",600:"oklch(64.6% 0.222 41.116)",700:"oklch(55.3% 0.195 38.402)",800:"oklch(47% 0.157 37.304)",900:"oklch(40.8% 0.123 38.172)",950:"oklch(26.6% 0.079 36.259)"},amber:{50:"oklch(98.7% 0.022 95.277)",100:"oklch(96.2% 0.059 95.617)",200:"oklch(92.4% 0.12 95.746)",300:"oklch(87.9% 0.169 91.605)",400:"oklch(82.8% 0.189 84.429)",500:"oklch(76.9% 0.188 70.08)",600:"oklch(66.6% 0.179 58.318)",700:"oklch(55.5% 0.163 48.998)",800:"oklch(47.3% 0.137 46.201)",900:"oklch(41.4% 0.112 45.904)",950:"oklch(27.9% 0.077 45.635)"},yellow:{50:"oklch(98.7% 0.026 102.212)",100:"oklch(97.3% 0.071 103.193)",200:"oklch(94.5% 0.129 101.54)",300:"oklch(90.5% 0.182 98.111)",400:"oklch(85.2% 0.199 91.936)",500:"oklch(79.5% 0.184 86.047)",600:"oklch(68.1% 0.162 75.834)",700:"oklch(55.4% 0.135 66.442)",800:"oklch(47.6% 0.114 61.907)",900:"oklch(42.1% 0.095 57.708)",950:"oklch(28.6% 0.066 53.813)"},lime:{50:"oklch(98.6% 0.031 120.757)",100:"oklch(96.7% 0.067 122.328)",200:"oklch(93.8% 0.127 124.321)",300:"oklch(89.7% 0.196 126.665)",400:"oklch(84.1% 0.238 128.85)",500:"oklch(76.8% 0.233 130.85)",600:"oklch(64.8% 0.2 131.684)",700:"oklch(53.2% 0.157 131.589)",800:"oklch(45.3% 0.124 130.933)",900:"oklch(40.5% 0.101 131.063)",950:"oklch(27.4% 0.072 132.109)"},green:{50:"oklch(98.2% 0.018 155.826)",100:"oklch(96.2% 0.044 156.743)",200:"oklch(92.5% 0.084 155.995)",300:"oklch(87.1% 0.15 154.449)",400:"oklch(79.2% 0.209 151.711)",500:"oklch(72.3% 0.219 149.579)",600:"oklch(62.7% 0.194 149.214)",700:"oklch(52.7% 0.154 150.069)",800:"oklch(44.8% 0.119 151.328)",900:"oklch(39.3% 0.095 152.535)",950:"oklch(26.6% 0.065 152.934)"},emerald:{50:"oklch(97.9% 0.021 166.113)",100:"oklch(95% 0.052 163.051)",200:"oklch(90.5% 0.093 164.15)",300:"oklch(84.5% 0.143 164.978)",400:"oklch(76.5% 0.177 163.223)",500:"oklch(69.6% 0.17 162.48)",600:"oklch(59.6% 0.145 163.225)",700:"oklch(50.8% 0.118 165.612)",800:"oklch(43.2% 0.095 166.913)",900:"oklch(37.8% 0.077 168.94)",950:"oklch(26.2% 0.051 172.552)"},teal:{50:"oklch(98.4% 0.014 180.72)",100:"oklch(95.3% 0.051 180.801)",200:"oklch(91% 0.096 180.426)",300:"oklch(85.5% 0.138 181.071)",400:"oklch(77.7% 0.152 181.912)",500:"oklch(70.4% 0.14 182.503)",600:"oklch(60% 0.118 184.704)",700:"oklch(51.1% 0.096 186.391)",800:"oklch(43.7% 0.078 188.216)",900:"oklch(38.6% 0.063 188.416)",950:"oklch(27.7% 0.046 192.524)"},cyan:{50:"oklch(98.4% 0.019 200.873)",100:"oklch(95.6% 0.045 203.388)",200:"oklch(91.7% 0.08 205.041)",300:"oklch(86.5% 0.127 207.078)",400:"oklch(78.9% 0.154 211.53)",500:"oklch(71.5% 0.143 215.221)",600:"oklch(60.9% 0.126 221.723)",700:"oklch(52% 0.105 223.128)",800:"oklch(45% 0.085 224.283)",900:"oklch(39.8% 0.07 227.392)",950:"oklch(30.2% 0.056 229.695)"},sky:{50:"oklch(97.7% 0.013 236.62)",100:"oklch(95.1% 0.026 236.824)",200:"oklch(90.1% 0.058 230.902)",300:"oklch(82.8% 0.111 230.318)",400:"oklch(74.6% 0.16 232.661)",500:"oklch(68.5% 0.169 237.323)",600:"oklch(58.8% 0.158 241.966)",700:"oklch(50% 0.134 242.749)",800:"oklch(44.3% 0.11 240.79)",900:"oklch(39.1% 0.09 240.876)",950:"oklch(29.3% 0.066 243.157)"},blue:{50:"oklch(97% 0.014 254.604)",100:"oklch(93.2% 0.032 255.585)",200:"oklch(88.2% 0.059 254.128)",300:"oklch(80.9% 0.105 251.813)",400:"oklch(70.7% 0.165 254.624)",500:"oklch(62.3% 0.214 259.815)",600:"oklch(54.6% 0.245 262.881)",700:"oklch(48.8% 0.243 264.376)",800:"oklch(42.4% 0.199 265.638)",900:"oklch(37.9% 0.146 265.522)",950:"oklch(28.2% 0.091 267.935)"},indigo:{50:"oklch(96.2% 0.018 272.314)",100:"oklch(93% 0.034 272.788)",200:"oklch(87% 0.065 274.039)",300:"oklch(78.5% 0.115 274.713)",400:"oklch(67.3% 0.182 276.935)",500:"oklch(58.5% 0.233 277.117)",600:"oklch(51.1% 0.262 276.966)",700:"oklch(45.7% 0.24 277.023)",800:"oklch(39.8% 0.195 277.366)",900:"oklch(35.9% 0.144 278.697)",950:"oklch(25.7% 0.09 281.288)"},violet:{50:"oklch(96.9% 0.016 293.756)",100:"oklch(94.3% 0.029 294.588)",200:"oklch(89.4% 0.057 293.283)",300:"oklch(81.1% 0.111 293.571)",400:"oklch(70.2% 0.183 293.541)",500:"oklch(60.6% 0.25 292.717)",600:"oklch(54.1% 0.281 293.009)",700:"oklch(49.1% 0.27 292.581)",800:"oklch(43.2% 0.232 292.759)",900:"oklch(38% 0.189 293.745)",950:"oklch(28.3% 0.141 291.089)"},purple:{50:"oklch(97.7% 0.014 308.299)",100:"oklch(94.6% 0.033 307.174)",200:"oklch(90.2% 0.063 306.703)",300:"oklch(82.7% 0.119 306.383)",400:"oklch(71.4% 0.203 305.504)",500:"oklch(62.7% 0.265 303.9)",600:"oklch(55.8% 0.288 302.321)",700:"oklch(49.6% 0.265 301.924)",800:"oklch(43.8% 0.218 303.724)",900:"oklch(38.1% 0.176 304.987)",950:"oklch(29.1% 0.149 302.717)"},fuchsia:{50:"oklch(97.7% 0.017 320.058)",100:"oklch(95.2% 0.037 318.852)",200:"oklch(90.3% 0.076 319.62)",300:"oklch(83.3% 0.145 321.434)",400:"oklch(74% 0.238 322.16)",500:"oklch(66.7% 0.295 322.15)",600:"oklch(59.1% 0.293 322.896)",700:"oklch(51.8% 0.253 323.949)",800:"oklch(45.2% 0.211 324.591)",900:"oklch(40.1% 0.17 325.612)",950:"oklch(29.3% 0.136 325.661)"},pink:{50:"oklch(97.1% 0.014 343.198)",100:"oklch(94.8% 0.028 342.258)",200:"oklch(89.9% 0.061 343.231)",300:"oklch(82.3% 0.12 346.018)",400:"oklch(71.8% 0.202 349.761)",500:"oklch(65.6% 0.241 354.308)",600:"oklch(59.2% 0.249 0.584)",700:"oklch(52.5% 0.223 3.958)",800:"oklch(45.9% 0.187 3.815)",900:"oklch(40.8% 0.153 2.432)",950:"oklch(28.4% 0.109 3.907)"},rose:{50:"oklch(96.9% 0.015 12.422)",100:"oklch(94.1% 0.03 12.58)",200:"oklch(89.2% 0.058 10.001)",300:"oklch(81% 0.117 11.638)",400:"oklch(71.2% 0.194 13.428)",500:"oklch(64.5% 0.246 16.439)",600:"oklch(58.6% 0.253 17.585)",700:"oklch(51.4% 0.222 16.935)",800:"oklch(45.5% 0.188 13.697)",900:"oklch(41% 0.159 10.272)",950:"oklch(27.1% 0.105 12.094)"}};const H0t=[50,100,200,300,400,500,600,700,800,900,950];function W0t(e,t){return e in sy&&typeof sy[e]=="object"&&t in sy[e]?sy[e][t]:""}function G0t(e,t,n){const r=n?`${n}-`:"";return`${H0t.map(o=>`--ui-color-${e}-${o}: var(--${r}color-${t==="neutral"?"old-neutral":t}-${o}, ${W0t(t,o)});`).join(`
  `)}`}function SF(e,t){return`--ui-${e}: var(--ui-color-${e}-${t});`}const J0t=Jbe(()=>{const e=Bt(),t=vM(),n=H(()=>{const{neutral:o,...s}=e.ui.colors,a=e.ui.prefix;return`@layer theme {
  :root, :host {
  ${Object.entries(e.ui.colors).map(([i,l])=>G0t(i,l,a)).join(`
  `)}
  }
  :root, :host, .light {
  ${Object.keys(s).map(i=>SF(i,500)).join(`
  `)}
  }
  .dark {
  ${Object.keys(s).map(i=>SF(i,400)).join(`
  `)}
  }
}`}),r={style:[{innerHTML:()=>n.value,tagPriority:-2,id:"nuxt-ui-colors"}]};if(t.isHydrating&&!t.payload.serverRendered){const o=document.createElement("style");o.innerHTML=n.value,o.setAttribute("data-nuxt-ui-colors",""),document.head.appendChild(o),r.script=[{innerHTML:"document.head.removeChild(document.querySelector('[data-nuxt-ui-colors]'))"}]}qbe(r)}),Y0t={install(){Bce()}},Q0t={install(e){e.use(K0t),e.use(J0t),e.use(Y0t)}};fbe({resolve:e=>Object.assign({"./Pages/Auth/Login.vue":Owe,"./Pages/Dashboard/BedRoom/Create.vue":j1e,"./Pages/Dashboard/BedRoom/Edit.vue":H1e,"./Pages/Dashboard/BedRoom/Index.vue":p_e,"./Pages/Dashboard/BoardingSchool/Create.vue":__e,"./Pages/Dashboard/BoardingSchool/Edit.vue":I_e,"./Pages/Dashboard/BoardingSchool/Index.vue":G_e,"./Pages/Dashboard/BoardingSchool/Show.vue":jSe,"./Pages/Dashboard/CMS/Faqs/Create.vue":n$e,"./Pages/Dashboard/CMS/Faqs/Edit.vue":l$e,"./Pages/Dashboard/CMS/Faqs/Index.vue":_Ce,"./Pages/Dashboard/CMS/Galleries/Create.vue":RCe,"./Pages/Dashboard/CMS/Galleries/Edit.vue":HCe,"./Pages/Dashboard/CMS/Galleries/Index.vue":rMe,"./Pages/Dashboard/CMS/Posts/Create.vue":Knt,"./Pages/Dashboard/CMS/Posts/Edit.vue":ort,"./Pages/Dashboard/CMS/Posts/Index.vue":yrt,"./Pages/Dashboard/CMS/Programs/Create.vue":Ert,"./Pages/Dashboard/CMS/Programs/Edit.vue":Vrt,"./Pages/Dashboard/CMS/Programs/Index.vue":Qrt,"./Pages/Dashboard/CMS/Settings/Index.vue":pot,"./Pages/Dashboard/CMS/Testimonials/Create.vue":_ot,"./Pages/Dashboard/CMS/Testimonials/Edit.vue":Bot,"./Pages/Dashboard/CMS/Testimonials/Index.vue":Hot,"./Pages/Dashboard/Classroom/Create.vue":Qot,"./Pages/Dashboard/Classroom/Edit.vue":tst,"./Pages/Dashboard/Classroom/Index.vue":kst,"./Pages/Dashboard/Finance/StudentBalance.vue":zlt,"./Pages/Dashboard/Finance/StudentInvoices/Create.vue":Ylt,"./Pages/Dashboard/Finance/StudentInvoices/Edit.vue":sut,"./Pages/Dashboard/Finance/StudentInvoices/Index.vue":mut,"./Pages/Dashboard/Finance/StudentInvoices/Show.vue":Eut,"./Pages/Dashboard/Finance/StudentSavings.vue":pct,"./Pages/Dashboard/Finance/StudentWithdrawLimit.vue":wct,"./Pages/Dashboard/Index.vue":Adt,"./Pages/Dashboard/Positions/Create.vue":Idt,"./Pages/Dashboard/Positions/Edit.vue":Rdt,"./Pages/Dashboard/Positions/Index.vue":Wdt,"./Pages/Dashboard/Posts.vue":eft,"./Pages/Dashboard/Profile.vue":yft,"./Pages/Dashboard/SchoolYear/Index.vue":Rft,"./Pages/Dashboard/Schools/Create.vue":Uft,"./Pages/Dashboard/Schools/Edit.vue":ept,"./Pages/Dashboard/Schools/Index.vue":hpt,"./Pages/Dashboard/Settings/Letter.vue":ypt,"./Pages/Dashboard/Student/Create.vue":Rpt,"./Pages/Dashboard/Student/Edit.vue":Jpt,"./Pages/Dashboard/Student/Index.vue":mmt,"./Pages/Dashboard/Student/Show.vue":kht,"./Pages/Dashboard/StudentRegistration/Index.vue":Cht,"./Pages/Dashboard/StudentRegistration/Show.vue":_gt,"./Pages/Dashboard/StudentRfid/Index.vue":Dgt,"./Pages/Dashboard/Teacher/Create.vue":Ugt,"./Pages/Dashboard/Teacher/Edit.vue":Qgt,"./Pages/Dashboard/Teacher/Index.vue":Evt,"./Pages/Dashboard/Users.vue":Fvt,"./Pages/Landing/Index.vue":Mbt,"./Pages/Landing/News.vue":Lbt,"./Pages/Landing/NewsDetail.vue":p0t,"./Pages/Landing/Register.vue":O0t,"./Pages/Landing/RegisterSuccess.vue":L0t})[`./Pages/${e}.vue`],setup({el:e,App:t,props:n,plugin:r}){WZ({render:()=>Or(t,n)}).use(r).use(Q0t).mount(e)},progress:{color:"#4B5563"}});
